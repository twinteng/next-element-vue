function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/chunks/VPLocalSearchBox.DeEgoUk7.js","assets/chunks/framework.CgPePHCp.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Ure=Object.defineProperty;var Wre=(t,e,n)=>e in t?Ure(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var cn=(t,e,n)=>(Wre(t,typeof e!="symbol"?e+"":e,n),n);import{d as Z,o as S,c as A,r as oe,n as q,a as ct,t as Me,b as be,w as se,e as ce,T as ar,_ as nn,u as jre,i as Gre,f as qre,g as g$,h as B,j as A0,k as D,l as Et,m as I,p as g,q as Bs,s as zs,v as $h,x as cS,y as Ee,z as sr,A as ma,B as lz,C as gd,D as Kre,E as ht,F as He,G as Ut,H as Jn,I as L4,J as $,K as Gt,L as uz,M as P4,N as Kt,O as Le,P as Xre,Q as yt,R as Yre,S as dS,U as it,V as cz,W as rf,X as Qre,Y as W2,Z as dz,$ as At,a0 as hz,a1 as Pn,a2 as xt,a3 as xr,a4 as Zre,a5 as fz,a6 as v$,a7 as Ht,a8 as Mt,a9 as Vn,aa as qt,ab as Jre,ac as pz,ad as fa,ae as eae,af as xs,ag as yn,ah as An,ai as y$,aj as ts,ak as ms,al as b$,am as zt,an as gn,ao as Nn,ap as an,aq as Jr,ar as mz,as as af,at as gz,au as tae,av as vz,aw as M4,ax as nae,ay as Ei,az as j2,aA as vi,aB as Eh,aC as Rs,aD as J_,aE as yz,aF as pt,aG as sae,aH as hS,aI as _$,aJ as pi,aK as rae,aL as M8,aM as F4,aN as aae,aO as Ta,aP as q7,aQ as oae,aR as iae,aS as bz,aT as lae}from"./framework.CgPePHCp.js";function uae(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const cae=Z({__name:"VPBadge",props:{text:null,type:{default:"tip"}},setup(t){return(e,n)=>(S(),A("span",{class:q(["VPBadge",t.type])},[oe(e.$slots,"default",{},()=>[ct(Me(t.text),1)])],2))}}),dae={key:0,class:"VPBackdrop"},hae=Z({__name:"VPBackdrop",props:{show:{type:Boolean}},setup(t){return(e,n)=>(S(),be(ar,{name:"fade"},{default:se(()=>[t.show?(S(),A("div",dae)):ce("",!0)]),_:1}))}}),fae=nn(hae,[["__scopeId","data-v-00bce9ec"]]),Wn=jre;function pae(t,e){let n,s=!1;return()=>{n&&clearTimeout(n),s?n=setTimeout(t,e):(t(),(s=!0)&&setTimeout(()=>s=!1,e))}}function fS(t){return/^\//.test(t)?t:`/${t}`}function w$(t){const{pathname:e,search:n,hash:s,protocol:r}=new URL(t,"http://a.com");if(Gre(t)||t.startsWith("#")||!r.startsWith("http")||!qre(e))return t;const{site:a}=Wn(),o=e.endsWith("/")||e.endsWith(".html")?t:t.replace(/(?:(^\.+)\/)?.*$/,`$1${e.replace(/(\.md)?$/,a.value.cleanUrls?"":".html")}${n}${s}`);return g$(o)}const x$=B(A0?location.hash:"");A0&&window.addEventListener("hashchange",()=>{x$.value=location.hash});function q1({removeCurrent:t=!0,correspondingLink:e=!1}={}){const{site:n,localeIndex:s,page:r,theme:a}=Wn(),o=D(()=>{var l,u;return{label:(l=n.value.locales[s.value])==null?void 0:l.label,link:((u=n.value.locales[s.value])==null?void 0:u.link)||(s.value==="root"?"/":`/${s.value}/`)}});return{localeLinks:D(()=>Object.entries(n.value.locales).flatMap(([l,u])=>t&&o.value.label===u.label?[]:{text:u.label,link:mae(u.link||(l==="root"?"/":`/${l}/`),a.value.i18nRouting!==!1&&e,r.value.relativePath.slice(o.value.link.length-1),!n.value.cleanUrls)+x$.value})),currentLang:o}}function mae(t,e,n,s){return e?t.replace(/\/$/,"")+fS(n.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,s?".html":"")):t}const gae=t=>(Bs("data-v-4e952176"),t=t(),zs(),t),vae={class:"NotFound"},yae={class:"code"},bae={class:"title"},_ae=gae(()=>I("div",{class:"divider"},null,-1)),wae={class:"quote"},xae={class:"action"},Cae=["href","aria-label"],Sae=Z({__name:"NotFound",setup(t){const{site:e,theme:n}=Wn(),{localeLinks:s}=q1({removeCurrent:!1}),r=B("/");return Et(()=>{var o;const a=window.location.pathname.replace(e.value.base,"").replace(/(^.*?\/).*$/,"/$1");s.value.length&&(r.value=((o=s.value.find(({link:i})=>i.startsWith(a)))==null?void 0:o.link)||s.value[0].link)}),(a,o)=>{var i,l,u,c,d;return S(),A("div",vae,[I("p",yae,Me(((i=g(n).notFound)==null?void 0:i.code)??"404"),1),I("h1",bae,Me(((l=g(n).notFound)==null?void 0:l.title)??"PAGE NOT FOUND"),1),_ae,I("blockquote",wae,Me(((u=g(n).notFound)==null?void 0:u.quote)??"But if you don't change your direction, and if you keep looking, you may end up where you are heading."),1),I("div",xae,[I("a",{class:"link",href:g(g$)(r.value),"aria-label":((c=g(n).notFound)==null?void 0:c.linkLabel)??"go to home"},Me(((d=g(n).notFound)==null?void 0:d.linkText)??"Take me home"),9,Cae)])])}}}),Tae=nn(Sae,[["__scopeId","data-v-4e952176"]]);function _z(t,e){if(Array.isArray(t))return w_(t);if(t==null)return[];e=fS(e);const n=Object.keys(t).sort((r,a)=>a.split("/").length-r.split("/").length).find(r=>e.startsWith(fS(r))),s=n?t[n]:[];return Array.isArray(s)?w_(s):w_(s.items,s.base)}function kae(t){const e=[];let n=0;for(const s in t){const r=t[s];if(r.items){n=e.push(r);continue}e[n]||e.push({items:[]}),e[n].items.push(r)}return e}function $ae(t){const e=[];function n(s){for(const r of s)r.text&&r.link&&e.push({text:r.text,link:r.link,docFooterText:r.docFooterText}),r.items&&n(r.items)}return n(t),e}function pS(t,e){return Array.isArray(e)?e.some(n=>pS(t,n)):$h(t,e.link)?!0:e.items?pS(t,e.items):!1}function w_(t,e){return[...t].map(n=>{const s={...n},r=s.base||e;return r&&s.link&&(s.link=r+s.link),s.items&&(s.items=w_(s.items,r)),s})}function Zu(){const{frontmatter:t,page:e,theme:n}=Wn(),s=cS("(min-width: 960px)"),r=B(!1),a=D(()=>{const m=n.value.sidebar,y=e.value.relativePath;return m?_z(m,y):[]}),o=B(a.value);Ee(a,(m,y)=>{JSON.stringify(m)!==JSON.stringify(y)&&(o.value=a.value)});const i=D(()=>t.value.sidebar!==!1&&o.value.length>0&&t.value.layout!=="home"),l=D(()=>u?t.value.aside==null?n.value.aside==="left":t.value.aside==="left":!1),u=D(()=>t.value.layout==="home"?!1:t.value.aside!=null?!!t.value.aside:n.value.aside!==!1),c=D(()=>i.value&&s.value),d=D(()=>i.value?kae(o.value):[]);function h(){r.value=!0}function f(){r.value=!1}function p(){r.value?f():h()}return{isOpen:r,sidebar:o,sidebarGroups:d,hasSidebar:i,hasAside:u,leftAside:l,isSidebarEnabled:c,open:h,close:f,toggle:p}}function Eae(t,e){let n;sr(()=>{n=t.value?document.activeElement:void 0}),Et(()=>{window.addEventListener("keyup",s)}),ma(()=>{window.removeEventListener("keyup",s)});function s(r){r.key==="Escape"&&t.value&&(e(),n==null||n.focus())}}function Iae(t){const{page:e}=Wn(),n=B(!1),s=D(()=>t.value.collapsed!=null),r=D(()=>!!t.value.link),a=B(!1),o=()=>{a.value=$h(e.value.relativePath,t.value.link)};Ee([e,t,x$],o),Et(o);const i=D(()=>a.value?!0:t.value.items?pS(e.value.relativePath,t.value.items):!1),l=D(()=>!!(t.value.items&&t.value.items.length));sr(()=>{n.value=!!(s.value&&t.value.collapsed)}),lz(()=>{(a.value||i.value)&&(n.value=!1)});function u(){s.value&&(n.value=!n.value)}return{collapsed:n,collapsible:s,isLink:r,isActiveLink:a,hasActiveLink:i,hasChildren:l,toggle:u}}function Nae(){const{hasSidebar:t}=Zu(),e=cS("(min-width: 960px)"),n=cS("(min-width: 1280px)");return{isAsideEnabled:D(()=>!n.value&&!e.value?!1:t.value?n.value:e.value)}}const mS=[];function wz(t){return typeof t.outline=="object"&&!Array.isArray(t.outline)&&t.outline.label||t.outlineTitle||"On this page"}function C$(t){const e=[...document.querySelectorAll(".VPDoc :where(h1,h2,h3,h4,h5,h6)")].filter(n=>n.id&&n.hasChildNodes()).map(n=>{const s=Number(n.tagName[1]);return{element:n,title:Aae(n),link:"#"+n.id,level:s}});return Dae(e,t)}function Aae(t){let e="";for(const n of t.childNodes)if(n.nodeType===1){if(n.classList.contains("VPBadge")||n.classList.contains("header-anchor")||n.classList.contains("ignore-header"))continue;e+=n.textContent}else n.nodeType===3&&(e+=n.textContent);return e.trim()}function Dae(t,e){if(e===!1)return[];const n=(typeof e=="object"&&!Array.isArray(e)?e.level:e)||2,[s,r]=typeof n=="number"?[n,n]:n==="deep"?[2,6]:n;t=t.filter(o=>o.level>=s&&o.level<=r),mS.length=0;for(const{element:o,link:i}of t)mS.push({element:o,link:i});const a=[];e:for(let o=0;o<t.length;o++){const i=t[o];if(o===0)a.push(i);else{for(let l=o-1;l>=0;l--){const u=t[l];if(u.level<i.level){(u.children||(u.children=[])).push(i);continue e}}a.push(i)}}return a}function Oae(t,e){const{isAsideEnabled:n}=Nae(),s=pae(a,100);let r=null;Et(()=>{requestAnimationFrame(a),window.addEventListener("scroll",s)}),gd(()=>{o(location.hash)}),ma(()=>{window.removeEventListener("scroll",s)});function a(){if(!n.value)return;const i=window.scrollY,l=window.innerHeight,u=document.body.offsetHeight,c=Math.abs(i+l-u)<1,d=mS.map(({element:f,link:p})=>({link:p,top:Rae(f)})).filter(({top:f})=>!Number.isNaN(f)).sort((f,p)=>f.top-p.top);if(!d.length){o(null);return}if(i<1){o(null);return}if(c){o(d[d.length-1].link);return}let h=null;for(const{link:f,top:p}of d){if(p>i+Kre()+4)break;h=f}o(h)}function o(i){r&&r.classList.remove("active"),i==null?r=null:r=t.value.querySelector(`a[href="${decodeURIComponent(i)}"]`);const l=r;l?(l.classList.add("active"),e.value.style.top=l.offsetTop+39+"px",e.value.style.opacity="1"):(e.value.style.top="33px",e.value.style.opacity="0")}}function Rae(t){let e=0;for(;t!==document.body;){if(t===null)return NaN;e+=t.offsetTop,t=t.offsetParent}return e}const Lae=["href","title"],Pae=Z({__name:"VPDocOutlineItem",props:{headers:null,root:{type:Boolean}},setup(t){function e({target:n}){const s=n.href.split("#")[1],r=document.getElementById(decodeURIComponent(s));r==null||r.focus({preventScroll:!0})}return(n,s)=>{const r=ht("VPDocOutlineItem",!0);return S(),A("ul",{class:q(["VPDocOutlineItem",t.root?"root":"nested"])},[(S(!0),A(He,null,Ut(t.headers,({children:a,link:o,title:i})=>(S(),A("li",null,[I("a",{class:"outline-link",href:o,onClick:e,title:i},Me(i),9,Lae),a!=null&&a.length?(S(),be(r,{key:0,headers:a},null,8,["headers"])):ce("",!0)]))),256))],2)}}}),xz=nn(Pae,[["__scopeId","data-v-4957363a"]]),Mae=t=>(Bs("data-v-68852e53"),t=t(),zs(),t),Fae={class:"content"},Bae={class:"outline-title",role:"heading","aria-level":"2"},zae={"aria-labelledby":"doc-outline-aria-label"},Vae=Mae(()=>I("span",{class:"visually-hidden",id:"doc-outline-aria-label"}," Table of Contents for current page ",-1)),Hae=Z({__name:"VPDocAsideOutline",setup(t){const{frontmatter:e,theme:n}=Wn(),s=Jn([]);L4(()=>{s.value=C$(e.value.outline??n.value.outline)});const r=B(),a=B();return Oae(r,a),(o,i)=>(S(),A("div",{class:q(["VPDocAsideOutline",{"has-outline":s.value.length>0}]),ref_key:"container",ref:r,role:"navigation"},[I("div",Fae,[I("div",{class:"outline-marker",ref_key:"marker",ref:a},null,512),I("div",Bae,Me(g(wz)(g(n))),1),I("nav",zae,[Vae,$(xz,{headers:s.value,root:!0},null,8,["headers"])])])],2))}}),Uae=nn(Hae,[["__scopeId","data-v-68852e53"]]),Wae={class:"VPDocAsideCarbonAds"},jae=Z({__name:"VPDocAsideCarbonAds",props:{carbonAds:null},setup(t){const e=()=>null;return(n,s)=>(S(),A("div",Wae,[$(g(e),{"carbon-ads":t.carbonAds},null,8,["carbon-ads"])]))}}),Gae=t=>(Bs("data-v-5325a4a1"),t=t(),zs(),t),qae={class:"VPDocAside"},Kae=Gae(()=>I("div",{class:"spacer"},null,-1)),Xae=Z({__name:"VPDocAside",setup(t){const{theme:e}=Wn();return(n,s)=>(S(),A("div",qae,[oe(n.$slots,"aside-top",{},void 0,!0),oe(n.$slots,"aside-outline-before",{},void 0,!0),$(Uae),oe(n.$slots,"aside-outline-after",{},void 0,!0),Kae,oe(n.$slots,"aside-ads-before",{},void 0,!0),g(e).carbonAds?(S(),be(jae,{key:0,"carbon-ads":g(e).carbonAds},null,8,["carbon-ads"])):ce("",!0),oe(n.$slots,"aside-ads-after",{},void 0,!0),oe(n.$slots,"aside-bottom",{},void 0,!0)]))}}),Yae=nn(Xae,[["__scopeId","data-v-5325a4a1"]]);function Qae(){const{theme:t,page:e}=Wn();return D(()=>{const{text:n="Edit this page",pattern:s=""}=t.value.editLink||{};let r;return typeof s=="function"?r=s(e.value):r=s.replace(/:path/g,e.value.filePath),{url:r,text:n}})}function Zae(){const{page:t,theme:e,frontmatter:n}=Wn();return D(()=>{var u,c,d,h,f,p,m,y;const s=_z(e.value.sidebar,t.value.relativePath),r=$ae(s),a=Jae(r,v=>v.link.replace(/[?#].*$/,"")),o=a.findIndex(v=>$h(t.value.relativePath,v.link)),i=((u=e.value.docFooter)==null?void 0:u.prev)===!1&&!n.value.prev||n.value.prev===!1,l=((c=e.value.docFooter)==null?void 0:c.next)===!1&&!n.value.next||n.value.next===!1;return{prev:i?void 0:{text:(typeof n.value.prev=="string"?n.value.prev:typeof n.value.prev=="object"?n.value.prev.text:void 0)??((d=a[o-1])==null?void 0:d.docFooterText)??((h=a[o-1])==null?void 0:h.text),link:(typeof n.value.prev=="object"?n.value.prev.link:void 0)??((f=a[o-1])==null?void 0:f.link)},next:l?void 0:{text:(typeof n.value.next=="string"?n.value.next:typeof n.value.next=="object"?n.value.next.text:void 0)??((p=a[o+1])==null?void 0:p.docFooterText)??((m=a[o+1])==null?void 0:m.text),link:(typeof n.value.next=="object"?n.value.next.link:void 0)??((y=a[o+1])==null?void 0:y.link)}}})}function Jae(t,e){const n=new Set;return t.filter(s=>{const r=e(s);return n.has(r)?!1:n.add(r)})}const Ml=Z({__name:"VPLink",props:{tag:null,href:null,noIcon:{type:Boolean},target:null,rel:null},setup(t){const e=t,n=D(()=>e.tag??(e.href?"a":"span")),s=D(()=>e.href&&uz.test(e.href));return(r,a)=>(S(),be(Gt(n.value),{class:q(["VPLink",{link:t.href,"vp-external-link-icon":s.value,"no-icon":t.noIcon}]),href:t.href?g(w$)(t.href):void 0,target:t.target??(s.value?"_blank":void 0),rel:t.rel??(s.value?"noreferrer":void 0)},{default:se(()=>[oe(r.$slots,"default")]),_:3},8,["class","href","target","rel"]))}}),eoe={class:"VPLastUpdated"},toe=["datetime"],noe=Z({__name:"VPDocFooterLastUpdated",setup(t){const{theme:e,page:n,frontmatter:s,lang:r}=Wn(),a=D(()=>new Date(s.value.lastUpdated??n.value.lastUpdated)),o=D(()=>a.value.toISOString()),i=B("");return Et(()=>{sr(()=>{var l,u,c;i.value=new Intl.DateTimeFormat((u=(l=e.value.lastUpdated)==null?void 0:l.formatOptions)!=null&&u.forceLocale?r.value:void 0,((c=e.value.lastUpdated)==null?void 0:c.formatOptions)??{dateStyle:"short",timeStyle:"short"}).format(a.value)})}),(l,u)=>{var c;return S(),A("p",eoe,[ct(Me(((c=g(e).lastUpdated)==null?void 0:c.text)||g(e).lastUpdatedText||"Last updated")+": ",1),I("time",{datetime:o.value},Me(i.value),9,toe)])}}}),soe=nn(noe,[["__scopeId","data-v-23ce9ea7"]]),roe=t=>(Bs("data-v-0d8caf31"),t=t(),zs(),t),aoe={key:0,class:"VPDocFooter"},ooe={key:0,class:"edit-info"},ioe={key:0,class:"edit-link"},loe=roe(()=>I("span",{class:"vpi-square-pen edit-link-icon"},null,-1)),uoe={key:1,class:"last-updated"},coe={key:1,class:"prev-next"},doe={class:"pager"},hoe=["innerHTML"],foe=["innerHTML"],poe={class:"pager"},moe=["innerHTML"],goe=["innerHTML"],voe=Z({__name:"VPDocFooter",setup(t){const{theme:e,page:n,frontmatter:s}=Wn(),r=Qae(),a=Zae(),o=D(()=>e.value.editLink&&s.value.editLink!==!1),i=D(()=>n.value.lastUpdated&&s.value.lastUpdated!==!1),l=D(()=>o.value||i.value||a.value.prev||a.value.next);return(u,c)=>{var d,h,f,p;return l.value?(S(),A("footer",aoe,[oe(u.$slots,"doc-footer-before",{},void 0,!0),o.value||i.value?(S(),A("div",ooe,[o.value?(S(),A("div",ioe,[$(Ml,{class:"edit-link-button",href:g(r).url,"no-icon":!0},{default:se(()=>[loe,ct(" "+Me(g(r).text),1)]),_:1},8,["href"])])):ce("",!0),i.value?(S(),A("div",uoe,[$(soe)])):ce("",!0)])):ce("",!0),(d=g(a).prev)!=null&&d.link||(h=g(a).next)!=null&&h.link?(S(),A("nav",coe,[I("div",doe,[(f=g(a).prev)!=null&&f.link?(S(),be(Ml,{key:0,class:"pager-link prev",href:g(a).prev.link},{default:se(()=>{var m;return[I("span",{class:"desc",innerHTML:((m=g(e).docFooter)==null?void 0:m.prev)||"Previous page"},null,8,hoe),I("span",{class:"title",innerHTML:g(a).prev.text},null,8,foe)]}),_:1},8,["href"])):ce("",!0)]),I("div",poe,[(p=g(a).next)!=null&&p.link?(S(),be(Ml,{key:0,class:"pager-link next",href:g(a).next.link},{default:se(()=>{var m;return[I("span",{class:"desc",innerHTML:((m=g(e).docFooter)==null?void 0:m.next)||"Next page"},null,8,moe),I("span",{class:"title",innerHTML:g(a).next.text},null,8,goe)]}),_:1},8,["href"])):ce("",!0)])])):ce("",!0)])):ce("",!0)}}}),yoe=nn(voe,[["__scopeId","data-v-0d8caf31"]]),boe=t=>(Bs("data-v-0084c5a6"),t=t(),zs(),t),_oe={class:"container"},woe=boe(()=>I("div",{class:"aside-curtain"},null,-1)),xoe={class:"aside-container"},Coe={class:"aside-content"},Soe={class:"content"},Toe={class:"content-container"},koe={class:"main"},$oe=Z({__name:"VPDoc",setup(t){const{theme:e}=Wn(),n=P4(),{hasSidebar:s,hasAside:r,leftAside:a}=Zu(),o=D(()=>n.path.replace(/[./]+/g,"_").replace(/_html$/,""));return(i,l)=>{const u=ht("Content");return S(),A("div",{class:q(["VPDoc",{"has-sidebar":g(s),"has-aside":g(r)}])},[oe(i.$slots,"doc-top",{},void 0,!0),I("div",_oe,[g(r)?(S(),A("div",{key:0,class:q(["aside",{"left-aside":g(a)}])},[woe,I("div",xoe,[I("div",Coe,[$(Yae,null,{"aside-top":se(()=>[oe(i.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":se(()=>[oe(i.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":se(()=>[oe(i.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":se(()=>[oe(i.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":se(()=>[oe(i.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":se(()=>[oe(i.$slots,"aside-ads-after",{},void 0,!0)]),_:3})])])],2)):ce("",!0),I("div",Soe,[I("div",Toe,[oe(i.$slots,"doc-before",{},void 0,!0),I("main",koe,[$(u,{class:q(["vp-doc",[o.value,g(e).externalLinkIcon&&"external-link-icon-enabled"]])},null,8,["class"])]),$(yoe,null,{"doc-footer-before":se(()=>[oe(i.$slots,"doc-footer-before",{},void 0,!0)]),_:3}),oe(i.$slots,"doc-after",{},void 0,!0)])])]),oe(i.$slots,"doc-bottom",{},void 0,!0)],2)}}}),Eoe=nn($oe,[["__scopeId","data-v-0084c5a6"]]),Ioe=Z({__name:"VPButton",props:{tag:null,size:{default:"medium"},theme:{default:"brand"},text:null,href:null,target:null,rel:null},setup(t){const e=t,n=D(()=>e.href&&uz.test(e.href)),s=D(()=>e.tag||e.href?"a":"button");return(r,a)=>(S(),be(Gt(s.value),{class:q(["VPButton",[t.size,t.theme]]),href:t.href?g(w$)(t.href):void 0,target:e.target??(n.value?"_blank":void 0),rel:e.rel??(n.value?"noreferrer":void 0)},{default:se(()=>[ct(Me(t.text),1)]),_:1},8,["class","href","target","rel"]))}}),Noe=nn(Ioe,[["__scopeId","data-v-874912eb"]]),Aoe=["src","alt"],Doe=Z({inheritAttrs:!1,__name:"VPImage",props:{image:null,alt:null},setup(t){return(e,n)=>{const s=ht("VPImage",!0);return t.image?(S(),A(He,{key:0},[typeof t.image=="string"||"src"in t.image?(S(),A("img",Kt({key:0,class:"VPImage"},typeof t.image=="string"?e.$attrs:{...t.image,...e.$attrs},{src:g(g$)(typeof t.image=="string"?t.image:t.image.src),alt:t.alt??(typeof t.image=="string"?"":t.image.alt||"")}),null,16,Aoe)):(S(),A(He,{key:1},[$(s,Kt({class:"dark",image:t.image.dark,alt:t.image.alt},e.$attrs),null,16,["image","alt"]),$(s,Kt({class:"light",image:t.image.light,alt:t.image.alt},e.$attrs),null,16,["image","alt"])],64))],64)):ce("",!0)}}}),e3=nn(Doe,[["__scopeId","data-v-09857217"]]),Ooe=t=>(Bs("data-v-1039213a"),t=t(),zs(),t),Roe={class:"container"},Loe={class:"main"},Poe={key:0,class:"name"},Moe=["innerHTML"],Foe=["innerHTML"],Boe=["innerHTML"],zoe={key:0,class:"actions"},Voe={key:0,class:"image"},Hoe={class:"image-container"},Uoe=Ooe(()=>I("div",{class:"image-bg"},null,-1)),Woe=Z({__name:"VPHero",props:{name:null,text:null,tagline:null,image:null,actions:null},setup(t){const e=Le("hero-image-slot-exists");return(n,s)=>(S(),A("div",{class:q(["VPHero",{"has-image":t.image||g(e)}])},[I("div",Roe,[I("div",Loe,[oe(n.$slots,"home-hero-info-before",{},void 0,!0),oe(n.$slots,"home-hero-info",{},()=>[t.name?(S(),A("h1",Poe,[I("span",{innerHTML:t.name,class:"clip"},null,8,Moe)])):ce("",!0),t.text?(S(),A("p",{key:1,innerHTML:t.text,class:"text"},null,8,Foe)):ce("",!0),t.tagline?(S(),A("p",{key:2,innerHTML:t.tagline,class:"tagline"},null,8,Boe)):ce("",!0)],!0),oe(n.$slots,"home-hero-info-after",{},void 0,!0),t.actions?(S(),A("div",zoe,[(S(!0),A(He,null,Ut(t.actions,r=>(S(),A("div",{key:r.link,class:"action"},[$(Noe,{tag:"a",size:"medium",theme:r.theme,text:r.text,href:r.link,target:r.target,rel:r.rel},null,8,["theme","text","href","target","rel"])]))),128))])):ce("",!0),oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),t.image||g(e)?(S(),A("div",Voe,[I("div",Hoe,[Uoe,oe(n.$slots,"home-hero-image",{},()=>[t.image?(S(),be(e3,{key:0,class:"image-src",image:t.image},null,8,["image"])):ce("",!0)],!0)])])):ce("",!0)])],2))}}),joe=nn(Woe,[["__scopeId","data-v-1039213a"]]),Goe=Z({__name:"VPHomeHero",setup(t){const{frontmatter:e}=Wn();return(n,s)=>g(e).hero?(S(),be(joe,{key:0,class:"VPHomeHero",name:g(e).hero.name,text:g(e).hero.text,tagline:g(e).hero.tagline,image:g(e).hero.image,actions:g(e).hero.actions},{"home-hero-info-before":se(()=>[oe(n.$slots,"home-hero-info-before")]),"home-hero-info":se(()=>[oe(n.$slots,"home-hero-info")]),"home-hero-info-after":se(()=>[oe(n.$slots,"home-hero-info-after")]),"home-hero-actions-after":se(()=>[oe(n.$slots,"home-hero-actions-after")]),"home-hero-image":se(()=>[oe(n.$slots,"home-hero-image")]),_:3},8,["name","text","tagline","image","actions"])):ce("",!0)}}),qoe=t=>(Bs("data-v-1765d693"),t=t(),zs(),t),Koe={class:"box"},Xoe={key:0,class:"icon"},Yoe=["innerHTML"],Qoe=["innerHTML"],Zoe=["innerHTML"],Joe={key:4,class:"link-text"},eie={class:"link-text-value"},tie=qoe(()=>I("span",{class:"vpi-arrow-right link-text-icon"},null,-1)),nie=Z({__name:"VPFeature",props:{icon:null,title:null,details:null,link:null,linkText:null,rel:null,target:null},setup(t){return(e,n)=>(S(),be(Ml,{class:"VPFeature",href:t.link,rel:t.rel,target:t.target,"no-icon":!0,tag:t.link?"a":"div"},{default:se(()=>[I("article",Koe,[typeof t.icon=="object"&&t.icon.wrap?(S(),A("div",Xoe,[$(e3,{image:t.icon,alt:t.icon.alt,height:t.icon.height||48,width:t.icon.width||48},null,8,["image","alt","height","width"])])):typeof t.icon=="object"?(S(),be(e3,{key:1,image:t.icon,alt:t.icon.alt,height:t.icon.height||48,width:t.icon.width||48},null,8,["image","alt","height","width"])):t.icon?(S(),A("div",{key:2,class:"icon",innerHTML:t.icon},null,8,Yoe)):ce("",!0),I("h2",{class:"title",innerHTML:t.title},null,8,Qoe),t.details?(S(),A("p",{key:3,class:"details",innerHTML:t.details},null,8,Zoe)):ce("",!0),t.linkText?(S(),A("div",Joe,[I("p",eie,[ct(Me(t.linkText)+" ",1),tie])])):ce("",!0)])]),_:1},8,["href","rel","target","tag"]))}}),sie=nn(nie,[["__scopeId","data-v-1765d693"]]),rie={key:0,class:"VPFeatures"},aie={class:"container"},oie={class:"items"},iie=Z({__name:"VPFeatures",props:{features:null},setup(t){const e=t,n=D(()=>{const s=e.features.length;if(s){if(s===2)return"grid-2";if(s===3)return"grid-3";if(s%3===0)return"grid-6";if(s>3)return"grid-4"}else return});return(s,r)=>t.features?(S(),A("div",rie,[I("div",aie,[I("div",oie,[(S(!0),A(He,null,Ut(t.features,a=>(S(),A("div",{key:a.title,class:q(["item",[n.value]])},[$(sie,{icon:a.icon,title:a.title,details:a.details,link:a.link,"link-text":a.linkText,rel:a.rel,target:a.target},null,8,["icon","title","details","link","link-text","rel","target"])],2))),128))])])])):ce("",!0)}}),lie=nn(iie,[["__scopeId","data-v-68012750"]]),uie=Z({__name:"VPHomeFeatures",setup(t){const{frontmatter:e}=Wn();return(n,s)=>g(e).features?(S(),be(lie,{key:0,class:"VPHomeFeatures",features:g(e).features},null,8,["features"])):ce("",!0)}}),cie=Z({__name:"VPHomeContent",setup(t){const{width:e}=Xre({includeScrollbar:!1});return(n,s)=>(S(),A("div",{class:"vp-doc container",style:yt(g(e)?{"--vp-offset":`calc(50% - ${g(e)/2}px)`}:{})},[oe(n.$slots,"default",{},void 0,!0)],4))}}),die=nn(cie,[["__scopeId","data-v-3da3b5fc"]]),hie={class:"VPHome"},fie=Z({__name:"VPHome",setup(t){const{frontmatter:e}=Wn();return(n,s)=>{const r=ht("Content");return S(),A("div",hie,[oe(n.$slots,"home-hero-before",{},void 0,!0),$(Goe,null,{"home-hero-info-before":se(()=>[oe(n.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":se(()=>[oe(n.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":se(()=>[oe(n.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":se(()=>[oe(n.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":se(()=>[oe(n.$slots,"home-hero-image",{},void 0,!0)]),_:3}),oe(n.$slots,"home-hero-after",{},void 0,!0),oe(n.$slots,"home-features-before",{},void 0,!0),$(uie),oe(n.$slots,"home-features-after",{},void 0,!0),g(e).markdownStyles!==!1?(S(),be(die,{key:0},{default:se(()=>[$(r)]),_:1})):(S(),be(r,{key:1}))])}}}),pie=nn(fie,[["__scopeId","data-v-01ac4914"]]),mie={},gie={class:"VPPage"};function vie(t,e){const n=ht("Content");return S(),A("div",gie,[oe(t.$slots,"page-top"),$(n),oe(t.$slots,"page-bottom")])}const yie=nn(mie,[["render",vie]]),bie=Z({__name:"VPContent",setup(t){const{page:e,frontmatter:n}=Wn(),{hasSidebar:s}=Zu();return(r,a)=>(S(),A("div",{class:q(["VPContent",{"has-sidebar":g(s),"is-home":g(n).layout==="home"}]),id:"VPContent"},[g(e).isNotFound?oe(r.$slots,"not-found",{key:0},()=>[$(Tae)],!0):g(n).layout==="page"?(S(),be(yie,{key:1},{"page-top":se(()=>[oe(r.$slots,"page-top",{},void 0,!0)]),"page-bottom":se(()=>[oe(r.$slots,"page-bottom",{},void 0,!0)]),_:3})):g(n).layout==="home"?(S(),be(pie,{key:2},{"home-hero-before":se(()=>[oe(r.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":se(()=>[oe(r.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":se(()=>[oe(r.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":se(()=>[oe(r.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":se(()=>[oe(r.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":se(()=>[oe(r.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":se(()=>[oe(r.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":se(()=>[oe(r.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":se(()=>[oe(r.$slots,"home-features-after",{},void 0,!0)]),_:3})):g(n).layout&&g(n).layout!=="doc"?(S(),be(Gt(g(n).layout),{key:3})):(S(),be(Eoe,{key:4},{"doc-top":se(()=>[oe(r.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":se(()=>[oe(r.$slots,"doc-bottom",{},void 0,!0)]),"doc-footer-before":se(()=>[oe(r.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":se(()=>[oe(r.$slots,"doc-before",{},void 0,!0)]),"doc-after":se(()=>[oe(r.$slots,"doc-after",{},void 0,!0)]),"aside-top":se(()=>[oe(r.$slots,"aside-top",{},void 0,!0)]),"aside-outline-before":se(()=>[oe(r.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":se(()=>[oe(r.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":se(()=>[oe(r.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":se(()=>[oe(r.$slots,"aside-ads-after",{},void 0,!0)]),"aside-bottom":se(()=>[oe(r.$slots,"aside-bottom",{},void 0,!0)]),_:3}))],2))}}),_ie=nn(bie,[["__scopeId","data-v-4537f3e0"]]),wie={class:"container"},xie=["innerHTML"],Cie=["innerHTML"],Sie=Z({__name:"VPFooter",setup(t){const{theme:e,frontmatter:n}=Wn(),{hasSidebar:s}=Zu();return(r,a)=>g(e).footer&&g(n).footer!==!1?(S(),A("footer",{key:0,class:q(["VPFooter",{"has-sidebar":g(s)}])},[I("div",wie,[g(e).footer.message?(S(),A("p",{key:0,class:"message",innerHTML:g(e).footer.message},null,8,xie)):ce("",!0),g(e).footer.copyright?(S(),A("p",{key:1,class:"copyright",innerHTML:g(e).footer.copyright},null,8,Cie)):ce("",!0)])],2)):ce("",!0)}}),Tie=nn(Sie,[["__scopeId","data-v-ec5db22b"]]);function kie(){const{theme:t,frontmatter:e}=Wn(),n=Jn([]),s=D(()=>n.value.length>0);return L4(()=>{n.value=C$(e.value.outline??t.value.outline)}),{headers:n,hasLocalNav:s}}const $ie=t=>(Bs("data-v-ea8e5335"),t=t(),zs(),t),Eie=$ie(()=>I("span",{class:"vpi-chevron-right icon"},null,-1)),Iie={class:"header"},Nie={class:"outline"},Aie=Z({__name:"VPLocalNavOutlineDropdown",props:{headers:null,navHeight:null},setup(t){const e=t,{theme:n}=Wn(),s=B(!1),r=B(0),a=B(),o=B();Yre(a,()=>{s.value=!1}),dS("Escape",()=>{s.value=!1}),L4(()=>{s.value=!1});function i(){s.value=!s.value,r.value=window.innerHeight+Math.min(window.scrollY-e.navHeight,0)}function l(c){c.target.classList.contains("outline-link")&&(o.value&&(o.value.style.transition="none"),it(()=>{s.value=!1}))}function u(){s.value=!1,window.scrollTo({top:0,left:0,behavior:"smooth"})}return(c,d)=>(S(),A("div",{class:"VPLocalNavOutlineDropdown",style:yt({"--vp-vh":r.value+"px"}),ref_key:"main",ref:a},[t.headers.length>0?(S(),A("button",{key:0,onClick:i,class:q({open:s.value})},[ct(Me(g(wz)(g(n)))+" ",1),Eie],2)):(S(),A("button",{key:1,onClick:u},Me(g(n).returnToTopLabel||"Return to top"),1)),$(ar,{name:"flyout"},{default:se(()=>[s.value?(S(),A("div",{key:0,ref_key:"items",ref:o,class:"items",onClick:l},[I("div",Iie,[I("a",{class:"top-link",href:"#",onClick:u},Me(g(n).returnToTopLabel||"Return to top"),1)]),I("div",Nie,[$(xz,{headers:t.headers},null,8,["headers"])])],512)):ce("",!0)]),_:1})],4))}}),Die=nn(Aie,[["__scopeId","data-v-ea8e5335"]]),Oie=t=>(Bs("data-v-0b0eae57"),t=t(),zs(),t),Rie={class:"container"},Lie=["aria-expanded"],Pie=Oie(()=>I("span",{class:"vpi-align-left menu-icon"},null,-1)),Mie={class:"menu-text"},Fie=Z({__name:"VPLocalNav",props:{open:{type:Boolean}},emits:["open-menu"],setup(t){const{theme:e,frontmatter:n}=Wn(),{hasSidebar:s}=Zu(),{headers:r}=kie(),{y:a}=cz(),o=B(0);Et(()=>{o.value=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--vp-nav-height"))}),L4(()=>{r.value=C$(n.value.outline??e.value.outline)});const i=D(()=>r.value.length===0),l=D(()=>i.value&&!s.value),u=D(()=>({VPLocalNav:!0,"has-sidebar":s.value,empty:i.value,fixed:l.value}));return(c,d)=>g(n).layout!=="home"&&(!l.value||g(a)>=o.value)?(S(),A("div",{key:0,class:q(u.value)},[I("div",Rie,[g(s)?(S(),A("button",{key:0,class:"menu","aria-expanded":t.open,"aria-controls":"VPSidebarNav",onClick:d[0]||(d[0]=h=>c.$emit("open-menu"))},[Pie,I("span",Mie,Me(g(e).sidebarMenuLabel||"Menu"),1)],8,Lie)):ce("",!0),$(Die,{headers:g(r),navHeight:o.value},null,8,["headers","navHeight"])])],2)):ce("",!0)}}),Bie=nn(Fie,[["__scopeId","data-v-0b0eae57"]]);function zie(){const t=B(!1);function e(){t.value=!0,window.addEventListener("resize",r)}function n(){t.value=!1,window.removeEventListener("resize",r)}function s(){t.value?n():e()}function r(){window.outerWidth>=768&&n()}const a=P4();return Ee(()=>a.path,n),{isScreenOpen:t,openScreen:e,closeScreen:n,toggleScreen:s}}const Vie={},Hie={class:"VPSwitch",type:"button",role:"switch"},Uie={class:"check"},Wie={key:0,class:"icon"};function jie(t,e){return S(),A("button",Hie,[I("span",Uie,[t.$slots.default?(S(),A("span",Wie,[oe(t.$slots,"default",{},void 0,!0)])):ce("",!0)])])}const Gie=nn(Vie,[["render",jie],["__scopeId","data-v-4356b660"]]),Cz=t=>(Bs("data-v-db5708a6"),t=t(),zs(),t),qie=Cz(()=>I("span",{class:"vpi-sun sun"},null,-1)),Kie=Cz(()=>I("span",{class:"vpi-moon moon"},null,-1)),Xie=Z({__name:"VPSwitchAppearance",setup(t){const{isDark:e,theme:n}=Wn(),s=Le("toggle-appearance",()=>{e.value=!e.value}),r=D(()=>e.value?n.value.lightModeSwitchTitle||"Switch to light theme":n.value.darkModeSwitchTitle||"Switch to dark theme");return(a,o)=>(S(),be(Gie,{title:r.value,class:"VPSwitchAppearance","aria-checked":g(e),onClick:g(s)},{default:se(()=>[qie,Kie]),_:1},8,["title","aria-checked","onClick"]))}}),S$=nn(Xie,[["__scopeId","data-v-db5708a6"]]),Yie={key:0,class:"VPNavBarAppearance"},Qie=Z({__name:"VPNavBarAppearance",setup(t){const{site:e}=Wn();return(n,s)=>g(e).appearance&&g(e).appearance!=="force-dark"?(S(),A("div",Yie,[$(S$)])):ce("",!0)}}),Zie=nn(Qie,[["__scopeId","data-v-5f1ef6e9"]]),T$=B();let Sz=!1,F8=0;function Jie(t){const e=B(!1);if(A0){!Sz&&ele(),F8++;const n=Ee(T$,s=>{var r,a,o;s===t.el.value||(r=t.el.value)!=null&&r.contains(s)?(e.value=!0,(a=t.onFocus)==null||a.call(t)):(e.value=!1,(o=t.onBlur)==null||o.call(t))});ma(()=>{n(),F8--,F8||tle()})}return rf(e)}function ele(){document.addEventListener("focusin",Tz),Sz=!0,T$.value=document.activeElement}function tle(){document.removeEventListener("focusin",Tz)}function Tz(){T$.value=document.activeElement}const nle={class:"VPMenuLink"},sle=Z({__name:"VPMenuLink",props:{item:null},setup(t){const{page:e}=Wn();return(n,s)=>(S(),A("div",nle,[$(Ml,{class:q({active:g($h)(g(e).relativePath,t.item.activeMatch||t.item.link,!!t.item.activeMatch)}),href:t.item.link,target:t.item.target,rel:t.item.rel},{default:se(()=>[ct(Me(t.item.text),1)]),_:1},8,["class","href","target","rel"])]))}}),B4=nn(sle,[["__scopeId","data-v-f22b4f6a"]]),rle={class:"VPMenuGroup"},ale={key:0,class:"title"},ole=Z({__name:"VPMenuGroup",props:{text:null,items:null},setup(t){return(e,n)=>(S(),A("div",rle,[t.text?(S(),A("p",ale,Me(t.text),1)):ce("",!0),(S(!0),A(He,null,Ut(t.items,s=>(S(),A(He,null,["link"in s?(S(),be(B4,{key:0,item:s},null,8,["item"])):ce("",!0)],64))),256))]))}}),ile=nn(ole,[["__scopeId","data-v-d0661fa6"]]),lle={class:"VPMenu"},ule={key:0,class:"items"},cle=Z({__name:"VPMenu",props:{items:null},setup(t){return(e,n)=>(S(),A("div",lle,[t.items?(S(),A("div",ule,[(S(!0),A(He,null,Ut(t.items,s=>(S(),A(He,{key:s.text},["link"in s?(S(),be(B4,{key:0,item:s},null,8,["item"])):(S(),be(ile,{key:1,text:s.text,items:s.items},null,8,["text","items"]))],64))),128))])):ce("",!0),oe(e.$slots,"default",{},void 0,!0)]))}}),dle=nn(cle,[["__scopeId","data-v-30a346a2"]]),hle=t=>(Bs("data-v-be2f122a"),t=t(),zs(),t),fle=["aria-expanded","aria-label"],ple={key:0,class:"text"},mle=["innerHTML"],gle=hle(()=>I("span",{class:"vpi-chevron-down text-icon"},null,-1)),vle={key:1,class:"vpi-more-horizontal icon"},yle={class:"menu"},ble=Z({__name:"VPFlyout",props:{icon:null,button:null,label:null,items:null},setup(t){const e=B(!1),n=B();Jie({el:n,onBlur:s});function s(){e.value=!1}return(r,a)=>(S(),A("div",{class:"VPFlyout",ref_key:"el",ref:n,onMouseenter:a[1]||(a[1]=o=>e.value=!0),onMouseleave:a[2]||(a[2]=o=>e.value=!1)},[I("button",{type:"button",class:"button","aria-haspopup":"true","aria-expanded":e.value,"aria-label":t.label,onClick:a[0]||(a[0]=o=>e.value=!e.value)},[t.button||t.icon?(S(),A("span",ple,[t.icon?(S(),A("span",{key:0,class:q([t.icon,"option-icon"])},null,2)):ce("",!0),t.button?(S(),A("span",{key:1,innerHTML:t.button},null,8,mle)):ce("",!0),gle])):(S(),A("span",vle))],8,fle),I("div",yle,[$(dle,{items:t.items},{default:se(()=>[oe(r.$slots,"default",{},void 0,!0)]),_:3},8,["items"])])],544))}}),k$=nn(ble,[["__scopeId","data-v-be2f122a"]]),_le=["href","aria-label","innerHTML"],wle=Z({__name:"VPSocialLink",props:{icon:null,link:null,ariaLabel:null},setup(t){const e=t,n=D(()=>typeof e.icon=="object"?e.icon.svg:`<span class="vpi-social-${e.icon}" />`);return(s,r)=>(S(),A("a",{class:"VPSocialLink no-icon",href:t.link,"aria-label":t.ariaLabel??(typeof t.icon=="string"?t.icon:""),target:"_blank",rel:"noopener",innerHTML:n.value},null,8,_le))}}),xle=nn(wle,[["__scopeId","data-v-f904477a"]]),Cle={class:"VPSocialLinks"},Sle=Z({__name:"VPSocialLinks",props:{links:null},setup(t){return(e,n)=>(S(),A("div",Cle,[(S(!0),A(He,null,Ut(t.links,({link:s,icon:r,ariaLabel:a})=>(S(),be(xle,{key:s,icon:r,link:s,ariaLabel:a},null,8,["icon","link","ariaLabel"]))),128))]))}}),$$=nn(Sle,[["__scopeId","data-v-d72b0a0f"]]),Tle={key:0,class:"group translations"},kle={class:"trans-title"},$le={key:1,class:"group"},Ele={class:"item appearance"},Ile={class:"label"},Nle={class:"appearance-action"},Ale={key:2,class:"group"},Dle={class:"item social-links"},Ole=Z({__name:"VPNavBarExtra",setup(t){const{site:e,theme:n}=Wn(),{localeLinks:s,currentLang:r}=q1({correspondingLink:!0}),a=D(()=>s.value.length&&r.value.label||e.value.appearance||n.value.socialLinks);return(o,i)=>a.value?(S(),be(k$,{key:0,class:"VPNavBarExtra",label:"extra navigation"},{default:se(()=>[g(s).length&&g(r).label?(S(),A("div",Tle,[I("p",kle,Me(g(r).label),1),(S(!0),A(He,null,Ut(g(s),l=>(S(),be(B4,{key:l.link,item:l},null,8,["item"]))),128))])):ce("",!0),g(e).appearance&&g(e).appearance!=="force-dark"?(S(),A("div",$le,[I("div",Ele,[I("p",Ile,Me(g(n).darkModeSwitchLabel||"Appearance"),1),I("div",Nle,[$(S$)])])])):ce("",!0),g(n).socialLinks?(S(),A("div",Ale,[I("div",Dle,[$($$,{class:"social-links-list",links:g(n).socialLinks},null,8,["links"])])])):ce("",!0)]),_:1})):ce("",!0)}}),Rle=nn(Ole,[["__scopeId","data-v-f91b6998"]]),Lle=t=>(Bs("data-v-9afe23f5"),t=t(),zs(),t),Ple=["aria-expanded"],Mle=Lle(()=>I("span",{class:"container"},[I("span",{class:"top"}),I("span",{class:"middle"}),I("span",{class:"bottom"})],-1)),Fle=[Mle],Ble=Z({__name:"VPNavBarHamburger",props:{active:{type:Boolean}},emits:["click"],setup(t){return(e,n)=>(S(),A("button",{type:"button",class:q(["VPNavBarHamburger",{active:t.active}]),"aria-label":"mobile navigation","aria-expanded":t.active,"aria-controls":"VPNavScreen",onClick:n[0]||(n[0]=s=>e.$emit("click"))},Fle,10,Ple))}}),zle=nn(Ble,[["__scopeId","data-v-9afe23f5"]]),Vle=["innerHTML"],Hle=Z({__name:"VPNavBarMenuLink",props:{item:null},setup(t){const{page:e}=Wn();return(n,s)=>(S(),be(Ml,{class:q({VPNavBarMenuLink:!0,active:g($h)(g(e).relativePath,t.item.activeMatch||t.item.link,!!t.item.activeMatch)}),href:t.item.link,noIcon:t.item.noIcon,target:t.item.target,rel:t.item.rel,tabindex:"0"},{default:se(()=>[I("span",{innerHTML:t.item.text},null,8,Vle)]),_:1},8,["class","href","noIcon","target","rel"]))}}),Ule=nn(Hle,[["__scopeId","data-v-9133d14d"]]),Wle=Z({__name:"VPNavBarMenuGroup",props:{item:null},setup(t){const e=t,{page:n}=Wn(),s=a=>"link"in a?$h(n.value.relativePath,a.link,!!e.item.activeMatch):a.items.some(s),r=D(()=>s(e.item));return(a,o)=>(S(),be(k$,{class:q({VPNavBarMenuGroup:!0,active:g($h)(g(n).relativePath,t.item.activeMatch,!!t.item.activeMatch)||r.value}),button:t.item.text,items:t.item.items},null,8,["class","button","items"]))}}),jle=t=>(Bs("data-v-46935683"),t=t(),zs(),t),Gle={key:0,"aria-labelledby":"main-nav-aria-label",class:"VPNavBarMenu"},qle=jle(()=>I("span",{id:"main-nav-aria-label",class:"visually-hidden"},"Main Navigation",-1)),Kle=Z({__name:"VPNavBarMenu",setup(t){const{theme:e}=Wn();return(n,s)=>g(e).nav?(S(),A("nav",Gle,[qle,(S(!0),A(He,null,Ut(g(e).nav,r=>(S(),A(He,{key:r.text},["link"in r?(S(),be(Ule,{key:0,item:r},null,8,["item"])):(S(),be(Wle,{key:1,item:r},null,8,["item"]))],64))),128))])):ce("",!0)}}),Xle=nn(Kle,[["__scopeId","data-v-46935683"]]);function Yle(t){const{localeIndex:e,theme:n}=Wn();function s(r){var p,m,y;const a=r.split("."),o=(p=n.value.search)==null?void 0:p.options,i=o&&typeof o=="object",l=i&&((y=(m=o.locales)==null?void 0:m[e.value])==null?void 0:y.translations)||null,u=i&&o.translations||null;let c=l,d=u,h=t;const f=a.pop();for(const v of a){let b=null;const w=h==null?void 0:h[v];w&&(b=h=w);const _=d==null?void 0:d[v];_&&(b=d=_);const C=c==null?void 0:c[v];C&&(b=c=C),w||(h=b),_||(d=b),C||(c=b)}return(c==null?void 0:c[f])??(d==null?void 0:d[f])??(h==null?void 0:h[f])??""}return s}const Qle=["aria-label"],Zle={class:"DocSearch-Button-Container"},Jle=I("span",{class:"vp-icon DocSearch-Search-Icon"},null,-1),eue={class:"DocSearch-Button-Placeholder"},tue=I("span",{class:"DocSearch-Button-Keys"},[I("kbd",{class:"DocSearch-Button-Key"}),I("kbd",{class:"DocSearch-Button-Key"},"K")],-1),K7=Z({__name:"VPNavBarSearchButton",setup(t){const n=Yle({button:{buttonText:"Search",buttonAriaLabel:"Search"}});return(s,r)=>(S(),A("button",{type:"button",class:"DocSearch DocSearch-Button","aria-label":g(n)("button.buttonAriaLabel")},[I("span",Zle,[Jle,I("span",eue,Me(g(n)("button.buttonText")),1)]),tue],8,Qle))}}),nue={class:"VPNavBarSearch"},sue={id:"local-search"},rue={key:1,id:"docsearch"},aue=Z({__name:"VPNavBarSearch",setup(t){const e=Qre(()=>W2(()=>import("./VPLocalSearchBox.DeEgoUk7.js"),__vite__mapDeps([0,1]))),n=()=>null,{theme:s}=Wn(),r=B(!1),a=B(!1);Et(()=>{});function o(){r.value||(r.value=!0,setTimeout(i,16))}function i(){const d=new Event("keydown");d.key="k",d.metaKey=!0,window.dispatchEvent(d),setTimeout(()=>{document.querySelector(".DocSearch-Modal")||i()},16)}function l(d){const h=d.target,f=h.tagName;return h.isContentEditable||f==="INPUT"||f==="SELECT"||f==="TEXTAREA"}const u=B(!1);dS("k",d=>{(d.ctrlKey||d.metaKey)&&(d.preventDefault(),u.value=!0)}),dS("/",d=>{l(d)||(d.preventDefault(),u.value=!0)});const c="local";return(d,h)=>{var f;return S(),A("div",nue,[g(c)==="local"?(S(),A(He,{key:0},[u.value?(S(),be(g(e),{key:0,onClose:h[0]||(h[0]=p=>u.value=!1)})):ce("",!0),I("div",sue,[$(K7,{onClick:h[1]||(h[1]=p=>u.value=!0)})])],64)):g(c)==="algolia"?(S(),A(He,{key:1},[r.value?(S(),be(g(n),{key:0,algolia:((f=g(s).search)==null?void 0:f.options)??g(s).algolia,onVnodeBeforeMount:h[2]||(h[2]=p=>a.value=!0)},null,8,["algolia"])):ce("",!0),a.value?ce("",!0):(S(),A("div",rue,[$(K7,{onClick:o})]))],64)):ce("",!0)])}}}),oue=Z({__name:"VPNavBarSocialLinks",setup(t){const{theme:e}=Wn();return(n,s)=>g(e).socialLinks?(S(),be($$,{key:0,class:"VPNavBarSocialLinks",links:g(e).socialLinks},null,8,["links"])):ce("",!0)}}),iue=nn(oue,[["__scopeId","data-v-6720e58f"]]),lue=["href","rel","target"],uue={key:1},cue={key:2},due=Z({__name:"VPNavBarTitle",setup(t){const{site:e,theme:n}=Wn(),{hasSidebar:s}=Zu(),{currentLang:r}=q1(),a=D(()=>{var l;return typeof n.value.logoLink=="string"?n.value.logoLink:(l=n.value.logoLink)==null?void 0:l.link}),o=D(()=>{var l;return typeof n.value.logoLink=="string"||(l=n.value.logoLink)==null?void 0:l.rel}),i=D(()=>{var l;return typeof n.value.logoLink=="string"||(l=n.value.logoLink)==null?void 0:l.target});return(l,u)=>(S(),A("div",{class:q(["VPNavBarTitle",{"has-sidebar":g(s)}])},[I("a",{class:"title",href:a.value??g(w$)(g(r).link),rel:o.value,target:i.value},[oe(l.$slots,"nav-bar-title-before",{},void 0,!0),g(n).logo?(S(),be(e3,{key:0,class:"logo",image:g(n).logo},null,8,["image"])):ce("",!0),g(n).siteTitle?(S(),A("span",uue,Me(g(n).siteTitle),1)):g(n).siteTitle===void 0?(S(),A("span",cue,Me(g(e).title),1)):ce("",!0),oe(l.$slots,"nav-bar-title-after",{},void 0,!0)],8,lue)],2))}}),hue=nn(due,[["__scopeId","data-v-d17b058c"]]),fue={class:"items"},pue={class:"title"},mue=Z({__name:"VPNavBarTranslations",setup(t){const{theme:e}=Wn(),{localeLinks:n,currentLang:s}=q1({correspondingLink:!0});return(r,a)=>g(n).length&&g(s).label?(S(),be(k$,{key:0,class:"VPNavBarTranslations",icon:"vpi-languages",label:g(e).langMenuLabel||"Change language"},{default:se(()=>[I("div",fue,[I("p",pue,Me(g(s).label),1),(S(!0),A(He,null,Ut(g(n),o=>(S(),be(B4,{key:o.link,item:o},null,8,["item"]))),128))])]),_:1},8,["label"])):ce("",!0)}}),gue=nn(mue,[["__scopeId","data-v-90078723"]]),vue=t=>(Bs("data-v-8e2cdd19"),t=t(),zs(),t),yue={class:"wrapper"},bue={class:"container"},_ue={class:"title"},wue={class:"content"},xue={class:"content-body"},Cue=vue(()=>I("div",{class:"divider"},[I("div",{class:"divider-line"})],-1)),Sue=Z({__name:"VPNavBar",props:{isScreenOpen:{type:Boolean}},emits:["toggle-screen"],setup(t){const{y:e}=cz(),{hasSidebar:n}=Zu(),{frontmatter:s}=Wn(),r=B({});return lz(()=>{r.value={"has-sidebar":n.value,home:s.value.layout==="home",top:e.value===0}}),(a,o)=>(S(),A("div",{class:q(["VPNavBar",r.value])},[I("div",yue,[I("div",bue,[I("div",_ue,[$(hue,null,{"nav-bar-title-before":se(()=>[oe(a.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":se(()=>[oe(a.$slots,"nav-bar-title-after",{},void 0,!0)]),_:3})]),I("div",wue,[I("div",xue,[oe(a.$slots,"nav-bar-content-before",{},void 0,!0),$(aue,{class:"search"}),$(Xle,{class:"menu"}),$(gue,{class:"translations"}),$(Zie,{class:"appearance"}),$(iue,{class:"social-links"}),$(Rle,{class:"extra"}),oe(a.$slots,"nav-bar-content-after",{},void 0,!0),$(zle,{class:"hamburger",active:t.isScreenOpen,onClick:o[0]||(o[0]=i=>a.$emit("toggle-screen"))},null,8,["active"])])])])]),Cue],2))}}),Tue=nn(Sue,[["__scopeId","data-v-8e2cdd19"]]),kue={key:0,class:"VPNavScreenAppearance"},$ue={class:"text"},Eue=Z({__name:"VPNavScreenAppearance",setup(t){const{site:e,theme:n}=Wn();return(s,r)=>g(e).appearance&&g(e).appearance!=="force-dark"?(S(),A("div",kue,[I("p",$ue,Me(g(n).darkModeSwitchLabel||"Appearance"),1),$(S$)])):ce("",!0)}}),Iue=nn(Eue,[["__scopeId","data-v-f78aa8d3"]]),Nue=Z({__name:"VPNavScreenMenuLink",props:{item:null},setup(t){const e=Le("close-screen");return(n,s)=>(S(),be(Ml,{class:"VPNavScreenMenuLink",href:t.item.link,target:t.item.target,rel:t.item.rel,onClick:g(e)},{default:se(()=>[ct(Me(t.item.text),1)]),_:1},8,["href","target","rel","onClick"]))}}),Aue=nn(Nue,[["__scopeId","data-v-c05c1121"]]),Due=Z({__name:"VPNavScreenMenuGroupLink",props:{item:null},setup(t){const e=Le("close-screen");return(n,s)=>(S(),be(Ml,{class:"VPNavScreenMenuGroupLink",href:t.item.link,target:t.item.target,rel:t.item.rel,onClick:g(e)},{default:se(()=>[ct(Me(t.item.text),1)]),_:1},8,["href","target","rel","onClick"]))}}),kz=nn(Due,[["__scopeId","data-v-870cb329"]]),Oue={class:"VPNavScreenMenuGroupSection"},Rue={key:0,class:"title"},Lue=Z({__name:"VPNavScreenMenuGroupSection",props:{text:null,items:null},setup(t){return(e,n)=>(S(),A("div",Oue,[t.text?(S(),A("p",Rue,Me(t.text),1)):ce("",!0),(S(!0),A(He,null,Ut(t.items,s=>(S(),be(kz,{key:s.text,item:s},null,8,["item"]))),128))]))}}),Pue=nn(Lue,[["__scopeId","data-v-1bc49e4f"]]),Mue=t=>(Bs("data-v-290c15d7"),t=t(),zs(),t),Fue=["aria-controls","aria-expanded"],Bue=["innerHTML"],zue=Mue(()=>I("span",{class:"vpi-plus button-icon"},null,-1)),Vue=["id"],Hue={key:1,class:"group"},Uue=Z({__name:"VPNavScreenMenuGroup",props:{text:null,items:null},setup(t){const e=t,n=B(!1),s=D(()=>`NavScreenGroup-${e.text.replace(" ","-").toLowerCase()}`);function r(){n.value=!n.value}return(a,o)=>(S(),A("div",{class:q(["VPNavScreenMenuGroup",{open:n.value}])},[I("button",{class:"button","aria-controls":s.value,"aria-expanded":n.value,onClick:r},[I("span",{class:"button-text",innerHTML:t.text},null,8,Bue),zue],8,Fue),I("div",{id:s.value,class:"items"},[(S(!0),A(He,null,Ut(t.items,i=>(S(),A(He,{key:i.text},["link"in i?(S(),A("div",{key:i.text,class:"item"},[$(kz,{item:i},null,8,["item"])])):(S(),A("div",Hue,[$(Pue,{text:i.text,items:i.items},null,8,["text","items"])]))],64))),128))],8,Vue)],2))}}),Wue=nn(Uue,[["__scopeId","data-v-290c15d7"]]),jue={key:0,class:"VPNavScreenMenu"},Gue=Z({__name:"VPNavScreenMenu",setup(t){const{theme:e}=Wn();return(n,s)=>g(e).nav?(S(),A("nav",jue,[(S(!0),A(He,null,Ut(g(e).nav,r=>(S(),A(He,{key:r.text},["link"in r?(S(),be(Aue,{key:0,item:r},null,8,["item"])):(S(),be(Wue,{key:1,text:r.text||"",items:r.items},null,8,["text","items"]))],64))),128))])):ce("",!0)}}),que=Z({__name:"VPNavScreenSocialLinks",setup(t){const{theme:e}=Wn();return(n,s)=>g(e).socialLinks?(S(),be($$,{key:0,class:"VPNavScreenSocialLinks",links:g(e).socialLinks},null,8,["links"])):ce("",!0)}}),$z=t=>(Bs("data-v-f4fd5821"),t=t(),zs(),t),Kue=$z(()=>I("span",{class:"vpi-languages icon lang"},null,-1)),Xue=$z(()=>I("span",{class:"vpi-chevron-down icon chevron"},null,-1)),Yue={class:"list"},Que=Z({__name:"VPNavScreenTranslations",setup(t){const{localeLinks:e,currentLang:n}=q1({correspondingLink:!0}),s=B(!1);function r(){s.value=!s.value}return(a,o)=>g(e).length&&g(n).label?(S(),A("div",{key:0,class:q(["VPNavScreenTranslations",{open:s.value}])},[I("button",{class:"title",onClick:r},[Kue,ct(" "+Me(g(n).label)+" ",1),Xue]),I("ul",Yue,[(S(!0),A(He,null,Ut(g(e),i=>(S(),A("li",{key:i.link,class:"item"},[$(Ml,{class:"link",href:i.link},{default:se(()=>[ct(Me(i.text),1)]),_:2},1032,["href"])]))),128))])],2)):ce("",!0)}}),Zue=nn(Que,[["__scopeId","data-v-f4fd5821"]]),Jue={class:"container"},ece=Z({__name:"VPNavScreen",props:{open:{type:Boolean}},setup(t){const e=B(null),n=dz(A0?document.body:null);return(s,r)=>(S(),be(ar,{name:"fade",onEnter:r[0]||(r[0]=a=>n.value=!0),onAfterLeave:r[1]||(r[1]=a=>n.value=!1)},{default:se(()=>[t.open?(S(),A("div",{key:0,class:"VPNavScreen",ref_key:"screen",ref:e,id:"VPNavScreen"},[I("div",Jue,[oe(s.$slots,"nav-screen-content-before",{},void 0,!0),$(Gue,{class:"menu"}),$(Zue,{class:"translations"}),$(Iue,{class:"appearance"}),$(que,{class:"social-links"}),oe(s.$slots,"nav-screen-content-after",{},void 0,!0)])],512)):ce("",!0)]),_:3}))}}),tce=nn(ece,[["__scopeId","data-v-8557583a"]]),nce={key:0,class:"VPNav"},sce=Z({__name:"VPNav",setup(t){const{isScreenOpen:e,closeScreen:n,toggleScreen:s}=zie(),{frontmatter:r}=Wn(),a=D(()=>r.value.navbar!==!1);return At("close-screen",n),sr(()=>{A0&&document.documentElement.classList.toggle("hide-nav",!a.value)}),(o,i)=>a.value?(S(),A("header",nce,[$(Tue,{"is-screen-open":g(e),onToggleScreen:g(s)},{"nav-bar-title-before":se(()=>[oe(o.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":se(()=>[oe(o.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":se(()=>[oe(o.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":se(()=>[oe(o.$slots,"nav-bar-content-after",{},void 0,!0)]),_:3},8,["is-screen-open","onToggleScreen"]),$(tce,{open:g(e)},{"nav-screen-content-before":se(()=>[oe(o.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":se(()=>[oe(o.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3},8,["open"])])):ce("",!0)}}),rce=nn(sce,[["__scopeId","data-v-75c53e19"]]),Ez=t=>(Bs("data-v-aedb51a2"),t=t(),zs(),t),ace=["role","tabindex"],oce=Ez(()=>I("div",{class:"indicator"},null,-1)),ice=Ez(()=>I("span",{class:"vpi-chevron-right caret-icon"},null,-1)),lce=[ice],uce={key:1,class:"items"},cce=Z({__name:"VPSidebarItem",props:{item:null,depth:null},setup(t){const e=t,{collapsed:n,collapsible:s,isLink:r,isActiveLink:a,hasActiveLink:o,hasChildren:i,toggle:l}=Iae(D(()=>e.item)),u=D(()=>i.value?"section":"div"),c=D(()=>r.value?"a":"div"),d=D(()=>i.value?e.depth+2===7?"p":`h${e.depth+2}`:"p"),h=D(()=>r.value?void 0:"button"),f=D(()=>[[`level-${e.depth}`],{collapsible:s.value},{collapsed:n.value},{"is-link":r.value},{"is-active":a.value},{"has-active":o.value}]);function p(y){"key"in y&&y.key!=="Enter"||!e.item.link&&l()}function m(){e.item.link&&l()}return(y,v)=>{const b=ht("VPSidebarItem",!0);return S(),be(Gt(u.value),{class:q(["VPSidebarItem",f.value])},{default:se(()=>[t.item.text?(S(),A("div",Kt({key:0,class:"item",role:h.value},hz(t.item.items?{click:p,keydown:p}:{},!0),{tabindex:t.item.items&&0}),[oce,t.item.link?(S(),be(Ml,{key:0,tag:c.value,class:"link",href:t.item.link,rel:t.item.rel,target:t.item.target},{default:se(()=>[(S(),be(Gt(d.value),{class:"text",innerHTML:t.item.text},null,8,["innerHTML"]))]),_:1},8,["tag","href","rel","target"])):(S(),be(Gt(d.value),{key:1,class:"text",innerHTML:t.item.text},null,8,["innerHTML"])),t.item.collapsed!=null&&t.item.items&&t.item.items.length?(S(),A("div",{key:2,class:"caret",role:"button","aria-label":"toggle section",onClick:m,onKeydown:Pn(m,["enter"]),tabindex:"0"},lce,32)):ce("",!0)],16,ace)):ce("",!0),t.item.items&&t.item.items.length?(S(),A("div",uce,[t.depth<5?(S(!0),A(He,{key:0},Ut(t.item.items,w=>(S(),be(b,{key:w.text,item:w,depth:t.depth+1},null,8,["item","depth"]))),128)):ce("",!0)])):ce("",!0)]),_:1},8,["class"])}}}),dce=nn(cce,[["__scopeId","data-v-aedb51a2"]]),Iz=t=>(Bs("data-v-69b89b74"),t=t(),zs(),t),hce=Iz(()=>I("div",{class:"curtain"},null,-1)),fce={class:"nav",id:"VPSidebarNav","aria-labelledby":"sidebar-aria-label",tabindex:"-1"},pce=Iz(()=>I("span",{class:"visually-hidden",id:"sidebar-aria-label"}," Sidebar Navigation ",-1)),mce=Z({__name:"VPSidebar",props:{open:{type:Boolean}},setup(t){const{sidebarGroups:e,hasSidebar:n}=Zu(),s=t,r=B(null),a=dz(A0?document.body:null);return Ee([s,r],()=>{var o;s.open?(a.value=!0,(o=r.value)==null||o.focus()):a.value=!1},{immediate:!0,flush:"post"}),(o,i)=>g(n)?(S(),A("aside",{key:0,class:q(["VPSidebar",{open:t.open}]),ref_key:"navEl",ref:r,onClick:i[0]||(i[0]=xt(()=>{},["stop"]))},[hce,I("nav",fce,[pce,oe(o.$slots,"sidebar-nav-before",{},void 0,!0),(S(!0),A(He,null,Ut(g(e),l=>(S(),A("div",{key:l.text,class:"group"},[$(dce,{item:l,depth:0},null,8,["item"])]))),128)),oe(o.$slots,"sidebar-nav-after",{},void 0,!0)])],2)):ce("",!0)}}),gce=nn(mce,[["__scopeId","data-v-69b89b74"]]),vce=Z({__name:"VPSkipLink",setup(t){const e=P4(),n=B();Ee(()=>e.path,()=>n.value.focus());function s({target:r}){const a=document.getElementById(decodeURIComponent(r.hash).slice(1));if(a){const o=()=>{a.removeAttribute("tabindex"),a.removeEventListener("blur",o)};a.setAttribute("tabindex","-1"),a.addEventListener("blur",o),a.focus(),window.scrollTo(0,0)}}return(r,a)=>(S(),A(He,null,[I("span",{ref_key:"backToTop",ref:n,tabindex:"-1"},null,512),I("a",{href:"#VPContent",class:"VPSkipLink visually-hidden",onClick:s}," Skip to content ")],64))}}),yce=nn(vce,[["__scopeId","data-v-3d110a08"]]),bce=Z({__name:"Layout",setup(t){const{isOpen:e,open:n,close:s}=Zu(),r=P4();Ee(()=>r.path,s),Eae(e,s);const{frontmatter:a}=Wn(),o=xr(),i=D(()=>!!o["home-hero-image"]);return At("hero-image-slot-exists",i),(l,u)=>{const c=ht("Content");return g(a).layout!==!1?(S(),A("div",{key:0,class:q(["Layout",g(a).pageClass])},[oe(l.$slots,"layout-top",{},void 0,!0),$(yce),$(fae,{class:"backdrop",show:g(e),onClick:g(s)},null,8,["show","onClick"]),$(rce,null,{"nav-bar-title-before":se(()=>[oe(l.$slots,"nav-bar-title-before",{},void 0,!0)]),"nav-bar-title-after":se(()=>[oe(l.$slots,"nav-bar-title-after",{},void 0,!0)]),"nav-bar-content-before":se(()=>[oe(l.$slots,"nav-bar-content-before",{},void 0,!0)]),"nav-bar-content-after":se(()=>[oe(l.$slots,"nav-bar-content-after",{},void 0,!0)]),"nav-screen-content-before":se(()=>[oe(l.$slots,"nav-screen-content-before",{},void 0,!0)]),"nav-screen-content-after":se(()=>[oe(l.$slots,"nav-screen-content-after",{},void 0,!0)]),_:3}),$(Bie,{open:g(e),onOpenMenu:g(n)},null,8,["open","onOpenMenu"]),$(gce,{open:g(e)},{"sidebar-nav-before":se(()=>[oe(l.$slots,"sidebar-nav-before",{},void 0,!0)]),"sidebar-nav-after":se(()=>[oe(l.$slots,"sidebar-nav-after",{},void 0,!0)]),_:3},8,["open"]),$(_ie,null,{"page-top":se(()=>[oe(l.$slots,"page-top",{},void 0,!0)]),"page-bottom":se(()=>[oe(l.$slots,"page-bottom",{},void 0,!0)]),"not-found":se(()=>[oe(l.$slots,"not-found",{},void 0,!0)]),"home-hero-before":se(()=>[oe(l.$slots,"home-hero-before",{},void 0,!0)]),"home-hero-info-before":se(()=>[oe(l.$slots,"home-hero-info-before",{},void 0,!0)]),"home-hero-info":se(()=>[oe(l.$slots,"home-hero-info",{},void 0,!0)]),"home-hero-info-after":se(()=>[oe(l.$slots,"home-hero-info-after",{},void 0,!0)]),"home-hero-actions-after":se(()=>[oe(l.$slots,"home-hero-actions-after",{},void 0,!0)]),"home-hero-image":se(()=>[oe(l.$slots,"home-hero-image",{},void 0,!0)]),"home-hero-after":se(()=>[oe(l.$slots,"home-hero-after",{},void 0,!0)]),"home-features-before":se(()=>[oe(l.$slots,"home-features-before",{},void 0,!0)]),"home-features-after":se(()=>[oe(l.$slots,"home-features-after",{},void 0,!0)]),"doc-footer-before":se(()=>[oe(l.$slots,"doc-footer-before",{},void 0,!0)]),"doc-before":se(()=>[oe(l.$slots,"doc-before",{},void 0,!0)]),"doc-after":se(()=>[oe(l.$slots,"doc-after",{},void 0,!0)]),"doc-top":se(()=>[oe(l.$slots,"doc-top",{},void 0,!0)]),"doc-bottom":se(()=>[oe(l.$slots,"doc-bottom",{},void 0,!0)]),"aside-top":se(()=>[oe(l.$slots,"aside-top",{},void 0,!0)]),"aside-bottom":se(()=>[oe(l.$slots,"aside-bottom",{},void 0,!0)]),"aside-outline-before":se(()=>[oe(l.$slots,"aside-outline-before",{},void 0,!0)]),"aside-outline-after":se(()=>[oe(l.$slots,"aside-outline-after",{},void 0,!0)]),"aside-ads-before":se(()=>[oe(l.$slots,"aside-ads-before",{},void 0,!0)]),"aside-ads-after":se(()=>[oe(l.$slots,"aside-ads-after",{},void 0,!0)]),_:3}),$(Tie),oe(l.$slots,"layout-bottom",{},void 0,!0)],2)):(S(),be(c,{key:1}))}}}),_ce=nn(bce,[["__scopeId","data-v-eb908ccb"]]),wce={Layout:_ce,enhanceApp:({app:t})=>{t.component("Badge",cae)}},xce='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Cce=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,X7=t=>Array.from(t.querySelectorAll(xce)).filter(e=>Sce(e)&&Cce(e)),Sce=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},x_=function(t,e,...n){let s;e.includes("mouse")||e.includes("click")?s="MouseEvents":e.includes("key")?s="KeyboardEvent":s="HTMLEvents";const r=document.createEvent(s);return r.initEvent(e,...n),t.dispatchEvent(r),t},Nz=t=>!t.getAttribute("aria-owns"),Az=(t,e,n)=>{const{parentNode:s}=t;if(!s)return null;const r=s.querySelectorAll(n),a=Array.prototype.indexOf.call(r,t);return r[a+e]||null},C_=t=>{t&&(t.focus(),!Nz(t)&&t.click())},Cs=(t,e,{checkForDefaultPrevented:n=!0}={})=>r=>{const a=t==null?void 0:t(r);if(n===!1||!a)return e==null?void 0:e(r)},Y7=t=>e=>e.pointerType==="mouse"?t(e):void 0;var Tce=Object.defineProperty,kce=Object.defineProperties,$ce=Object.getOwnPropertyDescriptors,Q7=Object.getOwnPropertySymbols,Ece=Object.prototype.hasOwnProperty,Ice=Object.prototype.propertyIsEnumerable,Z7=(t,e,n)=>e in t?Tce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Nce=(t,e)=>{for(var n in e||(e={}))Ece.call(e,n)&&Z7(t,n,e[n]);if(Q7)for(var n of Q7(e))Ice.call(e,n)&&Z7(t,n,e[n]);return t},Ace=(t,e)=>kce(t,$ce(e));function J7(t,e){var n;const s=Jn();return sr(()=>{s.value=t()},Ace(Nce({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),rf(s)}var eO;const hn=typeof window<"u",Dce=t=>typeof t<"u",gS=t=>typeof t=="function",Oce=t=>typeof t=="string",Mp=()=>{},vS=hn&&((eO=window==null?void 0:window.navigator)==null?void 0:eO.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Kc(t){return typeof t=="function"?t():g(t)}function Dz(t,e){function n(...s){return new Promise((r,a)=>{Promise.resolve(t(()=>e.apply(this,s),{fn:e,thisArg:this,args:s})).then(r).catch(a)})}return n}function Rce(t,e={}){let n,s,r=Mp;const a=i=>{clearTimeout(i),r(),r=Mp};return i=>{const l=Kc(t),u=Kc(e.maxWait);return n&&a(n),l<=0||u!==void 0&&u<=0?(s&&(a(s),s=null),Promise.resolve(i())):new Promise((c,d)=>{r=e.rejectOnCancel?d:c,u&&!s&&(s=setTimeout(()=>{n&&a(n),s=null,c(i())},u)),n=setTimeout(()=>{s&&a(s),s=null,c(i())},l)})}}function Lce(t,e=!0,n=!0,s=!1){let r=0,a,o=!0,i=Mp,l;const u=()=>{a&&(clearTimeout(a),a=void 0,i(),i=Mp)};return d=>{const h=Kc(t),f=Date.now()-r,p=()=>l=d();return u(),h<=0?(r=Date.now(),p()):(f>h&&(n||!o)?(r=Date.now(),p()):e&&(l=new Promise((m,y)=>{i=s?y:m,a=setTimeout(()=>{r=Date.now(),o=!0,m(p()),u()},Math.max(0,h-f))})),!n&&!a&&(a=setTimeout(()=>o=!0,h)),o=!1,l)}}function Pce(t){return t}function Mce(t,e){let n,s,r;const a=B(!0),o=()=>{a.value=!0,r()};Ee(t,o,{flush:"sync"});const i=gS(e)?e:e.get,l=gS(e)?void 0:e.set,u=Zre((c,d)=>(s=c,r=d,{get(){return a.value&&(n=i(),a.value=!1),s(),n},set(h){l==null||l(h)}}));return Object.isExtensible(u)&&(u.trigger=o),u}function K1(t){return fz()?(v$(t),!0):!1}function Fce(t,e=200,n={}){return Dz(Rce(e,n),t)}function Bce(t,e=200,n={}){const s=B(t.value),r=Fce(()=>{s.value=t.value},e,n);return Ee(t,()=>r()),s}function Oz(t,e=200,n=!1,s=!0,r=!1){return Dz(Lce(e,n,s,r),t)}function E$(t,e=!0){Ht()?Et(t):e?t():it(t)}function Ih(t,e,n={}){const{immediate:s=!0}=n,r=B(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function i(){r.value=!1,o()}function l(...u){o(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,t(...u)},Kc(e))}return s&&(r.value=!0,hn&&l()),K1(i),{isPending:rf(r),start:l,stop:i}}function vo(t){var e;const n=Kc(t);return(e=n==null?void 0:n.$el)!=null?e:n}const vd=hn?window:void 0,zce=hn?window.document:void 0;function Fn(...t){let e,n,s,r;if(Oce(t[0])||Array.isArray(t[0])?([n,s,r]=t,e=vd):[e,n,s,r]=t,!e)return Mp;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const a=[],o=()=>{a.forEach(c=>c()),a.length=0},i=(c,d,h,f)=>(c.addEventListener(d,h,f),()=>c.removeEventListener(d,h,f)),l=Ee(()=>[vo(e),Kc(r)],([c,d])=>{o(),c&&a.push(...n.flatMap(h=>s.map(f=>i(c,h,f,d))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return K1(u),u}let tO=!1;function I$(t,e,n={}){const{window:s=vd,ignore:r=[],capture:a=!0,detectIframe:o=!1}=n;if(!s)return;vS&&!tO&&(tO=!0,Array.from(s.document.body.children).forEach(h=>h.addEventListener("click",Mp)));let i=!0;const l=h=>r.some(f=>{if(typeof f=="string")return Array.from(s.document.querySelectorAll(f)).some(p=>p===h.target||h.composedPath().includes(p));{const p=vo(f);return p&&(h.target===p||h.composedPath().includes(p))}}),c=[Fn(s,"click",h=>{const f=vo(t);if(!(!f||f===h.target||h.composedPath().includes(f))){if(h.detail===0&&(i=!l(h)),!i){i=!0;return}e(h)}},{passive:!0,capture:a}),Fn(s,"pointerdown",h=>{const f=vo(t);f&&(i=!h.composedPath().includes(f)&&!l(h))},{passive:!0}),o&&Fn(s,"blur",h=>{var f;const p=vo(t);((f=s.document.activeElement)==null?void 0:f.tagName)==="IFRAME"&&!(p!=null&&p.contains(s.document.activeElement))&&e(h)})].filter(Boolean);return()=>c.forEach(h=>h())}function Vce(t={}){var e;const{window:n=vd}=t,s=(e=t.document)!=null?e:n==null?void 0:n.document,r=Mce(()=>null,()=>s==null?void 0:s.activeElement);return n&&(Fn(n,"blur",a=>{a.relatedTarget===null&&r.trigger()},!0),Fn(n,"focus",r.trigger,!0)),r}function Rz(t,e=!1){const n=B(),s=()=>n.value=!!t();return s(),E$(s,e),n}function Hce(t){return JSON.parse(JSON.stringify(t))}const nO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sO="__vueuse_ssr_handlers__";nO[sO]=nO[sO]||{};function Uce(t,e,{window:n=vd,initialValue:s=""}={}){const r=B(s),a=D(()=>{var o;return vo(e)||((o=n==null?void 0:n.document)==null?void 0:o.documentElement)});return Ee([a,()=>Kc(t)],([o,i])=>{var l;if(o&&n){const u=(l=n.getComputedStyle(o).getPropertyValue(i))==null?void 0:l.trim();r.value=u||s}},{immediate:!0}),Ee(r,o=>{var i;(i=a.value)!=null&&i.style&&a.value.style.setProperty(Kc(t),o)}),r}function Wce({document:t=zce}={}){if(!t)return B("visible");const e=B(t.visibilityState);return Fn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var rO=Object.getOwnPropertySymbols,jce=Object.prototype.hasOwnProperty,Gce=Object.prototype.propertyIsEnumerable,qce=(t,e)=>{var n={};for(var s in t)jce.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&rO)for(var s of rO(t))e.indexOf(s)<0&&Gce.call(t,s)&&(n[s]=t[s]);return n};function ds(t,e,n={}){const s=n,{window:r=vd}=s,a=qce(s,["window"]);let o;const i=Rz(()=>r&&"ResizeObserver"in r),l=()=>{o&&(o.disconnect(),o=void 0)},u=Ee(()=>vo(t),d=>{l(),i.value&&r&&d&&(o=new ResizeObserver(e),o.observe(d,a))},{immediate:!0,flush:"post"}),c=()=>{l(),u()};return K1(c),{isSupported:i,stop:c}}function aO(t,e={}){const{reset:n=!0,windowResize:s=!0,windowScroll:r=!0,immediate:a=!0}=e,o=B(0),i=B(0),l=B(0),u=B(0),c=B(0),d=B(0),h=B(0),f=B(0);function p(){const m=vo(t);if(!m){n&&(o.value=0,i.value=0,l.value=0,u.value=0,c.value=0,d.value=0,h.value=0,f.value=0);return}const y=m.getBoundingClientRect();o.value=y.height,i.value=y.bottom,l.value=y.left,u.value=y.right,c.value=y.top,d.value=y.width,h.value=y.x,f.value=y.y}return ds(t,p),Ee(()=>vo(t),m=>!m&&p()),r&&Fn("scroll",p,{capture:!0,passive:!0}),s&&Fn("resize",p,{passive:!0}),E$(()=>{a&&p()}),{height:o,bottom:i,left:l,right:u,top:c,width:d,x:h,y:f,update:p}}var oO=Object.getOwnPropertySymbols,Kce=Object.prototype.hasOwnProperty,Xce=Object.prototype.propertyIsEnumerable,Yce=(t,e)=>{var n={};for(var s in t)Kce.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&oO)for(var s of oO(t))e.indexOf(s)<0&&Xce.call(t,s)&&(n[s]=t[s]);return n};function Lz(t,e,n={}){const s=n,{window:r=vd}=s,a=Yce(s,["window"]);let o;const i=Rz(()=>r&&"MutationObserver"in r),l=()=>{o&&(o.disconnect(),o=void 0)},u=Ee(()=>vo(t),d=>{l(),i.value&&r&&d&&(o=new MutationObserver(e),o.observe(d,a))},{immediate:!0}),c=()=>{l(),u()};return K1(c),{isSupported:i,stop:c}}var iO;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(iO||(iO={}));var Qce=Object.defineProperty,lO=Object.getOwnPropertySymbols,Zce=Object.prototype.hasOwnProperty,Jce=Object.prototype.propertyIsEnumerable,uO=(t,e,n)=>e in t?Qce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ede=(t,e)=>{for(var n in e||(e={}))Zce.call(e,n)&&uO(t,n,e[n]);if(lO)for(var n of lO(e))Jce.call(e,n)&&uO(t,n,e[n]);return t};const tde={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ede({linear:Pce},tde);function Pz(t,e,n,s={}){var r,a,o;const{clone:i=!1,passive:l=!1,eventName:u,deep:c=!1,defaultValue:d}=s,h=Ht(),f=n||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((o=(a=h==null?void 0:h.proxy)==null?void 0:a.$emit)==null?void 0:o.bind(h==null?void 0:h.proxy));let p=u;e||(e="modelValue"),p=u||p||`update:${e.toString()}`;const m=v=>i?gS(i)?i(v):Hce(v):v,y=()=>Dce(t[e])?m(t[e]):d;if(l){const v=y(),b=B(v);return Ee(()=>t[e],w=>b.value=m(w)),Ee(b,w=>{(w!==t[e]||c)&&f(p,w)},{deep:c}),b}else return D({get(){return y()},set(v){f(p,v)}})}function nde({window:t=vd}={}){if(!t)return B(!1);const e=B(t.document.hasFocus());return Fn(t,"blur",()=>{e.value=!1}),Fn(t,"focus",()=>{e.value=!0}),e}function sde(t={}){const{window:e=vd,initialWidth:n=1/0,initialHeight:s=1/0,listenOrientation:r=!0,includeScrollbar:a=!0}=t,o=B(n),i=B(s),l=()=>{e&&(a?(o.value=e.innerWidth,i.value=e.innerHeight):(o.value=e.document.documentElement.clientWidth,i.value=e.document.documentElement.clientHeight))};return l(),E$(l),Fn("resize",l,{passive:!0}),r&&Fn("orientationchange",l,{passive:!0}),{width:o,height:i}}const N$=()=>hn&&/firefox/i.test(window.navigator.userAgent),rde=(t,e)=>{if(!hn||!t||!e)return!1;const n=t.getBoundingClientRect();let s;return e instanceof Element?s=e.getBoundingClientRect():s={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<s.bottom&&n.bottom>s.top&&n.right>s.left&&n.left<s.right},cO=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},yS=(t,e)=>Math.abs(cO(t)-cO(e)),A$=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function ade(t,e,n,s){const r=n-e;return t/=s/2,t<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}var Mz=typeof global=="object"&&global&&global.Object===Object&&global,ode=typeof self=="object"&&self&&self.Object===Object&&self,hl=Mz||ode||Function("return this")(),Ii=hl.Symbol,Fz=Object.prototype,ide=Fz.hasOwnProperty,lde=Fz.toString,Ng=Ii?Ii.toStringTag:void 0;function ude(t){var e=ide.call(t,Ng),n=t[Ng];try{t[Ng]=void 0;var s=!0}catch{}var r=lde.call(t);return s&&(e?t[Ng]=n:delete t[Ng]),r}var cde=Object.prototype,dde=cde.toString;function hde(t){return dde.call(t)}var fde="[object Null]",pde="[object Undefined]",dO=Ii?Ii.toStringTag:void 0;function of(t){return t==null?t===void 0?pde:fde:dO&&dO in Object(t)?ude(t):hde(t)}function Kl(t){return t!=null&&typeof t=="object"}var mde="[object Symbol]";function z4(t){return typeof t=="symbol"||Kl(t)&&of(t)==mde}function D$(t,e){for(var n=-1,s=t==null?0:t.length,r=Array(s);++n<s;)r[n]=e(t[n],n,t);return r}var Qa=Array.isArray,gde=1/0,hO=Ii?Ii.prototype:void 0,fO=hO?hO.toString:void 0;function Bz(t){if(typeof t=="string")return t;if(Qa(t))return D$(t,Bz)+"";if(z4(t))return fO?fO.call(t):"";var e=t+"";return e=="0"&&1/t==-gde?"-0":e}var vde=/\s/;function yde(t){for(var e=t.length;e--&&vde.test(t.charAt(e)););return e}var bde=/^\s+/;function _de(t){return t&&t.slice(0,yde(t)+1).replace(bde,"")}function Za(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pO=NaN,wde=/^[-+]0x[0-9a-f]+$/i,xde=/^0b[01]+$/i,Cde=/^0o[0-7]+$/i,Sde=parseInt;function bS(t){if(typeof t=="number")return t;if(z4(t))return pO;if(Za(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Za(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_de(t);var n=xde.test(t);return n||Cde.test(t)?Sde(t.slice(2),n?2:8):wde.test(t)?pO:+t}var mO=1/0,Tde=17976931348623157e292;function kde(t){if(!t)return t===0?t:0;if(t=bS(t),t===mO||t===-mO){var e=t<0?-1:1;return e*Tde}return t===t?t:0}function $de(t){var e=kde(t),n=e%1;return e===e?n?e-n:e:0}function O$(t){return t}var Ede="[object AsyncFunction]",Ide="[object Function]",Nde="[object GeneratorFunction]",Ade="[object Proxy]";function R$(t){if(!Za(t))return!1;var e=of(t);return e==Ide||e==Nde||e==Ede||e==Ade}var B8=hl["__core-js_shared__"],gO=function(){var t=/[^.]+$/.exec(B8&&B8.keys&&B8.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dde(t){return!!gO&&gO in t}var Ode=Function.prototype,Rde=Ode.toString;function lf(t){if(t!=null){try{return Rde.call(t)}catch{}try{return t+""}catch{}}return""}var Lde=/[\\^$.*+?()[\]{}|]/g,Pde=/^\[object .+?Constructor\]$/,Mde=Function.prototype,Fde=Object.prototype,Bde=Mde.toString,zde=Fde.hasOwnProperty,Vde=RegExp("^"+Bde.call(zde).replace(Lde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Hde(t){if(!Za(t)||Dde(t))return!1;var e=R$(t)?Vde:Pde;return e.test(lf(t))}function Ude(t,e){return t==null?void 0:t[e]}function uf(t,e){var n=Ude(t,e);return Hde(n)?n:void 0}var _S=uf(hl,"WeakMap"),vO=Object.create,Wde=function(){function t(){}return function(e){if(!Za(e))return{};if(vO)return vO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function jde(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Gde(){}function zz(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e}var qde=800,Kde=16,Xde=Date.now;function Yde(t){var e=0,n=0;return function(){var s=Xde(),r=Kde-(s-n);if(n=s,r>0){if(++e>=qde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Qde(t){return function(){return t}}var t3=function(){try{var t=uf(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Zde=t3?function(t,e){return t3(t,"toString",{configurable:!0,enumerable:!1,value:Qde(e),writable:!0})}:O$;const Jde=Zde;var Vz=Yde(Jde);function ehe(t,e){for(var n=-1,s=t==null?0:t.length;++n<s&&e(t[n],n,t)!==!1;);return t}function Hz(t,e,n,s){for(var r=t.length,a=n+(s?1:-1);s?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function the(t){return t!==t}function nhe(t,e,n){for(var s=n-1,r=t.length;++s<r;)if(t[s]===e)return s;return-1}function she(t,e,n){return e===e?nhe(t,e,n):Hz(t,the,n)}function rhe(t,e){var n=t==null?0:t.length;return!!n&&she(t,e,0)>-1}var ahe=9007199254740991,ohe=/^(?:0|[1-9]\d*)$/;function V4(t,e){var n=typeof t;return e=e??ahe,!!e&&(n=="number"||n!="symbol"&&ohe.test(t))&&t>-1&&t%1==0&&t<e}function L$(t,e,n){e=="__proto__"&&t3?t3(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function X1(t,e){return t===e||t!==t&&e!==e}var ihe=Object.prototype,lhe=ihe.hasOwnProperty;function P$(t,e,n){var s=t[e];(!(lhe.call(t,e)&&X1(s,n))||n===void 0&&!(e in t))&&L$(t,e,n)}function D0(t,e,n,s){var r=!n;n||(n={});for(var a=-1,o=e.length;++a<o;){var i=e[a],l=s?s(n[i],t[i],i,n,t):void 0;l===void 0&&(l=t[i]),r?L$(n,i,l):P$(n,i,l)}return n}var yO=Math.max;function Uz(t,e,n){return e=yO(e===void 0?t.length-1:e,0),function(){for(var s=arguments,r=-1,a=yO(s.length-e,0),o=Array(a);++r<a;)o[r]=s[e+r];r=-1;for(var i=Array(e+1);++r<e;)i[r]=s[r];return i[e]=n(o),jde(t,this,i)}}function Wz(t,e){return Vz(Uz(t,e,O$),t+"")}var uhe=9007199254740991;function M$(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uhe}function O0(t){return t!=null&&M$(t.length)&&!R$(t)}function che(t,e,n){if(!Za(n))return!1;var s=typeof e;return(s=="number"?O0(n)&&V4(e,n.length):s=="string"&&e in n)?X1(n[e],t):!1}function dhe(t){return Wz(function(e,n){var s=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(r--,a):void 0,o&&che(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),e=Object(e);++s<r;){var i=n[s];i&&t(e,i,s,a)}return e})}var hhe=Object.prototype;function F$(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||hhe;return t===n}function fhe(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s}var phe="[object Arguments]";function bO(t){return Kl(t)&&of(t)==phe}var jz=Object.prototype,mhe=jz.hasOwnProperty,ghe=jz.propertyIsEnumerable,G2=bO(function(){return arguments}())?bO:function(t){return Kl(t)&&mhe.call(t,"callee")&&!ghe.call(t,"callee")};function vhe(){return!1}var Gz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_O=Gz&&typeof module=="object"&&module&&!module.nodeType&&module,yhe=_O&&_O.exports===Gz,wO=yhe?hl.Buffer:void 0,bhe=wO?wO.isBuffer:void 0,q2=bhe||vhe,_he="[object Arguments]",whe="[object Array]",xhe="[object Boolean]",Che="[object Date]",She="[object Error]",The="[object Function]",khe="[object Map]",$he="[object Number]",Ehe="[object Object]",Ihe="[object RegExp]",Nhe="[object Set]",Ahe="[object String]",Dhe="[object WeakMap]",Ohe="[object ArrayBuffer]",Rhe="[object DataView]",Lhe="[object Float32Array]",Phe="[object Float64Array]",Mhe="[object Int8Array]",Fhe="[object Int16Array]",Bhe="[object Int32Array]",zhe="[object Uint8Array]",Vhe="[object Uint8ClampedArray]",Hhe="[object Uint16Array]",Uhe="[object Uint32Array]",Os={};Os[Lhe]=Os[Phe]=Os[Mhe]=Os[Fhe]=Os[Bhe]=Os[zhe]=Os[Vhe]=Os[Hhe]=Os[Uhe]=!0;Os[_he]=Os[whe]=Os[Ohe]=Os[xhe]=Os[Rhe]=Os[Che]=Os[She]=Os[The]=Os[khe]=Os[$he]=Os[Ehe]=Os[Ihe]=Os[Nhe]=Os[Ahe]=Os[Dhe]=!1;function Whe(t){return Kl(t)&&M$(t.length)&&!!Os[of(t)]}function B$(t){return function(e){return t(e)}}var qz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,S2=qz&&typeof module=="object"&&module&&!module.nodeType&&module,jhe=S2&&S2.exports===qz,z8=jhe&&Mz.process,Fp=function(){try{var t=S2&&S2.require&&S2.require("util").types;return t||z8&&z8.binding&&z8.binding("util")}catch{}}(),xO=Fp&&Fp.isTypedArray,z$=xO?B$(xO):Whe,Ghe=Object.prototype,qhe=Ghe.hasOwnProperty;function Kz(t,e){var n=Qa(t),s=!n&&G2(t),r=!n&&!s&&q2(t),a=!n&&!s&&!r&&z$(t),o=n||s||r||a,i=o?fhe(t.length,String):[],l=i.length;for(var u in t)(e||qhe.call(t,u))&&!(o&&(u=="length"||r&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||V4(u,l)))&&i.push(u);return i}function Xz(t,e){return function(n){return t(e(n))}}var Khe=Xz(Object.keys,Object),Xhe=Object.prototype,Yhe=Xhe.hasOwnProperty;function Qhe(t){if(!F$(t))return Khe(t);var e=[];for(var n in Object(t))Yhe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Y1(t){return O0(t)?Kz(t):Qhe(t)}function Zhe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Jhe=Object.prototype,efe=Jhe.hasOwnProperty;function tfe(t){if(!Za(t))return Zhe(t);var e=F$(t),n=[];for(var s in t)s=="constructor"&&(e||!efe.call(t,s))||n.push(s);return n}function Q1(t){return O0(t)?Kz(t,!0):tfe(t)}var nfe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sfe=/^\w*$/;function V$(t,e){if(Qa(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||z4(t)?!0:sfe.test(t)||!nfe.test(t)||e!=null&&t in Object(e)}var K2=uf(Object,"create");function rfe(){this.__data__=K2?K2(null):{},this.size=0}function afe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ofe="__lodash_hash_undefined__",ife=Object.prototype,lfe=ife.hasOwnProperty;function ufe(t){var e=this.__data__;if(K2){var n=e[t];return n===ofe?void 0:n}return lfe.call(e,t)?e[t]:void 0}var cfe=Object.prototype,dfe=cfe.hasOwnProperty;function hfe(t){var e=this.__data__;return K2?e[t]!==void 0:dfe.call(e,t)}var ffe="__lodash_hash_undefined__";function pfe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=K2&&e===void 0?ffe:e,this}function Nh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Nh.prototype.clear=rfe;Nh.prototype.delete=afe;Nh.prototype.get=ufe;Nh.prototype.has=hfe;Nh.prototype.set=pfe;function mfe(){this.__data__=[],this.size=0}function H4(t,e){for(var n=t.length;n--;)if(X1(t[n][0],e))return n;return-1}var gfe=Array.prototype,vfe=gfe.splice;function yfe(t){var e=this.__data__,n=H4(e,t);if(n<0)return!1;var s=e.length-1;return n==s?e.pop():vfe.call(e,n,1),--this.size,!0}function bfe(t){var e=this.__data__,n=H4(e,t);return n<0?void 0:e[n][1]}function _fe(t){return H4(this.__data__,t)>-1}function wfe(t,e){var n=this.__data__,s=H4(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this}function Ju(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Ju.prototype.clear=mfe;Ju.prototype.delete=yfe;Ju.prototype.get=bfe;Ju.prototype.has=_fe;Ju.prototype.set=wfe;var X2=uf(hl,"Map");function xfe(){this.size=0,this.__data__={hash:new Nh,map:new(X2||Ju),string:new Nh}}function Cfe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function U4(t,e){var n=t.__data__;return Cfe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Sfe(t){var e=U4(this,t).delete(t);return this.size-=e?1:0,e}function Tfe(t){return U4(this,t).get(t)}function kfe(t){return U4(this,t).has(t)}function $fe(t,e){var n=U4(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this}function ec(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ec.prototype.clear=xfe;ec.prototype.delete=Sfe;ec.prototype.get=Tfe;ec.prototype.has=kfe;ec.prototype.set=$fe;var Efe="Expected a function";function W4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Efe);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,s);return n.cache=a.set(r,o)||a,o};return n.cache=new(W4.Cache||ec),n}W4.Cache=ec;var Ife=500;function Nfe(t){var e=W4(t,function(s){return n.size===Ife&&n.clear(),s}),n=e.cache;return e}var Afe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Dfe=/\\(\\)?/g,Ofe=Nfe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Afe,function(n,s,r,a){e.push(r?a.replace(Dfe,"$1"):s||n)}),e});function Rfe(t){return t==null?"":Bz(t)}function R0(t,e){return Qa(t)?t:V$(t,e)?[t]:Ofe(Rfe(t))}var Lfe=1/0;function L0(t){if(typeof t=="string"||z4(t))return t;var e=t+"";return e=="0"&&1/t==-Lfe?"-0":e}function j4(t,e){e=R0(e,t);for(var n=0,s=e.length;t!=null&&n<s;)t=t[L0(e[n++])];return n&&n==s?t:void 0}function Ls(t,e,n){var s=t==null?void 0:j4(t,e);return s===void 0?n:s}function H$(t,e){for(var n=-1,s=e.length,r=t.length;++n<s;)t[r+n]=e[n];return t}var CO=Ii?Ii.isConcatSpreadable:void 0;function Pfe(t){return Qa(t)||G2(t)||!!(CO&&t&&t[CO])}function Z1(t,e,n,s,r){var a=-1,o=t.length;for(n||(n=Pfe),r||(r=[]);++a<o;){var i=t[a];e>0&&n(i)?e>1?Z1(i,e-1,n,s,r):H$(r,i):s||(r[r.length]=i)}return r}function Yz(t){var e=t==null?0:t.length;return e?Z1(t,1):[]}function Qz(t){return Vz(Uz(t,void 0,Yz),t+"")}var Mfe=Xz(Object.getPrototypeOf,Object);const U$=Mfe;var Ffe="[object Object]",Bfe=Function.prototype,zfe=Object.prototype,Zz=Bfe.toString,Vfe=zfe.hasOwnProperty,Hfe=Zz.call(Object);function Jz(t){if(!Kl(t)||of(t)!=Ffe)return!1;var e=U$(t);if(e===null)return!0;var n=Vfe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Zz.call(n)==Hfe}function Ufe(t,e,n){var s=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(r);++s<r;)a[s]=t[s+e];return a}function _a(){if(!arguments.length)return[];var t=arguments[0];return Qa(t)?t:[t]}function Wfe(){this.__data__=new Ju,this.size=0}function jfe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Gfe(t){return this.__data__.get(t)}function qfe(t){return this.__data__.has(t)}var Kfe=200;function Xfe(t,e){var n=this.__data__;if(n instanceof Ju){var s=n.__data__;if(!X2||s.length<Kfe-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new ec(s)}return n.set(t,e),this.size=n.size,this}function el(t){var e=this.__data__=new Ju(t);this.size=e.size}el.prototype.clear=Wfe;el.prototype.delete=jfe;el.prototype.get=Gfe;el.prototype.has=qfe;el.prototype.set=Xfe;function Yfe(t,e){return t&&D0(e,Y1(e),t)}function Qfe(t,e){return t&&D0(e,Q1(e),t)}var eV=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SO=eV&&typeof module=="object"&&module&&!module.nodeType&&module,Zfe=SO&&SO.exports===eV,TO=Zfe?hl.Buffer:void 0,kO=TO?TO.allocUnsafe:void 0;function tV(t,e){if(e)return t.slice();var n=t.length,s=kO?kO(n):new t.constructor(n);return t.copy(s),s}function Jfe(t,e){for(var n=-1,s=t==null?0:t.length,r=0,a=[];++n<s;){var o=t[n];e(o,n,t)&&(a[r++]=o)}return a}function nV(){return[]}var epe=Object.prototype,tpe=epe.propertyIsEnumerable,$O=Object.getOwnPropertySymbols,W$=$O?function(t){return t==null?[]:(t=Object(t),Jfe($O(t),function(e){return tpe.call(t,e)}))}:nV;function npe(t,e){return D0(t,W$(t),e)}var spe=Object.getOwnPropertySymbols,sV=spe?function(t){for(var e=[];t;)H$(e,W$(t)),t=U$(t);return e}:nV;function rpe(t,e){return D0(t,sV(t),e)}function rV(t,e,n){var s=e(t);return Qa(t)?s:H$(s,n(t))}function wS(t){return rV(t,Y1,W$)}function aV(t){return rV(t,Q1,sV)}var xS=uf(hl,"DataView"),CS=uf(hl,"Promise"),wp=uf(hl,"Set"),EO="[object Map]",ape="[object Object]",IO="[object Promise]",NO="[object Set]",AO="[object WeakMap]",DO="[object DataView]",ope=lf(xS),ipe=lf(X2),lpe=lf(CS),upe=lf(wp),cpe=lf(_S),Wd=of;(xS&&Wd(new xS(new ArrayBuffer(1)))!=DO||X2&&Wd(new X2)!=EO||CS&&Wd(CS.resolve())!=IO||wp&&Wd(new wp)!=NO||_S&&Wd(new _S)!=AO)&&(Wd=function(t){var e=of(t),n=e==ape?t.constructor:void 0,s=n?lf(n):"";if(s)switch(s){case ope:return DO;case ipe:return EO;case lpe:return IO;case upe:return NO;case cpe:return AO}return e});const Y2=Wd;var dpe=Object.prototype,hpe=dpe.hasOwnProperty;function fpe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&hpe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var n3=hl.Uint8Array;function j$(t){var e=new t.constructor(t.byteLength);return new n3(e).set(new n3(t)),e}function ppe(t,e){var n=e?j$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var mpe=/\w*$/;function gpe(t){var e=new t.constructor(t.source,mpe.exec(t));return e.lastIndex=t.lastIndex,e}var OO=Ii?Ii.prototype:void 0,RO=OO?OO.valueOf:void 0;function vpe(t){return RO?Object(RO.call(t)):{}}function oV(t,e){var n=e?j$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var ype="[object Boolean]",bpe="[object Date]",_pe="[object Map]",wpe="[object Number]",xpe="[object RegExp]",Cpe="[object Set]",Spe="[object String]",Tpe="[object Symbol]",kpe="[object ArrayBuffer]",$pe="[object DataView]",Epe="[object Float32Array]",Ipe="[object Float64Array]",Npe="[object Int8Array]",Ape="[object Int16Array]",Dpe="[object Int32Array]",Ope="[object Uint8Array]",Rpe="[object Uint8ClampedArray]",Lpe="[object Uint16Array]",Ppe="[object Uint32Array]";function Mpe(t,e,n){var s=t.constructor;switch(e){case kpe:return j$(t);case ype:case bpe:return new s(+t);case $pe:return ppe(t,n);case Epe:case Ipe:case Npe:case Ape:case Dpe:case Ope:case Rpe:case Lpe:case Ppe:return oV(t,n);case _pe:return new s;case wpe:case Spe:return new s(t);case xpe:return gpe(t);case Cpe:return new s;case Tpe:return vpe(t)}}function iV(t){return typeof t.constructor=="function"&&!F$(t)?Wde(U$(t)):{}}var Fpe="[object Map]";function Bpe(t){return Kl(t)&&Y2(t)==Fpe}var LO=Fp&&Fp.isMap,zpe=LO?B$(LO):Bpe,Vpe="[object Set]";function Hpe(t){return Kl(t)&&Y2(t)==Vpe}var PO=Fp&&Fp.isSet,Upe=PO?B$(PO):Hpe,Wpe=1,jpe=2,Gpe=4,lV="[object Arguments]",qpe="[object Array]",Kpe="[object Boolean]",Xpe="[object Date]",Ype="[object Error]",uV="[object Function]",Qpe="[object GeneratorFunction]",Zpe="[object Map]",Jpe="[object Number]",cV="[object Object]",e0e="[object RegExp]",t0e="[object Set]",n0e="[object String]",s0e="[object Symbol]",r0e="[object WeakMap]",a0e="[object ArrayBuffer]",o0e="[object DataView]",i0e="[object Float32Array]",l0e="[object Float64Array]",u0e="[object Int8Array]",c0e="[object Int16Array]",d0e="[object Int32Array]",h0e="[object Uint8Array]",f0e="[object Uint8ClampedArray]",p0e="[object Uint16Array]",m0e="[object Uint32Array]",ws={};ws[lV]=ws[qpe]=ws[a0e]=ws[o0e]=ws[Kpe]=ws[Xpe]=ws[i0e]=ws[l0e]=ws[u0e]=ws[c0e]=ws[d0e]=ws[Zpe]=ws[Jpe]=ws[cV]=ws[e0e]=ws[t0e]=ws[n0e]=ws[s0e]=ws[h0e]=ws[f0e]=ws[p0e]=ws[m0e]=!0;ws[Ype]=ws[uV]=ws[r0e]=!1;function xp(t,e,n,s,r,a){var o,i=e&Wpe,l=e&jpe,u=e&Gpe;if(n&&(o=r?n(t,s,r,a):n(t)),o!==void 0)return o;if(!Za(t))return t;var c=Qa(t);if(c){if(o=fpe(t),!i)return zz(t,o)}else{var d=Y2(t),h=d==uV||d==Qpe;if(q2(t))return tV(t,i);if(d==cV||d==lV||h&&!r){if(o=l||h?{}:iV(t),!i)return l?rpe(t,Qfe(o,t)):npe(t,Yfe(o,t))}else{if(!ws[d])return r?t:{};o=Mpe(t,d,i)}}a||(a=new el);var f=a.get(t);if(f)return f;a.set(t,o),Upe(t)?t.forEach(function(y){o.add(xp(y,e,n,y,t,a))}):zpe(t)&&t.forEach(function(y,v){o.set(v,xp(y,e,n,v,t,a))});var p=u?l?aV:wS:l?Q1:Y1,m=c?void 0:p(t);return ehe(m||t,function(y,v){m&&(v=y,y=t[v]),P$(o,v,xp(y,e,n,v,t,a))}),o}var g0e=4;function MO(t){return xp(t,g0e)}var v0e=1,y0e=4;function s3(t){return xp(t,v0e|y0e)}var b0e="__lodash_hash_undefined__";function _0e(t){return this.__data__.set(t,b0e),this}function w0e(t){return this.__data__.has(t)}function Q2(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ec;++e<n;)this.add(t[e])}Q2.prototype.add=Q2.prototype.push=_0e;Q2.prototype.has=w0e;function x0e(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}function dV(t,e){return t.has(e)}var C0e=1,S0e=2;function hV(t,e,n,s,r,a){var o=n&C0e,i=t.length,l=e.length;if(i!=l&&!(o&&l>i))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,f=n&S0e?new Q2:void 0;for(a.set(t,e),a.set(e,t);++d<i;){var p=t[d],m=e[d];if(s)var y=o?s(m,p,d,e,t,a):s(p,m,d,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!x0e(e,function(v,b){if(!dV(f,b)&&(p===v||r(p,v,n,s,a)))return f.push(b)})){h=!1;break}}else if(!(p===m||r(p,m,n,s,a))){h=!1;break}}return a.delete(t),a.delete(e),h}function T0e(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}function G$(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var k0e=1,$0e=2,E0e="[object Boolean]",I0e="[object Date]",N0e="[object Error]",A0e="[object Map]",D0e="[object Number]",O0e="[object RegExp]",R0e="[object Set]",L0e="[object String]",P0e="[object Symbol]",M0e="[object ArrayBuffer]",F0e="[object DataView]",FO=Ii?Ii.prototype:void 0,V8=FO?FO.valueOf:void 0;function B0e(t,e,n,s,r,a,o){switch(n){case F0e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M0e:return!(t.byteLength!=e.byteLength||!a(new n3(t),new n3(e)));case E0e:case I0e:case D0e:return X1(+t,+e);case N0e:return t.name==e.name&&t.message==e.message;case O0e:case L0e:return t==e+"";case A0e:var i=T0e;case R0e:var l=s&k0e;if(i||(i=G$),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;s|=$0e,o.set(t,e);var c=hV(i(t),i(e),s,r,a,o);return o.delete(t),c;case P0e:if(V8)return V8.call(t)==V8.call(e)}return!1}var z0e=1,V0e=Object.prototype,H0e=V0e.hasOwnProperty;function U0e(t,e,n,s,r,a){var o=n&z0e,i=wS(t),l=i.length,u=wS(e),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var h=i[d];if(!(o?h in e:H0e.call(e,h)))return!1}var f=a.get(t),p=a.get(e);if(f&&p)return f==e&&p==t;var m=!0;a.set(t,e),a.set(e,t);for(var y=o;++d<l;){h=i[d];var v=t[h],b=e[h];if(s)var w=o?s(b,v,h,e,t,a):s(v,b,h,t,e,a);if(!(w===void 0?v===b||r(v,b,n,s,a):w)){m=!1;break}y||(y=h=="constructor")}if(m&&!y){var _=t.constructor,C=e.constructor;_!=C&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof C=="function"&&C instanceof C)&&(m=!1)}return a.delete(t),a.delete(e),m}var W0e=1,BO="[object Arguments]",zO="[object Array]",Ib="[object Object]",j0e=Object.prototype,VO=j0e.hasOwnProperty;function G0e(t,e,n,s,r,a){var o=Qa(t),i=Qa(e),l=o?zO:Y2(t),u=i?zO:Y2(e);l=l==BO?Ib:l,u=u==BO?Ib:u;var c=l==Ib,d=u==Ib,h=l==u;if(h&&q2(t)){if(!q2(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new el),o||z$(t)?hV(t,e,n,s,r,a):B0e(t,e,l,n,s,r,a);if(!(n&W0e)){var f=c&&VO.call(t,"__wrapped__"),p=d&&VO.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,y=p?e.value():e;return a||(a=new el),r(m,y,n,s,a)}}return h?(a||(a=new el),U0e(t,e,n,s,r,a)):!1}function G4(t,e,n,s,r){return t===e?!0:t==null||e==null||!Kl(t)&&!Kl(e)?t!==t&&e!==e:G0e(t,e,n,s,G4,r)}var q0e=1,K0e=2;function X0e(t,e,n,s){var r=n.length,a=r,o=!s;if(t==null)return!a;for(t=Object(t);r--;){var i=n[r];if(o&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++r<a;){i=n[r];var l=i[0],u=t[l],c=i[1];if(o&&i[2]){if(u===void 0&&!(l in t))return!1}else{var d=new el;if(s)var h=s(u,c,l,t,e,d);if(!(h===void 0?G4(c,u,q0e|K0e,s,d):h))return!1}}return!0}function fV(t){return t===t&&!Za(t)}function Y0e(t){for(var e=Y1(t),n=e.length;n--;){var s=e[n],r=t[s];e[n]=[s,r,fV(r)]}return e}function pV(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Q0e(t){var e=Y0e(t);return e.length==1&&e[0][2]?pV(e[0][0],e[0][1]):function(n){return n===t||X0e(n,t,e)}}function Z0e(t,e){return t!=null&&e in Object(t)}function J0e(t,e,n){e=R0(e,t);for(var s=-1,r=e.length,a=!1;++s<r;){var o=L0(e[s]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++s!=r?a:(r=t==null?0:t.length,!!r&&M$(r)&&V4(o,r)&&(Qa(t)||G2(t)))}function mV(t,e){return t!=null&&J0e(t,e,Z0e)}var eme=1,tme=2;function nme(t,e){return V$(t)&&fV(e)?pV(L0(t),e):function(n){var s=Ls(n,t);return s===void 0&&s===e?mV(n,t):G4(e,s,eme|tme)}}function sme(t){return function(e){return e==null?void 0:e[t]}}function rme(t){return function(e){return j4(e,t)}}function ame(t){return V$(t)?sme(L0(t)):rme(t)}function gV(t){return typeof t=="function"?t:t==null?O$:typeof t=="object"?Qa(t)?nme(t[0],t[1]):Q0e(t):ame(t)}function ome(t){return function(e,n,s){for(var r=-1,a=Object(e),o=s(e),i=o.length;i--;){var l=o[t?i:++r];if(n(a[l],l,a)===!1)break}return e}}var vV=ome();function ime(t,e){return t&&vV(t,e,Y1)}function lme(t,e){return function(n,s){if(n==null)return n;if(!O0(n))return t(n,s);for(var r=n.length,a=e?r:-1,o=Object(n);(e?a--:++a<r)&&s(o[a],a,o)!==!1;);return n}}var ume=lme(ime),H8=function(){return hl.Date.now()},cme="Expected a function",dme=Math.max,hme=Math.min;function So(t,e,n){var s,r,a,o,i,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(cme);e=bS(e)||0,Za(n)&&(c=!!n.leading,d="maxWait"in n,a=d?dme(bS(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function f(x){var T=s,k=r;return s=r=void 0,u=x,o=t.apply(k,T),o}function p(x){return u=x,i=setTimeout(v,e),c?f(x):o}function m(x){var T=x-l,k=x-u,N=e-T;return d?hme(N,a-k):N}function y(x){var T=x-l,k=x-u;return l===void 0||T>=e||T<0||d&&k>=a}function v(){var x=H8();if(y(x))return b(x);i=setTimeout(v,m(x))}function b(x){return i=void 0,h&&s?f(x):(s=r=void 0,o)}function w(){i!==void 0&&clearTimeout(i),u=0,s=l=r=i=void 0}function _(){return i===void 0?o:b(H8())}function C(){var x=H8(),T=y(x);if(s=arguments,r=this,l=x,T){if(i===void 0)return p(l);if(d)return clearTimeout(i),i=setTimeout(v,e),f(l)}return i===void 0&&(i=setTimeout(v,e)),o}return C.cancel=w,C.flush=_,C}function SS(t,e,n){(n!==void 0&&!X1(t[e],n)||n===void 0&&!(e in t))&&L$(t,e,n)}function yV(t){return Kl(t)&&O0(t)}function TS(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function fme(t){return D0(t,Q1(t))}function pme(t,e,n,s,r,a,o){var i=TS(t,n),l=TS(e,n),u=o.get(l);if(u){SS(t,n,u);return}var c=a?a(i,l,n+"",t,e,o):void 0,d=c===void 0;if(d){var h=Qa(l),f=!h&&q2(l),p=!h&&!f&&z$(l);c=l,h||f||p?Qa(i)?c=i:yV(i)?c=zz(i):f?(d=!1,c=tV(l,!0)):p?(d=!1,c=oV(l,!0)):c=[]:Jz(l)||G2(l)?(c=i,G2(i)?c=fme(i):(!Za(i)||R$(i))&&(c=iV(l))):d=!1}d&&(o.set(l,c),r(c,l,s,a,o),o.delete(l)),SS(t,n,c)}function bV(t,e,n,s,r){t!==e&&vV(e,function(a,o){if(r||(r=new el),Za(a))pme(t,e,o,n,bV,s,r);else{var i=s?s(TS(t,o),a,o+"",t,e,r):void 0;i===void 0&&(i=a),SS(t,o,i)}},Q1)}function mme(t,e,n){for(var s=-1,r=t==null?0:t.length;++s<r;)if(n(e,t[s]))return!0;return!1}function gme(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var vme=Math.max,yme=Math.min;function _V(t,e,n){var s=t==null?0:t.length;if(!s)return-1;var r=s-1;return n!==void 0&&(r=$de(n),r=n<0?vme(s+r,0):yme(r,s-1)),Hz(t,gV(e),r,!0)}function bme(t,e){var n=-1,s=O0(t)?Array(t.length):[];return ume(t,function(r,a,o){s[++n]=e(r,a,o)}),s}function _me(t,e){var n=Qa(t)?D$:bme;return n(t,gV(e))}function wme(t,e){return Z1(_me(t,e),1)}var xme=1/0;function Cme(t){var e=t==null?0:t.length;return e?Z1(t,xme):[]}function Z2(t){for(var e=-1,n=t==null?0:t.length,s={};++e<n;){var r=t[e];s[r[0]]=r[1]}return s}function Sme(t,e){return e.length<2?t:j4(t,Ufe(e,0,-1))}function ja(t,e){return G4(t,e)}function Lr(t){return t==null}function wV(t){return t===void 0}var Tme=dhe(function(t,e,n){bV(t,e,n)});const kme=Tme;function $me(t,e){return e=R0(e,t),t=Sme(t,e),t==null||delete t[L0(gme(e))]}function Eme(t){return Jz(t)?void 0:t}var Ime=1,Nme=2,Ame=4,Dme=Qz(function(t,e){var n={};if(t==null)return n;var s=!1;e=D$(e,function(a){return a=R0(a,t),s||(s=a.length>1),a}),D0(t,aV(t),n),s&&(n=xp(n,Ime|Nme|Ame,Eme));for(var r=e.length;r--;)$me(n,e[r]);return n});function xV(t,e,n,s){if(!Za(t))return t;e=R0(e,t);for(var r=-1,a=e.length,o=a-1,i=t;i!=null&&++r<a;){var l=L0(e[r]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(r!=o){var c=i[l];u=s?s(c,l,i):void 0,u===void 0&&(u=Za(c)?c:V4(e[r+1])?[]:{})}P$(i,l,u),i=i[l]}return t}function Ome(t,e,n){for(var s=-1,r=e.length,a={};++s<r;){var o=e[s],i=j4(t,o);n(i,o)&&xV(a,R0(o,t),i)}return a}function Rme(t,e){return Ome(t,e,function(n,s){return mV(t,s)})}var Qi=Qz(function(t,e){return t==null?{}:Rme(t,e)});function Lme(t,e,n){return t==null?t:xV(t,e,n)}var Pme="Expected a function";function mh(t,e,n){var s=!0,r=!0;if(typeof t!="function")throw new TypeError(Pme);return Za(n)&&(s="leading"in n?!!n.leading:s,r="trailing"in n?!!n.trailing:r),So(t,e,{leading:s,maxWait:e,trailing:r})}var Mme=1/0,Fme=wp&&1/G$(new wp([,-0]))[1]==Mme?function(t){return new wp(t)}:Gde,Bme=200;function zme(t,e,n){var s=-1,r=rhe,a=t.length,o=!0,i=[],l=i;if(n)o=!1,r=mme;else if(a>=Bme){var u=e?null:Fme(t);if(u)return G$(u);o=!1,r=dV,l=new Q2}else l=e?[]:i;e:for(;++s<a;){var c=t[s],d=e?e(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),i.push(c)}else r(l,d,n)||(l!==i&&l.push(d),i.push(c))}return i}var U8=Wz(function(t){return zme(Z1(t,1,yV,!0))});const $s=t=>t===void 0,Ms=t=>typeof t=="boolean",Tt=t=>typeof t=="number",mi=t=>!t&&t!==0||Mt(t)&&t.length===0||Vn(t)&&!Object.keys(t).length,qo=t=>typeof Element>"u"?!1:t instanceof Element,Ah=t=>Lr(t),Vme=t=>qt(t)?!Number.isNaN(Number(t)):!1,q4=t=>t===window,Xc=t=>hn?window.requestAnimationFrame(t):setTimeout(t,16),Dh=t=>hn?window.cancelAnimationFrame(t):clearTimeout(t),q$=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Nl=t=>Jre(t),Bp=t=>Object.keys(t),Hme=t=>Object.entries(t),S_=(t,e,n)=>({get value(){return Ls(t,e,n)},set value(s){Lme(t,e,s)}});class Ume extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function br(t,e){throw new Ume(`[${t}] ${e}`)}const CV=(t="")=>t.split(" ").filter(e=>!!e.trim()),yo=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},yi=(t,e)=>{!t||!e.trim()||t.classList.add(...CV(e))},ka=(t,e)=>{!t||!e.trim()||t.classList.remove(...CV(e))},Oc=(t,e)=>{var n;if(!hn||!t||!e)return"";let s=pz(e);s==="float"&&(s="cssFloat");try{const r=t.style[s];if(r)return r;const a=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return a?a[s]:""}catch{return t.style[s]}};function Es(t,e="px"){if(!t)return"";if(Tt(t)||Vme(t))return`${t}${e}`;if(qt(t))return t}const Wme=(t,e)=>{if(!hn)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],s=Oc(t,n);return["scroll","auto","overlay"].some(r=>s.includes(r))},K$=(t,e)=>{if(!hn)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Wme(n,e))return n;n=n.parentNode}return n};let Nb;const SV=t=>{var e;if(!hn)return 0;if(Nb!==void 0)return Nb;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const s=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const a=r.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),Nb=s-a,Nb};function X$(t,e){if(!hn)return;if(!e){t.scrollTop=0;return}const n=[];let s=e.offsetParent;for(;s!==null&&t!==s&&t.contains(s);)n.push(s),s=s.offsetParent;const r=e.offsetTop+n.reduce((l,u)=>l+u.offsetTop,0),a=r+e.offsetHeight,o=t.scrollTop,i=o+t.clientHeight;r<o?t.scrollTop=r:a>i&&(t.scrollTop=a-t.clientHeight)}function jme(t,e,n,s,r){const a=Date.now();let o;const i=()=>{const u=Date.now()-a,c=ade(u>s?s:u,e,n,s);q4(t)?t.scrollTo(window.pageXOffset,c):t.scrollTop=c,u<s?o=Xc(i):typeof r=="function"&&r()};return i(),()=>{o&&Dh(o)}}const HO=(t,e)=>q4(e)?t.ownerDocument.documentElement:e,UO=t=>q4(t)?window.scrollY:t.scrollTop,Ab=t=>{if(!hn||t==="")return null;if(qt(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var Gme=Z({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),tc=Gme,qme=Z({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Yc=qme,Kme=Z({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Ga=Kme,Xme=Z({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Y$=Xme,Yme=Z({name:"Back",__name:"back",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),I("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),Qme=Yme,Zme=Z({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),Jme=Zme,ege=Z({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),TV=ege,tge=Z({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),nge=tge,sge=Z({name:"Check",__name:"check",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),J1=sge,rge=Z({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),age=rge,oge=Z({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),I("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Q$=oge,ige=Z({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Z$=ige,lge=Z({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),yd=lge,uge=Z({name:"Clock",__name:"clock",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),I("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),I("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),kV=uge,cge=Z({name:"Close",__name:"close",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),ol=cge,dge=Z({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Qc=dge,hge=Z({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Zc=hge,fge=Z({name:"Delete",__name:"delete",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),pge=fge,mge=Z({name:"Document",__name:"document",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),gge=mge,vge=Z({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),yge=vge,bge=Z({name:"Hide",__name:"hide",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),I("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),_ge=bge,wge=Z({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),J$=wge,xge=Z({name:"Loading",__name:"loading",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),Xl=xge,Cge=Z({name:"Minus",__name:"minus",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),Sge=Cge,Tge=Z({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),WO=Tge,kge=Z({name:"More",__name:"more",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),$ge=kge,Ege=Z({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),Ige=Ege,Nge=Z({name:"Plus",__name:"plus",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),$V=Nge,Age=Z({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),Dge=Age,Oge=Z({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Rge=Oge,Lge=Z({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Pge=Lge,Mge=Z({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),Fge=Mge,Bge=Z({name:"Search",__name:"search",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),zge=Bge,Vge=Z({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),Hge=Vge,Uge=Z({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),Wge=Uge,jge=Z({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Db=jge,Gge=Z({name:"Star",__name:"star",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),qge=Gge,Kge=Z({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),EV=Kge,Xge=Z({name:"View",__name:"view",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),Yge=Xge,Qge=Z({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),K4=Qge,Zge=Z({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),IV=Zge,Jge=Z({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(S(),A("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),e2e=Jge;const NV="__epPropKey",ve=t=>t,t2e=t=>Vn(t)&&!!t[NV],fl=(t,e)=>{if(!Vn(t)||t2e(t))return t;const{values:n,required:s,default:r,type:a,validator:o}=t,l={type:a,required:!!s,validator:n||o?u=>{let c=!1,d=[];if(n&&(d=Array.from(n),fa(t,"default")&&d.push(r),c||(c=d.includes(u))),o&&(c||(c=o(u))),!c&&d.length>0){const h=[...new Set(d)].map(f=>JSON.stringify(f)).join(", ");eae(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${h}], got value ${JSON.stringify(u)}.`)}return c}:void 0,[NV]:!0};return fa(t,"default")&&(l.default=r),l},qe=t=>Z2(Object.entries(t).map(([e,n])=>[e,fl(n,e)])),Gn=ve([String,Object,Function]),e5={Close:ol},t5={Close:ol,SuccessFilled:EV,InfoFilled:J$,WarningFilled:K4,CircleCloseFilled:Z$},Jc={success:EV,warning:K4,error:Z$,info:J$},n5={validating:Xl,success:Q$,error:yd},Ft=(t,e)=>{if(t.install=n=>{for(const s of[t,...Object.values(e??{})])n.component(s.name,s)},e)for(const[n,s]of Object.entries(e))t[n]=s;return t},AV=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),n2e=(t,e)=>(t.install=n=>{n.directive(e,t)},t),gs=t=>(t.install=xs,t),X4=(...t)=>e=>{t.forEach(n=>{yn(n)?n(e):n.value=e})},gt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},s2e=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],W8=["sun","mon","tue","wed","thu","fri","sat"],Yt="update:modelValue",ns="change",qa="input",jO=Symbol("INSTALLED_KEY"),uu=["","default","small","large"],DV=t=>["",...uu].includes(t);var di=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(di||{});function kS(t){return An(t)&&t.type===He}function r2e(t){return An(t)&&t.type===y$}function a2e(t){return An(t)&&!kS(t)&&!r2e(t)}const o2e=t=>{if(!An(t))return{};const e=t.props||{},n=(An(t.type)?t.type.props:void 0)||{},s={};return Object.keys(n).forEach(r=>{fa(n[r],"default")&&(s[r]=n[r].default)}),Object.keys(e).forEach(r=>{s[pz(r)]=e[r]}),s},i2e=t=>{if(!Mt(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},zc=t=>{const e=Mt(t)?t:[t],n=[];return e.forEach(s=>{var r;Mt(s)?n.push(...zc(s)):An(s)&&Mt(s.children)?n.push(...zc(s.children)):(n.push(s),An(s)&&((r=s.component)!=null&&r.subTree)&&n.push(...zc(s.component.subTree)))}),n},GO=t=>[...new Set(t)],za=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],l2e=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),hs=t=>t;function u2e(t){let e=0;const n=(...s)=>{e&&Dh(e),e=Xc(()=>{t(...s),e=0})};return n.cancel=()=>{Dh(e),e=0},n}const c2e=["class","style"],d2e=/^on[A-Z]/,s5=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,s=D(()=>((n==null?void 0:n.value)||[]).concat(c2e)),r=Ht();return r?D(()=>{var a;return Z2(Object.entries((a=r.proxy)==null?void 0:a.$attrs).filter(([o])=>!s.value.includes(o)&&!(e&&d2e.test(o))))}):D(()=>({}))},Vc=({from:t,replacement:e,scope:n,version:s,ref:r,type:a="API"},o)=>{Ee(()=>g(o),i=>{},{immediate:!0})},OV=(t,e,n,s)=>{let r={offsetX:0,offsetY:0};const a=u=>{const c=u.clientX,d=u.clientY,{offsetX:h,offsetY:f}=r,p=t.value.getBoundingClientRect(),m=p.left,y=p.top,v=p.width,b=p.height,w=document.documentElement.clientWidth,_=document.documentElement.clientHeight,C=-m+h,x=-y+f,T=w-m-v+h,k=_-y-b+f,N=L=>{let V=h+L.clientX-c,H=f+L.clientY-d;s!=null&&s.value||(V=Math.min(Math.max(V,C),T),H=Math.min(Math.max(H,x),k)),r={offsetX:V,offsetY:H},t.value&&(t.value.style.transform=`translate(${Es(V)}, ${Es(H)})`)},O=()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",O)};document.addEventListener("mousemove",N),document.addEventListener("mouseup",O)},o=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},i=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)},l=()=>{r={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")};return Et(()=>{sr(()=>{n.value?o():i()})}),ts(()=>{i()}),{resetPostion:l}};var h2e={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const f2e=t=>(e,n)=>p2e(e,n,g(t)),p2e=(t,e,n)=>Ls(n,t,t).replace(/\{(\w+)\}/g,(s,r)=>{var a;return`${(a=e==null?void 0:e[r])!=null?a:`{${r}}`}`}),m2e=t=>{const e=D(()=>g(t).name),n=ms(t)?t:B(t);return{lang:e,locale:n,t:f2e(t)}},r5=Symbol("localeContextKey"),fn=t=>{const e=t||Le(r5,B());return m2e(D(()=>e.value||h2e))},T2="el",g2e="is-",Md=(t,e,n,s,r)=>{let a=`${t}-${e}`;return n&&(a+=`-${n}`),s&&(a+=`__${s}`),r&&(a+=`--${r}`),a},RV=Symbol("namespaceContextKey"),a5=t=>{const e=t||(Ht()?Le(RV,B(T2)):B(T2));return D(()=>g(e)||T2)},Fe=(t,e)=>{const n=a5(e);return{namespace:n,b:(m="")=>Md(n.value,t,m,"",""),e:m=>m?Md(n.value,t,"",m,""):"",m:m=>m?Md(n.value,t,"","",m):"",be:(m,y)=>m&&y?Md(n.value,t,m,y,""):"",em:(m,y)=>m&&y?Md(n.value,t,"",m,y):"",bm:(m,y)=>m&&y?Md(n.value,t,m,"",y):"",bem:(m,y,v)=>m&&y&&v?Md(n.value,t,m,y,v):"",is:(m,...y)=>{const v=y.length>=1?y[0]:!0;return m&&v?`${g2e}${m}`:""},cssVar:m=>{const y={};for(const v in m)m[v]&&(y[`--${n.value}-${v}`]=m[v]);return y},cssVarName:m=>`--${n.value}-${m}`,cssVarBlock:m=>{const y={};for(const v in m)m[v]&&(y[`--${n.value}-${t}-${v}`]=m[v]);return y},cssVarBlockName:m=>`--${n.value}-${t}-${m}`}},o5=(t,e={})=>{ms(t)||br("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Fe("popup"),s=D(()=>n.bm("parent","hidden"));if(!hn||yo(document.body,s.value))return;let r=0,a=!1,o="0";const i=()=>{setTimeout(()=>{ka(document==null?void 0:document.body,s.value),a&&document&&(document.body.style.width=o)},200)};Ee(t,l=>{if(!l){i();return}a=!yo(document.body,s.value),a&&(o=document.body.style.width),r=SV(n.namespace.value);const u=document.documentElement.clientHeight<document.body.scrollHeight,c=Oc(document.body,"overflowY");r>0&&(u||c==="scroll")&&a&&(document.body.style.width=`calc(100% - ${r}px)`),yi(document.body,s.value)}),v$(()=>i())},v2e=fl({type:ve(Boolean),default:null}),y2e=fl({type:ve(Function)}),LV=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,s=[e],r={[t]:v2e,[n]:y2e};return{useModelToggle:({indicator:o,toggleReason:i,shouldHideWhenRouteChanges:l,shouldProceed:u,onShow:c,onHide:d})=>{const h=Ht(),{emit:f}=h,p=h.props,m=D(()=>yn(p[n])),y=D(()=>p[t]===null),v=T=>{o.value!==!0&&(o.value=!0,i&&(i.value=T),yn(c)&&c(T))},b=T=>{o.value!==!1&&(o.value=!1,i&&(i.value=T),yn(d)&&d(T))},w=T=>{if(p.disabled===!0||yn(u)&&!u())return;const k=m.value&&hn;k&&f(e,!0),(y.value||!k)&&v(T)},_=T=>{if(p.disabled===!0||!hn)return;const k=m.value&&hn;k&&f(e,!1),(y.value||!k)&&b(T)},C=T=>{Ms(T)&&(p.disabled&&T?m.value&&f(e,!1):o.value!==T&&(T?v():b()))},x=()=>{o.value?_():w()};return Ee(()=>p[t],C),l&&h.appContext.config.globalProperties.$route!==void 0&&Ee(()=>({...h.proxy.$route}),()=>{l.value&&o.value&&_()}),Et(()=>{C(p[t])}),{hide:_,show:w,toggle:x,hasUpdateHandler:m}},useModelToggleProps:r,useModelToggleEmits:s}};LV("modelValue");const PV=t=>{const e=Ht();return D(()=>{var n,s;return(s=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:s[t]})};var _o="top",Ni="bottom",Ai="right",wo="left",i5="auto",ev=[_o,Ni,Ai,wo],zp="start",J2="end",b2e="clippingParents",MV="viewport",Ag="popper",_2e="reference",qO=ev.reduce(function(t,e){return t.concat([e+"-"+zp,e+"-"+J2])},[]),cf=[].concat(ev,[i5]).reduce(function(t,e){return t.concat([e,e+"-"+zp,e+"-"+J2])},[]),w2e="beforeRead",x2e="read",C2e="afterRead",S2e="beforeMain",T2e="main",k2e="afterMain",$2e="beforeWrite",E2e="write",I2e="afterWrite",N2e=[w2e,x2e,C2e,S2e,T2e,k2e,$2e,E2e,I2e];function Yl(t){return t?(t.nodeName||"").toLowerCase():null}function pl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Vp(t){var e=pl(t).Element;return t instanceof e||t instanceof Element}function ki(t){var e=pl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function l5(t){if(typeof ShadowRoot>"u")return!1;var e=pl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function A2e(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var s=e.styles[n]||{},r=e.attributes[n]||{},a=e.elements[n];!ki(a)||!Yl(a)||(Object.assign(a.style,s),Object.keys(r).forEach(function(o){var i=r[o];i===!1?a.removeAttribute(o):a.setAttribute(o,i===!0?"":i)}))})}function D2e(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(s){var r=e.elements[s],a=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:n[s]),i=o.reduce(function(l,u){return l[u]="",l},{});!ki(r)||!Yl(r)||(Object.assign(r.style,i),Object.keys(a).forEach(function(l){r.removeAttribute(l)}))})}}var FV={name:"applyStyles",enabled:!0,phase:"write",fn:A2e,effect:D2e,requires:["computeStyles"]};function Fl(t){return t.split("-")[0]}var gh=Math.max,r3=Math.min,Hp=Math.round;function Up(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),s=1,r=1;if(ki(t)&&e){var a=t.offsetHeight,o=t.offsetWidth;o>0&&(s=Hp(n.width)/o||1),a>0&&(r=Hp(n.height)/a||1)}return{width:n.width/s,height:n.height/r,top:n.top/r,right:n.right/s,bottom:n.bottom/r,left:n.left/s,x:n.left/s,y:n.top/r}}function u5(t){var e=Up(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}function BV(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&l5(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Ru(t){return pl(t).getComputedStyle(t)}function O2e(t){return["table","td","th"].indexOf(Yl(t))>=0}function bd(t){return((Vp(t)?t.ownerDocument:t.document)||window.document).documentElement}function Y4(t){return Yl(t)==="html"?t:t.assignedSlot||t.parentNode||(l5(t)?t.host:null)||bd(t)}function KO(t){return!ki(t)||Ru(t).position==="fixed"?null:t.offsetParent}function R2e(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&ki(t)){var s=Ru(t);if(s.position==="fixed")return null}var r=Y4(t);for(l5(r)&&(r=r.host);ki(r)&&["html","body"].indexOf(Yl(r))<0;){var a=Ru(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function tv(t){for(var e=pl(t),n=KO(t);n&&O2e(n)&&Ru(n).position==="static";)n=KO(n);return n&&(Yl(n)==="html"||Yl(n)==="body"&&Ru(n).position==="static")?e:n||R2e(t)||e}function c5(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function k2(t,e,n){return gh(t,r3(e,n))}function L2e(t,e,n){var s=k2(t,e,n);return s>n?n:s}function zV(){return{top:0,right:0,bottom:0,left:0}}function VV(t){return Object.assign({},zV(),t)}function HV(t,e){return e.reduce(function(n,s){return n[s]=t,n},{})}var P2e=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,VV(typeof t!="number"?t:HV(t,ev))};function M2e(t){var e,n=t.state,s=t.name,r=t.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,i=Fl(n.placement),l=c5(i),u=[wo,Ai].indexOf(i)>=0,c=u?"height":"width";if(!(!a||!o)){var d=P2e(r.padding,n),h=u5(a),f=l==="y"?_o:wo,p=l==="y"?Ni:Ai,m=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],y=o[l]-n.rects.reference[l],v=tv(a),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,w=m/2-y/2,_=d[f],C=b-h[c]-d[p],x=b/2-h[c]/2+w,T=k2(_,x,C),k=l;n.modifiersData[s]=(e={},e[k]=T,e.centerOffset=T-x,e)}}function F2e(t){var e=t.state,n=t.options,s=n.element,r=s===void 0?"[data-popper-arrow]":s;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!BV(e.elements.popper,r)||(e.elements.arrow=r))}var B2e={name:"arrow",enabled:!0,phase:"main",fn:M2e,effect:F2e,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wp(t){return t.split("-")[1]}var z2e={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V2e(t){var e=t.x,n=t.y,s=window,r=s.devicePixelRatio||1;return{x:Hp(e*r)/r||0,y:Hp(n*r)/r||0}}function XO(t){var e,n=t.popper,s=t.popperRect,r=t.placement,a=t.variation,o=t.offsets,i=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,m=p===void 0?0:p,y=typeof c=="function"?c({x:f,y:m}):{x:f,y:m};f=y.x,m=y.y;var v=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),w=wo,_=_o,C=window;if(u){var x=tv(n),T="clientHeight",k="clientWidth";if(x===pl(n)&&(x=bd(n),Ru(x).position!=="static"&&i==="absolute"&&(T="scrollHeight",k="scrollWidth")),x=x,r===_o||(r===wo||r===Ai)&&a===J2){_=Ni;var N=d&&x===C&&C.visualViewport?C.visualViewport.height:x[T];m-=N-s.height,m*=l?1:-1}if(r===wo||(r===_o||r===Ni)&&a===J2){w=Ai;var O=d&&x===C&&C.visualViewport?C.visualViewport.width:x[k];f-=O-s.width,f*=l?1:-1}}var L=Object.assign({position:i},u&&z2e),V=c===!0?V2e({x:f,y:m}):{x:f,y:m};if(f=V.x,m=V.y,l){var H;return Object.assign({},L,(H={},H[_]=b?"0":"",H[w]=v?"0":"",H.transform=(C.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",H))}return Object.assign({},L,(e={},e[_]=b?m+"px":"",e[w]=v?f+"px":"",e.transform="",e))}function H2e(t){var e=t.state,n=t.options,s=n.gpuAcceleration,r=s===void 0?!0:s,a=n.adaptive,o=a===void 0?!0:a,i=n.roundOffsets,l=i===void 0?!0:i,u={placement:Fl(e.placement),variation:Wp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,XO(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,XO(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var UV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:H2e,data:{}},Ob={passive:!0};function U2e(t){var e=t.state,n=t.instance,s=t.options,r=s.scroll,a=r===void 0?!0:r,o=s.resize,i=o===void 0?!0:o,l=pl(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",n.update,Ob)}),i&&l.addEventListener("resize",n.update,Ob),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Ob)}),i&&l.removeEventListener("resize",n.update,Ob)}}var WV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:U2e,data:{}},W2e={left:"right",right:"left",bottom:"top",top:"bottom"};function T_(t){return t.replace(/left|right|bottom|top/g,function(e){return W2e[e]})}var j2e={start:"end",end:"start"};function YO(t){return t.replace(/start|end/g,function(e){return j2e[e]})}function d5(t){var e=pl(t),n=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:n,scrollTop:s}}function h5(t){return Up(bd(t)).left+d5(t).scrollLeft}function G2e(t){var e=pl(t),n=bd(t),s=e.visualViewport,r=n.clientWidth,a=n.clientHeight,o=0,i=0;return s&&(r=s.width,a=s.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=s.offsetLeft,i=s.offsetTop)),{width:r,height:a,x:o+h5(t),y:i}}function q2e(t){var e,n=bd(t),s=d5(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=gh(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=gh(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),i=-s.scrollLeft+h5(t),l=-s.scrollTop;return Ru(r||n).direction==="rtl"&&(i+=gh(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:o,x:i,y:l}}function f5(t){var e=Ru(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}function jV(t){return["html","body","#document"].indexOf(Yl(t))>=0?t.ownerDocument.body:ki(t)&&f5(t)?t:jV(Y4(t))}function $2(t,e){var n;e===void 0&&(e=[]);var s=jV(t),r=s===((n=t.ownerDocument)==null?void 0:n.body),a=pl(s),o=r?[a].concat(a.visualViewport||[],f5(s)?s:[]):s,i=e.concat(o);return r?i:i.concat($2(Y4(o)))}function $S(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function K2e(t){var e=Up(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function QO(t,e){return e===MV?$S(G2e(t)):Vp(e)?K2e(e):$S(q2e(bd(t)))}function X2e(t){var e=$2(Y4(t)),n=["absolute","fixed"].indexOf(Ru(t).position)>=0,s=n&&ki(t)?tv(t):t;return Vp(s)?e.filter(function(r){return Vp(r)&&BV(r,s)&&Yl(r)!=="body"}):[]}function Y2e(t,e,n){var s=e==="clippingParents"?X2e(t):[].concat(e),r=[].concat(s,[n]),a=r[0],o=r.reduce(function(i,l){var u=QO(t,l);return i.top=gh(u.top,i.top),i.right=r3(u.right,i.right),i.bottom=r3(u.bottom,i.bottom),i.left=gh(u.left,i.left),i},QO(t,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function GV(t){var e=t.reference,n=t.element,s=t.placement,r=s?Fl(s):null,a=s?Wp(s):null,o=e.x+e.width/2-n.width/2,i=e.y+e.height/2-n.height/2,l;switch(r){case _o:l={x:o,y:e.y-n.height};break;case Ni:l={x:o,y:e.y+e.height};break;case Ai:l={x:e.x+e.width,y:i};break;case wo:l={x:e.x-n.width,y:i};break;default:l={x:e.x,y:e.y}}var u=r?c5(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case zp:l[u]=l[u]-(e[c]/2-n[c]/2);break;case J2:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function e1(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=s===void 0?t.placement:s,a=n.boundary,o=a===void 0?b2e:a,i=n.rootBoundary,l=i===void 0?MV:i,u=n.elementContext,c=u===void 0?Ag:u,d=n.altBoundary,h=d===void 0?!1:d,f=n.padding,p=f===void 0?0:f,m=VV(typeof p!="number"?p:HV(p,ev)),y=c===Ag?_2e:Ag,v=t.rects.popper,b=t.elements[h?y:c],w=Y2e(Vp(b)?b:b.contextElement||bd(t.elements.popper),o,l),_=Up(t.elements.reference),C=GV({reference:_,element:v,strategy:"absolute",placement:r}),x=$S(Object.assign({},v,C)),T=c===Ag?x:_,k={top:w.top-T.top+m.top,bottom:T.bottom-w.bottom+m.bottom,left:w.left-T.left+m.left,right:T.right-w.right+m.right},N=t.modifiersData.offset;if(c===Ag&&N){var O=N[r];Object.keys(k).forEach(function(L){var V=[Ai,Ni].indexOf(L)>=0?1:-1,H=[_o,Ni].indexOf(L)>=0?"y":"x";k[L]+=O[H]*V})}return k}function Q2e(t,e){e===void 0&&(e={});var n=e,s=n.placement,r=n.boundary,a=n.rootBoundary,o=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?cf:l,c=Wp(s),d=c?i?qO:qO.filter(function(p){return Wp(p)===c}):ev,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,m){return p[m]=e1(t,{placement:m,boundary:r,rootBoundary:a,padding:o})[Fl(m)],p},{});return Object.keys(f).sort(function(p,m){return f[p]-f[m]})}function Z2e(t){if(Fl(t)===i5)return[];var e=T_(t);return[YO(t),e,YO(e)]}function J2e(t){var e=t.state,n=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,o=n.altAxis,i=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,m=n.allowedAutoPlacements,y=e.options.placement,v=Fl(y),b=v===y,w=l||(b||!p?[T_(y)]:Z2e(y)),_=[y].concat(w).reduce(function(de,me){return de.concat(Fl(me)===i5?Q2e(e,{placement:me,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:m}):me)},[]),C=e.rects.reference,x=e.rects.popper,T=new Map,k=!0,N=_[0],O=0;O<_.length;O++){var L=_[O],V=Fl(L),H=Wp(L)===zp,K=[_o,Ni].indexOf(V)>=0,U=K?"width":"height",R=e1(e,{placement:L,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),W=K?H?Ai:wo:H?Ni:_o;C[U]>x[U]&&(W=T_(W));var G=T_(W),P=[];if(a&&P.push(R[V]<=0),i&&P.push(R[W]<=0,R[G]<=0),P.every(function(de){return de})){N=L,k=!1;break}T.set(L,P)}if(k)for(var j=p?3:1,J=function(de){var me=_.find(function(_e){var ee=T.get(_e);if(ee)return ee.slice(0,de).every(function(he){return he})});if(me)return N=me,"break"},ne=j;ne>0;ne--){var te=J(ne);if(te==="break")break}e.placement!==N&&(e.modifiersData[s]._skip=!0,e.placement=N,e.reset=!0)}}var e1e={name:"flip",enabled:!0,phase:"main",fn:J2e,requiresIfExists:["offset"],data:{_skip:!1}};function ZO(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function JO(t){return[_o,Ai,Ni,wo].some(function(e){return t[e]>=0})}function t1e(t){var e=t.state,n=t.name,s=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,o=e1(e,{elementContext:"reference"}),i=e1(e,{altBoundary:!0}),l=ZO(o,s),u=ZO(i,r,a),c=JO(l),d=JO(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}var n1e={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:t1e};function s1e(t,e,n){var s=Fl(t),r=[wo,_o].indexOf(s)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=a[0],i=a[1];return o=o||0,i=(i||0)*r,[wo,Ai].indexOf(s)>=0?{x:i,y:o}:{x:o,y:i}}function r1e(t){var e=t.state,n=t.options,s=t.name,r=n.offset,a=r===void 0?[0,0]:r,o=cf.reduce(function(c,d){return c[d]=s1e(d,e.rects,a),c},{}),i=o[e.placement],l=i.x,u=i.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[s]=o}var a1e={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:r1e};function o1e(t){var e=t.state,n=t.name;e.modifiersData[n]=GV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var qV={name:"popperOffsets",enabled:!0,phase:"read",fn:o1e,data:{}};function i1e(t){return t==="x"?"y":"x"}function l1e(t){var e=t.state,n=t.options,s=t.name,r=n.mainAxis,a=r===void 0?!0:r,o=n.altAxis,i=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,m=p===void 0?0:p,y=e1(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=Fl(e.placement),b=Wp(e.placement),w=!b,_=c5(v),C=i1e(_),x=e.modifiersData.popperOffsets,T=e.rects.reference,k=e.rects.popper,N=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,O=typeof N=="number"?{mainAxis:N,altAxis:N}:Object.assign({mainAxis:0,altAxis:0},N),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,V={x:0,y:0};if(x){if(a){var H,K=_==="y"?_o:wo,U=_==="y"?Ni:Ai,R=_==="y"?"height":"width",W=x[_],G=W+y[K],P=W-y[U],j=f?-k[R]/2:0,J=b===zp?T[R]:k[R],ne=b===zp?-k[R]:-T[R],te=e.elements.arrow,de=f&&te?u5(te):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zV(),_e=me[K],ee=me[U],he=k2(0,T[R],de[R]),le=w?T[R]/2-j-he-_e-O.mainAxis:J-he-_e-O.mainAxis,ue=w?-T[R]/2+j+he+ee+O.mainAxis:ne+he+ee+O.mainAxis,re=e.elements.arrow&&tv(e.elements.arrow),we=re?_==="y"?re.clientTop||0:re.clientLeft||0:0,Ae=(H=L==null?void 0:L[_])!=null?H:0,Ue=W+le-Ae-we,at=W+ue-Ae,ot=k2(f?r3(G,Ue):G,W,f?gh(P,at):P);x[_]=ot,V[_]=ot-W}if(i){var Pe,je=_==="x"?_o:wo,dt=_==="x"?Ni:Ai,Qe=x[C],wt=C==="y"?"height":"width",vt=Qe+y[je],Ge=Qe-y[dt],fe=[_o,wo].indexOf(v)!==-1,_t=(Pe=L==null?void 0:L[C])!=null?Pe:0,Dt=fe?vt:Qe-T[wt]-k[wt]-_t+O.altAxis,Qt=fe?Qe+T[wt]+k[wt]-_t-O.altAxis:Ge,rn=f&&fe?L2e(Dt,Qe,Qt):k2(f?Dt:vt,Qe,f?Qt:Ge);x[C]=rn,V[C]=rn-Qe}e.modifiersData[s]=V}}var u1e={name:"preventOverflow",enabled:!0,phase:"main",fn:l1e,requiresIfExists:["offset"]};function c1e(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function d1e(t){return t===pl(t)||!ki(t)?d5(t):c1e(t)}function h1e(t){var e=t.getBoundingClientRect(),n=Hp(e.width)/t.offsetWidth||1,s=Hp(e.height)/t.offsetHeight||1;return n!==1||s!==1}function f1e(t,e,n){n===void 0&&(n=!1);var s=ki(e),r=ki(e)&&h1e(e),a=bd(e),o=Up(t,r),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((Yl(e)!=="body"||f5(a))&&(i=d1e(e)),ki(e)?(l=Up(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=h5(a))),{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function p1e(t){var e=new Map,n=new Set,s=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var o=[].concat(a.requires||[],a.requiresIfExists||[]);o.forEach(function(i){if(!n.has(i)){var l=e.get(i);l&&r(l)}}),s.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),s}function m1e(t){var e=p1e(t);return N2e.reduce(function(n,s){return n.concat(e.filter(function(r){return r.phase===s}))},[])}function g1e(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function v1e(t){var e=t.reduce(function(n,s){var r=n[s.name];return n[s.name]=r?Object.assign({},r,s,{options:Object.assign({},r.options,s.options),data:Object.assign({},r.data,s.data)}):s,n},{});return Object.keys(e).map(function(n){return e[n]})}var eR={placement:"bottom",modifiers:[],strategy:"absolute"};function tR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function p5(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,s=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?eR:r;return function(o,i,l){l===void 0&&(l=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},eR,a),modifiersData:{},elements:{reference:o,popper:i},attributes:{},styles:{}},c=[],d=!1,h={state:u,setOptions:function(m){var y=typeof m=="function"?m(u.options):m;p(),u.options=Object.assign({},a,u.options,y),u.scrollParents={reference:Vp(o)?$2(o):o.contextElement?$2(o.contextElement):[],popper:$2(i)};var v=m1e(v1e([].concat(s,u.options.modifiers)));return u.orderedModifiers=v.filter(function(b){return b.enabled}),f(),h.update()},forceUpdate:function(){if(!d){var m=u.elements,y=m.reference,v=m.popper;if(tR(y,v)){u.rects={reference:f1e(y,tv(v),u.options.strategy==="fixed"),popper:u5(v)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var b=0;b<u.orderedModifiers.length;b++){if(u.reset===!0){u.reset=!1,b=-1;continue}var w=u.orderedModifiers[b],_=w.fn,C=w.options,x=C===void 0?{}:C,T=w.name;typeof _=="function"&&(u=_({state:u,options:x,name:T,instance:h})||u)}}}},update:g1e(function(){return new Promise(function(m){h.forceUpdate(),m(u)})}),destroy:function(){p(),d=!0}};if(!tR(o,i))return h;h.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function f(){u.orderedModifiers.forEach(function(m){var y=m.name,v=m.options,b=v===void 0?{}:v,w=m.effect;if(typeof w=="function"){var _=w({state:u,name:y,instance:h,options:b}),C=function(){};c.push(_||C)}})}function p(){c.forEach(function(m){return m()}),c=[]}return h}}p5();var y1e=[WV,qV,UV,FV];p5({defaultModifiers:y1e});var b1e=[WV,qV,UV,FV,a1e,e1e,u1e,B2e,n1e],_1e=p5({defaultModifiers:b1e});const w1e=(t,e,n={})=>{const s={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const u=x1e(l);Object.assign(o.value,u)},requires:["computeStyles"]},r=D(()=>{const{onFirstUpdate:l,placement:u,strategy:c,modifiers:d}=g(n);return{onFirstUpdate:l,placement:u||"bottom",strategy:c||"absolute",modifiers:[...d||[],s,{name:"applyStyles",enabled:!1}]}}),a=Jn(),o=B({styles:{popper:{position:g(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Ee(r,l=>{const u=g(a);u&&u.setOptions(l)},{deep:!0}),Ee([t,e],([l,u])=>{i(),!(!l||!u)&&(a.value=_1e(l,u,g(r)))}),ts(()=>{i()}),{state:D(()=>{var l;return{...((l=g(a))==null?void 0:l.state)||{}}}),styles:D(()=>g(o).styles),attributes:D(()=>g(o).attributes),update:()=>{var l;return(l=g(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=g(a))==null?void 0:l.forceUpdate()},instanceRef:D(()=>g(a))}};function x1e(t){const e=Object.keys(t.elements),n=Z2(e.map(r=>[r,t.styles[r]||{}])),s=Z2(e.map(r=>[r,t.attributes[r]]));return{styles:n,attributes:s}}const m5=t=>{if(!t)return{onClick:xs,onMousedown:xs,onMouseup:xs};let e=!1,n=!1;return{onClick:o=>{e&&n&&t(o),e=n=!1},onMousedown:o=>{e=o.target===o.currentTarget},onMouseup:o=>{n=o.target===o.currentTarget}}},C1e=(t,e=0)=>{if(e===0)return t;const n=B(!1);let s=null;const r=()=>{s&&clearTimeout(s),s=setTimeout(()=>{n.value=t.value},e)};return Et(r),Ee(()=>t.value,a=>{a?r():n.value=a}),n};function nR(){let t;const e=(s,r)=>{n(),t=window.setTimeout(s,r)},n=()=>window.clearTimeout(t);return K1(()=>n()),{registerTimeout:e,cancelTimeout:n}}const sR={prefix:Math.floor(Math.random()*1e4),current:0},S1e=Symbol("elIdInjection"),g5=()=>Ht()?Le(S1e,sR):sR,pa=t=>{const e=g5(),n=a5();return D(()=>g(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let op=[];const rR=t=>{const e=t;e.key===gt.esc&&op.forEach(n=>n(e))},T1e=t=>{Et(()=>{op.length===0&&document.addEventListener("keydown",rR),hn&&op.push(t)}),ts(()=>{op=op.filter(e=>e!==t),op.length===0&&hn&&document.removeEventListener("keydown",rR)})};let aR;const KV=()=>{const t=a5(),e=g5(),n=D(()=>`${t.value}-popper-container-${e.prefix}`),s=D(()=>`#${n.value}`);return{id:n,selector:s}},k1e=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},$1e=()=>{const{id:t,selector:e}=KV();return b$(()=>{hn&&!aR&&!document.body.querySelector(e.value)&&(aR=k1e(t.value))}),{id:t,selector:e}},E1e=qe({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),I1e=({showAfter:t,hideAfter:e,autoClose:n,open:s,close:r})=>{const{registerTimeout:a}=nR(),{registerTimeout:o,cancelTimeout:i}=nR();return{onOpen:c=>{a(()=>{s(c);const d=g(n);Tt(d)&&d>0&&o(()=>{r(c)},d)},g(t))},onClose:c=>{i(),a(()=>{r(c)},g(e))}}},XV=Symbol("elForwardRef"),N1e=t=>{At(XV,{setForwardRef:n=>{t.value=n}})},A1e=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),oR={current:0},iR=B(0),YV=2e3,lR=Symbol("elZIndexContextKey"),QV=Symbol("zIndexContextKey"),P0=t=>{const e=Ht()?Le(lR,oR):oR,n=t||(Ht()?Le(QV,void 0):void 0),s=D(()=>{const o=g(n);return Tt(o)?o:YV}),r=D(()=>s.value+iR.value),a=()=>(e.current++,iR.value=e.current,r.value);return!hn&&Le(lR),{initialZIndex:s,currentZIndex:r,nextZIndex:a}},jp=Math.min,vh=Math.max,a3=Math.round,Rb=Math.floor,ed=t=>({x:t,y:t}),D1e={left:"right",right:"left",bottom:"top",top:"bottom"},O1e={start:"end",end:"start"};function ES(t,e,n){return vh(t,jp(e,n))}function nv(t,e){return typeof t=="function"?t(e):t}function Oh(t){return t.split("-")[0]}function sv(t){return t.split("-")[1]}function ZV(t){return t==="x"?"y":"x"}function v5(t){return t==="y"?"height":"width"}function Q4(t){return["top","bottom"].includes(Oh(t))?"y":"x"}function y5(t){return ZV(Q4(t))}function R1e(t,e,n){n===void 0&&(n=!1);const s=sv(t),r=y5(t),a=v5(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=o3(o)),[o,o3(o)]}function L1e(t){const e=o3(t);return[IS(t),e,IS(e)]}function IS(t){return t.replace(/start|end/g,e=>O1e[e])}function P1e(t,e,n){const s=["left","right"],r=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?a:o;default:return[]}}function M1e(t,e,n,s){const r=sv(t);let a=P1e(Oh(t),n==="start",s);return r&&(a=a.map(o=>o+"-"+r),e&&(a=a.concat(a.map(IS)))),a}function o3(t){return t.replace(/left|right|bottom|top/g,e=>D1e[e])}function F1e(t){return{top:0,right:0,bottom:0,left:0,...t}}function JV(t){return typeof t!="number"?F1e(t):{top:t,right:t,bottom:t,left:t}}function i3(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function uR(t,e,n){let{reference:s,floating:r}=t;const a=Q4(e),o=y5(e),i=v5(o),l=Oh(e),u=a==="y",c=s.x+s.width/2-r.width/2,d=s.y+s.height/2-r.height/2,h=s[i]/2-r[i]/2;let f;switch(l){case"top":f={x:c,y:s.y-r.height};break;case"bottom":f={x:c,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:d};break;case"left":f={x:s.x-r.width,y:d};break;default:f={x:s.x,y:s.y}}switch(sv(e)){case"start":f[o]-=h*(n&&u?-1:1);break;case"end":f[o]+=h*(n&&u?-1:1);break}return f}const B1e=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,i=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:c,y:d}=uR(u,s,l),h=s,f={},p=0;for(let m=0;m<i.length;m++){const{name:y,fn:v}=i[m],{x:b,y:w,data:_,reset:C}=await v({x:c,y:d,initialPlacement:s,placement:h,strategy:r,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});if(c=b??c,d=w??d,f={...f,[y]:{...f[y],..._}},C&&p<=50){p++,typeof C=="object"&&(C.placement&&(h=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):C.rects),{x:c,y:d}=uR(u,h,l)),m=-1;continue}}return{x:c,y:d,placement:h,strategy:r,middlewareData:f}};async function b5(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:a,rects:o,elements:i,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=nv(e,t),p=JV(f),y=i[h?d==="floating"?"reference":"floating":d],v=i3(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(i.floating)),boundary:u,rootBoundary:c,strategy:l})),b=d==="floating"?{...o.floating,x:s,y:r}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(i.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},C=i3(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:w,strategy:l}):b);return{top:(v.top-C.top+p.top)/_.y,bottom:(C.bottom-v.bottom+p.bottom)/_.y,left:(v.left-C.left+p.left)/_.x,right:(C.right-v.right+p.right)/_.x}}const eH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:a,platform:o,elements:i,middlewareData:l}=e,{element:u,padding:c=0}=nv(t,e)||{};if(u==null)return{};const d=JV(c),h={x:n,y:s},f=y5(r),p=v5(f),m=await o.getDimensions(u),y=f==="y",v=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=a.reference[p]+a.reference[f]-h[f]-a.floating[p],C=h[f]-a.reference[f],x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=x?x[w]:0;(!T||!await(o.isElement==null?void 0:o.isElement(x)))&&(T=i.floating[w]||a.floating[p]);const k=_/2-C/2,N=T/2-m[p]/2-1,O=jp(d[v],N),L=jp(d[b],N),V=O,H=T-m[p]-L,K=T/2-m[p]/2+k,U=ES(V,K,H),R=!l.arrow&&sv(r)!=null&&K!=U&&a.reference[p]/2-(K<V?O:L)-m[p]/2<0,W=R?K<V?K-V:K-H:0;return{[f]:h[f]+W,data:{[f]:U,centerOffset:K-U-W,...R&&{alignmentOffset:W}},reset:R}}}),z1e=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:a,rects:o,initialPlacement:i,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...y}=nv(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=Oh(r),b=Oh(i)===i,w=await(l.isRTL==null?void 0:l.isRTL(u.floating)),_=h||(b||!m?[o3(i)]:L1e(i));!h&&p!=="none"&&_.push(...M1e(i,m,p,w));const C=[i,..._],x=await b5(e,y),T=[];let k=((s=a.flip)==null?void 0:s.overflows)||[];if(c&&T.push(x[v]),d){const V=R1e(r,o,w);T.push(x[V[0]],x[V[1]])}if(k=[...k,{placement:r,overflows:T}],!T.every(V=>V<=0)){var N,O;const V=(((N=a.flip)==null?void 0:N.index)||0)+1,H=C[V];if(H)return{data:{index:V,overflows:k},reset:{placement:H}};let K=(O=k.filter(U=>U.overflows[0]<=0).sort((U,R)=>U.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!K)switch(f){case"bestFit":{var L;const U=(L=k.map(R=>[R.placement,R.overflows.filter(W=>W>0).reduce((W,G)=>W+G,0)]).sort((R,W)=>R[1]-W[1])[0])==null?void 0:L[0];U&&(K=U);break}case"initialPlacement":K=i;break}if(r!==K)return{reset:{placement:K}}}return{}}}};async function V1e(t,e){const{placement:n,platform:s,elements:r}=t,a=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Oh(n),i=sv(n),l=Q4(n)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,d=nv(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return i&&typeof p=="number"&&(f=i==="end"?p*-1:p),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const tH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:s}=e,r=await V1e(e,t);return{x:n+r.x,y:s+r.y,data:r}}}},H1e=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:i={fn:y=>{let{x:v,y:b}=y;return{x:v,y:b}}},...l}=nv(t,e),u={x:n,y:s},c=await b5(e,l),d=Q4(Oh(r)),h=ZV(d);let f=u[h],p=u[d];if(a){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=f+c[y],w=f-c[v];f=ES(b,f,w)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=p+c[y],w=p-c[v];p=ES(b,p,w)}const m=i.fn({...e,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-s}}}}};function td(t){return nH(t)?(t.nodeName||"").toLowerCase():"#document"}function Ko(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nc(t){var e;return(e=(nH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nH(t){return t instanceof Node||t instanceof Ko(t).Node}function Lu(t){return t instanceof Element||t instanceof Ko(t).Element}function Ql(t){return t instanceof HTMLElement||t instanceof Ko(t).HTMLElement}function cR(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ko(t).ShadowRoot}function rv(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=Di(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function U1e(t){return["table","td","th"].includes(td(t))}function _5(t){const e=w5(),n=Di(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function W1e(t){let e=Gp(t);for(;Ql(e)&&!Z4(e);){if(_5(e))return e;e=Gp(e)}return null}function w5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Z4(t){return["html","body","#document"].includes(td(t))}function Di(t){return Ko(t).getComputedStyle(t)}function J4(t){return Lu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Gp(t){if(td(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cR(t)&&t.host||nc(t);return cR(e)?e.host:e}function sH(t){const e=Gp(t);return Z4(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ql(e)&&rv(e)?e:sH(e)}function t1(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=sH(t),a=r===((s=t.ownerDocument)==null?void 0:s.body),o=Ko(r);return a?e.concat(o,o.visualViewport||[],rv(r)?r:[],o.frameElement&&n?t1(o.frameElement):[]):e.concat(r,t1(r,[],n))}function rH(t){const e=Di(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=Ql(t),a=r?t.offsetWidth:n,o=r?t.offsetHeight:s,i=a3(n)!==a||a3(s)!==o;return i&&(n=a,s=o),{width:n,height:s,$:i}}function x5(t){return Lu(t)?t:t.contextElement}function Cp(t){const e=x5(t);if(!Ql(e))return ed(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:a}=rH(e);let o=(a?a3(n.width):n.width)/s,i=(a?a3(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!i||!Number.isFinite(i))&&(i=1),{x:o,y:i}}const j1e=ed(0);function aH(t){const e=Ko(t);return!w5()||!e.visualViewport?j1e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function G1e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ko(t)?!1:e}function Rh(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=x5(t);let o=ed(1);e&&(s?Lu(s)&&(o=Cp(s)):o=Cp(t));const i=G1e(a,n,s)?aH(a):ed(0);let l=(r.left+i.x)/o.x,u=(r.top+i.y)/o.y,c=r.width/o.x,d=r.height/o.y;if(a){const h=Ko(a),f=s&&Lu(s)?Ko(s):s;let p=h.frameElement;for(;p&&s&&f!==h;){const m=Cp(p),y=p.getBoundingClientRect(),v=Di(p),b=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*m.x,w=y.top+(p.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,u*=m.y,c*=m.x,d*=m.y,l+=b,u+=w,p=Ko(p).frameElement}}return i3({width:c,height:d,x:l,y:u})}function q1e(t){let{rect:e,offsetParent:n,strategy:s}=t;const r=Ql(n),a=nc(n);if(n===a)return e;let o={scrollLeft:0,scrollTop:0},i=ed(1);const l=ed(0);if((r||!r&&s!=="fixed")&&((td(n)!=="body"||rv(a))&&(o=J4(n)),Ql(n))){const u=Rh(n);i=Cp(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*i.x,height:e.height*i.y,x:e.x*i.x-o.scrollLeft*i.x+l.x,y:e.y*i.y-o.scrollTop*i.y+l.y}}function K1e(t){return Array.from(t.getClientRects())}function oH(t){return Rh(nc(t)).left+J4(t).scrollLeft}function X1e(t){const e=nc(t),n=J4(t),s=t.ownerDocument.body,r=vh(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=vh(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+oH(t);const i=-n.scrollTop;return Di(s).direction==="rtl"&&(o+=vh(e.clientWidth,s.clientWidth)-r),{width:r,height:a,x:o,y:i}}function Y1e(t,e){const n=Ko(t),s=nc(t),r=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,i=0,l=0;if(r){a=r.width,o=r.height;const u=w5();(!u||u&&e==="fixed")&&(i=r.offsetLeft,l=r.offsetTop)}return{width:a,height:o,x:i,y:l}}function Q1e(t,e){const n=Rh(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,a=Ql(t)?Cp(t):ed(1),o=t.clientWidth*a.x,i=t.clientHeight*a.y,l=r*a.x,u=s*a.y;return{width:o,height:i,x:l,y:u}}function dR(t,e,n){let s;if(e==="viewport")s=Y1e(t,n);else if(e==="document")s=X1e(nc(t));else if(Lu(e))s=Q1e(e,n);else{const r=aH(t);s={...e,x:e.x-r.x,y:e.y-r.y}}return i3(s)}function iH(t,e){const n=Gp(t);return n===e||!Lu(n)||Z4(n)?!1:Di(n).position==="fixed"||iH(n,e)}function Z1e(t,e){const n=e.get(t);if(n)return n;let s=t1(t,[],!1).filter(i=>Lu(i)&&td(i)!=="body"),r=null;const a=Di(t).position==="fixed";let o=a?Gp(t):t;for(;Lu(o)&&!Z4(o);){const i=Di(o),l=_5(o);!l&&i.position==="fixed"&&(r=null),(a?!l&&!r:!l&&i.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||rv(o)&&!l&&iH(t,o))?s=s.filter(c=>c!==o):r=i,o=Gp(o)}return e.set(t,s),s}function J1e(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?Z1e(e,this._c):[].concat(n),s],i=o[0],l=o.reduce((u,c)=>{const d=dR(e,c,r);return u.top=vh(d.top,u.top),u.right=jp(d.right,u.right),u.bottom=jp(d.bottom,u.bottom),u.left=vh(d.left,u.left),u},dR(e,i,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function eve(t){return rH(t)}function tve(t,e,n){const s=Ql(e),r=nc(e),a=n==="fixed",o=Rh(t,!0,a,e);let i={scrollLeft:0,scrollTop:0};const l=ed(0);if(s||!s&&!a)if((td(e)!=="body"||rv(r))&&(i=J4(e)),s){const u=Rh(e,!0,a,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else r&&(l.x=oH(r));return{x:o.left+i.scrollLeft-l.x,y:o.top+i.scrollTop-l.y,width:o.width,height:o.height}}function hR(t,e){return!Ql(t)||Di(t).position==="fixed"?null:e?e(t):t.offsetParent}function lH(t,e){const n=Ko(t);if(!Ql(t))return n;let s=hR(t,e);for(;s&&U1e(s)&&Di(s).position==="static";)s=hR(s,e);return s&&(td(s)==="html"||td(s)==="body"&&Di(s).position==="static"&&!_5(s))?n:s||W1e(t)||n}const nve=async function(t){let{reference:e,floating:n,strategy:s}=t;const r=this.getOffsetParent||lH,a=this.getDimensions;return{reference:tve(e,await r(n),s),floating:{x:0,y:0,...await a(n)}}};function sve(t){return Di(t).direction==="rtl"}const rve={convertOffsetParentRelativeRectToViewportRelativeRect:q1e,getDocumentElement:nc,getClippingRect:J1e,getOffsetParent:lH,getElementRects:nve,getClientRects:K1e,getDimensions:eve,getScale:Cp,isElement:Lu,isRTL:sve};function ave(t,e){let n=null,s;const r=nc(t);function a(){clearTimeout(s),n&&n.disconnect(),n=null}function o(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),a();const{left:u,top:c,width:d,height:h}=t.getBoundingClientRect();if(i||e(),!d||!h)return;const f=Rb(c),p=Rb(r.clientWidth-(u+d)),m=Rb(r.clientHeight-(c+h)),y=Rb(u),b={rootMargin:-f+"px "+-p+"px "+-m+"px "+-y+"px",threshold:vh(0,jp(1,l))||1};let w=!0;function _(C){const x=C[0].intersectionRatio;if(x!==l){if(!w)return o();x?o(!1,x):s=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(_,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(_,b)}n.observe(t)}return o(!0),a}function ove(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=s,u=x5(t),c=r||a?[...u?t1(u):[],...t1(e)]:[];c.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const d=u&&i?ave(u,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{f&&f.observe(e)})),n()}),u&&!l&&f.observe(u),f.observe(e));let p,m=l?Rh(t):null;l&&y();function y(){const v=Rh(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,p=requestAnimationFrame(y)}return n(),()=>{c.forEach(v=>{r&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),d&&d(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const uH=(t,e,n)=>{const s=new Map,r={platform:rve,...n},a={...r.platform,_c:s};return B1e(t,e,{...r,platform:a})};qe({});const ive=t=>{if(!hn)return;if(!t)return t;const e=vo(t);return e||(ms(t)?e:t)},lve=({middleware:t,placement:e,strategy:n})=>{const s=B(),r=B(),a=B(),o=B(),i=B({}),l={x:a,y:o,placement:e,strategy:n,middlewareData:i},u=async()=>{if(!hn)return;const c=ive(s),d=vo(r);if(!c||!d)return;const h=await uH(c,d,{placement:g(e),strategy:g(n),middleware:g(t)});Bp(l).forEach(f=>{l[f].value=h[f]})};return Et(()=>{sr(()=>{u()})}),{...l,update:u,referenceRef:s,contentRef:r}},uve=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const s=g(t);return s?eH({element:s,padding:e}).fn(n):{}}});function cve(t){let e;function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:a,value:o}=t.value;if(r==null||a==null)return;const i=o.slice(0,Math.max(0,r)),l=o.slice(Math.max(0,a));e={selectionStart:r,selectionEnd:a,value:o,beforeTxt:i,afterTxt:l}}function s(){if(t.value==null||e==null)return;const{value:r}=t.value,{beforeTxt:a,afterTxt:o,selectionStart:i}=e;if(a==null||o==null||i==null)return;let l=r.length;if(r.endsWith(o))l=r.length-o.length;else if(r.startsWith(a))l=a.length;else{const u=a[i-1],c=r.indexOf(u,i-1);c!==-1&&(l=c+1)}t.value.setSelectionRange(l,l)}return[n,s]}const dve=(t,e,n)=>zc(t.subTree).filter(a=>{var o;return An(a)&&((o=a.type)==null?void 0:o.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>n[a]).filter(a=>!!a),C5=(t,e)=>{const n={},s=Jn([]);return{children:s,addChild:o=>{n[o.uid]=o,s.value=dve(t,e,n)},removeChild:o=>{delete n[o],s.value=s.value.filter(i=>i.uid!==o)}}},_r=fl({type:String,values:uu,required:!1}),cH=Symbol("size"),dH=()=>{const t=Le(cH,{});return D(()=>g(t.size)||"")};function av(t,{beforeFocus:e,afterFocus:n,beforeBlur:s,afterBlur:r}={}){const a=Ht(),{emit:o}=a,i=Jn(),l=B(!1),u=h=>{yn(e)&&e(h)||l.value||(l.value=!0,o("focus",h),n==null||n())},c=h=>{var f;yn(s)&&s(h)||h.relatedTarget&&((f=i.value)!=null&&f.contains(h.relatedTarget))||(l.value=!1,o("blur",h),r==null||r())},d=()=>{var h,f;(h=i.value)!=null&&h.contains(document.activeElement)&&i.value!==document.activeElement||(f=t.value)==null||f.focus()};return Ee(i,h=>{h&&h.setAttribute("tabindex","-1")}),Fn(i,"focus",u,!0),Fn(i,"blur",c,!0),Fn(i,"click",d,!0),{isFocused:l,wrapperRef:i,handleFocus:u,handleBlur:c}}function ew({afterComposition:t,emit:e}){const n=B(!1),s=i=>{e==null||e("compositionstart",i),n.value=!0},r=i=>{var l;e==null||e("compositionupdate",i);const u=(l=i.target)==null?void 0:l.value,c=u[u.length-1]||"";n.value=!l2e(c)},a=i=>{e==null||e("compositionend",i),n.value&&(n.value=!1,it(()=>t(i)))};return{isComposing:n,handleComposition:i=>{i.type==="compositionend"?a(i):r(i)},handleCompositionStart:s,handleCompositionUpdate:r,handleCompositionEnd:a}}const hH=Symbol("emptyValuesContextKey"),hve=["",void 0,null],fve=void 0,M0=qe({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>yn(t)?!t():!t}}),tw=(t,e)=>{const n=Ht()?Le(hH,B({})):B({}),s=D(()=>t.emptyValues||n.value.emptyValues||hve),r=D(()=>yn(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:yn(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:fve),a=o=>s.value.includes(o);return s.value.includes(r.value),{emptyValues:s,valueOnClear:r,isEmptyValue:a}},pve=qe({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),sa=t=>Qi(pve,t),fH=Symbol(),l3=B();function nw(t,e=void 0){const n=Ht()?Le(fH,l3):l3;return t?D(()=>{var s,r;return(r=(s=n.value)==null?void 0:s[t])!=null?r:e}):n}function sw(t,e){const n=nw(),s=Fe(t,D(()=>{var i;return((i=n.value)==null?void 0:i.namespace)||T2})),r=fn(D(()=>{var i;return(i=n.value)==null?void 0:i.locale})),a=P0(D(()=>{var i;return((i=n.value)==null?void 0:i.zIndex)||YV})),o=D(()=>{var i;return g(e)||((i=n.value)==null?void 0:i.size)||""});return S5(D(()=>g(n)||{})),{ns:s,locale:r,zIndex:a,size:o}}const S5=(t,e,n=!1)=>{var s;const r=!!Ht(),a=r?nw():void 0,o=(s=e==null?void 0:e.provide)!=null?s:r?At:void 0;if(!o)return;const i=D(()=>{const l=g(t);return a!=null&&a.value?mve(a.value,l):l});return o(fH,i),o(r5,D(()=>i.value.locale)),o(RV,D(()=>i.value.namespace)),o(QV,D(()=>i.value.zIndex)),o(cH,{size:D(()=>i.value.size||"")}),o(hH,D(()=>({emptyValues:i.value.emptyValues,valueOnClear:i.value.valueOnClear}))),(n||!l3.value)&&(l3.value=i.value),i},mve=(t,e)=>{const n=[...new Set([...Bp(t),...Bp(e)])],s={};for(const r of n)s[r]=e[r]!==void 0?e[r]:t[r];return s},gve=qe({a11y:{type:Boolean,default:!0},locale:{type:ve(Object)},size:_r,button:{type:ve(Object)},experimentalFeatures:{type:ve(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:ve(Object)},zIndex:Number,namespace:{type:String,default:"el"},...M0}),NS={},vve=Z({name:"ElConfigProvider",props:gve,setup(t,{slots:e}){Ee(()=>t.message,s=>{Object.assign(NS,s??{})},{immediate:!0,deep:!0});const n=S5(t);return()=>oe(e,"default",{config:n==null?void 0:n.value})}}),yve=Ft(vve),bve="2.8.0",_ve=(t=[])=>({version:bve,install:(n,s)=>{n[jO]||(n[jO]=!0,t.forEach(r=>n.use(r)),s&&S5(s,n,!0))}}),wve=qe({zIndex:{type:ve([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),xve={scroll:({scrollTop:t,fixed:e})=>Tt(t)&&Ms(e),[ns]:t=>Ms(t)};var Xe=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n};const pH="ElAffix",Cve=Z({name:pH}),Sve=Z({...Cve,props:wve,emits:xve,setup(t,{expose:e,emit:n}){const s=t,r=Fe("affix"),a=Jn(),o=Jn(),i=Jn(),{height:l}=sde(),{height:u,width:c,top:d,bottom:h,update:f}=aO(o,{windowScroll:!1}),p=aO(a),m=B(!1),y=B(0),v=B(0),b=D(()=>({height:m.value?`${u.value}px`:"",width:m.value?`${c.value}px`:""})),w=D(()=>{if(!m.value)return{};const x=s.offset?Es(s.offset):0;return{height:`${u.value}px`,width:`${c.value}px`,top:s.position==="top"?x:"",bottom:s.position==="bottom"?x:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:s.zIndex}}),_=()=>{if(i.value)if(y.value=i.value instanceof Window?document.documentElement.scrollTop:i.value.scrollTop||0,s.position==="top")if(s.target){const x=p.bottom.value-s.offset-u.value;m.value=s.offset>d.value&&p.bottom.value>0,v.value=x<0?x:0}else m.value=s.offset>d.value;else if(s.target){const x=l.value-p.top.value-s.offset-u.value;m.value=l.value-s.offset<h.value&&l.value>p.top.value,v.value=x<0?-x:0}else m.value=l.value-s.offset<h.value},C=()=>{f(),n("scroll",{scrollTop:y.value,fixed:m.value})};return Ee(m,x=>n("change",x)),Et(()=>{var x;s.target?(a.value=(x=document.querySelector(s.target))!=null?x:void 0,a.value||br(pH,`Target does not exist: ${s.target}`)):a.value=document.documentElement,i.value=K$(o.value,!0),f()}),Fn(i,"scroll",C),sr(_),e({update:_,updateRoot:f}),(x,T)=>(S(),A("div",{ref_key:"root",ref:o,class:q(g(r).b()),style:yt(g(b))},[I("div",{class:q({[g(r).m("fixed")]:m.value}),style:yt(g(w))},[oe(x.$slots,"default")],6)],6))}});var Tve=Xe(Sve,[["__file","affix.vue"]]);const kve=Ft(Tve),$ve=qe({size:{type:ve([Number,String])},color:{type:String}}),Eve=Z({name:"ElIcon",inheritAttrs:!1}),Ive=Z({...Eve,props:$ve,setup(t){const e=t,n=Fe("icon"),s=D(()=>{const{size:r,color:a}=e;return!r&&!a?{}:{fontSize:$s(r)?void 0:Es(r),"--color":a}});return(r,a)=>(S(),A("i",Kt({class:g(n).b(),style:g(s)},r.$attrs),[oe(r.$slots,"default")],16))}});var Nve=Xe(Ive,[["__file","icon.vue"]]);const Je=Ft(Nve),Ave=["light","dark"],Dve=qe({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Bp(Jc),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:Ave,default:"light"}}),Ove={close:t=>t instanceof MouseEvent},Rve=Z({name:"ElAlert"}),Lve=Z({...Rve,props:Dve,emits:Ove,setup(t,{emit:e}){const n=t,{Close:s}=t5,r=xr(),a=Fe("alert"),o=B(!0),i=D(()=>Jc[n.type]),l=D(()=>[a.e("icon"),{[a.is("big")]:!!n.description||!!r.default}]),u=D(()=>({"with-description":n.description||r.default})),c=d=>{o.value=!1,e("close",d)};return(d,h)=>(S(),be(ar,{name:g(a).b("fade"),persisted:""},{default:se(()=>[zt(I("div",{class:q([g(a).b(),g(a).m(d.type),g(a).is("center",d.center),g(a).is(d.effect)]),role:"alert"},[d.showIcon&&g(i)?(S(),be(g(Je),{key:0,class:q(g(l))},{default:se(()=>[(S(),be(Gt(g(i))))]),_:1},8,["class"])):ce("v-if",!0),I("div",{class:q(g(a).e("content"))},[d.title||d.$slots.title?(S(),A("span",{key:0,class:q([g(a).e("title"),g(u)])},[oe(d.$slots,"title",{},()=>[ct(Me(d.title),1)])],2)):ce("v-if",!0),d.$slots.default||d.description?(S(),A("p",{key:1,class:q(g(a).e("description"))},[oe(d.$slots,"default",{},()=>[ct(Me(d.description),1)])],2)):ce("v-if",!0),d.closable?(S(),A(He,{key:2},[d.closeText?(S(),A("div",{key:0,class:q([g(a).e("close-btn"),g(a).is("customed")]),onClick:c},Me(d.closeText),3)):(S(),be(g(Je),{key:1,class:q(g(a).e("close-btn")),onClick:c},{default:se(()=>[$(g(s))]),_:1},8,["class"]))],64)):ce("v-if",!0)],2)],2),[[gn,o.value]])]),_:3},8,["name"]))}});var Pve=Xe(Lve,[["__file","alert.vue"]]);const Mve=Ft(Pve),df=Symbol("formContextKey"),Zl=Symbol("formItemContextKey"),or=(t,e={})=>{const n=B(void 0),s=e.prop?n:PV("size"),r=e.global?n:dH(),a=e.form?{size:void 0}:Le(df,void 0),o=e.formItem?{size:void 0}:Le(Zl,void 0);return D(()=>s.value||g(t)||(o==null?void 0:o.size)||(a==null?void 0:a.size)||r.value||"")},ao=t=>{const e=PV("disabled"),n=Le(df,void 0);return D(()=>e.value||g(t)||(n==null?void 0:n.disabled)||!1)},Na=()=>{const t=Le(df,void 0),e=Le(Zl,void 0);return{form:t,formItem:e}},ml=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:s})=>{n||(n=B(!1)),s||(s=B(!1));const r=B();let a;const o=D(()=>{var i;return!!(!(t.label||t.ariaLabel)&&e&&e.inputIds&&((i=e.inputIds)==null?void 0:i.length)<=1)});return Et(()=>{a=Ee([Nn(t,"id"),n],([i,l])=>{const u=i??(l?void 0:pa().value);u!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(s!=null&&s.value)&&!l&&u&&e.addInputId(u)),r.value=u)},{immediate:!0})}),ma(()=>{a&&a(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:o,inputId:r}},Fve=qe({size:{type:String,values:uu},disabled:Boolean}),Bve=qe({...Fve,model:Object,rules:{type:ve(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),zve={validate:(t,e,n)=>(Mt(t)||qt(t))&&Ms(e)&&qt(n)};function Vve(){const t=B([]),e=D(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function n(a){const o=t.value.indexOf(a);return o===-1&&e.value,o}function s(a,o){if(a&&o){const i=n(o);t.value.splice(i,1,a)}else a&&t.value.push(a)}function r(a){const o=n(a);o>-1&&t.value.splice(o,1)}return{autoLabelWidth:e,registerLabelWidth:s,deregisterLabelWidth:r}}const Lb=(t,e)=>{const n=_a(e);return n.length>0?t.filter(s=>s.prop&&n.includes(s.prop)):t},Hve="ElForm",Uve=Z({name:Hve}),Wve=Z({...Uve,props:Bve,emits:zve,setup(t,{expose:e,emit:n}){const s=t,r=[],a=or(),o=Fe("form"),i=D(()=>{const{labelPosition:w,inline:_}=s;return[o.b(),o.m(a.value||"default"),{[o.m(`label-${w}`)]:w,[o.m("inline")]:_}]}),l=w=>r.find(_=>_.prop===w),u=w=>{r.push(w)},c=w=>{w.prop&&r.splice(r.indexOf(w),1)},d=(w=[])=>{s.model&&Lb(r,w).forEach(_=>_.resetField())},h=(w=[])=>{Lb(r,w).forEach(_=>_.clearValidate())},f=D(()=>!!s.model),p=w=>{if(r.length===0)return[];const _=Lb(r,w);return _.length?_:[]},m=async w=>v(void 0,w),y=async(w=[])=>{if(!f.value)return!1;const _=p(w);if(_.length===0)return!0;let C={};for(const x of _)try{await x.validate("")}catch(T){C={...C,...T}}return Object.keys(C).length===0?!0:Promise.reject(C)},v=async(w=[],_)=>{const C=!yn(_);try{const x=await y(w);return x===!0&&await(_==null?void 0:_(x)),x}catch(x){if(x instanceof Error)throw x;const T=x;return s.scrollToError&&b(Object.keys(T)[0]),await(_==null?void 0:_(!1,T)),C&&Promise.reject(T)}},b=w=>{var _;const C=Lb(r,w)[0];C&&((_=C.$el)==null||_.scrollIntoView(s.scrollIntoViewOptions))};return Ee(()=>s.rules,()=>{s.validateOnRuleChange&&m().catch(w=>void 0)},{deep:!0}),At(df,an({...Jr(s),emit:n,resetFields:d,clearValidate:h,validateField:v,getField:l,addField:u,removeField:c,...Vve()})),e({validate:m,validateField:v,resetFields:d,clearValidate:h,scrollToField:b,fields:r}),(w,_)=>(S(),A("form",{class:q(g(i))},[oe(w.$slots,"default")],2))}});var jve=Xe(Wve,[["__file","form.vue"]]);function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rh.apply(this,arguments)}function Gve(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n1(t,e)}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,r){return s.__proto__=r,s},n1(t,e)}function qve(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k_(t,e,n){return qve()?k_=Reflect.construct.bind():k_=function(r,a,o){var i=[null];i.push.apply(i,a);var l=Function.bind.apply(r,i),u=new l;return o&&n1(u,o.prototype),u},k_.apply(null,arguments)}function Kve(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function DS(t){var e=typeof Map=="function"?new Map:void 0;return DS=function(s){if(s===null||!Kve(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,r)}function r(){return k_(s,arguments,AS(this).constructor)}return r.prototype=Object.create(s.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n1(r,s)},DS(t)}var Xve=/%[sdj%]/g,Yve=function(){};function OS(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var s=n.field;e[s]=e[s]||[],e[s].push(n)}),e}function Uo(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];var r=0,a=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var o=t.replace(Xve,function(i){if(i==="%%")return"%";if(r>=a)return i;switch(i){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return i}});return o}return t}function Qve(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Fr(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Qve(e)&&typeof t=="string"&&!t)}function Zve(t,e,n){var s=[],r=0,a=t.length;function o(i){s.push.apply(s,i||[]),r++,r===a&&n(s)}t.forEach(function(i){e(i,o)})}function fR(t,e,n){var s=0,r=t.length;function a(o){if(o&&o.length){n(o);return}var i=s;s=s+1,i<r?e(t[i],a):n([])}a([])}function Jve(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var pR=function(t){Gve(e,t);function e(n,s){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=s,r}return e}(DS(Error));function eye(t,e,n,s,r){if(e.first){var a=new Promise(function(h,f){var p=function(v){return s(v),v.length?f(new pR(v,OS(v))):h(r)},m=Jve(t);fR(m,n,p)});return a.catch(function(h){return h}),a}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],i=Object.keys(t),l=i.length,u=0,c=[],d=new Promise(function(h,f){var p=function(y){if(c.push.apply(c,y),u++,u===l)return s(c),c.length?f(new pR(c,OS(c))):h(r)};i.length||(s(c),h(r)),i.forEach(function(m){var y=t[m];o.indexOf(m)!==-1?fR(y,n,p):Zve(y,n,p)})});return d.catch(function(h){return h}),d}function tye(t){return!!(t&&t.message!==void 0)}function nye(t,e){for(var n=t,s=0;s<e.length;s++){if(n==null)return n;n=n[e[s]]}return n}function mR(t,e){return function(n){var s;return t.fullFields?s=nye(e,t.fullFields):s=e[n.field||t.fullField],tye(n)?(n.field=n.field||t.fullField,n.fieldValue=s,n):{message:typeof n=="function"?n():n,fieldValue:s,field:n.field||t.fullField}}}function gR(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];typeof s=="object"&&typeof t[n]=="object"?t[n]=rh({},t[n],s):t[n]=s}}return t}var mH=function(e,n,s,r,a,o){e.required&&(!s.hasOwnProperty(e.field)||Fr(n,o||e.type))&&r.push(Uo(a.messages.required,e.fullField))},sye=function(e,n,s,r,a){(/^\s+$/.test(n)||n==="")&&r.push(Uo(a.messages.whitespace,e.fullField))},Pb,rye=function(){if(Pb)return Pb;var t="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+s+":){7}(?:"+s+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+s+":){6}(?:"+n+"|:"+s+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+s+":){5}(?::"+n+"|(?::"+s+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+s+":){4}(?:(?::"+s+"){0,1}:"+n+"|(?::"+s+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+s+":){3}(?:(?::"+s+"){0,2}:"+n+"|(?::"+s+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+s+":){2}(?:(?::"+s+"){0,3}:"+n+"|(?::"+s+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+s+":){1}(?:(?::"+s+"){0,4}:"+n+"|(?::"+s+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+s+"){0,5}:"+n+"|(?::"+s+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),o=new RegExp("^"+n+"$"),i=new RegExp("^"+r+"$"),l=function(_){return _&&_.exact?a:new RegExp("(?:"+e(_)+n+e(_)+")|(?:"+e(_)+r+e(_)+")","g")};l.v4=function(w){return w&&w.exact?o:new RegExp(""+e(w)+n+e(w),"g")},l.v6=function(w){return w&&w.exact?i:new RegExp(""+e(w)+r+e(w),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,h=l.v6().source,f="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",y="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',b="(?:"+u+"|www\\.)"+c+"(?:localhost|"+d+"|"+h+"|"+f+p+m+")"+y+v;return Pb=new RegExp("(?:^"+b+"$)","i"),Pb},vR={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},r2={integer:function(e){return r2.number(e)&&parseInt(e,10)===e},float:function(e){return r2.number(e)&&!r2.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!r2.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(vR.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(rye())},hex:function(e){return typeof e=="string"&&!!e.match(vR.hex)}},aye=function(e,n,s,r,a){if(e.required&&n===void 0){mH(e,n,s,r,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],i=e.type;o.indexOf(i)>-1?r2[i](n)||r.push(Uo(a.messages.types[i],e.fullField,e.type)):i&&typeof n!==e.type&&r.push(Uo(a.messages.types[i],e.fullField,e.type))},oye=function(e,n,s,r,a){var o=typeof e.len=="number",i=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,h=typeof n=="number",f=typeof n=="string",p=Array.isArray(n);if(h?d="number":f?d="string":p&&(d="array"),!d)return!1;p&&(c=n.length),f&&(c=n.replace(u,"_").length),o?c!==e.len&&r.push(Uo(a.messages[d].len,e.fullField,e.len)):i&&!l&&c<e.min?r.push(Uo(a.messages[d].min,e.fullField,e.min)):l&&!i&&c>e.max?r.push(Uo(a.messages[d].max,e.fullField,e.max)):i&&l&&(c<e.min||c>e.max)&&r.push(Uo(a.messages[d].range,e.fullField,e.min,e.max))},Wf="enum",iye=function(e,n,s,r,a){e[Wf]=Array.isArray(e[Wf])?e[Wf]:[],e[Wf].indexOf(n)===-1&&r.push(Uo(a.messages[Wf],e.fullField,e[Wf].join(", ")))},lye=function(e,n,s,r,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(Uo(a.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(n)||r.push(Uo(a.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Yn={required:mH,whitespace:sye,type:aye,range:oye,enum:iye,pattern:lye},uye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n,"string")&&!e.required)return s();Yn.required(e,n,r,o,a,"string"),Fr(n,"string")||(Yn.type(e,n,r,o,a),Yn.range(e,n,r,o,a),Yn.pattern(e,n,r,o,a),e.whitespace===!0&&Yn.whitespace(e,n,r,o,a))}s(o)},cye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&Yn.type(e,n,r,o,a)}s(o)},dye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(n===""&&(n=void 0),Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&(Yn.type(e,n,r,o,a),Yn.range(e,n,r,o,a))}s(o)},hye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&Yn.type(e,n,r,o,a)}s(o)},fye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),Fr(n)||Yn.type(e,n,r,o,a)}s(o)},pye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&(Yn.type(e,n,r,o,a),Yn.range(e,n,r,o,a))}s(o)},mye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&(Yn.type(e,n,r,o,a),Yn.range(e,n,r,o,a))}s(o)},gye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(n==null&&!e.required)return s();Yn.required(e,n,r,o,a,"array"),n!=null&&(Yn.type(e,n,r,o,a),Yn.range(e,n,r,o,a))}s(o)},vye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&Yn.type(e,n,r,o,a)}s(o)},yye="enum",bye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a),n!==void 0&&Yn[yye](e,n,r,o,a)}s(o)},_ye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n,"string")&&!e.required)return s();Yn.required(e,n,r,o,a),Fr(n,"string")||Yn.pattern(e,n,r,o,a)}s(o)},wye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n,"date")&&!e.required)return s();if(Yn.required(e,n,r,o,a),!Fr(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Yn.type(e,l,r,o,a),l&&Yn.range(e,l.getTime(),r,o,a)}}s(o)},xye=function(e,n,s,r,a){var o=[],i=Array.isArray(n)?"array":typeof n;Yn.required(e,n,r,o,a,i),s(o)},j8=function(e,n,s,r,a){var o=e.type,i=[],l=e.required||!e.required&&r.hasOwnProperty(e.field);if(l){if(Fr(n,o)&&!e.required)return s();Yn.required(e,n,r,i,a,o),Fr(n,o)||Yn.type(e,n,r,i,a)}s(i)},Cye=function(e,n,s,r,a){var o=[],i=e.required||!e.required&&r.hasOwnProperty(e.field);if(i){if(Fr(n)&&!e.required)return s();Yn.required(e,n,r,o,a)}s(o)},E2={string:uye,method:cye,number:dye,boolean:hye,regexp:fye,integer:pye,float:mye,array:gye,object:vye,enum:bye,pattern:_ye,date:wye,url:j8,hex:j8,email:j8,required:xye,any:Cye};function RS(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var LS=RS(),ov=function(){function t(n){this.rules=null,this._messages=LS,this.define(n)}var e=t.prototype;return e.define=function(s){var r=this;if(!s)throw new Error("Cannot configure a schema with no rules");if(typeof s!="object"||Array.isArray(s))throw new Error("Rules must be an object");this.rules={},Object.keys(s).forEach(function(a){var o=s[a];r.rules[a]=Array.isArray(o)?o:[o]})},e.messages=function(s){return s&&(this._messages=gR(RS(),s)),this._messages},e.validate=function(s,r,a){var o=this;r===void 0&&(r={}),a===void 0&&(a=function(){});var i=s,l=r,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,i),Promise.resolve(i);function c(m){var y=[],v={};function b(_){if(Array.isArray(_)){var C;y=(C=y).concat.apply(C,_)}else y.push(_)}for(var w=0;w<m.length;w++)b(m[w]);y.length?(v=OS(y),u(y,v)):u(null,i)}if(l.messages){var d=this.messages();d===LS&&(d=RS()),gR(d,l.messages),l.messages=d}else l.messages=this.messages();var h={},f=l.keys||Object.keys(this.rules);f.forEach(function(m){var y=o.rules[m],v=i[m];y.forEach(function(b){var w=b;typeof w.transform=="function"&&(i===s&&(i=rh({},i)),v=i[m]=w.transform(v)),typeof w=="function"?w={validator:w}:w=rh({},w),w.validator=o.getValidationMethod(w),w.validator&&(w.field=m,w.fullField=w.fullField||m,w.type=o.getType(w),h[m]=h[m]||[],h[m].push({rule:w,value:v,source:i,field:m}))})});var p={};return eye(h,l,function(m,y){var v=m.rule,b=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");b=b&&(v.required||!v.required&&m.value),v.field=m.field;function w(x,T){return rh({},T,{fullField:v.fullField+"."+x,fullFields:v.fullFields?[].concat(v.fullFields,[x]):[x]})}function _(x){x===void 0&&(x=[]);var T=Array.isArray(x)?x:[x];!l.suppressWarning&&T.length&&t.warning("async-validator:",T),T.length&&v.message!==void 0&&(T=[].concat(v.message));var k=T.map(mR(v,i));if(l.first&&k.length)return p[v.field]=1,y(k);if(!b)y(k);else{if(v.required&&!m.value)return v.message!==void 0?k=[].concat(v.message).map(mR(v,i)):l.error&&(k=[l.error(v,Uo(l.messages.required,v.field))]),y(k);var N={};v.defaultField&&Object.keys(m.value).map(function(V){N[V]=v.defaultField}),N=rh({},N,m.rule.fields);var O={};Object.keys(N).forEach(function(V){var H=N[V],K=Array.isArray(H)?H:[H];O[V]=K.map(w.bind(null,V))});var L=new t(O);L.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),L.validate(m.value,m.rule.options||l,function(V){var H=[];k&&k.length&&H.push.apply(H,k),V&&V.length&&H.push.apply(H,V),y(H.length?H:null)})}}var C;if(v.asyncValidator)C=v.asyncValidator(v,m.value,_,m.source,l);else if(v.validator){try{C=v.validator(v,m.value,_,m.source,l)}catch(x){console.error==null||console.error(x),l.suppressValidatorError||setTimeout(function(){throw x},0),_(x.message)}C===!0?_():C===!1?_(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):C instanceof Array?_(C):C instanceof Error&&_(C.message)}C&&C.then&&C.then(function(){return _()},function(x){return _(x)})},function(m){c(m)},i)},e.getType=function(s){if(s.type===void 0&&s.pattern instanceof RegExp&&(s.type="pattern"),typeof s.validator!="function"&&s.type&&!E2.hasOwnProperty(s.type))throw new Error(Uo("Unknown rule type %s",s.type));return s.type||"string"},e.getValidationMethod=function(s){if(typeof s.validator=="function")return s.validator;var r=Object.keys(s),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?E2.required:E2[this.getType(s)]||void 0},t}();ov.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");E2[e]=n};ov.warning=Yve;ov.messages=LS;ov.validators=E2;const Sye=["","error","validating","success"],Tye=qe({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:ve([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ve([Object,Array])},error:String,validateStatus:{type:String,values:Sye},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:uu}}),yR="ElLabelWrap";var kye=Z({name:yR,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=Le(df,void 0),s=Le(Zl);s||br(yR,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Fe("form"),a=B(),o=B(0),i=()=>{var c;if((c=a.value)!=null&&c.firstElementChild){const d=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(c="update")=>{it(()=>{e.default&&t.isAutoWidth&&(c==="update"?o.value=i():c==="remove"&&(n==null||n.deregisterLabelWidth(o.value)))})},u=()=>l("update");return Et(()=>{u()}),ts(()=>{l("remove")}),gd(()=>u()),Ee(o,(c,d)=>{t.updateAll&&(n==null||n.registerLabelWidth(c,d))}),ds(D(()=>{var c,d;return(d=(c=a.value)==null?void 0:c.firstElementChild)!=null?d:null}),u),()=>{var c,d;if(!e)return null;const{isAutoWidth:h}=t;if(h){const f=n==null?void 0:n.autoLabelWidth,p=s==null?void 0:s.hasLabel,m={};if(p&&f&&f!=="auto"){const y=Math.max(0,Number.parseInt(f,10)-o.value),b=(s.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";y&&(m[b]=`${y}px`)}return $("div",{ref:a,class:[r.be("item","label-wrap")],style:m},[(c=e.default)==null?void 0:c.call(e)])}else return $(He,{ref:a},[(d=e.default)==null?void 0:d.call(e)])}}});const $ye=Z({name:"ElFormItem"}),Eye=Z({...$ye,props:Tye,setup(t,{expose:e}){const n=t,s=xr(),r=Le(df,void 0),a=Le(Zl,void 0),o=or(void 0,{formItem:!1}),i=Fe("form-item"),l=pa().value,u=B([]),c=B(""),d=Bce(c,100),h=B(""),f=B();let p,m=!1;const y=D(()=>n.labelPosition||(r==null?void 0:r.labelPosition)),v=D(()=>{if(y.value==="top")return{};const he=Es(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return he?{width:he}:{}}),b=D(()=>{if(y.value==="top"||r!=null&&r.inline)return{};if(!n.label&&!n.labelWidth&&O)return{};const he=Es(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return!n.label&&!s.label?{marginLeft:he}:{}}),w=D(()=>[i.b(),i.m(o.value),i.is("error",c.value==="error"),i.is("validating",c.value==="validating"),i.is("success",c.value==="success"),i.is("required",U.value||n.required),i.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[i.m("feedback")]:r==null?void 0:r.statusIcon,[i.m(`label-${y.value}`)]:y.value}]),_=D(()=>Ms(n.inlineMessage)?n.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),C=D(()=>[i.e("error"),{[i.em("error","inline")]:_.value}]),x=D(()=>n.prop?qt(n.prop)?n.prop:n.prop.join("."):""),T=D(()=>!!(n.label||s.label)),k=D(()=>n.for||(u.value.length===1?u.value[0]:void 0)),N=D(()=>!k.value&&T.value),O=!!a,L=D(()=>{const he=r==null?void 0:r.model;if(!(!he||!n.prop))return S_(he,n.prop).value}),V=D(()=>{const{required:he}=n,le=[];n.rules&&le.push(..._a(n.rules));const ue=r==null?void 0:r.rules;if(ue&&n.prop){const re=S_(ue,n.prop).value;re&&le.push(..._a(re))}if(he!==void 0){const re=le.map((we,Ae)=>[we,Ae]).filter(([we])=>Object.keys(we).includes("required"));if(re.length>0)for(const[we,Ae]of re)we.required!==he&&(le[Ae]={...we,required:he});else le.push({required:he})}return le}),H=D(()=>V.value.length>0),K=he=>V.value.filter(ue=>!ue.trigger||!he?!0:Array.isArray(ue.trigger)?ue.trigger.includes(he):ue.trigger===he).map(({trigger:ue,...re})=>re),U=D(()=>V.value.some(he=>he.required)),R=D(()=>{var he;return d.value==="error"&&n.showMessage&&((he=r==null?void 0:r.showMessage)!=null?he:!0)}),W=D(()=>`${n.label||""}${(r==null?void 0:r.labelSuffix)||""}`),G=he=>{c.value=he},P=he=>{var le,ue;const{errors:re,fields:we}=he;(!re||!we)&&console.error(he),G("error"),h.value=re?(ue=(le=re==null?void 0:re[0])==null?void 0:le.message)!=null?ue:`${n.prop} is required`:"",r==null||r.emit("validate",n.prop,!1,h.value)},j=()=>{G("success"),r==null||r.emit("validate",n.prop,!0,"")},J=async he=>{const le=x.value;return new ov({[le]:he}).validate({[le]:L.value},{firstFields:!0}).then(()=>(j(),!0)).catch(re=>(P(re),Promise.reject(re)))},ne=async(he,le)=>{if(m||!n.prop)return!1;const ue=yn(le);if(!H.value)return le==null||le(!1),!1;const re=K(he);return re.length===0?(le==null||le(!0),!0):(G("validating"),J(re).then(()=>(le==null||le(!0),!0)).catch(we=>{const{fields:Ae}=we;return le==null||le(!1,Ae),ue?!1:Promise.reject(Ae)}))},te=()=>{G(""),h.value="",m=!1},de=async()=>{const he=r==null?void 0:r.model;if(!he||!n.prop)return;const le=S_(he,n.prop);m=!0,le.value=MO(p),await it(),te(),m=!1},me=he=>{u.value.includes(he)||u.value.push(he)},_e=he=>{u.value=u.value.filter(le=>le!==he)};Ee(()=>n.error,he=>{h.value=he||"",G(he?"error":"")},{immediate:!0}),Ee(()=>n.validateStatus,he=>G(he||""));const ee=an({...Jr(n),$el:f,size:o,validateState:c,labelId:l,inputIds:u,isGroup:N,hasLabel:T,fieldValue:L,addInputId:me,removeInputId:_e,resetField:de,clearValidate:te,validate:ne});return At(Zl,ee),Et(()=>{n.prop&&(r==null||r.addField(ee),p=MO(L.value))}),ts(()=>{r==null||r.removeField(ee)}),e({size:o,validateMessage:h,validateState:c,validate:ne,clearValidate:te,resetField:de}),(he,le)=>{var ue;return S(),A("div",{ref_key:"formItemRef",ref:f,class:q(g(w)),role:g(N)?"group":void 0,"aria-labelledby":g(N)?g(l):void 0},[$(g(kye),{"is-auto-width":g(v).width==="auto","update-all":((ue=g(r))==null?void 0:ue.labelWidth)==="auto"},{default:se(()=>[g(T)?(S(),be(Gt(g(k)?"label":"div"),{key:0,id:g(l),for:g(k),class:q(g(i).e("label")),style:yt(g(v))},{default:se(()=>[oe(he.$slots,"label",{label:g(W)},()=>[ct(Me(g(W)),1)])]),_:3},8,["id","for","class","style"])):ce("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),I("div",{class:q(g(i).e("content")),style:yt(g(b))},[oe(he.$slots,"default"),$(mz,{name:`${g(i).namespace.value}-zoom-in-top`},{default:se(()=>[g(R)?oe(he.$slots,"error",{key:0,error:h.value},()=>[I("div",{class:q(g(C))},Me(h.value),3)]):ce("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var gH=Xe(Eye,[["__file","form-item.vue"]]);const T5=Ft(jve,{FormItem:gH}),rw=gs(gH);let Ui;const Iye=`
  height:0 !important;
  visibility:hidden !important;
  ${N$()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Nye=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Aye(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),s=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Nye.map(o=>`${o}:${e.getPropertyValue(o)}`).join(";"),paddingSize:s,borderSize:r,boxSizing:n}}function bR(t,e=1,n){var s;Ui||(Ui=document.createElement("textarea"),document.body.appendChild(Ui));const{paddingSize:r,borderSize:a,boxSizing:o,contextStyle:i}=Aye(t);Ui.setAttribute("style",`${i};${Iye}`),Ui.value=t.value||t.placeholder||"";let l=Ui.scrollHeight;const u={};o==="border-box"?l=l+a:o==="content-box"&&(l=l-r),Ui.value="";const c=Ui.scrollHeight-r;if(Tt(e)){let d=c*e;o==="border-box"&&(d=d+r+a),l=Math.max(d,l),u.minHeight=`${d}px`}if(Tt(n)){let d=c*n;o==="border-box"&&(d=d+r+a),l=Math.min(d,l)}return u.height=`${l}px`,(s=Ui.parentNode)==null||s.removeChild(Ui),Ui=void 0,u}const k5=qe({id:{type:String,default:void 0},size:_r,disabled:Boolean,modelValue:{type:ve([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ve([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Gn},prefixIcon:{type:Gn},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ve([Object,Array,String]),default:()=>hs({})},autofocus:Boolean,rows:{type:Number,default:2},...sa(["ariaLabel"])}),Dye={[Yt]:t=>qt(t),input:t=>qt(t),change:t=>qt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Oye=Z({name:"ElInput",inheritAttrs:!1}),Rye=Z({...Oye,props:k5,emits:Dye,setup(t,{expose:e,emit:n}){const s=t,r=af(),a=xr(),o=D(()=>{const Ge={};return s.containerRole==="combobox"&&(Ge["aria-haspopup"]=r["aria-haspopup"],Ge["aria-owns"]=r["aria-owns"],Ge["aria-expanded"]=r["aria-expanded"]),Ge}),i=D(()=>[s.type==="textarea"?y.b():m.b(),m.m(f.value),m.is("disabled",p.value),m.is("exceed",J.value),{[m.b("group")]:a.prepend||a.append,[m.m("prefix")]:a.prefix||s.prefixIcon,[m.m("suffix")]:a.suffix||s.suffixIcon||s.clearable||s.showPassword,[m.bm("suffix","password-clear")]:W.value&&G.value,[m.b("hidden")]:s.type==="hidden"},r.class]),l=D(()=>[m.e("wrapper"),m.is("focus",N.value)]),u=s5({excludeKeys:D(()=>Object.keys(o.value))}),{form:c,formItem:d}=Na(),{inputId:h}=ml(s,{formItemContext:d}),f=or(),p=ao(),m=Fe("input"),y=Fe("textarea"),v=Jn(),b=Jn(),w=B(!1),_=B(!1),C=B(),x=Jn(s.inputStyle),T=D(()=>v.value||b.value),{wrapperRef:k,isFocused:N}=av(T,{afterBlur(){var Ge;s.validateEvent&&((Ge=d==null?void 0:d.validate)==null||Ge.call(d,"blur").catch(fe=>void 0))}}),O=D(()=>{var Ge;return(Ge=c==null?void 0:c.statusIcon)!=null?Ge:!1}),L=D(()=>(d==null?void 0:d.validateState)||""),V=D(()=>L.value&&n5[L.value]),H=D(()=>_.value?Yge:_ge),K=D(()=>[r.style]),U=D(()=>[s.inputStyle,x.value,{resize:s.resize}]),R=D(()=>Lr(s.modelValue)?"":String(s.modelValue)),W=D(()=>s.clearable&&!p.value&&!s.readonly&&!!R.value&&(N.value||w.value)),G=D(()=>s.showPassword&&!p.value&&!s.readonly&&!!R.value&&(!!R.value||N.value)),P=D(()=>s.showWordLimit&&!!s.maxlength&&(s.type==="text"||s.type==="textarea")&&!p.value&&!s.readonly&&!s.showPassword),j=D(()=>R.value.length),J=D(()=>!!P.value&&j.value>Number(s.maxlength)),ne=D(()=>!!a.suffix||!!s.suffixIcon||W.value||s.showPassword||P.value||!!L.value&&O.value),[te,de]=cve(v);ds(b,Ge=>{if(ee(),!P.value||s.resize!=="both")return;const fe=Ge[0],{width:_t}=fe.contentRect;C.value={right:`calc(100% - ${_t+15+6}px)`}});const me=()=>{const{type:Ge,autosize:fe}=s;if(!(!hn||Ge!=="textarea"||!b.value))if(fe){const _t=Vn(fe)?fe.minRows:void 0,Dt=Vn(fe)?fe.maxRows:void 0,Qt=bR(b.value,_t,Dt);x.value={overflowY:"hidden",...Qt},it(()=>{b.value.offsetHeight,x.value=Qt})}else x.value={minHeight:bR(b.value).minHeight}},ee=(Ge=>{let fe=!1;return()=>{var _t;if(fe||!s.autosize)return;((_t=b.value)==null?void 0:_t.offsetParent)===null||(Ge(),fe=!0)}})(me),he=()=>{const Ge=T.value,fe=s.formatter?s.formatter(R.value):R.value;!Ge||Ge.value===fe||(Ge.value=fe)},le=async Ge=>{te();let{value:fe}=Ge.target;if(s.formatter&&(fe=s.parser?s.parser(fe):fe),!re.value){if(fe===R.value){he();return}n(Yt,fe),n("input",fe),await it(),he(),de()}},ue=Ge=>{n("change",Ge.target.value)},{isComposing:re,handleCompositionStart:we,handleCompositionUpdate:Ae,handleCompositionEnd:Ue}=ew({emit:n,afterComposition:le}),at=()=>{_.value=!_.value,ot()},ot=async()=>{var Ge;await it(),(Ge=T.value)==null||Ge.focus()},Pe=()=>{var Ge;return(Ge=T.value)==null?void 0:Ge.blur()},je=Ge=>{w.value=!1,n("mouseleave",Ge)},dt=Ge=>{w.value=!0,n("mouseenter",Ge)},Qe=Ge=>{n("keydown",Ge)},wt=()=>{var Ge;(Ge=T.value)==null||Ge.select()},vt=()=>{n(Yt,""),n("change",""),n("clear"),n("input","")};return Ee(()=>s.modelValue,()=>{var Ge;it(()=>me()),s.validateEvent&&((Ge=d==null?void 0:d.validate)==null||Ge.call(d,"change").catch(fe=>void 0))}),Ee(R,()=>he()),Ee(()=>s.type,async()=>{await it(),he(),me()}),Et(()=>{!s.formatter&&s.parser,he(),it(me)}),e({input:v,textarea:b,ref:T,textareaStyle:U,autosize:Nn(s,"autosize"),isComposing:re,focus:ot,blur:Pe,select:wt,clear:vt,resizeTextarea:me}),(Ge,fe)=>(S(),A("div",Kt(g(o),{class:[g(i),{[g(m).bm("group","append")]:Ge.$slots.append,[g(m).bm("group","prepend")]:Ge.$slots.prepend}],style:g(K),role:Ge.containerRole,onMouseenter:dt,onMouseleave:je}),[ce(" input "),Ge.type!=="textarea"?(S(),A(He,{key:0},[ce(" prepend slot "),Ge.$slots.prepend?(S(),A("div",{key:0,class:q(g(m).be("group","prepend"))},[oe(Ge.$slots,"prepend")],2)):ce("v-if",!0),I("div",{ref_key:"wrapperRef",ref:k,class:q(g(l))},[ce(" prefix slot "),Ge.$slots.prefix||Ge.prefixIcon?(S(),A("span",{key:0,class:q(g(m).e("prefix"))},[I("span",{class:q(g(m).e("prefix-inner"))},[oe(Ge.$slots,"prefix"),Ge.prefixIcon?(S(),be(g(Je),{key:0,class:q(g(m).e("icon"))},{default:se(()=>[(S(),be(Gt(Ge.prefixIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)):ce("v-if",!0),I("input",Kt({id:g(h),ref_key:"input",ref:v,class:g(m).e("inner")},g(u),{minlength:Ge.minlength,maxlength:Ge.maxlength,type:Ge.showPassword?_.value?"text":"password":Ge.type,disabled:g(p),readonly:Ge.readonly,autocomplete:Ge.autocomplete,tabindex:Ge.tabindex,"aria-label":Ge.ariaLabel,placeholder:Ge.placeholder,style:Ge.inputStyle,form:Ge.form,autofocus:Ge.autofocus,onCompositionstart:g(we),onCompositionupdate:g(Ae),onCompositionend:g(Ue),onInput:le,onChange:ue,onKeydown:Qe}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),ce(" suffix slot "),g(ne)?(S(),A("span",{key:1,class:q(g(m).e("suffix"))},[I("span",{class:q(g(m).e("suffix-inner"))},[!g(W)||!g(G)||!g(P)?(S(),A(He,{key:0},[oe(Ge.$slots,"suffix"),Ge.suffixIcon?(S(),be(g(Je),{key:0,class:q(g(m).e("icon"))},{default:se(()=>[(S(),be(Gt(Ge.suffixIcon)))]),_:1},8,["class"])):ce("v-if",!0)],64)):ce("v-if",!0),g(W)?(S(),be(g(Je),{key:1,class:q([g(m).e("icon"),g(m).e("clear")]),onMousedown:xt(g(xs),["prevent"]),onClick:vt},{default:se(()=>[$(g(yd))]),_:1},8,["class","onMousedown"])):ce("v-if",!0),g(G)?(S(),be(g(Je),{key:2,class:q([g(m).e("icon"),g(m).e("password")]),onClick:at},{default:se(()=>[(S(),be(Gt(g(H))))]),_:1},8,["class"])):ce("v-if",!0),g(P)?(S(),A("span",{key:3,class:q(g(m).e("count"))},[I("span",{class:q(g(m).e("count-inner"))},Me(g(j))+" / "+Me(Ge.maxlength),3)],2)):ce("v-if",!0),g(L)&&g(V)&&g(O)?(S(),be(g(Je),{key:4,class:q([g(m).e("icon"),g(m).e("validateIcon"),g(m).is("loading",g(L)==="validating")])},{default:se(()=>[(S(),be(Gt(g(V))))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)):ce("v-if",!0)],2),ce(" append slot "),Ge.$slots.append?(S(),A("div",{key:1,class:q(g(m).be("group","append"))},[oe(Ge.$slots,"append")],2)):ce("v-if",!0)],64)):(S(),A(He,{key:1},[ce(" textarea "),I("textarea",Kt({id:g(h),ref_key:"textarea",ref:b,class:[g(y).e("inner"),g(m).is("focus",g(N))]},g(u),{minlength:Ge.minlength,maxlength:Ge.maxlength,tabindex:Ge.tabindex,disabled:g(p),readonly:Ge.readonly,autocomplete:Ge.autocomplete,style:g(U),"aria-label":Ge.ariaLabel,placeholder:Ge.placeholder,form:Ge.form,autofocus:Ge.autofocus,rows:Ge.rows,onCompositionstart:g(we),onCompositionupdate:g(Ae),onCompositionend:g(Ue),onInput:le,onChange:ue,onKeydown:Qe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend"]),g(P)?(S(),A("span",{key:0,style:yt(C.value),class:q(g(m).e("count"))},Me(g(j))+" / "+Me(Ge.maxlength),7)):ce("v-if",!0)],64))],16,["role"]))}});var Lye=Xe(Rye,[["__file","input.vue"]]);const Gs=Ft(Lye),jf=4,vH={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Pye=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),$5=Symbol("scrollbarContextKey"),Mye=qe({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Fye="Thumb",Bye=Z({__name:"thumb",props:Mye,setup(t){const e=t,n=Le($5),s=Fe("scrollbar");n||br(Fye,"can not inject scrollbar context");const r=B(),a=B(),o=B({}),i=B(!1);let l=!1,u=!1,c=hn?document.onselectstart:null;const d=D(()=>vH[e.vertical?"vertical":"horizontal"]),h=D(()=>Pye({size:e.size,move:e.move,bar:d.value})),f=D(()=>r.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/a.value[d.value.offset]),p=x=>{var T;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(T=window.getSelection())==null||T.removeAllRanges(),y(x);const k=x.currentTarget;k&&(o.value[d.value.axis]=k[d.value.offset]-(x[d.value.client]-k.getBoundingClientRect()[d.value.direction]))},m=x=>{if(!a.value||!r.value||!n.wrapElement)return;const T=Math.abs(x.target.getBoundingClientRect()[d.value.direction]-x[d.value.client]),k=a.value[d.value.offset]/2,N=(T-k)*100*f.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=N*n.wrapElement[d.value.scrollSize]/100},y=x=>{x.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),c=document.onselectstart,document.onselectstart=()=>!1},v=x=>{if(!r.value||!a.value||l===!1)return;const T=o.value[d.value.axis];if(!T)return;const k=(r.value.getBoundingClientRect()[d.value.direction]-x[d.value.client])*-1,N=a.value[d.value.offset]-T,O=(k-N)*100*f.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=O*n.wrapElement[d.value.scrollSize]/100},b=()=>{l=!1,o.value[d.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),C(),u&&(i.value=!1)},w=()=>{u=!1,i.value=!!e.size},_=()=>{u=!0,i.value=l};ts(()=>{C(),document.removeEventListener("mouseup",b)});const C=()=>{document.onselectstart!==c&&(document.onselectstart=c)};return Fn(Nn(n,"scrollbarElement"),"mousemove",w),Fn(Nn(n,"scrollbarElement"),"mouseleave",_),(x,T)=>(S(),be(ar,{name:g(s).b("fade"),persisted:""},{default:se(()=>[zt(I("div",{ref_key:"instance",ref:r,class:q([g(s).e("bar"),g(s).is(g(d).key)]),onMousedown:m},[I("div",{ref_key:"thumb",ref:a,class:q(g(s).e("thumb")),style:yt(g(h)),onMousedown:p},null,38)],34),[[gn,x.always||i.value]])]),_:1},8,["name"]))}});var _R=Xe(Bye,[["__file","thumb.vue"]]);const zye=qe({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Vye=Z({__name:"bar",props:zye,setup(t,{expose:e}){const n=t,s=Le($5),r=B(0),a=B(0),o=B(""),i=B(""),l=B(1),u=B(1);return e({handleScroll:h=>{if(h){const f=h.offsetHeight-jf,p=h.offsetWidth-jf;a.value=h.scrollTop*100/f*l.value,r.value=h.scrollLeft*100/p*u.value}},update:()=>{const h=s==null?void 0:s.wrapElement;if(!h)return;const f=h.offsetHeight-jf,p=h.offsetWidth-jf,m=f**2/h.scrollHeight,y=p**2/h.scrollWidth,v=Math.max(m,n.minSize),b=Math.max(y,n.minSize);l.value=m/(f-m)/(v/(f-v)),u.value=y/(p-y)/(b/(p-b)),i.value=v+jf<f?`${v}px`:"",o.value=b+jf<p?`${b}px`:""}}),(h,f)=>(S(),A(He,null,[$(_R,{move:r.value,ratio:u.value,size:o.value,always:h.always},null,8,["move","ratio","size","always"]),$(_R,{move:a.value,ratio:l.value,size:i.value,vertical:"",always:h.always},null,8,["move","ratio","size","always"])],64))}});var Hye=Xe(Vye,[["__file","bar.vue"]]);const Uye=qe({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:ve([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...sa(["ariaLabel","ariaOrientation"])}),Wye={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Tt)},jye="ElScrollbar",Gye=Z({name:jye}),qye=Z({...Gye,props:Uye,emits:Wye,setup(t,{expose:e,emit:n}){const s=t,r=Fe("scrollbar");let a,o,i=0,l=0;const u=B(),c=B(),d=B(),h=B(),f=D(()=>{const C={};return s.height&&(C.height=Es(s.height)),s.maxHeight&&(C.maxHeight=Es(s.maxHeight)),[s.wrapStyle,C]}),p=D(()=>[s.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!s.native}]),m=D(()=>[r.e("view"),s.viewClass]),y=()=>{var C;c.value&&((C=h.value)==null||C.handleScroll(c.value),i=c.value.scrollTop,l=c.value.scrollLeft,n("scroll",{scrollTop:c.value.scrollTop,scrollLeft:c.value.scrollLeft}))};function v(C,x){Vn(C)?c.value.scrollTo(C):Tt(C)&&Tt(x)&&c.value.scrollTo(C,x)}const b=C=>{Tt(C)&&(c.value.scrollTop=C)},w=C=>{Tt(C)&&(c.value.scrollLeft=C)},_=()=>{var C;(C=h.value)==null||C.update()};return Ee(()=>s.noresize,C=>{C?(a==null||a(),o==null||o()):({stop:a}=ds(d,_),o=Fn("resize",_))},{immediate:!0}),Ee(()=>[s.maxHeight,s.height],()=>{s.native||it(()=>{var C;_(),c.value&&((C=h.value)==null||C.handleScroll(c.value))})}),At($5,an({scrollbarElement:u,wrapElement:c})),gz(()=>{c.value.scrollTop=i,c.value.scrollLeft=l}),Et(()=>{s.native||it(()=>{_()})}),gd(()=>_()),e({wrapRef:c,update:_,scrollTo:v,setScrollTop:b,setScrollLeft:w,handleScroll:y}),(C,x)=>(S(),A("div",{ref_key:"scrollbarRef",ref:u,class:q(g(r).b())},[I("div",{ref_key:"wrapRef",ref:c,class:q(g(p)),style:yt(g(f)),onScroll:y},[(S(),be(Gt(C.tag),{id:C.id,ref_key:"resizeRef",ref:d,class:q(g(m)),style:yt(C.viewStyle),role:C.role,"aria-label":C.ariaLabel,"aria-orientation":C.ariaOrientation},{default:se(()=>[oe(C.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),C.native?ce("v-if",!0):(S(),be(Hye,{key:0,ref_key:"barRef",ref:h,always:C.always,"min-size":C.minSize},null,8,["always","min-size"]))],2))}});var Kye=Xe(qye,[["__file","scrollbar.vue"]]);const vr=Ft(Kye),E5=Symbol("popper"),yH=Symbol("popperContent"),Xye=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],bH=qe({role:{type:String,values:Xye,default:"tooltip"}}),Yye=Z({name:"ElPopper",inheritAttrs:!1}),Qye=Z({...Yye,props:bH,setup(t,{expose:e}){const n=t,s=B(),r=B(),a=B(),o=B(),i=D(()=>n.role),l={triggerRef:s,popperInstanceRef:r,contentRef:a,referenceRef:o,role:i};return e(l),At(E5,l),(u,c)=>oe(u.$slots,"default")}});var Zye=Xe(Qye,[["__file","popper.vue"]]);const _H=qe({arrowOffset:{type:Number,default:5}}),Jye=Z({name:"ElPopperArrow",inheritAttrs:!1}),ebe=Z({...Jye,props:_H,setup(t,{expose:e}){const n=t,s=Fe("popper"),{arrowOffset:r,arrowRef:a,arrowStyle:o}=Le(yH,void 0);return Ee(()=>n.arrowOffset,i=>{r.value=i}),ts(()=>{a.value=void 0}),e({arrowRef:a}),(i,l)=>(S(),A("span",{ref_key:"arrowRef",ref:a,class:q(g(s).e("arrow")),style:yt(g(o)),"data-popper-arrow":""},null,6))}});var tbe=Xe(ebe,[["__file","arrow.vue"]]);const nbe="ElOnlyChild",wH=Z({name:nbe,setup(t,{slots:e,attrs:n}){var s;const r=Le(XV),a=A1e((s=r==null?void 0:r.setForwardRef)!=null?s:xs);return()=>{var o;const i=(o=e.default)==null?void 0:o.call(e,n);if(!i||i.length>1)return null;const l=xH(i);return l?zt(tae(l,n),[[a]]):null}}});function xH(t){if(!t)return null;const e=t;for(const n of e){if(Vn(n))switch(n.type){case y$:continue;case vz:case"svg":return wR(n);case He:return xH(n.children);default:return n}return wR(n)}return null}function wR(t){const e=Fe("only-child");return $("span",{class:e.e("content")},[t])}const CH=qe({virtualRef:{type:ve(Object)},virtualTriggering:Boolean,onMouseenter:{type:ve(Function)},onMouseleave:{type:ve(Function)},onClick:{type:ve(Function)},onKeydown:{type:ve(Function)},onFocus:{type:ve(Function)},onBlur:{type:ve(Function)},onContextmenu:{type:ve(Function)},id:String,open:Boolean}),sbe=Z({name:"ElPopperTrigger",inheritAttrs:!1}),rbe=Z({...sbe,props:CH,setup(t,{expose:e}){const n=t,{role:s,triggerRef:r}=Le(E5,void 0);N1e(r);const a=D(()=>i.value?n.id:void 0),o=D(()=>{if(s&&s.value==="tooltip")return n.open&&n.id?n.id:void 0}),i=D(()=>{if(s&&s.value!=="tooltip")return s.value}),l=D(()=>i.value?`${n.open}`:void 0);let u;const c=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Et(()=>{Ee(()=>n.virtualRef,d=>{d&&(r.value=vo(d))},{immediate:!0}),Ee(r,(d,h)=>{u==null||u(),u=void 0,qo(d)&&(c.forEach(f=>{var p;const m=n[f];m&&(d.addEventListener(f.slice(2).toLowerCase(),m),(p=h==null?void 0:h.removeEventListener)==null||p.call(h,f.slice(2).toLowerCase(),m))}),u=Ee([a,o,i,l],f=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,m)=>{Lr(f[m])?d.removeAttribute(p):d.setAttribute(p,f[m])})},{immediate:!0})),qo(h)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(f=>h.removeAttribute(f))},{immediate:!0})}),ts(()=>{if(u==null||u(),u=void 0,r.value&&qo(r.value)){const d=r.value;c.forEach(h=>{const f=n[h];f&&d.removeEventListener(h.slice(2).toLowerCase(),f)}),r.value=void 0}}),e({triggerRef:r}),(d,h)=>d.virtualTriggering?ce("v-if",!0):(S(),be(g(wH),Kt({key:0},d.$attrs,{"aria-controls":g(a),"aria-describedby":g(o),"aria-expanded":g(l),"aria-haspopup":g(i)}),{default:se(()=>[oe(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var abe=Xe(rbe,[["__file","trigger.vue"]]);const G8="focus-trap.focus-after-trapped",q8="focus-trap.focus-after-released",obe="focus-trap.focusout-prevented",xR={cancelable:!0,bubbles:!1},ibe={cancelable:!0,bubbles:!1},CR="focusAfterTrapped",SR="focusAfterReleased",I5=Symbol("elFocusTrap"),N5=B(),aw=B(0),A5=B(0);let Mb=0;const SH=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0||s===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},TR=(t,e)=>{for(const n of t)if(!lbe(n,e))return n},lbe=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},ube=t=>{const e=SH(t),n=TR(e,t),s=TR(e.reverse(),t);return[n,s]},cbe=t=>t instanceof HTMLInputElement&&"select"in t,kc=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),A5.value=window.performance.now(),t!==n&&cbe(t)&&e&&t.select()}};function kR(t,e){const n=[...t],s=t.indexOf(e);return s!==-1&&n.splice(s,1),n}const dbe=()=>{let t=[];return{push:s=>{const r=t[0];r&&s!==r&&r.pause(),t=kR(t,s),t.unshift(s)},remove:s=>{var r,a;t=kR(t,s),(a=(r=t[0])==null?void 0:r.resume)==null||a.call(r)}}},hbe=(t,e=!1)=>{const n=document.activeElement;for(const s of t)if(kc(s,e),document.activeElement!==n)return},$R=dbe(),fbe=()=>aw.value>A5.value,Fb=()=>{N5.value="pointer",aw.value=window.performance.now()},ER=()=>{N5.value="keyboard",aw.value=window.performance.now()},pbe=()=>(Et(()=>{Mb===0&&(document.addEventListener("mousedown",Fb),document.addEventListener("touchstart",Fb),document.addEventListener("keydown",ER)),Mb++}),ts(()=>{Mb--,Mb<=0&&(document.removeEventListener("mousedown",Fb),document.removeEventListener("touchstart",Fb),document.removeEventListener("keydown",ER))}),{focusReason:N5,lastUserFocusTimestamp:aw,lastAutomatedFocusTimestamp:A5}),Bb=t=>new CustomEvent(obe,{...ibe,detail:t}),mbe=Z({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[CR,SR,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=B();let s,r;const{focusReason:a}=pbe();T1e(p=>{t.trapped&&!o.paused&&e("release-requested",p)});const o={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},i=p=>{if(!t.loop&&!t.trapped||o.paused)return;const{key:m,altKey:y,ctrlKey:v,metaKey:b,currentTarget:w,shiftKey:_}=p,{loop:C}=t,x=m===gt.tab&&!y&&!v&&!b,T=document.activeElement;if(x&&T){const k=w,[N,O]=ube(k);if(N&&O){if(!_&&T===O){const V=Bb({focusReason:a.value});e("focusout-prevented",V),V.defaultPrevented||(p.preventDefault(),C&&kc(N,!0))}else if(_&&[N,k].includes(T)){const V=Bb({focusReason:a.value});e("focusout-prevented",V),V.defaultPrevented||(p.preventDefault(),C&&kc(O,!0))}}else if(T===k){const V=Bb({focusReason:a.value});e("focusout-prevented",V),V.defaultPrevented||p.preventDefault()}}};At(I5,{focusTrapRef:n,onKeydown:i}),Ee(()=>t.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Ee([n],([p],[m])=>{p&&(p.addEventListener("keydown",i),p.addEventListener("focusin",c),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",i),m.removeEventListener("focusin",c),m.removeEventListener("focusout",d))});const l=p=>{e(CR,p)},u=p=>e(SR,p),c=p=>{const m=g(n);if(!m)return;const y=p.target,v=p.relatedTarget,b=y&&m.contains(y);t.trapped||v&&m.contains(v)||(s=v),b&&e("focusin",p),!o.paused&&t.trapped&&(b?r=y:kc(r,!0))},d=p=>{const m=g(n);if(!(o.paused||!m))if(t.trapped){const y=p.relatedTarget;!Lr(y)&&!m.contains(y)&&setTimeout(()=>{if(!o.paused&&t.trapped){const v=Bb({focusReason:a.value});e("focusout-prevented",v),v.defaultPrevented||kc(r,!0)}},0)}else{const y=p.target;y&&m.contains(y)||e("focusout",p)}};async function h(){await it();const p=g(n);if(p){$R.push(o);const m=p.contains(document.activeElement)?s:document.activeElement;if(s=m,!p.contains(m)){const v=new Event(G8,xR);p.addEventListener(G8,l),p.dispatchEvent(v),v.defaultPrevented||it(()=>{let b=t.focusStartEl;qt(b)||(kc(b),document.activeElement!==b&&(b="first")),b==="first"&&hbe(SH(p),!0),(document.activeElement===m||b==="container")&&kc(p)})}}}function f(){const p=g(n);if(p){p.removeEventListener(G8,l);const m=new CustomEvent(q8,{...xR,detail:{focusReason:a.value}});p.addEventListener(q8,u),p.dispatchEvent(m),!m.defaultPrevented&&(a.value=="keyboard"||!fbe()||p.contains(document.activeElement))&&kc(s??document.body),p.removeEventListener(q8,u),$R.remove(o)}}return Et(()=>{t.trapped&&h(),Ee(()=>t.trapped,p=>{p?h():f()})}),ts(()=>{t.trapped&&f(),n.value&&(n.value.removeEventListener("keydown",i),n.value.removeEventListener("focusin",c),n.value.removeEventListener("focusout",d),n.value=void 0)}),{onKeydown:i}}});function gbe(t,e,n,s,r,a){return oe(t.$slots,"default",{handleKeydown:t.onKeydown})}var iv=Xe(mbe,[["render",gbe],["__file","focus-trap.vue"]]);const vbe=["fixed","absolute"],ybe=qe({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:ve(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:cf,default:"bottom"},popperOptions:{type:ve(Object),default:()=>({})},strategy:{type:String,values:vbe,default:"absolute"}}),TH=qe({...ybe,id:String,style:{type:ve([String,Array,Object])},className:{type:ve([String,Array,Object])},effect:{type:ve(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:ve([String,Array,Object])},popperStyle:{type:ve([String,Array,Object])},referenceEl:{type:ve(Object)},triggerTargetEl:{type:ve(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...sa(["ariaLabel"])}),bbe={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},_be=(t,e=[])=>{const{placement:n,strategy:s,popperOptions:r}=t,a={placement:n,strategy:s,...r,modifiers:[...xbe(t),...e]};return Cbe(a,r==null?void 0:r.modifiers),a},wbe=t=>{if(hn)return vo(t)};function xbe(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:s}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:s}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function Cbe(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const Sbe=0,Tbe=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:s,role:r}=Le(E5,void 0),a=B(),o=B(),i=D(()=>({name:"eventListeners",enabled:!!t.visible})),l=D(()=>{var v;const b=g(a),w=(v=g(o))!=null?v:Sbe;return{name:"arrow",enabled:!wV(b),options:{element:b,padding:w}}}),u=D(()=>({onFirstUpdate:()=>{p()},..._be(t,[g(l),g(i)])})),c=D(()=>wbe(t.referenceEl)||g(s)),{attributes:d,state:h,styles:f,update:p,forceUpdate:m,instanceRef:y}=w1e(c,n,u);return Ee(y,v=>e.value=v),Et(()=>{Ee(()=>{var v;return(v=g(c))==null?void 0:v.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:a,contentRef:n,instanceRef:y,state:h,styles:f,role:r,forceUpdate:m,update:p}},kbe=(t,{attributes:e,styles:n,role:s})=>{const{nextZIndex:r}=P0(),a=Fe("popper"),o=D(()=>g(e).popper),i=B(Tt(t.zIndex)?t.zIndex:r()),l=D(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),u=D(()=>[{zIndex:g(i)},g(n).popper,t.popperStyle||{}]),c=D(()=>s.value==="dialog"?"false":void 0),d=D(()=>g(n).arrow||{});return{ariaModal:c,arrowStyle:d,contentAttrs:o,contentClass:l,contentStyle:u,contentZIndex:i,updateZIndex:()=>{i.value=Tt(t.zIndex)?t.zIndex:r()}}},$be=(t,e)=>{const n=B(!1),s=B();return{focusStartRef:s,trapped:n,onFocusAfterReleased:u=>{var c;((c=u.detail)==null?void 0:c.focusReason)!=="pointer"&&(s.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:u=>{t.visible&&!n.value&&(u.target&&(s.value=u.target),n.value=!0)},onFocusoutPrevented:u=>{t.trapping||(u.detail.focusReason==="pointer"&&u.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},Ebe=Z({name:"ElPopperContent"}),Ibe=Z({...Ebe,props:TH,emits:bbe,setup(t,{expose:e,emit:n}){const s=t,{focusStartRef:r,trapped:a,onFocusAfterReleased:o,onFocusAfterTrapped:i,onFocusInTrap:l,onFocusoutPrevented:u,onReleaseRequested:c}=$be(s,n),{attributes:d,arrowRef:h,contentRef:f,styles:p,instanceRef:m,role:y,update:v}=Tbe(s),{ariaModal:b,arrowStyle:w,contentAttrs:_,contentClass:C,contentStyle:x,updateZIndex:T}=kbe(s,{styles:p,attributes:d,role:y}),k=Le(Zl,void 0),N=B();At(yH,{arrowStyle:w,arrowRef:h,arrowOffset:N}),k&&At(Zl,{...k,addInputId:xs,removeInputId:xs});let O;const L=(H=!0)=>{v(),H&&T()},V=()=>{L(!1),s.visible&&s.focusOnShow?a.value=!0:s.visible===!1&&(a.value=!1)};return Et(()=>{Ee(()=>s.triggerTargetEl,(H,K)=>{O==null||O(),O=void 0;const U=g(H||f.value),R=g(K||f.value);qo(U)&&(O=Ee([y,()=>s.ariaLabel,b,()=>s.id],W=>{["role","aria-label","aria-modal","id"].forEach((G,P)=>{Lr(W[P])?U.removeAttribute(G):U.setAttribute(G,W[P])})},{immediate:!0})),R!==U&&qo(R)&&["role","aria-label","aria-modal","id"].forEach(W=>{R.removeAttribute(W)})},{immediate:!0}),Ee(()=>s.visible,V,{immediate:!0})}),ts(()=>{O==null||O(),O=void 0}),e({popperContentRef:f,popperInstanceRef:m,updatePopper:L,contentStyle:x}),(H,K)=>(S(),A("div",Kt({ref_key:"contentRef",ref:f},g(_),{style:g(x),class:g(C),tabindex:"-1",onMouseenter:U=>H.$emit("mouseenter",U),onMouseleave:U=>H.$emit("mouseleave",U)}),[$(g(iv),{trapped:g(a),"trap-on-focus-in":!0,"focus-trap-el":g(f),"focus-start-el":g(r),onFocusAfterTrapped:g(i),onFocusAfterReleased:g(o),onFocusin:g(l),onFocusoutPrevented:g(u),onReleaseRequested:g(c)},{default:se(()=>[oe(H.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var Nbe=Xe(Ibe,[["__file","content.vue"]]);const kH=Ft(Zye),ow=Symbol("elTooltip"),Dr=qe({...E1e,...TH,appendTo:{type:ve([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:ve(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...sa(["ariaLabel"])}),s1=qe({...CH,disabled:Boolean,trigger:{type:ve([String,Array]),default:"hover"},triggerKeys:{type:ve(Array),default:()=>[gt.enter,gt.space]}}),{useModelToggleProps:Abe,useModelToggleEmits:Dbe,useModelToggle:Obe}=LV("visible"),Rbe=qe({...bH,...Abe,...Dr,...s1,..._H,showArrow:{type:Boolean,default:!0}}),Lbe=[...Dbe,"before-show","before-hide","show","hide","open","close"],Pbe=(t,e)=>Mt(t)?t.includes(e):t===e,Gf=(t,e,n)=>s=>{Pbe(g(t),e)&&n(s)},Mbe=Z({name:"ElTooltipTrigger"}),Fbe=Z({...Mbe,props:s1,setup(t,{expose:e}){const n=t,s=Fe("tooltip"),{controlled:r,id:a,open:o,onOpen:i,onClose:l,onToggle:u}=Le(ow,void 0),c=B(null),d=()=>{if(g(r)||n.disabled)return!0},h=Nn(n,"trigger"),f=Cs(d,Gf(h,"hover",i)),p=Cs(d,Gf(h,"hover",l)),m=Cs(d,Gf(h,"click",_=>{_.button===0&&u(_)})),y=Cs(d,Gf(h,"focus",i)),v=Cs(d,Gf(h,"focus",l)),b=Cs(d,Gf(h,"contextmenu",_=>{_.preventDefault(),u(_)})),w=Cs(d,_=>{const{code:C}=_;n.triggerKeys.includes(C)&&(_.preventDefault(),u(_))});return e({triggerRef:c}),(_,C)=>(S(),be(g(abe),{id:g(a),"virtual-ref":_.virtualRef,open:g(o),"virtual-triggering":_.virtualTriggering,class:q(g(s).e("trigger")),onBlur:g(v),onClick:g(m),onContextmenu:g(b),onFocus:g(y),onMouseenter:g(f),onMouseleave:g(p),onKeydown:g(w)},{default:se(()=>[oe(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Bbe=Xe(Fbe,[["__file","trigger.vue"]]);const zbe=qe({to:{type:ve([String,Object]),required:!0},disabled:Boolean}),Vbe=Z({__name:"teleport",props:zbe,setup(t){return(e,n)=>e.disabled?oe(e.$slots,"default",{key:0}):(S(),be(M4,{key:1,to:e.to},[oe(e.$slots,"default")],8,["to"]))}});var Hbe=Xe(Vbe,[["__file","teleport.vue"]]);const F0=Ft(Hbe),Ube=Z({name:"ElTooltipContent",inheritAttrs:!1}),Wbe=Z({...Ube,props:Dr,setup(t,{expose:e}){const n=t,{selector:s}=KV(),r=Fe("tooltip"),a=B(null);let o;const{controlled:i,id:l,open:u,trigger:c,onClose:d,onOpen:h,onShow:f,onHide:p,onBeforeShow:m,onBeforeHide:y}=Le(ow,void 0),v=D(()=>n.transition||`${r.namespace.value}-fade-in-linear`),b=D(()=>n.persistent);ts(()=>{o==null||o()});const w=D(()=>g(b)?!0:g(u)),_=D(()=>n.disabled?!1:g(u)),C=D(()=>n.appendTo||s.value),x=D(()=>{var R;return(R=n.style)!=null?R:{}}),T=D(()=>!g(u)),k=()=>{p()},N=()=>{if(g(i))return!0},O=Cs(N,()=>{n.enterable&&g(c)==="hover"&&h()}),L=Cs(N,()=>{g(c)==="hover"&&d()}),V=()=>{var R,W;(W=(R=a.value)==null?void 0:R.updatePopper)==null||W.call(R),m==null||m()},H=()=>{y==null||y()},K=()=>{f(),o=I$(D(()=>{var R;return(R=a.value)==null?void 0:R.popperContentRef}),()=>{if(g(i))return;g(c)!=="hover"&&d()})},U=()=>{n.virtualTriggering||d()};return Ee(()=>g(u),R=>{R||o==null||o()},{flush:"post"}),Ee(()=>n.content,()=>{var R,W;(W=(R=a.value)==null?void 0:R.updatePopper)==null||W.call(R)}),e({contentRef:a}),(R,W)=>(S(),be(g(F0),{disabled:!R.teleported,to:g(C)},{default:se(()=>[$(ar,{name:g(v),onAfterLeave:k,onBeforeEnter:V,onAfterEnter:K,onBeforeLeave:H},{default:se(()=>[g(w)?zt((S(),be(g(Nbe),Kt({key:0,id:g(l),ref_key:"contentRef",ref:a},R.$attrs,{"aria-label":R.ariaLabel,"aria-hidden":g(T),"boundaries-padding":R.boundariesPadding,"fallback-placements":R.fallbackPlacements,"gpu-acceleration":R.gpuAcceleration,offset:R.offset,placement:R.placement,"popper-options":R.popperOptions,strategy:R.strategy,effect:R.effect,enterable:R.enterable,pure:R.pure,"popper-class":R.popperClass,"popper-style":[R.popperStyle,g(x)],"reference-el":R.referenceEl,"trigger-target-el":R.triggerTargetEl,visible:g(_),"z-index":R.zIndex,onMouseenter:g(O),onMouseleave:g(L),onBlur:U,onClose:g(d)}),{default:se(()=>[oe(R.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[gn,g(_)]]):ce("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var jbe=Xe(Wbe,[["__file","content.vue"]]);const Gbe=Z({name:"ElTooltip"}),qbe=Z({...Gbe,props:Rbe,emits:Lbe,setup(t,{expose:e,emit:n}){const s=t;$1e();const r=pa(),a=B(),o=B(),i=()=>{var v;const b=g(a);b&&((v=b.popperInstanceRef)==null||v.update())},l=B(!1),u=B(),{show:c,hide:d,hasUpdateHandler:h}=Obe({indicator:l,toggleReason:u}),{onOpen:f,onClose:p}=I1e({showAfter:Nn(s,"showAfter"),hideAfter:Nn(s,"hideAfter"),autoClose:Nn(s,"autoClose"),open:c,close:d}),m=D(()=>Ms(s.visible)&&!h.value);At(ow,{controlled:m,id:r,open:rf(l),trigger:Nn(s,"trigger"),onOpen:v=>{f(v)},onClose:v=>{p(v)},onToggle:v=>{g(l)?p(v):f(v)},onShow:()=>{n("show",u.value)},onHide:()=>{n("hide",u.value)},onBeforeShow:()=>{n("before-show",u.value)},onBeforeHide:()=>{n("before-hide",u.value)},updatePopper:i}),Ee(()=>s.disabled,v=>{v&&l.value&&(l.value=!1)});const y=v=>{var b,w;const _=(w=(b=o.value)==null?void 0:b.contentRef)==null?void 0:w.popperContentRef,C=(v==null?void 0:v.relatedTarget)||document.activeElement;return _&&_.contains(C)};return nae(()=>l.value&&d()),e({popperRef:a,contentRef:o,isFocusInsideContent:y,updatePopper:i,onOpen:f,onClose:p,hide:d}),(v,b)=>(S(),be(g(kH),{ref_key:"popperRef",ref:a,role:v.role},{default:se(()=>[$(Bbe,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:se(()=>[v.$slots.default?oe(v.$slots,"default",{key:0}):ce("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),$(jbe,{ref_key:"contentRef",ref:o,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:se(()=>[oe(v.$slots,"content",{},()=>[v.rawContent?(S(),A("span",{key:0,innerHTML:v.content},null,8,["innerHTML"])):(S(),A("span",{key:1},Me(v.content),1))]),v.showArrow?(S(),be(g(tbe),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):ce("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Kbe=Xe(qbe,[["__file","tooltip.vue"]]);const ys=Ft(Kbe),Xbe=qe({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:ve(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:ve([Function,Array]),default:xs},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Dr.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...sa(["ariaLabel"])}),Ybe={[Yt]:t=>qt(t),[qa]:t=>qt(t),[ns]:t=>qt(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>Vn(t)},$H="ElAutocomplete",Qbe=Z({name:$H,inheritAttrs:!1}),Zbe=Z({...Qbe,props:Xbe,emits:Ybe,setup(t,{expose:e,emit:n}){const s=t,r=s5(),a=af(),o=ao(),i=Fe("autocomplete"),l=B(),u=B(),c=B(),d=B();let h=!1,f=!1;const p=B([]),m=B(-1),y=B(""),v=B(!1),b=B(!1),w=B(!1),_=pa(),C=D(()=>a.style),x=D(()=>(p.value.length>0||w.value)&&v.value),T=D(()=>!s.hideLoading&&w.value),k=D(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),N=()=>{x.value&&(y.value=`${l.value.$el.offsetWidth}px`)},O=()=>{m.value=-1},V=So(async ee=>{if(b.value)return;const he=le=>{w.value=!1,!b.value&&(Mt(le)?(p.value=le,m.value=s.highlightFirstItem?0:-1):br($H,"autocomplete suggestions must be an array"))};if(w.value=!0,Mt(s.fetchSuggestions))he(s.fetchSuggestions);else{const le=await s.fetchSuggestions(ee,he);Mt(le)&&he(le)}},s.debounce),H=ee=>{const he=!!ee;if(n(qa,ee),n(Yt,ee),b.value=!1,v.value||(v.value=he),!s.triggerOnFocus&&!ee){b.value=!0,p.value=[];return}V(ee)},K=ee=>{var he;o.value||(((he=ee.target)==null?void 0:he.tagName)!=="INPUT"||k.value.includes(document.activeElement))&&(v.value=!0)},U=ee=>{n(ns,ee)},R=ee=>{f?f=!1:(v.value=!0,n("focus",ee),s.triggerOnFocus&&!h&&V(String(s.modelValue)))},W=ee=>{setTimeout(()=>{var he;if((he=c.value)!=null&&he.isFocusInsideContent()){f=!0;return}v.value&&J(),n("blur",ee)})},G=()=>{v.value=!1,n(Yt,""),n("clear")},P=async()=>{x.value&&m.value>=0&&m.value<p.value.length?de(p.value[m.value]):s.selectWhenUnmatched&&(n("select",{value:s.modelValue}),p.value=[],m.value=-1)},j=ee=>{x.value&&(ee.preventDefault(),ee.stopPropagation(),J())},J=()=>{v.value=!1},ne=()=>{var ee;(ee=l.value)==null||ee.focus()},te=()=>{var ee;(ee=l.value)==null||ee.blur()},de=async ee=>{n(qa,ee[s.valueKey]),n(Yt,ee[s.valueKey]),n("select",ee),p.value=[],m.value=-1},me=ee=>{if(!x.value||w.value)return;if(ee<0){m.value=-1;return}ee>=p.value.length&&(ee=p.value.length-1);const he=u.value.querySelector(`.${i.be("suggestion","wrap")}`),ue=he.querySelectorAll(`.${i.be("suggestion","list")} li`)[ee],re=he.scrollTop,{offsetTop:we,scrollHeight:Ae}=ue;we+Ae>re+he.clientHeight&&(he.scrollTop+=Ae),we<re&&(he.scrollTop-=Ae),m.value=ee,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`)},_e=I$(d,()=>{x.value&&J()});return ts(()=>{_e==null||_e()}),Et(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`),h=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:v,loading:w,inputRef:l,popperRef:c,suggestions:p,handleSelect:de,handleKeyEnter:P,focus:ne,blur:te,close:J,highlight:me}),(ee,he)=>(S(),be(g(ys),{ref_key:"popperRef",ref:c,visible:g(x),placement:ee.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[g(i).e("popper"),ee.popperClass],teleported:ee.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${g(i).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:N,onHide:O},{content:se(()=>[I("div",{ref_key:"regionRef",ref:u,class:q([g(i).b("suggestion"),g(i).is("loading",g(T))]),style:yt({[ee.fitInputWidth?"width":"minWidth"]:y.value,outline:"none"}),role:"region"},[$(g(vr),{id:g(_),tag:"ul","wrap-class":g(i).be("suggestion","wrap"),"view-class":g(i).be("suggestion","list"),role:"listbox"},{default:se(()=>[g(T)?(S(),A("li",{key:0},[oe(ee.$slots,"loading",{},()=>[$(g(Je),{class:q(g(i).is("loading"))},{default:se(()=>[$(g(Xl))]),_:1},8,["class"])])])):(S(!0),A(He,{key:1},Ut(p.value,(le,ue)=>(S(),A("li",{id:`${g(_)}-item-${ue}`,key:ue,class:q({highlighted:m.value===ue}),role:"option","aria-selected":m.value===ue,onClick:re=>de(le)},[oe(ee.$slots,"default",{item:le},()=>[ct(Me(le[ee.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:se(()=>[I("div",{ref_key:"listboxRef",ref:d,class:q([g(i).b(),ee.$attrs.class]),style:yt(g(C)),role:"combobox","aria-haspopup":"listbox","aria-expanded":g(x),"aria-owns":g(_)},[$(g(Gs),Kt({ref_key:"inputRef",ref:l},g(r),{clearable:ee.clearable,disabled:g(o),name:ee.name,"model-value":ee.modelValue,"aria-label":ee.ariaLabel,onInput:H,onChange:U,onFocus:R,onBlur:W,onClear:G,onKeydown:[Pn(xt(le=>me(m.value-1),["prevent"]),["up"]),Pn(xt(le=>me(m.value+1),["prevent"]),["down"]),Pn(P,["enter"]),Pn(J,["tab"]),Pn(j,["esc"])],onMousedown:K}),Ei({_:2},[ee.$slots.prepend?{name:"prepend",fn:se(()=>[oe(ee.$slots,"prepend")])}:void 0,ee.$slots.append?{name:"append",fn:se(()=>[oe(ee.$slots,"append")])}:void 0,ee.$slots.prefix?{name:"prefix",fn:se(()=>[oe(ee.$slots,"prefix")])}:void 0,ee.$slots.suffix?{name:"suffix",fn:se(()=>[oe(ee.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var Jbe=Xe(Zbe,[["__file","autocomplete.vue"]]);const e_e=Ft(Jbe),t_e=qe({size:{type:[Number,String],values:uu,default:"",validator:t=>Tt(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Gn},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:ve(String),default:"cover"}}),n_e={error:t=>t instanceof Event},s_e=Z({name:"ElAvatar"}),r_e=Z({...s_e,props:t_e,emits:n_e,setup(t,{emit:e}){const n=t,s=Fe("avatar"),r=B(!1),a=D(()=>{const{size:u,icon:c,shape:d}=n,h=[s.b()];return qt(u)&&h.push(s.m(u)),c&&h.push(s.m("icon")),d&&h.push(s.m(d)),h}),o=D(()=>{const{size:u}=n;return Tt(u)?s.cssVarBlock({size:Es(u)||""}):void 0}),i=D(()=>({objectFit:n.fit}));Ee(()=>n.src,()=>r.value=!1);function l(u){r.value=!0,e("error",u)}return(u,c)=>(S(),A("span",{class:q(g(a)),style:yt(g(o))},[(u.src||u.srcSet)&&!r.value?(S(),A("img",{key:0,src:u.src,alt:u.alt,srcset:u.srcSet,style:yt(g(i)),onError:l},null,44,["src","alt","srcset"])):u.icon?(S(),be(g(Je),{key:1},{default:se(()=>[(S(),be(Gt(u.icon)))]),_:1})):oe(u.$slots,"default",{key:2})],6))}});var a_e=Xe(r_e,[["__file","avatar.vue"]]);const o_e=Ft(a_e),i_e={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},l_e={click:t=>t instanceof MouseEvent},u_e=(t,e,n)=>{const s=Jn(),r=Jn(),a=B(!1),o=()=>{s.value&&(a.value=s.value.scrollTop>=t.visibilityHeight)},i=u=>{var c;(c=s.value)==null||c.scrollTo({top:0,behavior:"smooth"}),e("click",u)},l=Oz(o,300,!0);return Fn(r,"scroll",l),Et(()=>{var u;r.value=document,s.value=document.documentElement,t.target&&(s.value=(u=document.querySelector(t.target))!=null?u:void 0,s.value||br(n,`target does not exist: ${t.target}`),r.value=s.value),o()}),{visible:a,handleClick:i}},EH="ElBacktop",c_e=Z({name:EH}),d_e=Z({...c_e,props:i_e,emits:l_e,setup(t,{emit:e}){const n=t,s=Fe("backtop"),{handleClick:r,visible:a}=u_e(n,e,EH),o=D(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(i,l)=>(S(),be(ar,{name:`${g(s).namespace.value}-fade-in`},{default:se(()=>[g(a)?(S(),A("div",{key:0,style:yt(g(o)),class:q(g(s).b()),onClick:xt(g(r),["stop"])},[oe(i.$slots,"default",{},()=>[$(g(Je),{class:q(g(s).e("icon"))},{default:se(()=>[$(g(nge))]),_:1},8,["class"])])],14,["onClick"])):ce("v-if",!0)]),_:3},8,["name"]))}});var h_e=Xe(d_e,[["__file","backtop.vue"]]);const f_e=Ft(h_e),p_e=qe({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:ve([String,Object,Array])},offset:{type:ve(Array),default:[0,0]},badgeClass:{type:String}}),m_e=Z({name:"ElBadge"}),g_e=Z({...m_e,props:p_e,setup(t,{expose:e}){const n=t,s=Fe("badge"),r=D(()=>n.isDot?"":Tt(n.value)&&Tt(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),a=D(()=>{var o,i,l,u,c;return[{backgroundColor:n.color,marginRight:Es(-((i=(o=n.offset)==null?void 0:o[0])!=null?i:0)),marginTop:Es((u=(l=n.offset)==null?void 0:l[1])!=null?u:0)},(c=n.badgeStyle)!=null?c:{}]});return e({content:r}),(o,i)=>(S(),A("div",{class:q(g(s).b())},[oe(o.$slots,"default"),$(ar,{name:`${g(s).namespace.value}-zoom-in-center`,persisted:""},{default:se(()=>[zt(I("sup",{class:q([g(s).e("content"),g(s).em("content",o.type),g(s).is("fixed",!!o.$slots.default),g(s).is("dot",o.isDot),o.badgeClass]),style:yt(g(a)),textContent:Me(g(r))},null,14,["textContent"]),[[gn,!o.hidden&&(g(r)||o.isDot)]])]),_:1},8,["name"])],2))}});var v_e=Xe(g_e,[["__file","badge.vue"]]);const IH=Ft(v_e),NH=Symbol("breadcrumbKey"),y_e=qe({separator:{type:String,default:"/"},separatorIcon:{type:Gn}}),b_e=Z({name:"ElBreadcrumb"}),__e=Z({...b_e,props:y_e,setup(t){const e=t,{t:n}=fn(),s=Fe("breadcrumb"),r=B();return At(NH,e),Et(()=>{const a=r.value.querySelectorAll(`.${s.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,o)=>(S(),A("div",{ref_key:"breadcrumb",ref:r,class:q(g(s).b()),"aria-label":g(n)("el.breadcrumb.label"),role:"navigation"},[oe(a.$slots,"default")],10,["aria-label"]))}});var w_e=Xe(__e,[["__file","breadcrumb.vue"]]);const x_e=qe({to:{type:ve([String,Object]),default:""},replace:Boolean}),C_e=Z({name:"ElBreadcrumbItem"}),S_e=Z({...C_e,props:x_e,setup(t){const e=t,n=Ht(),s=Le(NH,void 0),r=Fe("breadcrumb"),a=n.appContext.config.globalProperties.$router,o=B(),i=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(l,u)=>{var c,d;return S(),A("span",{class:q(g(r).e("item"))},[I("span",{ref_key:"link",ref:o,class:q([g(r).e("inner"),g(r).is("link",!!l.to)]),role:"link",onClick:i},[oe(l.$slots,"default")],2),(c=g(s))!=null&&c.separatorIcon?(S(),be(g(Je),{key:0,class:q(g(r).e("separator"))},{default:se(()=>[(S(),be(Gt(g(s).separatorIcon)))]),_:1},8,["class"])):(S(),A("span",{key:1,class:q(g(r).e("separator")),role:"presentation"},Me((d=g(s))==null?void 0:d.separator),3))],2)}}});var AH=Xe(S_e,[["__file","breadcrumb-item.vue"]]);const T_e=Ft(w_e,{BreadcrumbItem:AH}),k_e=gs(AH),DH=Symbol("buttonGroupContextKey"),$_e=(t,e)=>{Vc({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},D(()=>t.type==="text"));const n=Le(DH,void 0),s=nw("button"),{form:r}=Na(),a=or(D(()=>n==null?void 0:n.size)),o=ao(),i=B(),l=xr(),u=D(()=>t.type||(n==null?void 0:n.type)||""),c=D(()=>{var p,m,y;return(y=(m=t.autoInsertSpace)!=null?m:(p=s.value)==null?void 0:p.autoInsertSpace)!=null?y:!1}),d=D(()=>t.tag==="button"?{ariaDisabled:o.value||t.loading,disabled:o.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),h=D(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(c.value&&(m==null?void 0:m.length)===1){const y=m[0];if((y==null?void 0:y.type)===vz){const v=y.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(v.trim())}}return!1});return{_disabled:o,_size:a,_type:u,_ref:i,_props:d,shouldAddSpace:h,handleClick:p=>{t.nativeType==="reset"&&(r==null||r.resetFields()),e("click",p)}}},PS=["default","primary","success","warning","info","danger","text",""],E_e=["button","submit","reset"],MS=qe({size:_r,disabled:Boolean,type:{type:String,values:PS,default:""},icon:{type:Gn},nativeType:{type:String,values:E_e,default:"button"},loading:Boolean,loadingIcon:{type:Gn,default:()=>Xl},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:ve([String,Object]),default:"button"}}),I_e={click:t=>t instanceof MouseEvent};function da(t,e){N_e(t)&&(t="100%");var n=A_e(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function zb(t){return Math.min(1,Math.max(0,t))}function N_e(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function A_e(t){return typeof t=="string"&&t.indexOf("%")!==-1}function OH(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Vb(t){return t<=1?"".concat(Number(t)*100,"%"):t}function ah(t){return t.length===1?"0"+t:String(t)}function D_e(t,e,n){return{r:da(t,255)*255,g:da(e,255)*255,b:da(n,255)*255}}function IR(t,e,n){t=da(t,255),e=da(e,255),n=da(n,255);var s=Math.max(t,e,n),r=Math.min(t,e,n),a=0,o=0,i=(s+r)/2;if(s===r)o=0,a=0;else{var l=s-r;switch(o=i>.5?l/(2-s-r):l/(s+r),s){case t:a=(e-n)/l+(e<n?6:0);break;case e:a=(n-t)/l+2;break;case n:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:i}}function K8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function O_e(t,e,n){var s,r,a;if(t=da(t,360),e=da(e,100),n=da(n,100),e===0)r=n,a=n,s=n;else{var o=n<.5?n*(1+e):n+e-n*e,i=2*n-o;s=K8(i,o,t+1/3),r=K8(i,o,t),a=K8(i,o,t-1/3)}return{r:s*255,g:r*255,b:a*255}}function NR(t,e,n){t=da(t,255),e=da(e,255),n=da(n,255);var s=Math.max(t,e,n),r=Math.min(t,e,n),a=0,o=s,i=s-r,l=s===0?0:i/s;if(s===r)a=0;else{switch(s){case t:a=(e-n)/i+(e<n?6:0);break;case e:a=(n-t)/i+2;break;case n:a=(t-e)/i+4;break}a/=6}return{h:a,s:l,v:o}}function R_e(t,e,n){t=da(t,360)*6,e=da(e,100),n=da(n,100);var s=Math.floor(t),r=t-s,a=n*(1-e),o=n*(1-r*e),i=n*(1-(1-r)*e),l=s%6,u=[n,o,a,a,i,n][l],c=[i,n,n,o,a,a][l],d=[a,a,i,n,n,o][l];return{r:u*255,g:c*255,b:d*255}}function AR(t,e,n,s){var r=[ah(Math.round(t).toString(16)),ah(Math.round(e).toString(16)),ah(Math.round(n).toString(16))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function L_e(t,e,n,s,r){var a=[ah(Math.round(t).toString(16)),ah(Math.round(e).toString(16)),ah(Math.round(n).toString(16)),ah(P_e(s))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function P_e(t){return Math.round(parseFloat(t)*255).toString(16)}function DR(t){return Fo(t)/255}function Fo(t){return parseInt(t,16)}function M_e(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var FS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function F_e(t){var e={r:0,g:0,b:0},n=1,s=null,r=null,a=null,o=!1,i=!1;return typeof t=="string"&&(t=V_e(t)),typeof t=="object"&&(mu(t.r)&&mu(t.g)&&mu(t.b)?(e=D_e(t.r,t.g,t.b),o=!0,i=String(t.r).substr(-1)==="%"?"prgb":"rgb"):mu(t.h)&&mu(t.s)&&mu(t.v)?(s=Vb(t.s),r=Vb(t.v),e=R_e(t.h,s,r),o=!0,i="hsv"):mu(t.h)&&mu(t.s)&&mu(t.l)&&(s=Vb(t.s),a=Vb(t.l),e=O_e(t.h,s,a),o=!0,i="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=OH(n),{ok:o,format:t.format||i,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var B_e="[-\\+]?\\d+%?",z_e="[-\\+]?\\d*\\.\\d+%?",Rc="(?:".concat(z_e,")|(?:").concat(B_e,")"),X8="[\\s|\\(]+(".concat(Rc,")[,|\\s]+(").concat(Rc,")[,|\\s]+(").concat(Rc,")\\s*\\)?"),Y8="[\\s|\\(]+(".concat(Rc,")[,|\\s]+(").concat(Rc,")[,|\\s]+(").concat(Rc,")[,|\\s]+(").concat(Rc,")\\s*\\)?"),ji={CSS_UNIT:new RegExp(Rc),rgb:new RegExp("rgb"+X8),rgba:new RegExp("rgba"+Y8),hsl:new RegExp("hsl"+X8),hsla:new RegExp("hsla"+Y8),hsv:new RegExp("hsv"+X8),hsva:new RegExp("hsva"+Y8),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function V_e(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(FS[t])t=FS[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=ji.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=ji.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=ji.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=ji.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=ji.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=ji.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=ji.hex8.exec(t),n?{r:Fo(n[1]),g:Fo(n[2]),b:Fo(n[3]),a:DR(n[4]),format:e?"name":"hex8"}:(n=ji.hex6.exec(t),n?{r:Fo(n[1]),g:Fo(n[2]),b:Fo(n[3]),format:e?"name":"hex"}:(n=ji.hex4.exec(t),n?{r:Fo(n[1]+n[1]),g:Fo(n[2]+n[2]),b:Fo(n[3]+n[3]),a:DR(n[4]+n[4]),format:e?"name":"hex8"}:(n=ji.hex3.exec(t),n?{r:Fo(n[1]+n[1]),g:Fo(n[2]+n[2]),b:Fo(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function mu(t){return!!ji.CSS_UNIT.exec(String(t))}var RH=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var s;if(e instanceof t)return e;typeof e=="number"&&(e=M_e(e)),this.originalInput=e;var r=F_e(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(s=n.format)!==null&&s!==void 0?s:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,s,r,a=e.r/255,o=e.g/255,i=e.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),o<=.03928?s=o/12.92:s=Math.pow((o+.055)/1.055,2.4),i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),.2126*n+.7152*s+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=OH(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=NR(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=NR(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(s,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=IR(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=IR(this.r,this.g,this.b),n=Math.round(e.h*360),s=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(s,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(s,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),AR(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),L_e(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),s=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(s,")"):"rgba(".concat(e,", ").concat(n,", ").concat(s,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(da(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(da(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+AR(this.r,this.g,this.b,!1),n=0,s=Object.entries(FS);n<s.length;n++){var r=s[n],a=r[0],o=r[1];if(e===o)return a}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var s=!1,r=this.a<1&&this.a>=0,a=!n&&r&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(s=this.toRgbString()),e==="prgb"&&(s=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(s=this.toHexString()),e==="hex3"&&(s=this.toHexString(!0)),e==="hex4"&&(s=this.toHex8String(!0)),e==="hex8"&&(s=this.toHex8String()),e==="name"&&(s=this.toName()),e==="hsl"&&(s=this.toHslString()),e==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=zb(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=zb(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=zb(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=zb(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),s=(n.h+e)%360;return n.h=s<0?360+s:s,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var s=this.toRgb(),r=new t(e).toRgb(),a=n/100,o={r:(r.r-s.r)*a+s.r,g:(r.g-s.g)*a+s.g,b:(r.b-s.b)*a+s.b,a:(r.a-s.a)*a+s.a};return new t(o)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var s=this.toHsl(),r=360/n,a=[this];for(s.h=(s.h-(r*e>>1)+720)%360;--e;)s.h=(s.h+r)%360,a.push(new t(s));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),s=n.h,r=n.s,a=n.v,o=[],i=1/e;e--;)o.push(new t({h:s,s:r,v:a})),a=(a+i)%1;return o},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),s=new t(e).toRgb(),r=n.a+s.a*(1-n.a);return new t({r:(n.r*n.a+s.r*s.a*(1-n.a))/r,g:(n.g*n.a+s.g*s.a*(1-n.a))/r,b:(n.b*n.a+s.b*s.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),s=n.h,r=[this],a=360/e,o=1;o<e;o++)r.push(new t({h:(s+o*a)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function yc(t,e=20){return t.mix("#141414",e).toString()}function H_e(t){const e=ao(),n=Fe("button");return D(()=>{let s={},r=t.color;if(r){const a=r.match(/var\((.*?)\)/);a&&(r=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const o=new RH(r),i=t.dark?o.tint(20).toString():yc(o,20);if(t.plain)s=n.cssVarBlock({"bg-color":t.dark?yc(o,90):o.tint(90).toString(),"text-color":r,"border-color":t.dark?yc(o,50):o.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":i,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":i}),e.value&&(s[n.cssVarBlockName("disabled-bg-color")]=t.dark?yc(o,90):o.tint(90).toString(),s[n.cssVarBlockName("disabled-text-color")]=t.dark?yc(o,50):o.tint(50).toString(),s[n.cssVarBlockName("disabled-border-color")]=t.dark?yc(o,80):o.tint(80).toString());else{const l=t.dark?yc(o,30):o.tint(30).toString(),u=o.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(s=n.cssVarBlock({"bg-color":r,"text-color":u,"border-color":r,"hover-bg-color":l,"hover-text-color":u,"hover-border-color":l,"active-bg-color":i,"active-border-color":i}),e.value){const c=t.dark?yc(o,50):o.tint(50).toString();s[n.cssVarBlockName("disabled-bg-color")]=c,s[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,s[n.cssVarBlockName("disabled-border-color")]=c}}}return s})}const U_e=Z({name:"ElButton"}),W_e=Z({...U_e,props:MS,emits:I_e,setup(t,{expose:e,emit:n}){const s=t,r=H_e(s),a=Fe("button"),{_ref:o,_size:i,_type:l,_disabled:u,_props:c,shouldAddSpace:d,handleClick:h}=$_e(s,n),f=D(()=>[a.b(),a.m(l.value),a.m(i.value),a.is("disabled",u.value),a.is("loading",s.loading),a.is("plain",s.plain),a.is("round",s.round),a.is("circle",s.circle),a.is("text",s.text),a.is("link",s.link),a.is("has-bg",s.bg)]);return e({ref:o,size:i,type:l,disabled:u,shouldAddSpace:d}),(p,m)=>(S(),be(Gt(p.tag),Kt({ref_key:"_ref",ref:o},g(c),{class:g(f),style:g(r),onClick:g(h)}),{default:se(()=>[p.loading?(S(),A(He,{key:0},[p.$slots.loading?oe(p.$slots,"loading",{key:0}):(S(),be(g(Je),{key:1,class:q(g(a).is("loading"))},{default:se(()=>[(S(),be(Gt(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(S(),be(g(Je),{key:1},{default:se(()=>[p.icon?(S(),be(Gt(p.icon),{key:0})):oe(p.$slots,"icon",{key:1})]),_:3})):ce("v-if",!0),p.$slots.default?(S(),A("span",{key:2,class:q({[g(a).em("text","expand")]:g(d)})},[oe(p.$slots,"default")],2)):ce("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var j_e=Xe(W_e,[["__file","button.vue"]]);const G_e={size:MS.size,type:MS.type},q_e=Z({name:"ElButtonGroup"}),K_e=Z({...q_e,props:G_e,setup(t){const e=t;At(DH,an({size:Nn(e,"size"),type:Nn(e,"type")}));const n=Fe("button");return(s,r)=>(S(),A("div",{class:q(g(n).b("group"))},[oe(s.$slots,"default")],2))}});var LH=Xe(K_e,[["__file","button-group.vue"]]);const Hn=Ft(j_e,{ButtonGroup:LH}),PH=gs(LH);var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X_e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var r=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:function(){return t[s]}})}),n}var MH={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){var n=1e3,s=6e4,r=36e5,a="millisecond",o="second",i="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",p="date",m="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var U=["th","st","nd","rd"],R=K%100;return"["+K+(U[(R-20)%10]||U[R]||U[0])+"]"}},w=function(K,U,R){var W=String(K);return!W||W.length>=U?K:""+Array(U+1-W.length).join(R)+K},_={s:w,z:function(K){var U=-K.utcOffset(),R=Math.abs(U),W=Math.floor(R/60),G=R%60;return(U<=0?"+":"-")+w(W,2,"0")+":"+w(G,2,"0")},m:function K(U,R){if(U.date()<R.date())return-K(R,U);var W=12*(R.year()-U.year())+(R.month()-U.month()),G=U.clone().add(W,d),P=R-G<0,j=U.clone().add(W+(P?-1:1),d);return+(-(W+(R-G)/(P?G-j:j-G))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:d,y:f,w:c,d:u,D:p,h:l,m:i,s:o,ms:a,Q:h}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},C="en",x={};x[C]=b;var T="$isDayjsObject",k=function(K){return K instanceof V||!(!K||!K[T])},N=function K(U,R,W){var G;if(!U)return C;if(typeof U=="string"){var P=U.toLowerCase();x[P]&&(G=P),R&&(x[P]=R,G=P);var j=U.split("-");if(!G&&j.length>1)return K(j[0])}else{var J=U.name;x[J]=U,G=J}return!W&&G&&(C=G),G||!W&&C},O=function(K,U){if(k(K))return K.clone();var R=typeof U=="object"?U:{};return R.date=K,R.args=arguments,new V(R)},L=_;L.l=N,L.i=k,L.w=function(K,U){return O(K,{locale:U.$L,utc:U.$u,x:U.$x,$offset:U.$offset})};var V=function(){function K(R){this.$L=N(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[T]=!0}var U=K.prototype;return U.parse=function(R){this.$d=function(W){var G=W.date,P=W.utc;if(G===null)return new Date(NaN);if(L.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var j=G.match(y);if(j){var J=j[2]-1||0,ne=(j[7]||"0").substring(0,3);return P?new Date(Date.UTC(j[1],J,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ne)):new Date(j[1],J,j[3]||1,j[4]||0,j[5]||0,j[6]||0,ne)}}return new Date(G)}(R),this.init()},U.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},U.$utils=function(){return L},U.isValid=function(){return this.$d.toString()!==m},U.isSame=function(R,W){var G=O(R);return this.startOf(W)<=G&&G<=this.endOf(W)},U.isAfter=function(R,W){return O(R)<this.startOf(W)},U.isBefore=function(R,W){return this.endOf(W)<O(R)},U.$g=function(R,W,G){return L.u(R)?this[W]:this.set(G,R)},U.unix=function(){return Math.floor(this.valueOf()/1e3)},U.valueOf=function(){return this.$d.getTime()},U.startOf=function(R,W){var G=this,P=!!L.u(W)||W,j=L.p(R),J=function(le,ue){var re=L.w(G.$u?Date.UTC(G.$y,ue,le):new Date(G.$y,ue,le),G);return P?re:re.endOf(u)},ne=function(le,ue){return L.w(G.toDate()[le].apply(G.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(ue)),G)},te=this.$W,de=this.$M,me=this.$D,_e="set"+(this.$u?"UTC":"");switch(j){case f:return P?J(1,0):J(31,11);case d:return P?J(1,de):J(0,de+1);case c:var ee=this.$locale().weekStart||0,he=(te<ee?te+7:te)-ee;return J(P?me-he:me+(6-he),de);case u:case p:return ne(_e+"Hours",0);case l:return ne(_e+"Minutes",1);case i:return ne(_e+"Seconds",2);case o:return ne(_e+"Milliseconds",3);default:return this.clone()}},U.endOf=function(R){return this.startOf(R,!1)},U.$set=function(R,W){var G,P=L.p(R),j="set"+(this.$u?"UTC":""),J=(G={},G[u]=j+"Date",G[p]=j+"Date",G[d]=j+"Month",G[f]=j+"FullYear",G[l]=j+"Hours",G[i]=j+"Minutes",G[o]=j+"Seconds",G[a]=j+"Milliseconds",G)[P],ne=P===u?this.$D+(W-this.$W):W;if(P===d||P===f){var te=this.clone().set(p,1);te.$d[J](ne),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else J&&this.$d[J](ne);return this.init(),this},U.set=function(R,W){return this.clone().$set(R,W)},U.get=function(R){return this[L.p(R)]()},U.add=function(R,W){var G,P=this;R=Number(R);var j=L.p(W),J=function(de){var me=O(P);return L.w(me.date(me.date()+Math.round(de*R)),P)};if(j===d)return this.set(d,this.$M+R);if(j===f)return this.set(f,this.$y+R);if(j===u)return J(1);if(j===c)return J(7);var ne=(G={},G[i]=s,G[l]=r,G[o]=n,G)[j]||1,te=this.$d.getTime()+R*ne;return L.w(te,this)},U.subtract=function(R,W){return this.add(-1*R,W)},U.format=function(R){var W=this,G=this.$locale();if(!this.isValid())return G.invalidDate||m;var P=R||"YYYY-MM-DDTHH:mm:ssZ",j=L.z(this),J=this.$H,ne=this.$m,te=this.$M,de=G.weekdays,me=G.months,_e=G.meridiem,ee=function(ue,re,we,Ae){return ue&&(ue[re]||ue(W,P))||we[re].slice(0,Ae)},he=function(ue){return L.s(J%12||12,ue,"0")},le=_e||function(ue,re,we){var Ae=ue<12?"AM":"PM";return we?Ae.toLowerCase():Ae};return P.replace(v,function(ue,re){return re||function(we){switch(we){case"YY":return String(W.$y).slice(-2);case"YYYY":return L.s(W.$y,4,"0");case"M":return te+1;case"MM":return L.s(te+1,2,"0");case"MMM":return ee(G.monthsShort,te,me,3);case"MMMM":return ee(me,te);case"D":return W.$D;case"DD":return L.s(W.$D,2,"0");case"d":return String(W.$W);case"dd":return ee(G.weekdaysMin,W.$W,de,2);case"ddd":return ee(G.weekdaysShort,W.$W,de,3);case"dddd":return de[W.$W];case"H":return String(J);case"HH":return L.s(J,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return le(J,ne,!0);case"A":return le(J,ne,!1);case"m":return String(ne);case"mm":return L.s(ne,2,"0");case"s":return String(W.$s);case"ss":return L.s(W.$s,2,"0");case"SSS":return L.s(W.$ms,3,"0");case"Z":return j}return null}(ue)||j.replace(":","")})},U.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},U.diff=function(R,W,G){var P,j=this,J=L.p(W),ne=O(R),te=(ne.utcOffset()-this.utcOffset())*s,de=this-ne,me=function(){return L.m(j,ne)};switch(J){case f:P=me()/12;break;case d:P=me();break;case h:P=me()/3;break;case c:P=(de-te)/6048e5;break;case u:P=(de-te)/864e5;break;case l:P=de/r;break;case i:P=de/s;break;case o:P=de/n;break;default:P=de}return G?P:L.a(P)},U.daysInMonth=function(){return this.endOf(d).$D},U.$locale=function(){return x[this.$L]},U.locale=function(R,W){if(!R)return this.$L;var G=this.clone(),P=N(R,W,!0);return P&&(G.$L=P),G},U.clone=function(){return L.w(this.$d,this)},U.toDate=function(){return new Date(this.valueOf())},U.toJSON=function(){return this.isValid()?this.toISOString():null},U.toISOString=function(){return this.$d.toISOString()},U.toString=function(){return this.$d.toUTCString()},K}(),H=V.prototype;return O.prototype=H,[["$ms",a],["$s",o],["$m",i],["$H",l],["$W",u],["$M",d],["$y",f],["$D",p]].forEach(function(K){H[K[1]]=function(U){return this.$g(U,K[0],K[1])}}),O.extend=function(K,U){return K.$i||(K(U,V,O),K.$i=!0),O},O.locale=N,O.isDayjs=k,O.unix=function(K){return O(1e3*K)},O.en=x[C],O.Ls=x,O.p={},O})})(MH);var Y_e=MH.exports;const Pt=ra(Y_e);var FH={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,i={},l=function(m){return(m=+m)+(m>68?1900:2e3)},u=function(m){return function(y){this[m]=+y}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(y){if(!y||y==="Z")return 0;var v=y.match(/([+-]|\d\d)/g),b=60*v[1]+(+v[2]||0);return b===0?0:v[0]==="+"?-b:b}(m)}],d=function(m){var y=i[m];return y&&(y.indexOf?y:y.s.concat(y.f))},h=function(m,y){var v,b=i.meridiem;if(b){for(var w=1;w<=24;w+=1)if(m.indexOf(b(w,0,y))>-1){v=w>12;break}}else v=m===(y?"pm":"PM");return v},f={A:[o,function(m){this.afternoon=h(m,!1)}],a:[o,function(m){this.afternoon=h(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[r,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[a,u("seconds")],ss:[a,u("seconds")],m:[a,u("minutes")],mm:[a,u("minutes")],H:[a,u("hours")],h:[a,u("hours")],HH:[a,u("hours")],hh:[a,u("hours")],D:[a,u("day")],DD:[r,u("day")],Do:[o,function(m){var y=i.ordinal,v=m.match(/\d+/);if(this.day=v[0],y)for(var b=1;b<=31;b+=1)y(b).replace(/\[|\]/g,"")===m&&(this.day=b)}],M:[a,u("month")],MM:[r,u("month")],MMM:[o,function(m){var y=d("months"),v=(d("monthsShort")||y.map(function(b){return b.slice(0,3)})).indexOf(m)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[o,function(m){var y=d("months").indexOf(m)+1;if(y<1)throw new Error;this.month=y%12||y}],Y:[/[+-]?\d+/,u("year")],YY:[r,function(m){this.year=l(m)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function p(m){var y,v;y=m,v=i&&i.formats;for(var b=(m=y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(N,O,L){var V=L&&L.toUpperCase();return O||v[L]||n[L]||v[V].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(H,K,U){return K||U.slice(1)})})).match(s),w=b.length,_=0;_<w;_+=1){var C=b[_],x=f[C],T=x&&x[0],k=x&&x[1];b[_]=k?{regex:T,parser:k}:C.replace(/^\[|\]$/g,"")}return function(N){for(var O={},L=0,V=0;L<w;L+=1){var H=b[L];if(typeof H=="string")V+=H.length;else{var K=H.regex,U=H.parser,R=N.slice(V),W=K.exec(R)[0];U.call(O,W),N=N.replace(W,"")}}return function(G){var P=G.afternoon;if(P!==void 0){var j=G.hours;P?j<12&&(G.hours+=12):j===12&&(G.hours=0),delete G.afternoon}}(O),O}}return function(m,y,v){v.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(l=m.parseTwoDigitYear);var b=y.prototype,w=b.parse;b.parse=function(_){var C=_.date,x=_.utc,T=_.args;this.$u=x;var k=T[1];if(typeof k=="string"){var N=T[2]===!0,O=T[3]===!0,L=N||O,V=T[2];O&&(V=T[2]),i=this.$locale(),!N&&V&&(i=v.Ls[V]),this.$d=function(R,W,G){try{if(["x","X"].indexOf(W)>-1)return new Date((W==="X"?1e3:1)*R);var P=p(W)(R),j=P.year,J=P.month,ne=P.day,te=P.hours,de=P.minutes,me=P.seconds,_e=P.milliseconds,ee=P.zone,he=new Date,le=ne||(j||J?1:he.getDate()),ue=j||he.getFullYear(),re=0;j&&!J||(re=J>0?J-1:he.getMonth());var we=te||0,Ae=de||0,Ue=me||0,at=_e||0;return ee?new Date(Date.UTC(ue,re,le,we,Ae,Ue,at+60*ee.offset*1e3)):G?new Date(Date.UTC(ue,re,le,we,Ae,Ue,at)):new Date(ue,re,le,we,Ae,Ue,at)}catch{return new Date("")}}(C,k,x),this.init(),V&&V!==!0&&(this.$L=this.locale(V).$L),L&&C!=this.format(k)&&(this.$d=new Date("")),i={}}else if(k instanceof Array)for(var H=k.length,K=1;K<=H;K+=1){T[1]=k[K-1];var U=v.apply(this,T);if(U.isValid()){this.$d=U.$d,this.$L=U.$L,this.init();break}K===H&&(this.$d=new Date(""))}else w.call(this,_)}}})})(FH);var Q_e=FH.exports;const D5=ra(Q_e),OR=["hours","minutes","seconds"],BS="HH:mm:ss",ip="YYYY-MM-DD",Z_e={date:ip,dates:ip,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${ip} ${BS}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:ip,datetimerange:`${ip} ${BS}`},Q8=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],Hc=t=>Array.from(Array.from({length:t}).keys()),BH=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),zH=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),RR=function(t,e){const n=j2(t),s=j2(e);return n&&s?t.getTime()===e.getTime():!n&&!s?t===e:!1},LR=function(t,e){const n=Mt(t),s=Mt(e);return n&&s?t.length!==e.length?!1:t.every((r,a)=>RR(r,e[a])):!n&&!s?RR(t,e):!1},PR=function(t,e,n){const s=mi(e)||e==="x"?Pt(t).locale(n):Pt(t,e).locale(n);return s.isValid()?s:void 0},MR=function(t,e,n){return mi(e)?t:e==="x"?+t:Pt(t).locale(n).format(e)},Z8=(t,e)=>{var n;const s=[],r=e==null?void 0:e();for(let a=0;a<t;a++)s.push((n=r==null?void 0:r.includes(a))!=null?n:!1);return s},VH=qe({disabledHours:{type:ve(Function)},disabledMinutes:{type:ve(Function)},disabledSeconds:{type:ve(Function)}}),HH=qe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),O5=qe({id:{type:ve([Array,String])},name:{type:ve([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ve([String,Object]),default:yd},editable:{type:Boolean,default:!0},prefixIcon:{type:ve([String,Object]),default:""},size:_r,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})},modelValue:{type:ve([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ve([Date,Array])},defaultTime:{type:ve([Date,Array])},isRange:Boolean,...VH,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:ve([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...M0,...sa(["ariaLabel"])}),J_e=Z({name:"Picker"}),e3e=Z({...J_e,props:O5,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const s=t,r=af(),{lang:a}=fn(),o=Fe("date"),i=Fe("input"),l=Fe("range"),{form:u,formItem:c}=Na(),d=Le("ElPopperOptions",{}),{valueOnClear:h}=tw(s,null),f=B(),p=B(),m=B(!1),y=B(!1),v=B(null);let b=!1,w=!1;const _=D(()=>[o.b("editor"),o.bm("editor",s.type),i.e("wrapper"),o.is("disabled",te.value),o.is("active",m.value),l.b("editor"),Qe?l.bm("editor",Qe.value):"",r.class]),C=D(()=>[i.e("icon"),l.e("close-icon"),we.value?"":l.e("close-icon--hidden")]);Ee(m,Oe=>{Oe?it(()=>{Oe&&(v.value=s.modelValue)}):(fe.value=null,it(()=>{x(s.modelValue)}))});const x=(Oe,St)=>{(St||!LR(Oe,v.value))&&(n("change",Oe),s.validateEvent&&(c==null||c.validate("change").catch(bn=>void 0)))},T=Oe=>{if(!LR(s.modelValue,Oe)){let St;Mt(Oe)?St=Oe.map(bn=>MR(bn,s.valueFormat,a.value)):Oe&&(St=MR(Oe,s.valueFormat,a.value)),n("update:modelValue",Oe&&St,a.value)}},k=Oe=>{n("keydown",Oe)},N=D(()=>{if(p.value){const Oe=dt.value?p.value:p.value.$el;return Array.from(Oe.querySelectorAll("input"))}return[]}),O=(Oe,St,bn)=>{const xn=N.value;xn.length&&(!bn||bn==="min"?(xn[0].setSelectionRange(Oe,St),xn[0].focus()):bn==="max"&&(xn[1].setSelectionRange(Oe,St),xn[1].focus()))},L=()=>{P(!0,!0),it(()=>{w=!1})},V=(Oe="",St=!1)=>{St||(w=!0),m.value=St;let bn;Mt(Oe)?bn=Oe.map(xn=>xn.toDate()):bn=Oe&&Oe.toDate(),fe.value=null,T(bn)},H=()=>{y.value=!0},K=()=>{n("visible-change",!0)},U=Oe=>{(Oe==null?void 0:Oe.key)===gt.esc&&P(!0,!0)},R=()=>{y.value=!1,m.value=!1,w=!1,n("visible-change",!1)},W=()=>{m.value=!0},G=()=>{m.value=!1},P=(Oe=!0,St=!1)=>{w=St;const[bn,xn]=g(N);let Zn=bn;!Oe&&dt.value&&(Zn=xn),Zn&&Zn.focus()},j=Oe=>{s.readonly||te.value||m.value||w||(m.value=!0,n("focus",Oe))};let J;const ne=Oe=>{const St=async()=>{setTimeout(()=>{var bn;J===St&&(!((bn=f.value)!=null&&bn.isFocusInsideContent()&&!b)&&N.value.filter(xn=>xn.contains(document.activeElement)).length===0&&(_t(),m.value=!1,n("blur",Oe),s.validateEvent&&(c==null||c.validate("blur").catch(xn=>void 0))),b=!1)},0)};J=St,St()},te=D(()=>s.disabled||(u==null?void 0:u.disabled)),de=D(()=>{let Oe;if(Ue.value?Ke.value.getDefaultValue&&(Oe=Ke.value.getDefaultValue()):Mt(s.modelValue)?Oe=s.modelValue.map(St=>PR(St,s.valueFormat,a.value)):Oe=PR(s.modelValue,s.valueFormat,a.value),Ke.value.getRangeAvailableTime){const St=Ke.value.getRangeAvailableTime(Oe);ja(St,Oe)||(Oe=St,T(Mt(Oe)?Oe.map(bn=>bn.toDate()):Oe.toDate()))}return Mt(Oe)&&Oe.some(St=>!St)&&(Oe=[]),Oe}),me=D(()=>{if(!Ke.value.panelReady)return"";const Oe=Qt(de.value);return Mt(fe.value)?[fe.value[0]||Oe&&Oe[0]||"",fe.value[1]||Oe&&Oe[1]||""]:fe.value!==null?fe.value:!ee.value&&Ue.value||!m.value&&Ue.value?"":Oe?he.value||le.value||ue.value?Oe.join(", "):Oe:""}),_e=D(()=>s.type.includes("time")),ee=D(()=>s.type.startsWith("time")),he=D(()=>s.type==="dates"),le=D(()=>s.type==="months"),ue=D(()=>s.type==="years"),re=D(()=>s.prefixIcon||(_e.value?kV:Jme)),we=B(!1),Ae=Oe=>{s.readonly||te.value||(we.value&&(Oe.stopPropagation(),L(),Ke.value.handleClear?Ke.value.handleClear():T(h.value),x(h.value,!0),we.value=!1,m.value=!1),n("clear"))},Ue=D(()=>{const{modelValue:Oe}=s;return!Oe||Mt(Oe)&&!Oe.filter(Boolean).length}),at=async Oe=>{var St;s.readonly||te.value||(((St=Oe.target)==null?void 0:St.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(m.value=!0)},ot=()=>{s.readonly||te.value||!Ue.value&&s.clearable&&(we.value=!0)},Pe=()=>{we.value=!1},je=Oe=>{var St;s.readonly||te.value||(((St=Oe.touches[0].target)==null?void 0:St.tagName)!=="INPUT"||N.value.includes(document.activeElement))&&(m.value=!0)},dt=D(()=>s.type.includes("range")),Qe=or(),wt=D(()=>{var Oe,St;return(St=(Oe=g(f))==null?void 0:Oe.popperRef)==null?void 0:St.contentRef}),vt=D(()=>{var Oe;return g(dt)?g(p):(Oe=g(p))==null?void 0:Oe.$el}),Ge=I$(vt,Oe=>{const St=g(wt),bn=g(vt);St&&(Oe.target===St||Oe.composedPath().includes(St))||Oe.target===bn||Oe.composedPath().includes(bn)||(m.value=!1)});ts(()=>{Ge==null||Ge()});const fe=B(null),_t=()=>{if(fe.value){const Oe=Dt(me.value);Oe&&rn(Oe)&&(T(Mt(Oe)?Oe.map(St=>St.toDate()):Oe.toDate()),fe.value=null)}fe.value===""&&(T(h.value),x(h.value),fe.value=null)},Dt=Oe=>Oe?Ke.value.parseUserInput(Oe):null,Qt=Oe=>Oe?Ke.value.formatToString(Oe):null,rn=Oe=>Ke.value.isValidValue(Oe),Cn=async Oe=>{if(s.readonly||te.value)return;const{code:St}=Oe;if(k(Oe),St===gt.esc){m.value===!0&&(m.value=!1,Oe.preventDefault(),Oe.stopPropagation());return}if(St===gt.down&&(Ke.value.handleFocusPicker&&(Oe.preventDefault(),Oe.stopPropagation()),m.value===!1&&(m.value=!0,await it()),Ke.value.handleFocusPicker)){Ke.value.handleFocusPicker();return}if(St===gt.tab){b=!0;return}if(St===gt.enter||St===gt.numpadEnter){(fe.value===null||fe.value===""||rn(Dt(me.value)))&&(_t(),m.value=!1),Oe.stopPropagation();return}if(fe.value){Oe.stopPropagation();return}Ke.value.handleKeydownInput&&Ke.value.handleKeydownInput(Oe)},Ct=Oe=>{fe.value=Oe,m.value||(m.value=!0)},It=Oe=>{const St=Oe.target;fe.value?fe.value=[St.value,fe.value[1]]:fe.value=[St.value,null]},Re=Oe=>{const St=Oe.target;fe.value?fe.value=[fe.value[0],St.value]:fe.value=[null,St.value]},ut=()=>{var Oe;const St=fe.value,bn=Dt(St&&St[0]),xn=g(de);if(bn&&bn.isValid()){fe.value=[Qt(bn),((Oe=me.value)==null?void 0:Oe[1])||null];const Zn=[bn,xn&&(xn[1]||null)];rn(Zn)&&(T(Zn),fe.value=null)}},xe=()=>{var Oe;const St=g(fe),bn=Dt(St&&St[1]),xn=g(de);if(bn&&bn.isValid()){fe.value=[((Oe=g(me))==null?void 0:Oe[0])||null,Qt(bn)];const Zn=[xn&&xn[0],bn];rn(Zn)&&(T(Zn),fe.value=null)}},Ke=B({}),Ze=Oe=>{Ke.value[Oe[0]]=Oe[1],Ke.value.panelReady=!0},Zt=Oe=>{n("calendar-change",Oe)},Mn=(Oe,St,bn)=>{n("panel-change",Oe,St,bn)};return At("EP_PICKER_BASE",{props:s}),e({focus:P,handleFocusInput:j,handleBlurInput:ne,handleOpen:W,handleClose:G,onPick:V}),(Oe,St)=>(S(),be(g(ys),Kt({ref_key:"refPopper",ref:f,visible:m.value,effect:"light",pure:"",trigger:"click"},Oe.$attrs,{role:"dialog",teleported:"",transition:`${g(o).namespace.value}-zoom-in-top`,"popper-class":[`${g(o).namespace.value}-picker__popper`,Oe.popperClass],"popper-options":g(d),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:H,onShow:K,onHide:R}),{default:se(()=>[g(dt)?(S(),A("div",{key:1,ref_key:"inputRef",ref:p,class:q(g(_)),style:yt(Oe.$attrs.style),onClick:j,onMouseenter:ot,onMouseleave:Pe,onTouchstartPassive:je,onKeydown:Cn},[g(re)?(S(),be(g(Je),{key:0,class:q([g(i).e("icon"),g(l).e("icon")]),onMousedown:xt(at,["prevent"]),onTouchstartPassive:je},{default:se(()=>[(S(),be(Gt(g(re))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0),I("input",{id:Oe.id&&Oe.id[0],autocomplete:"off",name:Oe.name&&Oe.name[0],placeholder:Oe.startPlaceholder,value:g(me)&&g(me)[0],disabled:g(te),readonly:!Oe.editable||Oe.readonly,class:q(g(l).b("input")),onMousedown:at,onInput:It,onChange:ut,onFocus:j,onBlur:ne},null,42,["id","name","placeholder","value","disabled","readonly"]),oe(Oe.$slots,"range-separator",{},()=>[I("span",{class:q(g(l).b("separator"))},Me(Oe.rangeSeparator),3)]),I("input",{id:Oe.id&&Oe.id[1],autocomplete:"off",name:Oe.name&&Oe.name[1],placeholder:Oe.endPlaceholder,value:g(me)&&g(me)[1],disabled:g(te),readonly:!Oe.editable||Oe.readonly,class:q(g(l).b("input")),onMousedown:at,onFocus:j,onBlur:ne,onInput:Re,onChange:xe},null,42,["id","name","placeholder","value","disabled","readonly"]),Oe.clearIcon?(S(),be(g(Je),{key:1,class:q(g(C)),onClick:Ae},{default:se(()=>[(S(),be(Gt(Oe.clearIcon)))]),_:1},8,["class"])):ce("v-if",!0)],38)):(S(),be(g(Gs),{key:0,id:Oe.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":g(me),name:Oe.name,size:g(Qe),disabled:g(te),placeholder:Oe.placeholder,class:q([g(o).b("editor"),g(o).bm("editor",Oe.type),Oe.$attrs.class]),style:yt(Oe.$attrs.style),readonly:!Oe.editable||Oe.readonly||g(he)||g(le)||g(ue)||Oe.type==="week","aria-label":Oe.ariaLabel,tabindex:Oe.tabindex,"validate-event":!1,onInput:Ct,onFocus:j,onBlur:ne,onKeydown:Cn,onChange:_t,onMousedown:at,onMouseenter:ot,onMouseleave:Pe,onTouchstartPassive:je,onClick:xt(()=>{},["stop"])},{prefix:se(()=>[g(re)?(S(),be(g(Je),{key:0,class:q(g(i).e("icon")),onMousedown:xt(at,["prevent"]),onTouchstartPassive:je},{default:se(()=>[(S(),be(Gt(g(re))))]),_:1},8,["class","onMousedown"])):ce("v-if",!0)]),suffix:se(()=>[we.value&&Oe.clearIcon?(S(),be(g(Je),{key:0,class:q(`${g(i).e("icon")} clear-icon`),onClick:xt(Ae,["stop"])},{default:se(()=>[(S(),be(Gt(Oe.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onKeydown","onClick"]))]),content:se(()=>[oe(Oe.$slots,"default",{visible:m.value,actualVisible:y.value,parsedValue:g(de),format:Oe.format,dateFormat:Oe.dateFormat,timeFormat:Oe.timeFormat,unlinkPanels:Oe.unlinkPanels,type:Oe.type,defaultValue:Oe.defaultValue,onPick:V,onSelectRange:O,onSetPickerOption:Ze,onCalendarChange:Zt,onPanelChange:Mn,onKeydown:U,onMousedown:xt(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var UH=Xe(e3e,[["__file","picker.vue"]]);const t3e=qe({...HH,datetimeRole:String,parsedValue:{type:ve(Object)}}),WH=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const s=(o,i,l,u)=>{const c={hour:t,minute:e,second:n};let d=o;return["hour","minute","second"].forEach(h=>{if(c[h]){let f;const p=c[h];switch(h){case"minute":{f=p(d.hour(),i,u);break}case"second":{f=p(d.hour(),d.minute(),i,u);break}default:{f=p(i,u);break}}if(f!=null&&f.length&&!f.includes(d[h]())){const m=l?0:f.length-1;d=d[h](f[m])}}}),d},r={};return{timePickerOptions:r,getAvailableTime:s,onSetOption:([o,i])=>{r[o]=i}}},J8=t=>{const e=(s,r)=>s||r,n=s=>s!==!0;return t.map(e).filter(n)},jH=(t,e,n)=>({getHoursList:(o,i)=>Z8(24,t&&(()=>t==null?void 0:t(o,i))),getMinutesList:(o,i,l)=>Z8(60,e&&(()=>e==null?void 0:e(o,i,l))),getSecondsList:(o,i,l,u)=>Z8(60,n&&(()=>n==null?void 0:n(o,i,l,u)))}),GH=(t,e,n)=>{const{getHoursList:s,getMinutesList:r,getSecondsList:a}=jH(t,e,n);return{getAvailableHours:(u,c)=>J8(s(u,c)),getAvailableMinutes:(u,c,d)=>J8(r(u,c,d)),getAvailableSeconds:(u,c,d,h)=>J8(a(u,c,d,h))}},qH=t=>{const e=B(t.parsedValue);return Ee(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},$c=new Map;if(hn){let t;document.addEventListener("mousedown",e=>t=e),document.addEventListener("mouseup",e=>{if(t){for(const n of $c.values())for(const{documentHandler:s}of n)s(e,t);t=void 0}})}function FR(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:qo(e.arg)&&n.push(e.arg),function(s,r){const a=e.instance.popperRef,o=s.target,i=r==null?void 0:r.target,l=!e||!e.instance,u=!o||!i,c=t.contains(o)||t.contains(i),d=t===o,h=n.length&&n.some(p=>p==null?void 0:p.contains(o))||n.length&&n.includes(i),f=a&&(a.contains(o)||a.contains(i));l||u||c||d||h||f||e.value(s,r)}}const Pu={beforeMount(t,e){$c.has(t)||$c.set(t,[]),$c.get(t).push({documentHandler:FR(t,e),bindingFn:e.value})},updated(t,e){$c.has(t)||$c.set(t,[]);const n=$c.get(t),s=n.findIndex(a=>a.bindingFn===e.oldValue),r={documentHandler:FR(t,e),bindingFn:e.value};s>=0?n.splice(s,1,r):n.push(r)},unmounted(t){$c.delete(t)}},n3e=100,s3e=600,u3={beforeMount(t,e){const n=e.value,{interval:s=n3e,delay:r=s3e}=yn(n)?{}:n;let a,o;const i=()=>yn(n)?n():n.handler(),l=()=>{o&&(clearTimeout(o),o=void 0),a&&(clearInterval(a),a=void 0)};t.addEventListener("mousedown",u=>{u.button===0&&(l(),i(),document.addEventListener("mouseup",()=>l(),{once:!0}),o=setTimeout(()=>{a=setInterval(()=>{i()},s)},r))})}},zS="_trap-focus-children",oh=[],BR=t=>{if(oh.length===0)return;const e=oh[oh.length-1][zS];if(e.length>0&&t.code===gt.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,s=t.target===e[0],r=t.target===e[e.length-1];s&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},r3e={beforeMount(t){t[zS]=X7(t),oh.push(t),oh.length<=1&&document.addEventListener("keydown",BR)},updated(t){it(()=>{t[zS]=X7(t)})},unmounted(){oh.shift(),oh.length===0&&document.removeEventListener("keydown",BR)}};var zR=!1,Xd,VS,HS,$_,E_,KH,I_,US,WS,jS,XH,GS,qS,YH,QH;function lo(){if(!zR){zR=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(GS=/\b(iPhone|iP[ao]d)/.exec(t),qS=/\b(iP[ao]d)/.exec(t),jS=/Android/i.exec(t),YH=/FBAN\/\w+;/i.exec(t),QH=/Mobile/i.exec(t),XH=!!/Win64/.exec(t),e){Xd=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Xd&&document&&document.documentMode&&(Xd=document.documentMode);var s=/(?:Trident\/(\d+.\d+))/.exec(t);KH=s?parseFloat(s[1])+4:Xd,VS=e[2]?parseFloat(e[2]):NaN,HS=e[3]?parseFloat(e[3]):NaN,$_=e[4]?parseFloat(e[4]):NaN,$_?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),E_=e&&e[1]?parseFloat(e[1]):NaN):E_=NaN}else Xd=VS=HS=E_=$_=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);I_=r?parseFloat(r[1].replace("_",".")):!0}else I_=!1;US=!!n[2],WS=!!n[3]}else I_=US=WS=!1}}var KS={ie:function(){return lo()||Xd},ieCompatibilityMode:function(){return lo()||KH>Xd},ie64:function(){return KS.ie()&&XH},firefox:function(){return lo()||VS},opera:function(){return lo()||HS},webkit:function(){return lo()||$_},safari:function(){return KS.webkit()},chrome:function(){return lo()||E_},windows:function(){return lo()||US},osx:function(){return lo()||I_},linux:function(){return lo()||WS},iphone:function(){return lo()||GS},mobile:function(){return lo()||GS||qS||jS||QH},nativeApp:function(){return lo()||YH},android:function(){return lo()||jS},ipad:function(){return lo()||qS}},a3e=KS,Hb=!!(typeof window<"u"&&window.document&&window.document.createElement),o3e={canUseDOM:Hb,canUseWorkers:typeof Worker<"u",canUseEventListeners:Hb&&!!(window.addEventListener||window.attachEvent),canUseViewport:Hb&&!!window.screen,isInWorker:!Hb},ZH=o3e,JH;ZH.canUseDOM&&(JH=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function i3e(t,e){if(!ZH.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,s=n in document;if(!s){var r=document.createElement("div");r.setAttribute(n,"return;"),s=typeof r[n]=="function"}return!s&&JH&&t==="wheel"&&(s=document.implementation.hasFeature("Events.wheel","3.0")),s}var l3e=i3e,VR=10,HR=40,UR=800;function eU(t){var e=0,n=0,s=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),s=e*VR,r=n*VR,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(s=t.deltaX),(s||r)&&t.deltaMode&&(t.deltaMode==1?(s*=HR,r*=HR):(s*=UR,r*=UR)),s&&!e&&(e=s<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:s,pixelY:r}}eU.getEventType=function(){return a3e.firefox()?"DOMMouseScroll":l3e("wheel")?"wheel":"mousewheel"};var u3e=eU;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const c3e=function(t,e){if(t&&t.addEventListener){const n=function(s){const r=u3e(s);e&&Reflect.apply(e,this,[s,r])};t.addEventListener("wheel",n,{passive:!0})}},d3e={beforeMount(t,e){c3e(t,e.value)}},h3e=qe({role:{type:String,required:!0},spinnerDate:{type:ve(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ve(String),default:""},...VH}),f3e=Z({__name:"basic-time-spinner",props:h3e,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,s=Fe("time"),{getHoursList:r,getMinutesList:a,getSecondsList:o}=jH(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let i=!1;const l=B(),u=B(),c=B(),d=B(),h={hours:u,minutes:c,seconds:d},f=D(()=>n.showSeconds?OR:OR.slice(0,2)),p=D(()=>{const{spinnerDate:P}=n,j=P.hour(),J=P.minute(),ne=P.second();return{hours:j,minutes:J,seconds:ne}}),m=D(()=>{const{hours:P,minutes:j}=g(p);return{hours:r(n.role),minutes:a(P,n.role),seconds:o(P,j,n.role)}}),y=D(()=>{const{hours:P,minutes:j,seconds:J}=g(p);return{hours:Q8(P,23),minutes:Q8(j,59),seconds:Q8(J,59)}}),v=So(P=>{i=!1,_(P)},200),b=P=>{if(!!!n.amPmMode)return"";const J=n.amPmMode==="A";let ne=P<12?" am":" pm";return J&&(ne=ne.toUpperCase()),ne},w=P=>{let j;switch(P){case"hours":j=[0,2];break;case"minutes":j=[3,5];break;case"seconds":j=[6,8];break}const[J,ne]=j;e("select-range",J,ne),l.value=P},_=P=>{T(P,g(p)[P])},C=()=>{_("hours"),_("minutes"),_("seconds")},x=P=>P.querySelector(`.${s.namespace.value}-scrollbar__wrap`),T=(P,j)=>{if(n.arrowControl)return;const J=g(h[P]);J&&J.$el&&(x(J.$el).scrollTop=Math.max(0,j*k(P)))},k=P=>{const j=g(h[P]),J=j==null?void 0:j.$el.querySelector("li");return J&&Number.parseFloat(Oc(J,"height"))||0},N=()=>{L(1)},O=()=>{L(-1)},L=P=>{l.value||w("hours");const j=l.value,J=g(p)[j],ne=l.value==="hours"?24:60,te=V(j,J,P,ne);H(j,te),T(j,te),it(()=>w(j))},V=(P,j,J,ne)=>{let te=(j+J+ne)%ne;const de=g(m)[P];for(;de[te]&&te!==j;)te=(te+J+ne)%ne;return te},H=(P,j)=>{if(g(m)[P][j])return;const{hours:te,minutes:de,seconds:me}=g(p);let _e;switch(P){case"hours":_e=n.spinnerDate.hour(j).minute(de).second(me);break;case"minutes":_e=n.spinnerDate.hour(te).minute(j).second(me);break;case"seconds":_e=n.spinnerDate.hour(te).minute(de).second(j);break}e("change",_e)},K=(P,{value:j,disabled:J})=>{J||(H(P,j),w(P),T(P,j))},U=P=>{i=!0,v(P);const j=Math.min(Math.round((x(g(h[P]).$el).scrollTop-(R(P)*.5-10)/k(P)+3)/k(P)),P==="hours"?23:59);H(P,j)},R=P=>g(h[P]).$el.offsetHeight,W=()=>{const P=j=>{const J=g(h[j]);J&&J.$el&&(x(J.$el).onscroll=()=>{U(j)})};P("hours"),P("minutes"),P("seconds")};Et(()=>{it(()=>{!n.arrowControl&&W(),C(),n.role==="start"&&w("hours")})});const G=(P,j)=>{h[j].value=P};return e("set-option",[`${n.role}_scrollDown`,L]),e("set-option",[`${n.role}_emitSelectRange`,w]),Ee(()=>n.spinnerDate,()=>{i||C()}),(P,j)=>(S(),A("div",{class:q([g(s).b("spinner"),{"has-seconds":P.showSeconds}])},[P.arrowControl?ce("v-if",!0):(S(!0),A(He,{key:0},Ut(g(f),J=>(S(),be(g(vr),{key:J,ref_for:!0,ref:ne=>G(ne,J),class:q(g(s).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":g(s).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:ne=>w(J),onMousemove:ne=>_(J)},{default:se(()=>[(S(!0),A(He,null,Ut(g(m)[J],(ne,te)=>(S(),A("li",{key:te,class:q([g(s).be("spinner","item"),g(s).is("active",te===g(p)[J]),g(s).is("disabled",ne)]),onClick:de=>K(J,{value:te,disabled:ne})},[J==="hours"?(S(),A(He,{key:0},[ct(Me(("0"+(P.amPmMode?te%12||12:te)).slice(-2))+Me(b(te)),1)],64)):(S(),A(He,{key:1},[ct(Me(("0"+te).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),P.arrowControl?(S(!0),A(He,{key:1},Ut(g(f),J=>(S(),A("div",{key:J,class:q([g(s).be("spinner","wrapper"),g(s).is("arrow")]),onMouseenter:ne=>w(J)},[zt((S(),be(g(Je),{class:q(["arrow-up",g(s).be("spinner","arrow")])},{default:se(()=>[$(g(Y$))]),_:1},8,["class"])),[[g(u3),O]]),zt((S(),be(g(Je),{class:q(["arrow-down",g(s).be("spinner","arrow")])},{default:se(()=>[$(g(tc))]),_:1},8,["class"])),[[g(u3),N]]),I("ul",{class:q(g(s).be("spinner","list"))},[(S(!0),A(He,null,Ut(g(y)[J],(ne,te)=>(S(),A("li",{key:te,class:q([g(s).be("spinner","item"),g(s).is("active",ne===g(p)[J]),g(s).is("disabled",g(m)[J][ne])])},[typeof ne=="number"?(S(),A(He,{key:0},[J==="hours"?(S(),A(He,{key:0},[ct(Me(("0"+(P.amPmMode?ne%12||12:ne)).slice(-2))+Me(b(ne)),1)],64)):(S(),A(He,{key:1},[ct(Me(("0"+ne).slice(-2)),1)],64))],64)):ce("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):ce("v-if",!0)],2))}});var XS=Xe(f3e,[["__file","basic-time-spinner.vue"]]);const p3e=Z({__name:"panel-time-pick",props:t3e,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,s=Le("EP_PICKER_BASE"),{arrowControl:r,disabledHours:a,disabledMinutes:o,disabledSeconds:i,defaultValue:l}=s.props,{getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:d}=GH(a,o,i),h=Fe("time"),{t:f,lang:p}=fn(),m=B([0,2]),y=qH(n),v=D(()=>$s(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),b=D(()=>n.format.includes("ss")),w=D(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),_=G=>{const P=Pt(G).locale(p.value),j=K(P);return P.isSame(j)},C=()=>{e("pick",y.value,!1)},x=(G=!1,P=!1)=>{P||e("pick",n.parsedValue,G)},T=G=>{if(!n.visible)return;const P=K(G).millisecond(0);e("pick",P,!0)},k=(G,P)=>{e("select-range",G,P),m.value=[G,P]},N=G=>{const P=[0,3].concat(b.value?[6]:[]),j=["hours","minutes"].concat(b.value?["seconds"]:[]),ne=(P.indexOf(m.value[0])+G+P.length)%P.length;L.start_emitSelectRange(j[ne])},O=G=>{const P=G.code,{left:j,right:J,up:ne,down:te}=gt;if([j,J].includes(P)){N(P===j?-1:1),G.preventDefault();return}if([ne,te].includes(P)){const de=P===ne?-1:1;L.start_scrollDown(de),G.preventDefault();return}},{timePickerOptions:L,onSetOption:V,getAvailableTime:H}=WH({getAvailableHours:u,getAvailableMinutes:c,getAvailableSeconds:d}),K=G=>H(G,n.datetimeRole||"",!0),U=G=>G?Pt(G,n.format).locale(p.value):null,R=G=>G?G.format(n.format):null,W=()=>Pt(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",R]),e("set-picker-option",["parseUserInput",U]),e("set-picker-option",["handleKeydownInput",O]),e("set-picker-option",["getRangeAvailableTime",K]),e("set-picker-option",["getDefaultValue",W]),(G,P)=>(S(),be(ar,{name:g(v)},{default:se(()=>[G.actualVisible||G.visible?(S(),A("div",{key:0,class:q(g(h).b("panel"))},[I("div",{class:q([g(h).be("panel","content"),{"has-seconds":g(b)}])},[$(XS,{ref:"spinner",role:G.datetimeRole||"start","arrow-control":g(r),"show-seconds":g(b),"am-pm-mode":g(w),"spinner-date":G.parsedValue,"disabled-hours":g(a),"disabled-minutes":g(o),"disabled-seconds":g(i),onChange:T,onSetOption:g(V),onSelectRange:k},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),I("div",{class:q(g(h).be("panel","footer"))},[I("button",{type:"button",class:q([g(h).be("panel","btn"),"cancel"]),onClick:C},Me(g(f)("el.datepicker.cancel")),3),I("button",{type:"button",class:q([g(h).be("panel","btn"),"confirm"]),onClick:j=>x()},Me(g(f)("el.datepicker.confirm")),11,["onClick"])],2)],2)):ce("v-if",!0)]),_:1},8,["name"]))}});var c3=Xe(p3e,[["__file","panel-time-pick.vue"]]);const m3e=qe({...HH,parsedValue:{type:ve(Array)}}),g3e=Z({__name:"panel-time-range",props:m3e,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,s=(re,we)=>{const Ae=[];for(let Ue=re;Ue<=we;Ue++)Ae.push(Ue);return Ae},{t:r,lang:a}=fn(),o=Fe("time"),i=Fe("picker"),l=Le("EP_PICKER_BASE"),{arrowControl:u,disabledHours:c,disabledMinutes:d,disabledSeconds:h,defaultValue:f}=l.props,p=D(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),_.value?"has-seconds":""]),m=D(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",u),_.value?"has-seconds":""]),y=D(()=>n.parsedValue[0]),v=D(()=>n.parsedValue[1]),b=qH(n),w=()=>{e("pick",b.value,!1)},_=D(()=>n.format.includes("ss")),C=D(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),x=(re=!1)=>{e("pick",[y.value,v.value],re)},T=re=>{O(re.millisecond(0),v.value)},k=re=>{O(y.value,re.millisecond(0))},N=re=>{const we=re.map(Ue=>Pt(Ue).locale(a.value)),Ae=J(we);return we[0].isSame(Ae[0])&&we[1].isSame(Ae[1])},O=(re,we)=>{e("pick",[re,we],!0)},L=D(()=>y.value>v.value),V=B([0,2]),H=(re,we)=>{e("select-range",re,we,"min"),V.value=[re,we]},K=D(()=>_.value?11:8),U=(re,we)=>{e("select-range",re,we,"max");const Ae=g(K);V.value=[re+Ae,we+Ae]},R=re=>{const we=_.value?[0,3,6,11,14,17]:[0,3,8,11],Ae=["hours","minutes"].concat(_.value?["seconds"]:[]),at=(we.indexOf(V.value[0])+re+we.length)%we.length,ot=we.length/2;at<ot?me.start_emitSelectRange(Ae[at]):me.end_emitSelectRange(Ae[at-ot])},W=re=>{const we=re.code,{left:Ae,right:Ue,up:at,down:ot}=gt;if([Ae,Ue].includes(we)){R(we===Ae?-1:1),re.preventDefault();return}if([at,ot].includes(we)){const Pe=we===at?-1:1,je=V.value[0]<K.value?"start":"end";me[`${je}_scrollDown`](Pe),re.preventDefault();return}},G=(re,we)=>{const Ae=c?c(re):[],Ue=re==="start",ot=(we||(Ue?v.value:y.value)).hour(),Pe=Ue?s(ot+1,23):s(0,ot-1);return U8(Ae,Pe)},P=(re,we,Ae)=>{const Ue=d?d(re,we):[],at=we==="start",ot=Ae||(at?v.value:y.value),Pe=ot.hour();if(re!==Pe)return Ue;const je=ot.minute(),dt=at?s(je+1,59):s(0,je-1);return U8(Ue,dt)},j=(re,we,Ae,Ue)=>{const at=h?h(re,we,Ae):[],ot=Ae==="start",Pe=Ue||(ot?v.value:y.value),je=Pe.hour(),dt=Pe.minute();if(re!==je||we!==dt)return at;const Qe=Pe.second(),wt=ot?s(Qe+1,59):s(0,Qe-1);return U8(at,wt)},J=([re,we])=>[_e(re,"start",!0,we),_e(we,"end",!1,re)],{getAvailableHours:ne,getAvailableMinutes:te,getAvailableSeconds:de}=GH(G,P,j),{timePickerOptions:me,getAvailableTime:_e,onSetOption:ee}=WH({getAvailableHours:ne,getAvailableMinutes:te,getAvailableSeconds:de}),he=re=>re?Mt(re)?re.map(we=>Pt(we,n.format).locale(a.value)):Pt(re,n.format).locale(a.value):null,le=re=>re?Mt(re)?re.map(we=>we.format(n.format)):re.format(n.format):null,ue=()=>{if(Mt(f))return f.map(we=>Pt(we).locale(a.value));const re=Pt(f).locale(a.value);return[re,re.add(60,"m")]};return e("set-picker-option",["formatToString",le]),e("set-picker-option",["parseUserInput",he]),e("set-picker-option",["isValidValue",N]),e("set-picker-option",["handleKeydownInput",W]),e("set-picker-option",["getDefaultValue",ue]),e("set-picker-option",["getRangeAvailableTime",J]),(re,we)=>re.actualVisible?(S(),A("div",{key:0,class:q([g(o).b("range-picker"),g(i).b("panel")])},[I("div",{class:q(g(o).be("range-picker","content"))},[I("div",{class:q(g(o).be("range-picker","cell"))},[I("div",{class:q(g(o).be("range-picker","header"))},Me(g(r)("el.datepicker.startTime")),3),I("div",{class:q(g(p))},[$(XS,{ref:"minSpinner",role:"start","show-seconds":g(_),"am-pm-mode":g(C),"arrow-control":g(u),"spinner-date":g(y),"disabled-hours":G,"disabled-minutes":P,"disabled-seconds":j,onChange:T,onSetOption:g(ee),onSelectRange:H},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),I("div",{class:q(g(o).be("range-picker","cell"))},[I("div",{class:q(g(o).be("range-picker","header"))},Me(g(r)("el.datepicker.endTime")),3),I("div",{class:q(g(m))},[$(XS,{ref:"maxSpinner",role:"end","show-seconds":g(_),"am-pm-mode":g(C),"arrow-control":g(u),"spinner-date":g(v),"disabled-hours":G,"disabled-minutes":P,"disabled-seconds":j,onChange:k,onSetOption:g(ee),onSelectRange:U},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),I("div",{class:q(g(o).be("panel","footer"))},[I("button",{type:"button",class:q([g(o).be("panel","btn"),"cancel"]),onClick:Ae=>w()},Me(g(r)("el.datepicker.cancel")),11,["onClick"]),I("button",{type:"button",class:q([g(o).be("panel","btn"),"confirm"]),disabled:g(L),onClick:Ae=>x()},Me(g(r)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):ce("v-if",!0)}});var v3e=Xe(g3e,[["__file","panel-time-range.vue"]]);Pt.extend(D5);var y3e=Z({name:"ElTimePicker",install:null,props:{...O5,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=B(),[s,r]=t.isRange?["timerange",v3e]:["time",c3],a=o=>e.emit("update:modelValue",o);return At("ElPopperOptions",t.popperOptions),e.expose({focus:o=>{var i;(i=n.value)==null||i.handleFocusInput(o)},blur:o=>{var i;(i=n.value)==null||i.handleBlurInput(o)},handleOpen:()=>{var o;(o=n.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=n.value)==null||o.handleClose()}}),()=>{var o;const i=(o=t.format)!=null?o:BS;return $(UH,Kt(t,{ref:n,type:s,format:i,"onUpdate:modelValue":a}),{default:l=>$(r,l,null)})}}});const b3e=Ft(y3e),_3e=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return Hc(e).map((s,r)=>n-(e-r-1))},w3e=t=>{const e=t.daysInMonth();return Hc(e).map((n,s)=>s+1)},x3e=t=>Hc(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),C3e=qe({selectedDay:{type:ve(Object)},range:{type:ve(Array)},date:{type:ve(Object),required:!0},hideHeader:{type:Boolean}}),S3e={pick:t=>Vn(t)};var tU={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){return function(n,s,r){var a=s.prototype,o=function(d){return d&&(d.indexOf?d:d.s)},i=function(d,h,f,p,m){var y=d.name?d:d.$locale(),v=o(y[h]),b=o(y[f]),w=v||b.map(function(C){return C.slice(0,p)});if(!m)return w;var _=y.weekStart;return w.map(function(C,x){return w[(x+(_||0))%7]})},l=function(){return r.Ls[r.locale()]},u=function(d,h){return d.formats[h]||function(f){return f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,y){return m||y.slice(1)})}(d.formats[h.toUpperCase()])},c=function(){var d=this;return{months:function(h){return h?h.format("MMMM"):i(d,"months")},monthsShort:function(h){return h?h.format("MMM"):i(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):i(d,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):i(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):i(d,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(d.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return c.bind(this)()},r.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(h){return u(d,h)},meridiem:d.meridiem,ordinal:d.ordinal}},r.months=function(){return i(l(),"months")},r.monthsShort=function(){return i(l(),"monthsShort","months",3)},r.weekdays=function(d){return i(l(),"weekdays",null,null,d)},r.weekdaysShort=function(d){return i(l(),"weekdaysShort","weekdays",3,d)},r.weekdaysMin=function(d){return i(l(),"weekdaysMin","weekdays",2,d)}}})})(tU);var T3e=tU.exports;const nU=ra(T3e),k3e=(t,e)=>{Pt.extend(nU);const n=Pt.localeData().firstDayOfWeek(),{t:s,lang:r}=fn(),a=Pt().locale(r.value),o=D(()=>!!t.range&&!!t.range.length),i=D(()=>{let h=[];if(o.value){const[f,p]=t.range,m=Hc(p.date()-f.date()+1).map(b=>({text:f.date()+b,type:"current"}));let y=m.length%7;y=y===0?0:7-y;const v=Hc(y).map((b,w)=>({text:w+1,type:"next"}));h=m.concat(v)}else{const f=t.date.startOf("month").day(),p=_3e(t.date,(f-n+7)%7).map(b=>({text:b,type:"prev"})),m=w3e(t.date).map(b=>({text:b,type:"current"}));h=[...p,...m];const y=7-(h.length%7||7),v=Hc(y).map((b,w)=>({text:w+1,type:"next"}));h=h.concat(v)}return x3e(h)}),l=D(()=>{const h=n;return h===0?W8.map(f=>s(`el.datepicker.weeks.${f}`)):W8.slice(h).concat(W8.slice(0,h)).map(f=>s(`el.datepicker.weeks.${f}`))}),u=(h,f)=>{switch(f){case"prev":return t.date.startOf("month").subtract(1,"month").date(h);case"next":return t.date.startOf("month").add(1,"month").date(h);case"current":return t.date.date(h)}};return{now:a,isInRange:o,rows:i,weekDays:l,getFormattedDate:u,handlePickDay:({text:h,type:f})=>{const p=u(h,f);e("pick",p)},getSlotData:({text:h,type:f})=>{const p=u(h,f);return{isSelected:p.isSame(t.selectedDay),type:`${f}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},$3e=Z({name:"DateTable"}),E3e=Z({...$3e,props:C3e,emits:S3e,setup(t,{expose:e,emit:n}){const s=t,{isInRange:r,now:a,rows:o,weekDays:i,getFormattedDate:l,handlePickDay:u,getSlotData:c}=k3e(s,n),d=Fe("calendar-table"),h=Fe("calendar-day"),f=({text:p,type:m})=>{const y=[m];if(m==="current"){const v=l(p,m);v.isSame(s.selectedDay,"day")&&y.push(h.is("selected")),v.isSame(a,"day")&&y.push(h.is("today"))}return y};return e({getFormattedDate:l}),(p,m)=>(S(),A("table",{class:q([g(d).b(),g(d).is("range",g(r))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?ce("v-if",!0):(S(),A("thead",{key:0},[(S(!0),A(He,null,Ut(g(i),y=>(S(),A("th",{key:y},Me(y),1))),128))])),I("tbody",null,[(S(!0),A(He,null,Ut(g(o),(y,v)=>(S(),A("tr",{key:v,class:q({[g(d).e("row")]:!0,[g(d).em("row","hide-border")]:v===0&&p.hideHeader})},[(S(!0),A(He,null,Ut(y,(b,w)=>(S(),A("td",{key:w,class:q(f(b)),onClick:_=>g(u)(b)},[I("div",{class:q(g(h).b())},[oe(p.$slots,"date-cell",{data:g(c)(b)},()=>[I("span",null,Me(b.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var WR=Xe(E3e,[["__file","date-table.vue"]]);const I3e=(t,e)=>{const n=t.endOf("month"),s=e.startOf("month"),a=n.isSame(s,"week")?s.add(1,"week"):s;return[[t,n],[a.startOf("week"),e]]},N3e=(t,e)=>{const n=t.endOf("month"),s=t.add(1,"month").startOf("month"),r=n.isSame(s,"week")?s.add(1,"week"):s,a=r.endOf("month"),o=e.startOf("month"),i=a.isSame(o,"week")?o.add(1,"week"):o;return[[t,n],[r.startOf("week"),a],[i.startOf("week"),e]]},A3e=(t,e,n)=>{const{lang:s}=fn(),r=B(),a=Pt().locale(s.value),o=D({get(){return t.modelValue?l.value:r.value},set(y){if(!y)return;r.value=y;const v=y.toDate();e(qa,v),e(Yt,v)}}),i=D(()=>{if(!t.range)return[];const y=t.range.map(w=>Pt(w).locale(s.value)),[v,b]=y;return v.isAfter(b)?[]:v.isSame(b,"month")?f(v,b):v.add(1,"month").month()!==b.month()?[]:f(v,b)}),l=D(()=>t.modelValue?Pt(t.modelValue).locale(s.value):o.value||(i.value.length?i.value[0][0]:a)),u=D(()=>l.value.subtract(1,"month").date(1)),c=D(()=>l.value.add(1,"month").date(1)),d=D(()=>l.value.subtract(1,"year").date(1)),h=D(()=>l.value.add(1,"year").date(1)),f=(y,v)=>{const b=y.startOf("week"),w=v.endOf("week"),_=b.get("month"),C=w.get("month");return _===C?[[b,w]]:(_+1)%12===C?I3e(b,w):_+2===C||(_+1)%11===C?N3e(b,w):[]},p=y=>{o.value=y};return{calculateValidatedDateRange:f,date:l,realSelectedDay:o,pickDay:p,selectDate:y=>{const b={"prev-month":u.value,"next-month":c.value,"prev-year":d.value,"next-year":h.value,today:a}[y];b.isSame(l.value,"day")||p(b)},validatedRange:i}},D3e=t=>Mt(t)&&t.length===2&&t.every(e=>j2(e)),O3e=qe({modelValue:{type:Date},range:{type:ve(Array),validator:D3e}}),R3e={[Yt]:t=>j2(t),[qa]:t=>j2(t)},L3e="ElCalendar",P3e=Z({name:L3e}),M3e=Z({...P3e,props:O3e,emits:R3e,setup(t,{expose:e,emit:n}){const s=t,r=Fe("calendar"),{calculateValidatedDateRange:a,date:o,pickDay:i,realSelectedDay:l,selectDate:u,validatedRange:c}=A3e(s,n),{t:d}=fn(),h=D(()=>{const f=`el.datepicker.month${o.value.format("M")}`;return`${o.value.year()} ${d("el.datepicker.year")} ${d(f)}`});return e({selectedDay:l,pickDay:i,selectDate:u,calculateValidatedDateRange:a}),(f,p)=>(S(),A("div",{class:q(g(r).b())},[I("div",{class:q(g(r).e("header"))},[oe(f.$slots,"header",{date:g(h)},()=>[I("div",{class:q(g(r).e("title"))},Me(g(h)),3),g(c).length===0?(S(),A("div",{key:0,class:q(g(r).e("button-group"))},[$(g(PH),null,{default:se(()=>[$(g(Hn),{size:"small",onClick:m=>g(u)("prev-month")},{default:se(()=>[ct(Me(g(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),$(g(Hn),{size:"small",onClick:m=>g(u)("today")},{default:se(()=>[ct(Me(g(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),$(g(Hn),{size:"small",onClick:m=>g(u)("next-month")},{default:se(()=>[ct(Me(g(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):ce("v-if",!0)])],2),g(c).length===0?(S(),A("div",{key:0,class:q(g(r).e("body"))},[$(WR,{date:g(o),"selected-day":g(l),onPick:g(i)},Ei({_:2},[f.$slots["date-cell"]?{name:"date-cell",fn:se(m=>[oe(f.$slots,"date-cell",vi(Eh(m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(S(),A("div",{key:1,class:q(g(r).e("body"))},[(S(!0),A(He,null,Ut(g(c),(m,y)=>(S(),be(WR,{key:y,date:m[0],"selected-day":g(l),range:m,"hide-header":y!==0,onPick:g(i)},Ei({_:2},[f.$slots["date-cell"]?{name:"date-cell",fn:se(v=>[oe(f.$slots,"date-cell",vi(Eh(v)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var F3e=Xe(M3e,[["__file","calendar.vue"]]);const B3e=Ft(F3e),z3e=qe({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:ve([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),V3e=Z({name:"ElCard"}),H3e=Z({...V3e,props:z3e,setup(t){const e=Fe("card");return(n,s)=>(S(),A("div",{class:q([g(e).b(),g(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(S(),A("div",{key:0,class:q(g(e).e("header"))},[oe(n.$slots,"header",{},()=>[ct(Me(n.header),1)])],2)):ce("v-if",!0),I("div",{class:q([g(e).e("body"),n.bodyClass]),style:yt(n.bodyStyle)},[oe(n.$slots,"default")],6),n.$slots.footer||n.footer?(S(),A("div",{key:1,class:q(g(e).e("footer"))},[oe(n.$slots,"footer",{},()=>[ct(Me(n.footer),1)])],2)):ce("v-if",!0)],2))}});var U3e=Xe(H3e,[["__file","card.vue"]]);const W3e=Ft(U3e),j3e=qe({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),G3e={change:(t,e)=>[t,e].every(Tt)},sU=Symbol("carouselContextKey"),jR=300,q3e=(t,e,n)=>{const{children:s,addChild:r,removeChild:a}=C5(Ht(),"ElCarouselItem"),o=xr(),i=B(-1),l=B(null),u=B(!1),c=B(),d=B(0),h=B(!0),f=B(!0),p=B(!1),m=D(()=>t.arrow!=="never"&&!g(b)),y=D(()=>s.value.some(_e=>_e.props.label.toString().length>0)),v=D(()=>t.type==="card"),b=D(()=>t.direction==="vertical"),w=D(()=>t.height!=="auto"?{height:t.height}:{height:`${d.value}px`,overflow:"hidden"}),_=mh(_e=>{O(_e)},jR,{trailing:!0}),C=mh(_e=>{P(_e)},jR),x=_e=>h.value?i.value<=1?_e<=1:_e>1:!0;function T(){l.value&&(clearInterval(l.value),l.value=null)}function k(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval(()=>N(),t.interval))}const N=()=>{f.value||(p.value=!0),f.value=!1,i.value<s.value.length-1?i.value=i.value+1:t.loop?i.value=0:p.value=!1};function O(_e){if(f.value||(p.value=!0),f.value=!1,qt(_e)){const le=s.value.filter(ue=>ue.props.name===_e);le.length>0&&(_e=s.value.indexOf(le[0]))}if(_e=Number(_e),Number.isNaN(_e)||_e!==Math.floor(_e))return;const ee=s.value.length,he=i.value;_e<0?i.value=t.loop?ee-1:0:_e>=ee?i.value=t.loop?0:ee-1:i.value=_e,he===i.value&&L(he),ne()}function L(_e){s.value.forEach((ee,he)=>{ee.translateItem(he,i.value,_e)})}function V(_e,ee){var he,le,ue,re;const we=g(s),Ae=we.length;if(Ae===0||!_e.states.inStage)return!1;const Ue=ee+1,at=ee-1,ot=Ae-1,Pe=we[ot].states.active,je=we[0].states.active,dt=(le=(he=we[Ue])==null?void 0:he.states)==null?void 0:le.active,Qe=(re=(ue=we[at])==null?void 0:ue.states)==null?void 0:re.active;return ee===ot&&je||dt?"left":ee===0&&Pe||Qe?"right":!1}function H(){u.value=!0,t.pauseOnHover&&T()}function K(){u.value=!1,k()}function U(){p.value=!1}function R(_e){g(b)||s.value.forEach((ee,he)=>{_e===V(ee,he)&&(ee.states.hover=!0)})}function W(){g(b)||s.value.forEach(_e=>{_e.states.hover=!1})}function G(_e){_e!==i.value&&(f.value||(p.value=!0)),i.value=_e}function P(_e){t.trigger==="hover"&&_e!==i.value&&(i.value=_e,f.value||(p.value=!0))}function j(){O(i.value-1)}function J(){O(i.value+1)}function ne(){T(),t.pauseOnHover||k()}function te(_e){t.height==="auto"&&(d.value=_e)}function de(){var _e;const ee=(_e=o.default)==null?void 0:_e.call(o);if(!ee)return null;const he=zc(ee),le="ElCarouselItem",ue=he.filter(re=>An(re)&&re.type.name===le);return(ue==null?void 0:ue.length)===2&&t.loop&&!v.value?(h.value=!0,ue):(h.value=!1,null)}Ee(()=>i.value,(_e,ee)=>{L(ee),h.value&&(_e=_e%2,ee=ee%2),ee>-1&&e("change",_e,ee)}),Ee(()=>t.autoplay,_e=>{_e?k():T()}),Ee(()=>t.loop,()=>{O(i.value)}),Ee(()=>t.interval,()=>{ne()});const me=Jn();return Et(()=>{Ee(()=>s.value,()=>{s.value.length>0&&O(t.initialIndex)},{immediate:!0}),me.value=ds(c.value,()=>{L()}),k()}),ts(()=>{T(),c.value&&me.value&&me.value.stop()}),At(sU,{root:c,isCardType:v,isVertical:b,items:s,loop:t.loop,cardScale:t.cardScale,addItem:r,removeItem:a,setActiveItem:O,setContainerHeight:te}),{root:c,activeIndex:i,arrowDisplay:m,hasLabel:y,hover:u,isCardType:v,isTransitioning:p,items:s,isVertical:b,containerStyle:w,isItemsTwoLength:h,handleButtonEnter:R,handleTransitionEnd:U,handleButtonLeave:W,handleIndicatorClick:G,handleMouseEnter:H,handleMouseLeave:K,setActiveItem:O,prev:j,next:J,PlaceholderItem:de,isTwoLengthShow:x,throttledArrowClick:_,throttledIndicatorHover:C}},K3e="ElCarousel",X3e=Z({name:K3e}),Y3e=Z({...X3e,props:j3e,emits:G3e,setup(t,{expose:e,emit:n}){const s=t,{root:r,activeIndex:a,arrowDisplay:o,hasLabel:i,hover:l,isCardType:u,items:c,isVertical:d,containerStyle:h,handleButtonEnter:f,handleButtonLeave:p,isTransitioning:m,handleIndicatorClick:y,handleMouseEnter:v,handleMouseLeave:b,handleTransitionEnd:w,setActiveItem:_,prev:C,next:x,PlaceholderItem:T,isTwoLengthShow:k,throttledArrowClick:N,throttledIndicatorHover:O}=q3e(s,n),L=Fe("carousel"),{t:V}=fn(),H=D(()=>{const R=[L.b(),L.m(s.direction)];return g(u)&&R.push(L.m("card")),R}),K=D(()=>{const R=[L.e("container")];return s.motionBlur&&g(m)&&R.push(g(d)?`${L.namespace.value}-transitioning-vertical`:`${L.namespace.value}-transitioning`),R}),U=D(()=>{const R=[L.e("indicators"),L.em("indicators",s.direction)];return g(i)&&R.push(L.em("indicators","labels")),s.indicatorPosition==="outside"&&R.push(L.em("indicators","outside")),g(d)&&R.push(L.em("indicators","right")),R});return e({activeIndex:a,setActiveItem:_,prev:C,next:x}),(R,W)=>(S(),A("div",{ref_key:"root",ref:r,class:q(g(H)),onMouseenter:xt(g(v),["stop"]),onMouseleave:xt(g(b),["stop"])},[g(o)?(S(),be(ar,{key:0,name:"carousel-arrow-left",persisted:""},{default:se(()=>[zt(I("button",{type:"button",class:q([g(L).e("arrow"),g(L).em("arrow","left")]),"aria-label":g(V)("el.carousel.leftArrow"),onMouseenter:G=>g(f)("left"),onMouseleave:g(p),onClick:xt(G=>g(N)(g(a)-1),["stop"])},[$(g(Je),null,{default:se(()=>[$(g(Yc))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[gn,(R.arrow==="always"||g(l))&&(s.loop||g(a)>0)]])]),_:1})):ce("v-if",!0),g(o)?(S(),be(ar,{key:1,name:"carousel-arrow-right",persisted:""},{default:se(()=>[zt(I("button",{type:"button",class:q([g(L).e("arrow"),g(L).em("arrow","right")]),"aria-label":g(V)("el.carousel.rightArrow"),onMouseenter:G=>g(f)("right"),onMouseleave:g(p),onClick:xt(G=>g(N)(g(a)+1),["stop"])},[$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[gn,(R.arrow==="always"||g(l))&&(s.loop||g(a)<g(c).length-1)]])]),_:1})):ce("v-if",!0),I("div",{class:q(g(K)),style:yt(g(h)),onTransitionend:g(w)},[$(g(T)),oe(R.$slots,"default")],46,["onTransitionend"]),R.indicatorPosition!=="none"?(S(),A("ul",{key:2,class:q(g(U))},[(S(!0),A(He,null,Ut(g(c),(G,P)=>zt((S(),A("li",{key:P,class:q([g(L).e("indicator"),g(L).em("indicator",R.direction),g(L).is("active",P===g(a))]),onMouseenter:j=>g(O)(P),onClick:xt(j=>g(y)(P),["stop"])},[I("button",{class:q(g(L).e("button")),"aria-label":g(V)("el.carousel.indicator",{index:P+1})},[g(i)?(S(),A("span",{key:0},Me(G.props.label),1)):ce("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[gn,g(k)(P)]])),128))],2)):ce("v-if",!0),s.motionBlur?(S(),A("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[I("defs",null,[I("filter",{id:"elCarouselHorizontal"},[I("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),I("filter",{id:"elCarouselVertical"},[I("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):ce("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Q3e=Xe(Y3e,[["__file","carousel.vue"]]);const Z3e=qe({name:{type:String,default:""},label:{type:[String,Number],default:""}}),J3e=(t,e)=>{const n=Le(sU),s=Ht(),r=B(),a=B(!1),o=B(0),i=B(1),l=B(!1),u=B(!1),c=B(!1),d=B(!1),{isCardType:h,isVertical:f,cardScale:p}=n;function m(_,C,x){const T=x-1,k=C-1,N=C+1,O=x/2;return C===0&&_===T?-1:C===T&&_===0?x:_<k&&C-_>=O?x+1:_>N&&_-C>=O?-2:_}function y(_,C){var x,T;const k=g(f)?((x=n.root.value)==null?void 0:x.offsetHeight)||0:((T=n.root.value)==null?void 0:T.offsetWidth)||0;return c.value?k*((2-p)*(_-C)+1)/4:_<C?-(1+p)*k/4:(3+p)*k/4}function v(_,C,x){const T=n.root.value;return T?((x?T.offsetHeight:T.offsetWidth)||0)*(_-C):0}const b=(_,C,x)=>{var T;const k=g(h),N=(T=n.items.value.length)!=null?T:Number.NaN,O=_===C;!k&&!$s(x)&&(d.value=O||_===x),!O&&N>2&&n.loop&&(_=m(_,C,N));const L=g(f);l.value=O,k?(c.value=Math.round(Math.abs(_-C))<=1,o.value=y(_,C),i.value=g(l)?1:p):o.value=v(_,C,L),u.value=!0,O&&r.value&&n.setContainerHeight(r.value.offsetHeight)};function w(){if(n&&g(h)){const _=n.items.value.findIndex(({uid:C})=>C===s.uid);n.setActiveItem(_)}}return Et(()=>{n.addItem({props:t,states:an({hover:a,translate:o,scale:i,active:l,ready:u,inStage:c,animating:d}),uid:s.uid,translateItem:b})}),ma(()=>{n.removeItem(s.uid)}),{carouselItemRef:r,active:l,animating:d,hover:a,inStage:c,isVertical:f,translate:o,isCardType:h,scale:i,ready:u,handleItemClick:w}},e4e=Z({name:"ElCarouselItem"}),t4e=Z({...e4e,props:Z3e,setup(t){const e=t,n=Fe("carousel"),{carouselItemRef:s,active:r,animating:a,hover:o,inStage:i,isVertical:l,translate:u,isCardType:c,scale:d,ready:h,handleItemClick:f}=J3e(e),p=D(()=>[n.e("item"),n.is("active",r.value),n.is("in-stage",i.value),n.is("hover",o.value),n.is("animating",a.value),{[n.em("item","card")]:c.value,[n.em("item","card-vertical")]:c.value&&l.value}]),m=D(()=>{const v=`${`translate${g(l)?"Y":"X"}`}(${g(u)}px)`,b=`scale(${g(d)})`;return{transform:[v,b].join(" ")}});return(y,v)=>zt((S(),A("div",{ref_key:"carouselItemRef",ref:s,class:q(g(p)),style:yt(g(m)),onClick:g(f)},[g(c)?zt((S(),A("div",{key:0,class:q(g(n).e("mask"))},null,2)),[[gn,!g(r)]]):ce("v-if",!0),oe(y.$slots,"default")],14,["onClick"])),[[gn,g(h)]])}});var rU=Xe(t4e,[["__file","carousel-item.vue"]]);const n4e=Ft(Q3e,{CarouselItem:rU}),s4e=gs(rU),aU={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:_r,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...sa(["ariaControls"])},oU={[Yt]:t=>qt(t)||Tt(t)||Ms(t),change:t=>qt(t)||Tt(t)||Ms(t)},B0=Symbol("checkboxGroupContextKey"),r4e=({model:t,isChecked:e})=>{const n=Le(B0,void 0),s=D(()=>{var a,o;const i=(a=n==null?void 0:n.max)==null?void 0:a.value,l=(o=n==null?void 0:n.min)==null?void 0:o.value;return!$s(i)&&t.value.length>=i&&!e.value||!$s(l)&&t.value.length<=l&&e.value});return{isDisabled:ao(D(()=>(n==null?void 0:n.disabled.value)||s.value)),isLimitDisabled:s}},a4e=(t,{model:e,isLimitExceeded:n,hasOwnLabel:s,isDisabled:r,isLabeledByFormItem:a})=>{const o=Le(B0,void 0),{formItem:i}=Na(),{emit:l}=Ht();function u(p){var m,y,v,b;return[!0,t.trueValue,t.trueLabel].includes(p)?(y=(m=t.trueValue)!=null?m:t.trueLabel)!=null?y:!0:(b=(v=t.falseValue)!=null?v:t.falseLabel)!=null?b:!1}function c(p,m){l("change",u(p),m)}function d(p){if(n.value)return;const m=p.target;l("change",u(m.checked),p)}async function h(p){n.value||!s.value&&!r.value&&a.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(e.value=u([!1,t.falseValue,t.falseLabel].includes(e.value)),await it(),c(e.value,p)))}const f=D(()=>(o==null?void 0:o.validateEvent)||t.validateEvent);return Ee(()=>t.modelValue,()=>{f.value&&(i==null||i.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:h}},o4e=t=>{const e=B(!1),{emit:n}=Ht(),s=Le(B0,void 0),r=D(()=>$s(s)===!1),a=B(!1),o=D({get(){var i,l;return r.value?(i=s==null?void 0:s.modelValue)==null?void 0:i.value:(l=t.modelValue)!=null?l:e.value},set(i){var l,u;r.value&&Mt(i)?(a.value=((l=s==null?void 0:s.max)==null?void 0:l.value)!==void 0&&i.length>(s==null?void 0:s.max.value)&&i.length>o.value.length,a.value===!1&&((u=s==null?void 0:s.changeEvent)==null||u.call(s,i))):(n(Yt,i),e.value=i)}});return{model:o,isGroup:r,isLimitExceeded:a}},i4e=(t,e,{model:n})=>{const s=Le(B0,void 0),r=B(!1),a=D(()=>Ah(t.value)?t.label:t.value),o=D(()=>{const c=n.value;return Ms(c)?c:Mt(c)?Vn(a.value)?c.map(Rs).some(d=>ja(d,a.value)):c.map(Rs).includes(a.value):c!=null?c===t.trueValue||c===t.trueLabel:!!c}),i=or(D(()=>{var c;return(c=s==null?void 0:s.size)==null?void 0:c.value}),{prop:!0}),l=or(D(()=>{var c;return(c=s==null?void 0:s.size)==null?void 0:c.value})),u=D(()=>!!e.default||!Ah(a.value));return{checkboxButtonSize:i,isChecked:o,isFocused:r,checkboxSize:l,hasOwnLabel:u,actualValue:a}},iU=(t,e)=>{const{formItem:n}=Na(),{model:s,isGroup:r,isLimitExceeded:a}=o4e(t),{isFocused:o,isChecked:i,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,actualValue:d}=i4e(t,e,{model:s}),{isDisabled:h}=r4e({model:s,isChecked:i}),{inputId:f,isLabeledByFormItem:p}=ml(t,{formItemContext:n,disableIdGeneration:c,disableIdManagement:r}),{handleChange:m,onClickRoot:y}=a4e(t,{model:s,isLimitExceeded:a,hasOwnLabel:c,isDisabled:h,isLabeledByFormItem:p});return(()=>{function b(){var w,_;Mt(s.value)&&!s.value.includes(d.value)?s.value.push(d.value):s.value=(_=(w=t.trueValue)!=null?w:t.trueLabel)!=null?_:!0}t.checked&&b()})(),Vc({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},D(()=>r.value&&Ah(t.value))),Vc({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},D(()=>!!t.trueLabel)),Vc({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},D(()=>!!t.falseLabel)),{inputId:f,isLabeledByFormItem:p,isChecked:i,isDisabled:h,isFocused:o,checkboxButtonSize:l,checkboxSize:u,hasOwnLabel:c,model:s,actualValue:d,handleChange:m,onClickRoot:y}},l4e=Z({name:"ElCheckbox"}),u4e=Z({...l4e,props:aU,emits:oU,setup(t){const e=t,n=xr(),{inputId:s,isLabeledByFormItem:r,isChecked:a,isDisabled:o,isFocused:i,checkboxSize:l,hasOwnLabel:u,model:c,actualValue:d,handleChange:h,onClickRoot:f}=iU(e,n),p=Fe("checkbox"),m=D(()=>[p.b(),p.m(l.value),p.is("disabled",o.value),p.is("bordered",e.border),p.is("checked",a.value)]),y=D(()=>[p.e("input"),p.is("disabled",o.value),p.is("checked",a.value),p.is("indeterminate",e.indeterminate),p.is("focus",i.value)]);return(v,b)=>(S(),be(Gt(!g(u)&&g(r)?"span":"label"),{class:q(g(m)),"aria-controls":v.indeterminate?v.ariaControls:null,onClick:g(f)},{default:se(()=>{var w,_;return[I("span",{class:q(g(y))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?zt((S(),A("input",{key:0,id:g(s),"onUpdate:modelValue":C=>ms(c)?c.value=C:null,class:q(g(p).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:g(o),"true-value":(w=v.trueValue)!=null?w:v.trueLabel,"false-value":(_=v.falseValue)!=null?_:v.falseLabel,onChange:g(h),onFocus:C=>i.value=!0,onBlur:C=>i.value=!1,onClick:xt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[J_,g(c)]]):zt((S(),A("input",{key:1,id:g(s),"onUpdate:modelValue":C=>ms(c)?c.value=C:null,class:q(g(p).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:g(o),value:g(d),name:v.name,tabindex:v.tabindex,onChange:g(h),onFocus:C=>i.value=!0,onBlur:C=>i.value=!1,onClick:xt(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[J_,g(c)]]),I("span",{class:q(g(p).e("inner"))},null,2)],2),g(u)?(S(),A("span",{key:0,class:q(g(p).e("label"))},[oe(v.$slots,"default"),v.$slots.default?ce("v-if",!0):(S(),A(He,{key:0},[ct(Me(v.label),1)],64))],2)):ce("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var c4e=Xe(u4e,[["__file","checkbox.vue"]]);const d4e=Z({name:"ElCheckboxButton"}),h4e=Z({...d4e,props:aU,emits:oU,setup(t){const e=t,n=xr(),{isFocused:s,isChecked:r,isDisabled:a,checkboxButtonSize:o,model:i,actualValue:l,handleChange:u}=iU(e,n),c=Le(B0,void 0),d=Fe("checkbox"),h=D(()=>{var p,m,y,v;const b=(m=(p=c==null?void 0:c.fill)==null?void 0:p.value)!=null?m:"";return{backgroundColor:b,borderColor:b,color:(v=(y=c==null?void 0:c.textColor)==null?void 0:y.value)!=null?v:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),f=D(()=>[d.b("button"),d.bm("button",o.value),d.is("disabled",a.value),d.is("checked",r.value),d.is("focus",s.value)]);return(p,m)=>{var y,v;return S(),A("label",{class:q(g(f))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?zt((S(),A("input",{key:0,"onUpdate:modelValue":b=>ms(i)?i.value=b:null,class:q(g(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:g(a),"true-value":(y=p.trueValue)!=null?y:p.trueLabel,"false-value":(v=p.falseValue)!=null?v:p.falseLabel,onChange:g(u),onFocus:b=>s.value=!0,onBlur:b=>s.value=!1,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[J_,g(i)]]):zt((S(),A("input",{key:1,"onUpdate:modelValue":b=>ms(i)?i.value=b:null,class:q(g(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:g(a),value:g(l),onChange:g(u),onFocus:b=>s.value=!0,onBlur:b=>s.value=!1,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[J_,g(i)]]),p.$slots.default||p.label?(S(),A("span",{key:2,class:q(g(d).be("button","inner")),style:yt(g(r)?g(h):void 0)},[oe(p.$slots,"default",{},()=>[ct(Me(p.label),1)])],6)):ce("v-if",!0)],2)}}});var lU=Xe(h4e,[["__file","checkbox-button.vue"]]);const f4e=qe({modelValue:{type:ve(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:_r,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),p4e={[Yt]:t=>Mt(t),change:t=>Mt(t)},m4e=Z({name:"ElCheckboxGroup"}),g4e=Z({...m4e,props:f4e,emits:p4e,setup(t,{emit:e}){const n=t,s=Fe("checkbox"),{formItem:r}=Na(),{inputId:a,isLabeledByFormItem:o}=ml(n,{formItemContext:r}),i=async u=>{e(Yt,u),await it(),e("change",u)},l=D({get(){return n.modelValue},set(u){i(u)}});return At(B0,{...Qi(Jr(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:i}),Ee(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(u=>void 0))}),(u,c)=>{var d;return S(),be(Gt(u.tag),{id:g(a),class:q(g(s).b("group")),role:"group","aria-label":g(o)?void 0:u.ariaLabel||"checkbox-group","aria-labelledby":g(o)?(d=g(r))==null?void 0:d.labelId:void 0},{default:se(()=>[oe(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var uU=Xe(g4e,[["__file","checkbox-group.vue"]]);const ha=Ft(c4e,{CheckboxButton:lU,CheckboxGroup:uU}),v4e=gs(lU),iw=gs(uU),cU=qe({modelValue:{type:[String,Number,Boolean],default:void 0},size:_r,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),y4e=qe({...cU,border:Boolean}),dU={[Yt]:t=>qt(t)||Tt(t)||Ms(t),[ns]:t=>qt(t)||Tt(t)||Ms(t)},hU=Symbol("radioGroupKey"),fU=(t,e)=>{const n=B(),s=Le(hU,void 0),r=D(()=>!!s),a=D(()=>Ah(t.value)?t.label:t.value),o=D({get(){return r.value?s.modelValue:t.modelValue},set(d){r.value?s.changeEvent(d):e&&e(Yt,d),n.value.checked=t.modelValue===a.value}}),i=or(D(()=>s==null?void 0:s.size)),l=ao(D(()=>s==null?void 0:s.disabled)),u=B(!1),c=D(()=>l.value||r.value&&o.value!==a.value?-1:0);return Vc({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},D(()=>r.value&&Ah(t.value))),{radioRef:n,isGroup:r,radioGroup:s,focus:u,size:i,disabled:l,tabIndex:c,modelValue:o,actualValue:a}},b4e=Z({name:"ElRadio"}),_4e=Z({...b4e,props:y4e,emits:dU,setup(t,{emit:e}){const n=t,s=Fe("radio"),{radioRef:r,radioGroup:a,focus:o,size:i,disabled:l,modelValue:u,actualValue:c}=fU(n,e);function d(){it(()=>e("change",u.value))}return(h,f)=>{var p;return S(),A("label",{class:q([g(s).b(),g(s).is("disabled",g(l)),g(s).is("focus",g(o)),g(s).is("bordered",h.border),g(s).is("checked",g(u)===g(c)),g(s).m(g(i))])},[I("span",{class:q([g(s).e("input"),g(s).is("disabled",g(l)),g(s).is("checked",g(u)===g(c))])},[zt(I("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":m=>ms(u)?u.value=m:null,class:q(g(s).e("original")),value:g(c),name:h.name||((p=g(a))==null?void 0:p.name),disabled:g(l),checked:g(u)===g(c),type:"radio",onFocus:m=>o.value=!0,onBlur:m=>o.value=!1,onChange:d,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[yz,g(u)]]),I("span",{class:q(g(s).e("inner"))},null,2)],2),I("span",{class:q(g(s).e("label")),onKeydown:xt(()=>{},["stop"])},[oe(h.$slots,"default",{},()=>[ct(Me(h.label),1)])],42,["onKeydown"])],2)}}});var w4e=Xe(_4e,[["__file","radio.vue"]]);const x4e=qe({...cU}),C4e=Z({name:"ElRadioButton"}),S4e=Z({...C4e,props:x4e,setup(t){const e=t,n=Fe("radio"),{radioRef:s,focus:r,size:a,disabled:o,modelValue:i,radioGroup:l,actualValue:u}=fU(e),c=D(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,h)=>{var f;return S(),A("label",{class:q([g(n).b("button"),g(n).is("active",g(i)===g(u)),g(n).is("disabled",g(o)),g(n).is("focus",g(r)),g(n).bm("button",g(a))])},[zt(I("input",{ref_key:"radioRef",ref:s,"onUpdate:modelValue":p=>ms(i)?i.value=p:null,class:q(g(n).be("button","original-radio")),value:g(u),type:"radio",name:d.name||((f=g(l))==null?void 0:f.name),disabled:g(o),onFocus:p=>r.value=!0,onBlur:p=>r.value=!1,onClick:xt(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[yz,g(i)]]),I("span",{class:q(g(n).be("button","inner")),style:yt(g(i)===g(u)?g(c):{}),onKeydown:xt(()=>{},["stop"])},[oe(d.$slots,"default",{},()=>[ct(Me(d.label),1)])],46,["onKeydown"])],2)}}});var pU=Xe(S4e,[["__file","radio-button.vue"]]);const T4e=qe({id:{type:String,default:void 0},size:_r,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),k4e=dU,$4e=Z({name:"ElRadioGroup"}),E4e=Z({...$4e,props:T4e,emits:k4e,setup(t,{emit:e}){const n=t,s=Fe("radio"),r=pa(),a=B(),{formItem:o}=Na(),{inputId:i,isLabeledByFormItem:l}=ml(n,{formItemContext:o}),u=d=>{e(Yt,d),it(()=>e("change",d))};Et(()=>{const d=a.value.querySelectorAll("[type=radio]"),h=d[0];!Array.from(d).some(f=>f.checked)&&h&&(h.tabIndex=0)});const c=D(()=>n.name||r.value);return At(hU,an({...Jr(n),changeEvent:u,name:c})),Ee(()=>n.modelValue,()=>{n.validateEvent&&(o==null||o.validate("change").catch(d=>void 0))}),(d,h)=>(S(),A("div",{id:g(i),ref_key:"radioGroupRef",ref:a,class:q(g(s).b("group")),role:"radiogroup","aria-label":g(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":g(l)?g(o).labelId:void 0},[oe(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var mU=Xe(E4e,[["__file","radio-group.vue"]]);const lw=Ft(w4e,{RadioButton:pU,RadioGroup:mU}),R5=gs(mU),I4e=gs(pU);var N4e=Z({name:"NodeContent",setup(){return{ns:Fe("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:s,label:r}=e,{renderLabelFn:a}=n;return pt("span",{class:t.e("label")},a?a({node:e,data:s}):r)}});const L5=Symbol(),A4e=Z({name:"ElCascaderNode",components:{ElCheckbox:ha,ElRadio:lw,NodeContent:N4e,ElIcon:Je,Check:J1,Loading:Xl,ArrowRight:Ga},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=Le(L5),s=Fe("cascader-node"),r=D(()=>n.isHoverMenu),a=D(()=>n.config.multiple),o=D(()=>n.config.checkStrictly),i=D(()=>{var x;return(x=n.checkedNodes[0])==null?void 0:x.uid}),l=D(()=>t.node.isDisabled),u=D(()=>t.node.isLeaf),c=D(()=>o.value&&!u.value||!l.value),d=D(()=>f(n.expandingNode)),h=D(()=>o.value&&n.checkedNodes.some(f)),f=x=>{var T;const{level:k,uid:N}=t.node;return((T=x==null?void 0:x.pathNodes[k-1])==null?void 0:T.uid)===N},p=()=>{d.value||n.expandNode(t.node)},m=x=>{const{node:T}=t;x!==T.checked&&n.handleCheckChange(T,x)},y=()=>{n.lazyLoad(t.node,()=>{u.value||p()})},v=x=>{r.value&&(b(),!u.value&&e("expand",x))},b=()=>{const{node:x}=t;!c.value||x.loading||(x.loaded?p():y())},w=()=>{r.value&&!u.value||(u.value&&!l.value&&!o.value&&!a.value?C(!0):b())},_=x=>{o.value?(m(x),t.node.loaded&&p()):C(x)},C=x=>{t.node.loaded?(m(x),!o.value&&p()):y()};return{panel:n,isHoverMenu:r,multiple:a,checkStrictly:o,checkedNodeId:i,isDisabled:l,isLeaf:u,expandable:c,inExpandingPath:d,inCheckedPath:h,ns:s,handleHoverExpand:v,handleExpand:b,handleClick:w,handleCheck:C,handleSelectCheck:_}}});function D4e(t,e,n,s,r,a){const o=ht("el-checkbox"),i=ht("el-radio"),l=ht("check"),u=ht("el-icon"),c=ht("node-content"),d=ht("loading"),h=ht("arrow-right");return S(),A("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:q([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[ce(" prefix "),t.multiple?(S(),be(o,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:xt(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(S(),be(i,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:xt(()=>{},["stop"])},{default:se(()=>[ce(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),I("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(S(),be(u,{key:2,class:q(t.ns.e("prefix"))},{default:se(()=>[$(l)]),_:1},8,["class"])):ce("v-if",!0),ce(" content "),$(c),ce(" postfix "),t.isLeaf?ce("v-if",!0):(S(),A(He,{key:3},[t.node.loading?(S(),be(u,{key:0,class:q([t.ns.is("loading"),t.ns.e("postfix")])},{default:se(()=>[$(d)]),_:1},8,["class"])):(S(),be(u,{key:1,class:q(["arrow-right",t.ns.e("postfix")])},{default:se(()=>[$(h)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var O4e=Xe(A4e,[["render",D4e],["__file","node.vue"]]);const R4e=Z({name:"ElCascaderMenu",components:{Loading:Xl,ElIcon:Je,ElScrollbar:vr,ElCascaderNode:O4e},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=Ht(),n=Fe("cascader-menu"),{t:s}=fn(),r=pa();let a=null,o=null;const i=Le(L5),l=B(null),u=D(()=>!t.nodes.length),c=D(()=>!i.initialLoaded),d=D(()=>`${r.value}-${t.index}`),h=y=>{a=y.target},f=y=>{if(!(!i.isHoverMenu||!a||!l.value))if(a.contains(y.target)){p();const v=e.vnode.el,{left:b}=v.getBoundingClientRect(),{offsetWidth:w,offsetHeight:_}=v,C=y.clientX-b,x=a.offsetTop,T=x+a.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${C} ${x} L${w} 0 V${x} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${C} ${T} L${w} ${_} V${T} Z" />
        `}else o||(o=window.setTimeout(m,i.config.hoverThreshold))},p=()=>{o&&(clearTimeout(o),o=null)},m=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:n,panel:i,hoverZone:l,isEmpty:u,isLoading:c,menuId:d,t:s,handleExpand:h,handleMouseMove:f,clearHoverZone:m}}});function L4e(t,e,n,s,r,a){const o=ht("el-cascader-node"),i=ht("loading"),l=ht("el-icon"),u=ht("el-scrollbar");return S(),be(u,{key:t.menuId,tag:"ul",role:"menu",class:q(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:se(()=>{var c;return[(S(!0),A(He,null,Ut(t.nodes,d=>(S(),be(o,{key:d.uid,node:d,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(S(),A("div",{key:0,class:q(t.ns.e("empty-text"))},[$(l,{size:"14",class:q(t.ns.is("loading"))},{default:se(()=>[$(i)]),_:1},8,["class"]),ct(" "+Me(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(S(),A("div",{key:1,class:q(t.ns.e("empty-text"))},Me(t.t("el.cascader.noData")),3)):(c=t.panel)!=null&&c.isHoverMenu?(S(),A("svg",{key:2,ref:"hoverZone",class:q(t.ns.e("hover-zone"))},null,2)):ce("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var P4e=Xe(R4e,[["render",L4e],["__file","menu.vue"]]);let M4e=0;const F4e=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let YS=class QS{constructor(e,n,s,r=!1){this.data=e,this.config=n,this.parent=s,this.root=r,this.uid=M4e++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:o,children:i}=n,l=e[i],u=F4e(this);this.level=r?0:s?s.level+1:1,this.value=e[a],this.label=e[o],this.pathNodes=u,this.pathValues=u.map(c=>c.value),this.pathLabels=u.map(c=>c.label),this.childrenData=l,this.children=(l||[]).map(c=>new QS(c,n,this)),this.loaded=!n.lazy||this.isLeaf||!mi(l)}get isDisabled(){const{data:e,parent:n,config:s}=this,{disabled:r,checkStrictly:a}=s;return(yn(r)?r(e,this):!!e[r])||!a&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:s,loaded:r}=this,{lazy:a,leaf:o}=n,i=yn(o)?o(e,this):e[o];return $s(i)?a&&!r?!1:!(Array.isArray(s)&&s.length):!!i}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:s}=this,r=new QS(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],s.push(r),r}calcText(e,n){const s=e?this.pathLabels.join(n):this.label;return this.text=s,s}broadcast(e,...n){const s=`onParent${Nl(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[s]&&r[s](...n))})}emit(e,...n){const{parent:s}=this,r=`onChild${Nl(e)}`;s&&(s[r]&&s[r](...n),s.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),s=n.length?n.every(r=>r.checked):!1;this.setCheckState(s)}setCheckState(e){const n=this.children.length,s=this.children.reduce((r,a)=>{const o=a.checked?1:a.indeterminate?.5:0;return r+o},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&s!==n&&s>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:s}=this.config;n||!s?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const ZS=(t,e)=>t.reduce((n,s)=>(s.isLeaf?n.push(s):(!e&&n.push(s),n=n.concat(ZS(s.children,e))),n),[]);class GR{constructor(e,n){this.config=n;const s=(e||[]).map(r=>new YS(r,this.config));this.nodes=s,this.allNodes=ZS(s,!1),this.leafNodes=ZS(s,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const s=n?n.appendChild(e):new YS(e,this.config);n||this.nodes.push(s),this.allNodes.push(s),s.isLeaf&&this.leafNodes.push(s)}appendNodes(e,n){e.forEach(s=>this.appendNode(s,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(r=>ja(r.value,e)||ja(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:s,level:r})=>ja(e.value,s)&&e.level===r)||null}}const gU=qe({modelValue:{type:ve([Number,String,Array])},options:{type:ve(Array),default:()=>[]},props:{type:ve(Object),default:()=>({})}}),B4e={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:xs,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},z4e=t=>D(()=>({...B4e,...t.props})),qR=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},V4e=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():Nz(t)&&t.click()},H4e=(t,e)=>{const n=e.slice(0),s=n.map(a=>a.uid),r=t.reduce((a,o)=>{const i=s.indexOf(o.uid);return i>-1&&(a.push(o),n.splice(i,1),s.splice(i,1)),a},[]);return r.push(...n),r},U4e=Z({name:"ElCascaderPanel",components:{ElCascaderMenu:P4e},props:{...gU,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Yt,ns,"close","expand-change"],setup(t,{emit:e,slots:n}){let s=!1;const r=Fe("cascader"),a=z4e(t);let o=null;const i=B(!0),l=B([]),u=B(null),c=B([]),d=B(null),h=B([]),f=D(()=>a.value.expandTrigger==="hover"),p=D(()=>t.renderLabel||n.default),m=()=>{const{options:V}=t,H=a.value;s=!1,o=new GR(V,H),c.value=[o.getNodes()],H.lazy&&mi(t.options)?(i.value=!1,y(void 0,K=>{K&&(o=new GR(K,H),c.value=[o.getNodes()]),i.value=!0,k(!1,!0)})):k(!1,!0)},y=(V,H)=>{const K=a.value;V=V||new YS({},K,void 0,!0),V.loading=!0;const U=R=>{const W=V,G=W.root?null:W;R&&(o==null||o.appendNodes(R,G)),W.loading=!1,W.loaded=!0,W.childrenData=W.childrenData||[],H&&H(R)};K.lazyLoad(V,U)},v=(V,H)=>{var K;const{level:U}=V,R=c.value.slice(0,U);let W;V.isLeaf?W=V.pathNodes[U-2]:(W=V,R.push(V.children)),((K=d.value)==null?void 0:K.uid)!==(W==null?void 0:W.uid)&&(d.value=V,c.value=R,!H&&e("expand-change",(V==null?void 0:V.pathValues)||[]))},b=(V,H,K=!0)=>{const{checkStrictly:U,multiple:R}=a.value,W=h.value[0];s=!0,!R&&(W==null||W.doCheck(!1)),V.doCheck(H),T(),K&&!R&&!U&&e("close"),!K&&!R&&!U&&w(V)},w=V=>{V&&(V=V.parent,w(V),V&&v(V))},_=V=>o==null?void 0:o.getFlattedNodes(V),C=V=>{var H;return(H=_(V))==null?void 0:H.filter(K=>K.checked!==!1)},x=()=>{h.value.forEach(V=>V.doCheck(!1)),T(),c.value=c.value.slice(0,1),d.value=null,e("expand-change",[])},T=()=>{var V;const{checkStrictly:H,multiple:K}=a.value,U=h.value,R=C(!H),W=H4e(U,R),G=W.map(P=>P.valueByOption);h.value=W,u.value=K?G:(V=G[0])!=null?V:null},k=(V=!1,H=!1)=>{const{modelValue:K}=t,{lazy:U,multiple:R,checkStrictly:W}=a.value,G=!W;if(!(!i.value||s||!H&&ja(K,u.value)))if(U&&!V){const j=GO(Cme(za(K))).map(J=>o==null?void 0:o.getNodeByValue(J)).filter(J=>!!J&&!J.loaded&&!J.loading);j.length?j.forEach(J=>{y(J,()=>k(!1,H))}):k(!0,H)}else{const P=R?za(K):[K],j=GO(P.map(J=>o==null?void 0:o.getNodeByValue(J,G)));N(j,H),u.value=s3(K)}},N=(V,H=!0)=>{const{checkStrictly:K}=a.value,U=h.value,R=V.filter(P=>!!P&&(K||P.isLeaf)),W=o==null?void 0:o.getSameNode(d.value),G=H&&W||R[0];G?G.pathNodes.forEach(P=>v(P,!0)):d.value=null,U.forEach(P=>P.doCheck(!1)),an(R).forEach(P=>P.doCheck(!0)),h.value=R,it(O)},O=()=>{hn&&l.value.forEach(V=>{const H=V==null?void 0:V.$el;if(H){const K=H.querySelector(`.${r.namespace.value}-scrollbar__wrap`),U=H.querySelector(`.${r.b("node")}.${r.is("active")}`)||H.querySelector(`.${r.b("node")}.in-active-path`);X$(K,U)}})},L=V=>{const H=V.target,{code:K}=V;switch(K){case gt.up:case gt.down:{V.preventDefault();const U=K===gt.up?-1:1;C_(Az(H,U,`.${r.b("node")}[tabindex="-1"]`));break}case gt.left:{V.preventDefault();const U=l.value[qR(H)-1],R=U==null?void 0:U.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);C_(R);break}case gt.right:{V.preventDefault();const U=l.value[qR(H)+1],R=U==null?void 0:U.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);C_(R);break}case gt.enter:V4e(H);break}};return At(L5,an({config:a,expandingNode:d,checkedNodes:h,isHoverMenu:f,initialLoaded:i,renderLabelFn:p,lazyLoad:y,expandNode:v,handleCheckChange:b})),Ee([a,()=>t.options],m,{deep:!0,immediate:!0}),Ee(()=>t.modelValue,()=>{s=!1,k()},{deep:!0}),Ee(()=>u.value,V=>{ja(V,t.modelValue)||(e(Yt,V),e(ns,V))}),sae(()=>l.value=[]),Et(()=>!mi(t.modelValue)&&k()),{ns:r,menuList:l,menus:c,checkedNodes:h,handleKeyDown:L,handleCheckChange:b,getFlattedNodes:_,getCheckedNodes:C,clearCheckedNodes:x,calculateCheckedValue:T,scrollToExpandingNode:O}}});function W4e(t,e,n,s,r,a){const o=ht("el-cascader-menu");return S(),A("div",{class:q([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(S(!0),A(He,null,Ut(t.menus,(i,l)=>(S(),be(o,{key:l,ref_for:!0,ref:u=>t.menuList[l]=u,index:l,nodes:[...i]},null,8,["index","nodes"]))),128))],42,["onKeydown"])}var j4e=Xe(U4e,[["render",W4e],["__file","index.vue"]]);const vU=Ft(j4e),Lh=qe({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:uu},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),G4e={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},q4e=Z({name:"ElTag"}),K4e=Z({...q4e,props:Lh,emits:G4e,setup(t,{emit:e}){const n=t,s=or(),r=Fe("tag"),a=D(()=>{const{type:l,hit:u,effect:c,closable:d,round:h}=n;return[r.b(),r.is("closable",d),r.m(l||"primary"),r.m(s.value),r.m(c),r.is("hit",u),r.is("round",h)]}),o=l=>{e("close",l)},i=l=>{e("click",l)};return(l,u)=>l.disableTransitions?(S(),A("span",{key:0,class:q(g(a)),style:yt({backgroundColor:l.color}),onClick:i},[I("span",{class:q(g(r).e("content"))},[oe(l.$slots,"default")],2),l.closable?(S(),be(g(Je),{key:0,class:q(g(r).e("close")),onClick:xt(o,["stop"])},{default:se(()=>[$(g(ol))]),_:1},8,["class","onClick"])):ce("v-if",!0)],6)):(S(),be(ar,{key:1,name:`${g(r).namespace.value}-zoom-in-center`,appear:""},{default:se(()=>[I("span",{class:q(g(a)),style:yt({backgroundColor:l.color}),onClick:i},[I("span",{class:q(g(r).e("content"))},[oe(l.$slots,"default")],2),l.closable?(S(),be(g(Je),{key:0,class:q(g(r).e("close")),onClick:xt(o,["stop"])},{default:se(()=>[$(g(ol))]),_:1},8,["class","onClick"])):ce("v-if",!0)],6)]),_:3},8,["name"]))}});var X4e=Xe(K4e,[["__file","tag.vue"]]);const Uc=Ft(X4e),Y4e=qe({...gU,size:_r,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:ve(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:ve(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:Dr.teleported,tagType:{...Lh.type,default:"info"},tagEffect:{...Lh.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...M0}),Q4e={[Yt]:t=>!0,[ns]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>Ms(t),expandChange:t=>!!t,removeTag:t=>!!t},Z4e="ElCascader",J4e=Z({name:Z4e}),ewe=Z({...J4e,props:Y4e,emits:Q4e,setup(t,{expose:e,emit:n}){const s=t,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:xe})=>{const{modifiersData:Ke,placement:Ze}=xe;["right","left","bottom","top"].includes(Ze)||(Ke.arrow.x=35)},requires:["arrow"]}]},a=af();let o=0,i=0;const l=Fe("cascader"),u=Fe("input"),{t:c}=fn(),{form:d,formItem:h}=Na(),{valueOnClear:f}=tw(s),{isComposing:p,handleComposition:m}=ew({afterComposition(xe){var Ke;const Ze=(Ke=xe.target)==null?void 0:Ke.value;Re(Ze)}}),y=B(null),v=B(null),b=B(null),w=B(null),_=B(null),C=B(!1),x=B(!1),T=B(!1),k=B(!1),N=B(""),O=B(""),L=B([]),V=B([]),H=B([]),K=D(()=>a.style),U=D(()=>s.disabled||(d==null?void 0:d.disabled)),R=D(()=>s.placeholder||c("el.cascader.placeholder")),W=D(()=>O.value||L.value.length>0||p.value?"":R.value),G=or(),P=D(()=>["small"].includes(G.value)?"small":"default"),j=D(()=>!!s.props.multiple),J=D(()=>!s.filterable||j.value),ne=D(()=>j.value?O.value:N.value),te=D(()=>{var xe;return((xe=w.value)==null?void 0:xe.checkedNodes)||[]}),de=D(()=>!s.clearable||U.value||T.value||!x.value?!1:!!te.value.length),me=D(()=>{const{showAllLevels:xe,separator:Ke}=s,Ze=te.value;return Ze.length?j.value?"":Ze[0].calcText(xe,Ke):""}),_e=D(()=>(h==null?void 0:h.validateState)||""),ee=D({get(){return s3(s.modelValue)},set(xe){const Ke=xe??f.value;n(Yt,Ke),n(ns,Ke),s.validateEvent&&(h==null||h.validate("change").catch(Ze=>void 0))}}),he=D(()=>[l.b(),l.m(G.value),l.is("disabled",U.value),a.class]),le=D(()=>[u.e("icon"),"icon-arrow-down",l.is("reverse",C.value)]),ue=D(()=>l.is("focus",C.value||k.value)),re=D(()=>{var xe,Ke;return(Ke=(xe=y.value)==null?void 0:xe.popperRef)==null?void 0:Ke.contentRef}),we=xe=>{var Ke,Ze,Zt;U.value||(xe=xe??!C.value,xe!==C.value&&(C.value=xe,(Ze=(Ke=v.value)==null?void 0:Ke.input)==null||Ze.setAttribute("aria-expanded",`${xe}`),xe?(Ae(),it((Zt=w.value)==null?void 0:Zt.scrollToExpandingNode)):s.filterable&&_t(),n("visibleChange",xe)))},Ae=()=>{it(()=>{var xe;(xe=y.value)==null||xe.updatePopper()})},Ue=()=>{T.value=!1},at=xe=>{const{showAllLevels:Ke,separator:Ze}=s;return{node:xe,key:xe.uid,text:xe.calcText(Ke,Ze),hitState:!1,closable:!U.value&&!xe.isDisabled,isCollapseTag:!1}},ot=xe=>{var Ke;const Ze=xe.node;Ze.doCheck(!1),(Ke=w.value)==null||Ke.calculateCheckedValue(),n("removeTag",Ze.valueByOption)},Pe=()=>{if(!j.value)return;const xe=te.value,Ke=[],Ze=[];if(xe.forEach(Zt=>Ze.push(at(Zt))),V.value=Ze,xe.length){xe.slice(0,s.maxCollapseTags).forEach(Oe=>Ke.push(at(Oe)));const Zt=xe.slice(s.maxCollapseTags),Mn=Zt.length;Mn&&(s.collapseTags?Ke.push({key:-1,text:`+ ${Mn}`,closable:!1,isCollapseTag:!0}):Zt.forEach(Oe=>Ke.push(at(Oe))))}L.value=Ke},je=()=>{var xe,Ke;const{filterMethod:Ze,showAllLevels:Zt,separator:Mn}=s,Oe=(Ke=(xe=w.value)==null?void 0:xe.getFlattedNodes(!s.props.checkStrictly))==null?void 0:Ke.filter(St=>St.isDisabled?!1:(St.calcText(Zt,Mn),Ze(St,ne.value)));j.value&&(L.value.forEach(St=>{St.hitState=!1}),V.value.forEach(St=>{St.hitState=!1})),T.value=!0,H.value=Oe,Ae()},dt=()=>{var xe;let Ke;T.value&&_.value?Ke=_.value.$el.querySelector(`.${l.e("suggestion-item")}`):Ke=(xe=w.value)==null?void 0:xe.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Ke&&(Ke.focus(),!T.value&&Ke.click())},Qe=()=>{var xe,Ke;const Ze=(xe=v.value)==null?void 0:xe.input,Zt=b.value,Mn=(Ke=_.value)==null?void 0:Ke.$el;if(!(!hn||!Ze)){if(Mn){const Oe=Mn.querySelector(`.${l.e("suggestion-list")}`);Oe.style.minWidth=`${Ze.offsetWidth}px`}if(Zt){const{offsetHeight:Oe}=Zt,St=L.value.length>0?`${Math.max(Oe+6,o)}px`:`${o}px`;Ze.style.height=St,Ae()}}},wt=xe=>{var Ke;return(Ke=w.value)==null?void 0:Ke.getCheckedNodes(xe)},vt=xe=>{Ae(),n("expandChange",xe)},Ge=xe=>{if(!p.value)switch(xe.code){case gt.enter:we();break;case gt.down:we(!0),it(dt),xe.preventDefault();break;case gt.esc:C.value===!0&&(xe.preventDefault(),xe.stopPropagation(),we(!1));break;case gt.tab:we(!1);break}},fe=()=>{var xe;(xe=w.value)==null||xe.clearCheckedNodes(),!C.value&&s.filterable&&_t(),we(!1),n("clear")},_t=()=>{const{value:xe}=me;N.value=xe,O.value=xe},Dt=xe=>{var Ke,Ze;const{checked:Zt}=xe;j.value?(Ke=w.value)==null||Ke.handleCheckChange(xe,!Zt,!1):(!Zt&&((Ze=w.value)==null||Ze.handleCheckChange(xe,!0,!1)),we(!1))},Qt=xe=>{const Ke=xe.target,{code:Ze}=xe;switch(Ze){case gt.up:case gt.down:{const Zt=Ze===gt.up?-1:1;C_(Az(Ke,Zt,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case gt.enter:Ke.click();break}},rn=()=>{const xe=L.value,Ke=xe[xe.length-1];i=O.value?0:i+1,!(!Ke||!i||s.collapseTags&&xe.length>1)&&(Ke.hitState?ot(Ke):Ke.hitState=!0)},Cn=xe=>{const Ke=xe.target,Ze=l.e("search-input");Ke.className===Ze&&(k.value=!0),n("focus",xe)},Ct=xe=>{k.value=!1,n("blur",xe)},It=So(()=>{const{value:xe}=ne;if(!xe)return;const Ke=s.beforeFilter(xe);hS(Ke)?Ke.then(je).catch(()=>{}):Ke!==!1?je():Ue()},s.debounce),Re=(xe,Ke)=>{!C.value&&we(!0),!(Ke!=null&&Ke.isComposing)&&(xe?It():Ue())},ut=xe=>Number.parseFloat(Uce(u.cssVarName("input-height"),xe).value)-2;return Ee(T,Ae),Ee([te,U,()=>s.collapseTags],Pe),Ee(L,()=>{it(()=>Qe())}),Ee(G,async()=>{await it();const xe=v.value.input;o=ut(xe)||o,Qe()}),Ee(me,_t,{immediate:!0}),Et(()=>{const xe=v.value.input,Ke=ut(xe);o=xe.offsetHeight||Ke,ds(xe,Qe)}),e({getCheckedNodes:wt,cascaderPanelRef:w,togglePopperVisible:we,contentRef:re}),(xe,Ke)=>(S(),be(g(ys),{ref_key:"tooltipRef",ref:y,visible:C.value,teleported:xe.teleported,"popper-class":[g(l).e("dropdown"),xe.popperClass],"popper-options":r,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${g(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:xe.persistent,onHide:Ue},{default:se(()=>[zt((S(),A("div",{class:q(g(he)),style:yt(g(K)),onClick:()=>we(g(J)?void 0:!0),onKeydown:Ge,onMouseenter:Ze=>x.value=!0,onMouseleave:Ze=>x.value=!1},[$(g(Gs),{ref_key:"input",ref:v,modelValue:N.value,"onUpdate:modelValue":Ze=>N.value=Ze,placeholder:g(W),readonly:g(J),disabled:g(U),"validate-event":!1,size:g(G),class:q(g(ue)),tabindex:g(j)&&xe.filterable&&!g(U)?-1:void 0,onCompositionstart:g(m),onCompositionupdate:g(m),onCompositionend:g(m),onFocus:Cn,onBlur:Ct,onInput:Re},{suffix:se(()=>[g(de)?(S(),be(g(Je),{key:"clear",class:q([g(u).e("icon"),"icon-circle-close"]),onClick:xt(fe,["stop"])},{default:se(()=>[$(g(yd))]),_:1},8,["class","onClick"])):(S(),be(g(Je),{key:"arrow-down",class:q(g(le)),onClick:xt(Ze=>we(),["stop"])},{default:se(()=>[$(g(tc))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),g(j)?(S(),A("div",{key:0,ref_key:"tagWrapper",ref:b,class:q([g(l).e("tags"),g(l).is("validate",!!g(_e))])},[(S(!0),A(He,null,Ut(L.value,Ze=>(S(),be(g(Uc),{key:Ze.key,type:xe.tagType,size:g(P),effect:xe.tagEffect,hit:Ze.hitState,closable:Ze.closable,"disable-transitions":"",onClose:Zt=>ot(Ze)},{default:se(()=>[Ze.isCollapseTag===!1?(S(),A("span",{key:0},Me(Ze.text),1)):(S(),be(g(ys),{key:1,disabled:C.value||!xe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:se(()=>[I("span",null,Me(Ze.text),1)]),content:se(()=>[I("div",{class:q(g(l).e("collapse-tags"))},[(S(!0),A(He,null,Ut(V.value.slice(xe.maxCollapseTags),(Zt,Mn)=>(S(),A("div",{key:Mn,class:q(g(l).e("collapse-tag"))},[(S(),be(g(Uc),{key:Zt.key,class:"in-tooltip",type:xe.tagType,size:g(P),effect:xe.tagEffect,hit:Zt.hitState,closable:Zt.closable,"disable-transitions":"",onClose:Oe=>ot(Zt)},{default:se(()=>[I("span",null,Me(Zt.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),xe.filterable&&!g(U)?zt((S(),A("input",{key:0,"onUpdate:modelValue":Ze=>O.value=Ze,type:"text",class:q(g(l).e("search-input")),placeholder:g(me)?"":g(R),onInput:Ze=>Re(O.value,Ze),onClick:xt(Ze=>we(!0),["stop"]),onKeydown:Pn(rn,["delete"]),onCompositionstart:g(m),onCompositionupdate:g(m),onCompositionend:g(m),onFocus:Cn,onBlur:Ct},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[_$,O.value]]):ce("v-if",!0)],2)):ce("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[g(Pu),()=>we(!1),g(re)]])]),content:se(()=>[zt($(g(vU),{ref_key:"cascaderPanelRef",ref:w,modelValue:g(ee),"onUpdate:modelValue":Ze=>ms(ee)?ee.value=Ze:null,options:xe.options,props:s.props,border:!1,"render-label":xe.$slots.default,onExpandChange:vt,onClose:Ze=>xe.$nextTick(()=>we(!1))},null,8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[gn,!T.value]]),xe.filterable?zt((S(),be(g(vr),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:q(g(l).e("suggestion-panel")),"view-class":g(l).e("suggestion-list"),onKeydown:Qt},{default:se(()=>[H.value.length?(S(!0),A(He,{key:0},Ut(H.value,Ze=>(S(),A("li",{key:Ze.uid,class:q([g(l).e("suggestion-item"),g(l).is("checked",Ze.checked)]),tabindex:-1,onClick:Zt=>Dt(Ze)},[I("span",null,Me(Ze.text),1),Ze.checked?(S(),be(g(Je),{key:0},{default:se(()=>[$(g(J1))]),_:1})):ce("v-if",!0)],10,["onClick"]))),128)):oe(xe.$slots,"empty",{key:1},()=>[I("li",{class:q(g(l).e("empty-text"))},Me(g(c)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[gn,T.value]]):ce("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition","persistent"]))}});var twe=Xe(ewe,[["__file","cascader.vue"]]);const yU=Ft(twe),nwe=qe({checked:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),swe={"update:checked":t=>Ms(t),[ns]:t=>Ms(t)},rwe=Z({name:"ElCheckTag"}),awe=Z({...rwe,props:nwe,emits:swe,setup(t,{emit:e}){const n=t,s=Fe("check-tag"),r=D(()=>[s.b(),s.is("checked",n.checked),s.m(n.type||"primary")]),a=()=>{const o=!n.checked;e(ns,o),e("update:checked",o)};return(o,i)=>(S(),A("span",{class:q(g(r)),onClick:a},[oe(o.$slots,"default")],2))}});var owe=Xe(awe,[["__file","check-tag.vue"]]);const iwe=Ft(owe),bU=Symbol("rowContextKey"),lwe=["start","center","end","space-around","space-between","space-evenly"],uwe=["top","middle","bottom"],cwe=qe({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:lwe,default:"start"},align:{type:String,values:uwe}}),dwe=Z({name:"ElRow"}),hwe=Z({...dwe,props:cwe,setup(t){const e=t,n=Fe("row"),s=D(()=>e.gutter);At(bU,{gutter:s});const r=D(()=>{const o={};return e.gutter&&(o.marginRight=o.marginLeft=`-${e.gutter/2}px`),o}),a=D(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(o,i)=>(S(),be(Gt(o.tag),{class:q(g(a)),style:yt(g(r))},{default:se(()=>[oe(o.$slots,"default")]),_:3},8,["class","style"]))}});var fwe=Xe(hwe,[["__file","row.vue"]]);const P5=Ft(fwe),pwe=qe({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:ve([Number,Object]),default:()=>hs({})},sm:{type:ve([Number,Object]),default:()=>hs({})},md:{type:ve([Number,Object]),default:()=>hs({})},lg:{type:ve([Number,Object]),default:()=>hs({})},xl:{type:ve([Number,Object]),default:()=>hs({})}}),mwe=Z({name:"ElCol"}),gwe=Z({...mwe,props:pwe,setup(t){const e=t,{gutter:n}=Le(bU,{gutter:D(()=>0)}),s=Fe("col"),r=D(()=>{const o={};return n.value&&(o.paddingLeft=o.paddingRight=`${n.value/2}px`),o}),a=D(()=>{const o=[];return["span","offset","pull","push"].forEach(u=>{const c=e[u];Tt(c)&&(u==="span"?o.push(s.b(`${e[u]}`)):c>0&&o.push(s.b(`${u}-${e[u]}`)))}),["xs","sm","md","lg","xl"].forEach(u=>{Tt(e[u])?o.push(s.b(`${u}-${e[u]}`)):Vn(e[u])&&Object.entries(e[u]).forEach(([c,d])=>{o.push(c!=="span"?s.b(`${u}-${c}-${d}`):s.b(`${u}-${d}`))})}),n.value&&o.push(s.is("guttered")),[s.b(),o]});return(o,i)=>(S(),be(Gt(o.tag),{class:q(g(a)),style:yt(g(r))},{default:se(()=>[oe(o.$slots,"default")]),_:3},8,["class","style"]))}});var vwe=Xe(gwe,[["__file","col.vue"]]);const uw=Ft(vwe),KR=t=>Tt(t)||qt(t)||Mt(t),ywe=qe({accordion:Boolean,modelValue:{type:ve([Array,String,Number]),default:()=>hs([])}}),bwe={[Yt]:KR,[ns]:KR},_U=Symbol("collapseContextKey"),_we=(t,e)=>{const n=B(_a(t.modelValue)),s=a=>{n.value=a;const o=t.accordion?n.value[0]:n.value;e(Yt,o),e(ns,o)},r=a=>{if(t.accordion)s([n.value[0]===a?"":a]);else{const o=[...n.value],i=o.indexOf(a);i>-1?o.splice(i,1):o.push(a),s(o)}};return Ee(()=>t.modelValue,()=>n.value=_a(t.modelValue),{deep:!0}),At(_U,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:s}},wwe=()=>{const t=Fe("collapse");return{rootKls:D(()=>t.b())}},xwe=Z({name:"ElCollapse"}),Cwe=Z({...xwe,props:ywe,emits:bwe,setup(t,{expose:e,emit:n}){const s=t,{activeNames:r,setActiveNames:a}=_we(s,n),{rootKls:o}=wwe();return e({activeNames:r,setActiveNames:a}),(i,l)=>(S(),A("div",{class:q(g(o))},[oe(i.$slots,"default")],2))}});var Swe=Xe(Cwe,[["__file","collapse.vue"]]);const Twe=Z({name:"ElCollapseTransition"}),kwe=Z({...Twe,setup(t){const e=Fe("collapse-transition"),n=r=>{r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom},s={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.height&&(r.dataset.elExistsHeight=r.style.height),r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){requestAnimationFrame(()=>{r.dataset.oldOverflow=r.style.overflow,r.dataset.elExistsHeight?r.style.maxHeight=r.dataset.elExistsHeight:r.scrollHeight!==0?r.style.maxHeight=`${r.scrollHeight}px`:r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom,r.style.overflow="hidden"})},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},enterCancelled(r){n(r)},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){n(r)},leaveCancelled(r){n(r)}};return(r,a)=>(S(),be(ar,Kt({name:g(e).b()},hz(s)),{default:se(()=>[oe(r.$slots,"default")]),_:3},16,["name"]))}});var $we=Xe(kwe,[["__file","collapse-transition.vue"]]);const cw=Ft($we),Ewe=qe({title:{type:String,default:""},name:{type:ve([String,Number]),default:void 0},disabled:Boolean}),Iwe=t=>{const e=Le(_U),{namespace:n}=Fe("collapse"),s=B(!1),r=B(!1),a=g5(),o=D(()=>a.current++),i=D(()=>{var h;return(h=t.name)!=null?h:`${n.value}-id-${a.prefix}-${g(o)}`}),l=D(()=>e==null?void 0:e.activeNames.value.includes(g(i)));return{focusing:s,id:o,isActive:l,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:s.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(g(i)),s.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(g(i))}}},Nwe=(t,{focusing:e,isActive:n,id:s})=>{const r=Fe("collapse"),a=D(()=>[r.b("item"),r.is("active",g(n)),r.is("disabled",t.disabled)]),o=D(()=>[r.be("item","header"),r.is("active",g(n)),{focusing:g(e)&&!t.disabled}]),i=D(()=>[r.be("item","arrow"),r.is("active",g(n))]),l=D(()=>r.be("item","wrap")),u=D(()=>r.be("item","content")),c=D(()=>r.b(`content-${g(s)}`)),d=D(()=>r.b(`head-${g(s)}`));return{arrowKls:i,headKls:o,rootKls:a,itemWrapperKls:l,itemContentKls:u,scopedContentId:c,scopedHeadId:d}},Awe=Z({name:"ElCollapseItem"}),Dwe=Z({...Awe,props:Ewe,setup(t,{expose:e}){const n=t,{focusing:s,id:r,isActive:a,handleFocus:o,handleHeaderClick:i,handleEnterClick:l}=Iwe(n),{arrowKls:u,headKls:c,rootKls:d,itemWrapperKls:h,itemContentKls:f,scopedContentId:p,scopedHeadId:m}=Nwe(n,{focusing:s,isActive:a,id:r});return e({isActive:a}),(y,v)=>(S(),A("div",{class:q(g(d))},[I("button",{id:g(m),class:q(g(c)),"aria-expanded":g(a),"aria-controls":g(p),"aria-describedby":g(p),tabindex:y.disabled?-1:0,type:"button",onClick:g(i),onKeydown:Pn(xt(g(l),["stop","prevent"]),["space","enter"]),onFocus:g(o),onBlur:b=>s.value=!1},[oe(y.$slots,"title",{},()=>[ct(Me(y.title),1)]),$(g(Je),{class:q(g(u))},{default:se(()=>[$(g(Ga))]),_:1},8,["class"])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),$(g(cw),null,{default:se(()=>[zt(I("div",{id:g(p),role:"region",class:q(g(h)),"aria-hidden":!g(a),"aria-labelledby":g(m)},[I("div",{class:q(g(f))},[oe(y.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[gn,g(a)]])]),_:3})],2))}});var wU=Xe(Dwe,[["__file","collapse-item.vue"]]);const Owe=Ft(Swe,{CollapseItem:wU}),Rwe=gs(wU),Lwe=qe({color:{type:ve(Object),required:!0},vertical:{type:Boolean,default:!1}});let eC=!1;function r1(t,e){if(!hn)return;const n=function(a){var o;(o=e.drag)==null||o.call(e,a)},s=function(a){var o;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",s),document.onselectstart=null,document.ondragstart=null,eC=!1,(o=e.end)==null||o.call(e,a)},r=function(a){var o;eC||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",s),document.addEventListener("touchmove",n),document.addEventListener("touchend",s),eC=!0,(o=e.start)==null||o.call(e,a))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}const Pwe=t=>{const e=Ht(),{t:n}=fn(),s=Jn(),r=Jn(),a=D(()=>t.color.get("alpha")),o=D(()=>n("el.colorpicker.alphaLabel"));function i(d){var h;d.target!==s.value&&l(d),(h=s.value)==null||h.focus()}function l(d){if(!r.value||!s.value)return;const f=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:m}=A$(d);if(t.vertical){let y=m-f.top;y=Math.max(s.value.offsetHeight/2,y),y=Math.min(y,f.height-s.value.offsetHeight/2),t.color.set("alpha",Math.round((y-s.value.offsetHeight/2)/(f.height-s.value.offsetHeight)*100))}else{let y=p-f.left;y=Math.max(s.value.offsetWidth/2,y),y=Math.min(y,f.width-s.value.offsetWidth/2),t.color.set("alpha",Math.round((y-s.value.offsetWidth/2)/(f.width-s.value.offsetWidth)*100))}}function u(d){const{code:h,shiftKey:f}=d,p=f?10:1;switch(h){case gt.left:case gt.down:d.preventDefault(),d.stopPropagation(),c(-p);break;case gt.right:case gt.up:d.preventDefault(),d.stopPropagation(),c(p);break}}function c(d){let h=a.value+d;h=h<0?0:h>100?100:h,t.color.set("alpha",h)}return{thumb:s,bar:r,alpha:a,alphaLabel:o,handleDrag:l,handleClick:i,handleKeydown:u}},Mwe=(t,{bar:e,thumb:n,handleDrag:s})=>{const r=Ht(),a=Fe("color-alpha-slider"),o=B(0),i=B(0),l=B();function u(){if(!n.value||t.vertical)return 0;const b=r.vnode.el,w=t.color.get("alpha");return b?Math.round(w*(b.offsetWidth-n.value.offsetWidth/2)/100):0}function c(){if(!n.value)return 0;const b=r.vnode.el;if(!t.vertical)return 0;const w=t.color.get("alpha");return b?Math.round(w*(b.offsetHeight-n.value.offsetHeight/2)/100):0}function d(){if(t.color&&t.color.value){const{r:b,g:w,b:_}=t.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${w}, ${_}, 0) 0%, rgba(${b}, ${w}, ${_}, 1) 100%)`}return""}function h(){o.value=u(),i.value=c(),l.value=d()}Et(()=>{if(!e.value||!n.value)return;const b={drag:w=>{s(w)},end:w=>{s(w)}};r1(e.value,b),r1(n.value,b),h()}),Ee(()=>t.color.get("alpha"),()=>h()),Ee(()=>t.color.value,()=>h());const f=D(()=>[a.b(),a.is("vertical",t.vertical)]),p=D(()=>a.e("bar")),m=D(()=>a.e("thumb")),y=D(()=>({background:l.value})),v=D(()=>({left:Es(o.value),top:Es(i.value)}));return{rootKls:f,barKls:p,barStyle:y,thumbKls:m,thumbStyle:v,update:h}},Fwe="ElColorAlphaSlider",Bwe=Z({name:Fwe}),zwe=Z({...Bwe,props:Lwe,setup(t,{expose:e}){const n=t,{alpha:s,alphaLabel:r,bar:a,thumb:o,handleDrag:i,handleClick:l,handleKeydown:u}=Pwe(n),{rootKls:c,barKls:d,barStyle:h,thumbKls:f,thumbStyle:p,update:m}=Mwe(n,{bar:a,thumb:o,handleDrag:i});return e({update:m,bar:a,thumb:o}),(y,v)=>(S(),A("div",{class:q(g(c))},[I("div",{ref_key:"bar",ref:a,class:q(g(d)),style:yt(g(h)),onClick:g(l)},null,14,["onClick"]),I("div",{ref_key:"thumb",ref:o,class:q(g(f)),style:yt(g(p)),"aria-label":g(r),"aria-valuenow":g(s),"aria-orientation":y.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:g(u)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var Vwe=Xe(zwe,[["__file","alpha-slider.vue"]]);const Hwe=Z({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Fe("color-hue-slider"),n=Ht(),s=B(),r=B(),a=B(0),o=B(0),i=D(()=>t.color.get("hue"));Ee(()=>i.value,()=>{h()});function l(f){f.target!==s.value&&u(f)}function u(f){if(!r.value||!s.value)return;const m=n.vnode.el.getBoundingClientRect(),{clientX:y,clientY:v}=A$(f);let b;if(t.vertical){let w=v-m.top;w=Math.min(w,m.height-s.value.offsetHeight/2),w=Math.max(s.value.offsetHeight/2,w),b=Math.round((w-s.value.offsetHeight/2)/(m.height-s.value.offsetHeight)*360)}else{let w=y-m.left;w=Math.min(w,m.width-s.value.offsetWidth/2),w=Math.max(s.value.offsetWidth/2,w),b=Math.round((w-s.value.offsetWidth/2)/(m.width-s.value.offsetWidth)*360)}t.color.set("hue",b)}function c(){if(!s.value)return 0;const f=n.vnode.el;if(t.vertical)return 0;const p=t.color.get("hue");return f?Math.round(p*(f.offsetWidth-s.value.offsetWidth/2)/360):0}function d(){if(!s.value)return 0;const f=n.vnode.el;if(!t.vertical)return 0;const p=t.color.get("hue");return f?Math.round(p*(f.offsetHeight-s.value.offsetHeight/2)/360):0}function h(){a.value=c(),o.value=d()}return Et(()=>{if(!r.value||!s.value)return;const f={drag:p=>{u(p)},end:p=>{u(p)}};r1(r.value,f),r1(s.value,f),h()}),{bar:r,thumb:s,thumbLeft:a,thumbTop:o,hueValue:i,handleClick:l,update:h,ns:e}}});function Uwe(t,e,n,s,r,a){return S(),A("div",{class:q([t.ns.b(),t.ns.is("vertical",t.vertical)])},[I("div",{ref:"bar",class:q(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),I("div",{ref:"thumb",class:q(t.ns.e("thumb")),style:yt({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var Wwe=Xe(Hwe,[["render",Uwe],["__file","hue-slider.vue"]]);const jwe=qe({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:_r,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Dr.teleported,predefine:{type:ve(Array)},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),Gwe={[Yt]:t=>qt(t)||Lr(t),[ns]:t=>qt(t)||Lr(t),activeChange:t=>qt(t)||Lr(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},xU=Symbol("colorPickerContextKey"),XR=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},qwe=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},Kwe=function(t){return typeof t=="string"&&t.includes("%")},Sp=function(t,e){qwe(t)&&(t="100%");const n=Kwe(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},YR={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},N_=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${YR[e]||e}${YR[n]||n}`},QR=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${N_(t)}${N_(e)}${N_(n)}`},tC={A:10,B:11,C:12,D:13,E:14,F:15},Fd=function(t){return t.length===2?(tC[t[0].toUpperCase()]||+t[0])*16+(tC[t[1].toUpperCase()]||+t[1]):tC[t[1].toUpperCase()]||+t[1]},Xwe=function(t,e,n){e=e/100,n=n/100;let s=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,s*=r<=1?r:2-r;const a=(n+e)/2,o=n===0?2*s/(r+s):2*e/(n+e);return{h:t,s:o*100,v:a*100}},ZR=(t,e,n)=>{t=Sp(t,255),e=Sp(e,255),n=Sp(n,255);const s=Math.max(t,e,n),r=Math.min(t,e,n);let a;const o=s,i=s-r,l=s===0?0:i/s;if(s===r)a=0;else{switch(s){case t:{a=(e-n)/i+(e<n?6:0);break}case e:{a=(n-t)/i+2;break}case n:{a=(t-e)/i+4;break}}a/=6}return{h:a*360,s:l*100,v:o*100}},Dg=function(t,e,n){t=Sp(t,360)*6,e=Sp(e,100),n=Sp(n,100);const s=Math.floor(t),r=t-s,a=n*(1-e),o=n*(1-r*e),i=n*(1-(1-r)*e),l=s%6,u=[n,o,a,a,i,n][l],c=[i,n,n,o,a,a][l],d=[a,a,i,n,n,o][l];return{r:Math.round(u*255),g:Math.round(c*255),b:Math.round(d*255)}};let I2=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)fa(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const s in e)fa(e,s)&&this.set(s,e[s]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Dg(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(s,r,a)=>{this._hue=Math.max(0,Math.min(360,s)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const s=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:r,s:a,v:o}=Xwe(s[0],s[1],s[2]);n(r,a,o)}}else if(e.includes("hsv")){const s=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3&&n(s[0],s[1],s[2])}else if(e.includes("rgb")){const s=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));if(s.length===4?this._alpha=Number.parseFloat(s[3])*100:s.length===3&&(this._alpha=100),s.length>=3){const{h:r,s:a,v:o}=ZR(s[0],s[1],s[2]);n(r,a,o)}}else if(e.includes("#")){const s=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(s))return;let r,a,o;s.length===3?(r=Fd(s[0]+s[0]),a=Fd(s[1]+s[1]),o=Fd(s[2]+s[2])):(s.length===6||s.length===8)&&(r=Fd(s.slice(0,2)),a=Fd(s.slice(2,4)),o=Fd(s.slice(4,6))),s.length===8?this._alpha=Fd(s.slice(6))/255*100:(s.length===3||s.length===6)&&(this._alpha=100);const{h:i,s:l,v:u}=ZR(r,a,o);n(i,l,u)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:s,_alpha:r,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const o=XR(e,n/100,s/100);this.value=`hsla(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(s)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${QR(Dg(e,n,s))}${N_(r*255/100)}`;break}default:{const{r:o,g:i,b:l}=Dg(e,n,s);this.value=`rgba(${o}, ${i}, ${l}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const o=XR(e,n/100,s/100);this.value=`hsl(${e}, ${Math.round(o[1]*100)}%, ${Math.round(o[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(s)}%)`;break}case"rgb":{const{r:o,g:i,b:l}=Dg(e,n,s);this.value=`rgb(${o}, ${i}, ${l})`;break}default:this.value=QR(Dg(e,n,s))}}};const Ywe=Z({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=Fe("color-predefine"),{currentColor:n}=Le(xU),s=B(a(t.colors,t.color));Ee(()=>n.value,o=>{const i=new I2;i.fromString(o),s.value.forEach(l=>{l.selected=i.compare(l)})}),sr(()=>{s.value=a(t.colors,t.color)});function r(o){t.color.fromString(t.colors[o])}function a(o,i){return o.map(l=>{const u=new I2;return u.enableAlpha=t.enableAlpha,u.format="rgba",u.fromString(l),u.selected=u.value===i.value,u})}return{rgbaColors:s,handleSelect:r,ns:e}}});function Qwe(t,e,n,s,r,a){return S(),A("div",{class:q(t.ns.b())},[I("div",{class:q(t.ns.e("colors"))},[(S(!0),A(He,null,Ut(t.rgbaColors,(o,i)=>(S(),A("div",{key:t.colors[i],class:q([t.ns.e("color-selector"),t.ns.is("alpha",o._alpha<100),{selected:o.selected}]),onClick:l=>t.handleSelect(i)},[I("div",{style:yt({backgroundColor:o.value})},null,4)],10,["onClick"]))),128))],2)],2)}var Zwe=Xe(Ywe,[["render",Qwe],["__file","predefine.vue"]]);const Jwe=Z({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Fe("color-svpanel"),n=Ht(),s=B(0),r=B(0),a=B("hsl(0, 100%, 50%)"),o=D(()=>{const u=t.color.get("hue"),c=t.color.get("value");return{hue:u,value:c}});function i(){const u=t.color.get("saturation"),c=t.color.get("value"),d=n.vnode.el,{clientWidth:h,clientHeight:f}=d;r.value=u*h/100,s.value=(100-c)*f/100,a.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(u){const d=n.vnode.el.getBoundingClientRect(),{clientX:h,clientY:f}=A$(u);let p=h-d.left,m=f-d.top;p=Math.max(0,p),p=Math.min(p,d.width),m=Math.max(0,m),m=Math.min(m,d.height),r.value=p,s.value=m,t.color.set({saturation:p/d.width*100,value:100-m/d.height*100})}return Ee(()=>o.value,()=>{i()}),Et(()=>{r1(n.vnode.el,{drag:u=>{l(u)},end:u=>{l(u)}}),i()}),{cursorTop:s,cursorLeft:r,background:a,colorValue:o,handleDrag:l,update:i,ns:e}}});function e6e(t,e,n,s,r,a){return S(),A("div",{class:q(t.ns.b()),style:yt({backgroundColor:t.background})},[I("div",{class:q(t.ns.e("white"))},null,2),I("div",{class:q(t.ns.e("black"))},null,2),I("div",{class:q(t.ns.e("cursor")),style:yt({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[I("div")],6)],6)}var t6e=Xe(Jwe,[["render",e6e],["__file","sv-panel.vue"]]);const n6e=Z({name:"ElColorPicker"}),s6e=Z({...n6e,props:jwe,emits:Gwe,setup(t,{expose:e,emit:n}){const s=t,{t:r}=fn(),a=Fe("color"),{formItem:o}=Na(),i=or(),l=ao(),{inputId:u,isLabeledByFormItem:c}=ml(s,{formItemContext:o}),d=B(),h=B(),f=B(),p=B(),m=B(),y=B(),{isFocused:v,handleFocus:b,handleBlur:w}=av(m,{beforeFocus(){return l.value},beforeBlur(le){var ue;return(ue=p.value)==null?void 0:ue.isFocusInsideContent(le)},afterBlur(){U(!1),P()}});let _=!0;const C=an(new I2({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue})),x=B(!1),T=B(!1),k=B(""),N=D(()=>!s.modelValue&&!T.value?"transparent":K(C,s.showAlpha)),O=D(()=>!s.modelValue&&!T.value?"":C.value),L=D(()=>c.value?void 0:s.ariaLabel||r("el.colorpicker.defaultLabel")),V=D(()=>c.value?o==null?void 0:o.labelId:void 0),H=D(()=>[a.b("picker"),a.is("disabled",l.value),a.bm("picker",i.value),a.is("focused",v.value)]);function K(le,ue){if(!(le instanceof I2))throw new TypeError("color should be instance of _color Class");const{r:re,g:we,b:Ae}=le.toRgb();return ue?`rgba(${re}, ${we}, ${Ae}, ${le.get("alpha")/100})`:`rgb(${re}, ${we}, ${Ae})`}function U(le){x.value=le}const R=So(U,100,{leading:!0});function W(){l.value||U(!0)}function G(){R(!1),P()}function P(){it(()=>{s.modelValue?C.fromString(s.modelValue):(C.value="",it(()=>{T.value=!1}))})}function j(){l.value||R(!x.value)}function J(){C.fromString(k.value)}function ne(){const le=C.value;n(Yt,le),n("change",le),s.validateEvent&&(o==null||o.validate("change").catch(ue=>void 0)),R(!1),it(()=>{const ue=new I2({enableAlpha:s.showAlpha,format:s.colorFormat||"",value:s.modelValue});C.compare(ue)||P()})}function te(){R(!1),n(Yt,null),n("change",null),s.modelValue!==null&&s.validateEvent&&(o==null||o.validate("change").catch(le=>void 0)),P()}function de(){x.value&&(G(),v.value&&ee())}function me(le){le.preventDefault(),le.stopPropagation(),U(!1),P()}function _e(le){switch(le.code){case gt.enter:case gt.space:le.preventDefault(),le.stopPropagation(),W(),y.value.focus();break;case gt.esc:me(le);break}}function ee(){m.value.focus()}function he(){m.value.blur()}return Et(()=>{s.modelValue&&(k.value=O.value)}),Ee(()=>s.modelValue,le=>{le?le&&le!==C.value&&(_=!1,C.fromString(le)):T.value=!1}),Ee(()=>O.value,le=>{k.value=le,_&&n("activeChange",le),_=!0}),Ee(()=>C.value,()=>{!s.modelValue&&!T.value&&(T.value=!0)}),Ee(()=>x.value,()=>{it(()=>{var le,ue,re;(le=d.value)==null||le.update(),(ue=h.value)==null||ue.update(),(re=f.value)==null||re.update()})}),At(xU,{currentColor:O}),e({color:C,show:W,hide:G,focus:ee,blur:he}),(le,ue)=>(S(),be(g(ys),{ref_key:"popper",ref:p,visible:x.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[g(a).be("picker","panel"),g(a).b("dropdown"),le.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:le.teleported,transition:`${g(a).namespace.value}-zoom-in-top`,persistent:"",onHide:re=>U(!1)},{content:se(()=>[zt((S(),A("div",{onKeydown:Pn(me,["esc"])},[I("div",{class:q(g(a).be("dropdown","main-wrapper"))},[$(Wwe,{ref_key:"hue",ref:d,class:"hue-slider",color:g(C),vertical:""},null,8,["color"]),$(t6e,{ref_key:"sv",ref:h,color:g(C)},null,8,["color"])],2),le.showAlpha?(S(),be(Vwe,{key:0,ref_key:"alpha",ref:f,color:g(C)},null,8,["color"])):ce("v-if",!0),le.predefine?(S(),be(Zwe,{key:1,ref:"predefine","enable-alpha":le.showAlpha,color:g(C),colors:le.predefine},null,8,["enable-alpha","color","colors"])):ce("v-if",!0),I("div",{class:q(g(a).be("dropdown","btns"))},[I("span",{class:q(g(a).be("dropdown","value"))},[$(g(Gs),{ref_key:"inputRef",ref:y,modelValue:k.value,"onUpdate:modelValue":re=>k.value=re,"validate-event":!1,size:"small",onKeyup:Pn(J,["enter"]),onBlur:J},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),$(g(Hn),{class:q(g(a).be("dropdown","link-btn")),text:"",size:"small",onClick:te},{default:se(()=>[ct(Me(g(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),$(g(Hn),{plain:"",size:"small",class:q(g(a).be("dropdown","btn")),onClick:ne},{default:se(()=>[ct(Me(g(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[g(Pu),de]])]),default:se(()=>[I("div",Kt({id:g(u),ref_key:"triggerRef",ref:m},le.$attrs,{class:g(H),role:"button","aria-label":g(L),"aria-labelledby":g(V),"aria-description":g(r)("el.colorpicker.description",{color:le.modelValue||""}),"aria-disabled":g(l),tabindex:g(l)?-1:le.tabindex,onKeydown:_e,onFocus:g(b),onBlur:g(w)}),[g(l)?(S(),A("div",{key:0,class:q(g(a).be("picker","mask"))},null,2)):ce("v-if",!0),I("div",{class:q(g(a).be("picker","trigger")),onClick:j},[I("span",{class:q([g(a).be("picker","color"),g(a).is("alpha",le.showAlpha)])},[I("span",{class:q(g(a).be("picker","color-inner")),style:yt({backgroundColor:g(N)})},[zt($(g(Je),{class:q([g(a).be("picker","icon"),g(a).is("icon-arrow-down")])},{default:se(()=>[$(g(tc))]),_:1},8,["class"]),[[gn,le.modelValue||T.value]]),zt($(g(Je),{class:q([g(a).be("picker","empty"),g(a).is("icon-close")])},{default:se(()=>[$(g(ol))]),_:1},8,["class"]),[[gn,!le.modelValue&&!T.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var r6e=Xe(s6e,[["__file","color-picker.vue"]]);const A_=Ft(r6e),a6e=Z({name:"ElContainer"}),o6e=Z({...a6e,props:{direction:{type:String}},setup(t){const e=t,n=xr(),s=Fe("container"),r=D(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(o=>{const i=o.type.name;return i==="ElHeader"||i==="ElFooter"}):!1);return(a,o)=>(S(),A("section",{class:q([g(s).b(),g(s).is("vertical",g(r))])},[oe(a.$slots,"default")],2))}});var i6e=Xe(o6e,[["__file","container.vue"]]);const l6e=Z({name:"ElAside"}),u6e=Z({...l6e,props:{width:{type:String,default:null}},setup(t){const e=t,n=Fe("aside"),s=D(()=>e.width?n.cssVarBlock({width:e.width}):{});return(r,a)=>(S(),A("aside",{class:q(g(n).b()),style:yt(g(s))},[oe(r.$slots,"default")],6))}});var CU=Xe(u6e,[["__file","aside.vue"]]);const c6e=Z({name:"ElFooter"}),d6e=Z({...c6e,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("footer"),s=D(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,a)=>(S(),A("footer",{class:q(g(n).b()),style:yt(g(s))},[oe(r.$slots,"default")],6))}});var SU=Xe(d6e,[["__file","footer.vue"]]);const h6e=Z({name:"ElHeader"}),f6e=Z({...h6e,props:{height:{type:String,default:null}},setup(t){const e=t,n=Fe("header"),s=D(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,a)=>(S(),A("header",{class:q(g(n).b()),style:yt(g(s))},[oe(r.$slots,"default")],6))}});var TU=Xe(f6e,[["__file","header.vue"]]);const p6e=Z({name:"ElMain"}),m6e=Z({...p6e,setup(t){const e=Fe("main");return(n,s)=>(S(),A("main",{class:q(g(e).b())},[oe(n.$slots,"default")],2))}});var kU=Xe(m6e,[["__file","main.vue"]]);const M5=Ft(i6e,{Aside:CU,Footer:SU,Header:TU,Main:kU}),g6e=gs(CU),v6e=gs(SU),y6e=gs(TU),b6e=gs(kU);var $U={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){return function(n,s){var r=s.prototype,a=r.format;r.format=function(o){var i=this,l=this.$locale();if(!this.isValid())return a.bind(this)(o);var u=this.$utils(),c=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return l.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return l.ordinal(i.week(),"W");case"w":case"ww":return u.s(i.week(),d==="w"?1:2,"0");case"W":case"WW":return u.s(i.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return u.s(String(i.$H===0?24:i.$H),d==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return d}});return a.bind(this)(c)}}})})($U);var _6e=$U.exports;const w6e=ra(_6e);var EU={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){var n="week",s="year";return function(r,a,o){var i=a.prototype;i.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=o(this).startOf(s).add(1,s).date(u),d=o(this).endOf(n);if(c.isBefore(d))return 1}var h=o(this).startOf(s).date(u).startOf(n).subtract(1,"millisecond"),f=this.diff(h,n,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},i.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(EU);var x6e=EU.exports;const C6e=ra(x6e);var IU={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){return function(n,s){s.prototype.weekYear=function(){var r=this.month(),a=this.week(),o=this.year();return a===1&&r===11?o+1:r===0&&a>=52?o-1:o}}})})(IU);var S6e=IU.exports;const T6e=ra(S6e);var NU={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){return function(n,s,r){s.prototype.dayOfYear=function(a){var o=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return a==null?o:this.add(a-o,"day")}}})})(NU);var k6e=NU.exports;const $6e=ra(k6e);var AU={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){return function(n,s){s.prototype.isSameOrAfter=function(r,a){return this.isSame(r,a)||this.isAfter(r,a)}}})})(AU);var E6e=AU.exports;const I6e=ra(E6e);var DU={exports:{}};(function(t,e){(function(n,s){t.exports=s()})(Ir,function(){return function(n,s){s.prototype.isSameOrBefore=function(r,a){return this.isSame(r,a)||this.isBefore(r,a)}}})})(DU);var N6e=DU.exports;const A6e=ra(N6e),dw=Symbol(),D6e=qe({...O5,type:{type:ve(String),default:"date"}}),O6e=["date","dates","year","years","month","months","week","range"],F5=qe({disabledDate:{type:ve(Function)},date:{type:ve(Object),required:!0},minDate:{type:ve(Object)},maxDate:{type:ve(Object)},parsedValue:{type:ve([Object,Array])},rangeState:{type:ve(Object),default:()=>({endDate:null,selecting:!1})}}),OU=qe({type:{type:ve(String),required:!0,values:s2e},dateFormat:String,timeFormat:String}),B5=qe({unlinkPanels:Boolean,parsedValue:{type:ve(Array)}}),z5=t=>({type:String,values:O6e,default:t}),R6e=qe({...OU,parsedValue:{type:ve([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),L6e=qe({...F5,cellClassName:{type:ve(Function)},showWeekNumber:Boolean,selectionMode:z5("date")}),P6e=["changerange","pick","select"],qp=t=>{if(!Mt(t))return!1;const[e,n]=t;return Pt.isDayjs(e)&&Pt.isDayjs(n)&&e.isSameOrBefore(n)},V5=(t,{lang:e,unit:n,unlinkPanels:s})=>{let r;if(Mt(t)){let[a,o]=t.map(i=>Pt(i).locale(e));return s||(o=a.add(1,n)),[a,o]}else t?r=Pt(t):r=Pt();return r=r.locale(e),[r,r.add(1,n)]},M6e=(t,e,{columnIndexOffset:n,startDate:s,nextEndDate:r,now:a,unit:o,relativeDateGetter:i,setCellMetadata:l,setRowMetadata:u})=>{for(let c=0;c<t.row;c++){const d=e[c];for(let h=0;h<t.column;h++){let f=d[h+n];f||(f={row:c,column:h,type:"normal",inRange:!1,start:!1,end:!1});const p=c*t.column+h,m=i(p);f.dayjs=m,f.date=m.toDate(),f.timestamp=m.valueOf(),f.type="normal",f.inRange=!!(s&&m.isSameOrAfter(s,o)&&r&&m.isSameOrBefore(r,o))||!!(s&&m.isSameOrBefore(s,o)&&r&&m.isSameOrAfter(r,o)),s!=null&&s.isSameOrAfter(r)?(f.start=!!r&&m.isSame(r,o),f.end=s&&m.isSame(s,o)):(f.start=!!s&&m.isSame(s,o),f.end=!!r&&m.isSame(r,o)),m.isSame(a,o)&&(f.type="today"),l==null||l(f,{rowIndex:c,columnIndex:h}),d[h+n]=f}u==null||u(d)}},JS=(t="")=>["normal","today"].includes(t),F6e=(t,e)=>{const{lang:n}=fn(),s=B(),r=B(),a=B(),o=B(),i=B([[],[],[],[],[],[]]);let l=!1;const u=t.date.$locale().weekStart||7,c=t.date.locale("en").localeData().weekdaysShort().map(P=>P.toLowerCase()),d=D(()=>u>3?7-u:-u),h=D(()=>{const P=t.date.startOf("month");return P.subtract(P.day()||7,"day")}),f=D(()=>c.concat(c).slice(u,u+7)),p=D(()=>Yz(g(_)).some(P=>P.isCurrent)),m=D(()=>{const P=t.date.startOf("month"),j=P.day()||7,J=P.daysInMonth(),ne=P.subtract(1,"month").daysInMonth();return{startOfMonthDay:j,dateCountOfMonth:J,dateCountOfLastMonth:ne}}),y=D(()=>t.selectionMode==="dates"?za(t.parsedValue):[]),v=(P,{count:j,rowIndex:J,columnIndex:ne})=>{const{startOfMonthDay:te,dateCountOfMonth:de,dateCountOfLastMonth:me}=g(m),_e=g(d);if(J>=0&&J<=1){const ee=te+_e<0?7+te+_e:te+_e;if(ne+J*7>=ee)return P.text=j,!0;P.text=me-(ee-ne%7)+1+J*7,P.type="prev-month"}else return j<=de?P.text=j:(P.text=j-de,P.type="next-month"),!0;return!1},b=(P,{columnIndex:j,rowIndex:J},ne)=>{const{disabledDate:te,cellClassName:de}=t,me=g(y),_e=v(P,{count:ne,rowIndex:J,columnIndex:j}),ee=P.dayjs.toDate();return P.selected=me.find(he=>he.isSame(P.dayjs,"day")),P.isSelected=!!P.selected,P.isCurrent=x(P),P.disabled=te==null?void 0:te(ee),P.customClass=de==null?void 0:de(ee),_e},w=P=>{if(t.selectionMode==="week"){const[j,J]=t.showWeekNumber?[1,7]:[0,6],ne=G(P[j+1]);P[j].inRange=ne,P[j].start=ne,P[J].inRange=ne,P[J].end=ne}},_=D(()=>{const{minDate:P,maxDate:j,rangeState:J,showWeekNumber:ne}=t,te=g(d),de=g(i),me="day";let _e=1;if(ne)for(let ee=0;ee<6;ee++)de[ee][0]||(de[ee][0]={type:"week",text:g(h).add(ee*7+1,me).week()});return M6e({row:6,column:7},de,{startDate:P,columnIndexOffset:ne?1:0,nextEndDate:J.endDate||j||J.selecting&&P||null,now:Pt().locale(g(n)).startOf(me),unit:me,relativeDateGetter:ee=>g(h).add(ee-te,me),setCellMetadata:(...ee)=>{b(...ee,_e)&&(_e+=1)},setRowMetadata:w}),de});Ee(()=>t.date,async()=>{var P;(P=g(s))!=null&&P.contains(document.activeElement)&&(await it(),await C())});const C=async()=>{var P;return(P=g(r))==null?void 0:P.focus()},x=P=>t.selectionMode==="date"&&JS(P.type)&&T(P,t.parsedValue),T=(P,j)=>j?Pt(j).locale(g(n)).isSame(t.date.date(Number(P.text)),"day"):!1,k=(P,j)=>{const J=P*7+(j-(t.showWeekNumber?1:0))-g(d);return g(h).add(J,"day")},N=P=>{var j;if(!t.rangeState.selecting)return;let J=P.target;if(J.tagName==="SPAN"&&(J=(j=J.parentNode)==null?void 0:j.parentNode),J.tagName==="DIV"&&(J=J.parentNode),J.tagName!=="TD")return;const ne=J.parentNode.rowIndex-1,te=J.cellIndex;g(_)[ne][te].disabled||(ne!==g(a)||te!==g(o))&&(a.value=ne,o.value=te,e("changerange",{selecting:!0,endDate:k(ne,te)}))},O=P=>!g(p)&&(P==null?void 0:P.text)===1&&P.type==="normal"||P.isCurrent,L=P=>{l||g(p)||t.selectionMode!=="date"||W(P,!0)},V=P=>{P.target.closest("td")&&(l=!0)},H=P=>{P.target.closest("td")&&(l=!1)},K=P=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:P,maxDate:null}),e("select",!0)):(P>=t.minDate?e("pick",{minDate:t.minDate,maxDate:P}):e("pick",{minDate:P,maxDate:t.minDate}),e("select",!1))},U=P=>{const j=P.week(),J=`${P.year()}w${j}`;e("pick",{year:P.year(),week:j,value:J,date:P.startOf("week")})},R=(P,j)=>{const J=j?za(t.parsedValue).filter(ne=>(ne==null?void 0:ne.valueOf())!==P.valueOf()):za(t.parsedValue).concat([P]);e("pick",J)},W=(P,j=!1)=>{const J=P.target.closest("td");if(!J)return;const ne=J.parentNode.rowIndex-1,te=J.cellIndex,de=g(_)[ne][te];if(de.disabled||de.type==="week")return;const me=k(ne,te);switch(t.selectionMode){case"range":{K(me);break}case"date":{e("pick",me,j);break}case"week":{U(me);break}case"dates":{R(me,!!de.selected);break}}},G=P=>{if(t.selectionMode!=="week")return!1;let j=t.date.startOf("day");if(P.type==="prev-month"&&(j=j.subtract(1,"month")),P.type==="next-month"&&(j=j.add(1,"month")),j=j.date(Number.parseInt(P.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const J=(t.parsedValue.day()-u+7)%7-1;return t.parsedValue.subtract(J,"day").isSame(j,"day")}return!1};return{WEEKS:f,rows:_,tbodyRef:s,currentCellRef:r,focus:C,isCurrent:x,isWeekActive:G,isSelectedCell:O,handlePickDate:W,handleMouseUp:H,handleMouseDown:V,handleMouseMove:N,handleFocus:L}},B6e=(t,{isCurrent:e,isWeekActive:n})=>{const s=Fe("date-table"),{t:r}=fn(),a=D(()=>[s.b(),{"is-week-mode":t.selectionMode==="week"}]),o=D(()=>r("el.datepicker.dateTablePrompt")),i=D(()=>r("el.datepicker.week"));return{tableKls:a,tableLabel:o,weekLabel:i,getCellClasses:c=>{const d=[];return JS(c.type)&&!c.disabled?(d.push("available"),c.type==="today"&&d.push("today")):d.push(c.type),e(c)&&d.push("current"),c.inRange&&(JS(c.type)||t.selectionMode==="week")&&(d.push("in-range"),c.start&&d.push("start-date"),c.end&&d.push("end-date")),c.disabled&&d.push("disabled"),c.selected&&d.push("selected"),c.customClass&&d.push(c.customClass),d.join(" ")},getRowKls:c=>[s.e("row"),{current:n(c)}],t:r}},z6e=qe({cell:{type:ve(Object)}});var H5=Z({name:"ElDatePickerCell",props:z6e,setup(t){const e=Fe("date-table-cell"),{slots:n}=Le(dw);return()=>{const{cell:s}=t;return oe(n,"default",{...s},()=>{var r;return[$("div",{class:e.b()},[$("span",{class:e.e("text")},[(r=s==null?void 0:s.renderText)!=null?r:s==null?void 0:s.text])])]})}}});const V6e=Z({__name:"basic-date-table",props:L6e,emits:P6e,setup(t,{expose:e,emit:n}){const s=t,{WEEKS:r,rows:a,tbodyRef:o,currentCellRef:i,focus:l,isCurrent:u,isWeekActive:c,isSelectedCell:d,handlePickDate:h,handleMouseUp:f,handleMouseDown:p,handleMouseMove:m,handleFocus:y}=F6e(s,n),{tableLabel:v,tableKls:b,weekLabel:w,getCellClasses:_,getRowKls:C,t:x}=B6e(s,{isCurrent:u,isWeekActive:c});return e({focus:l}),(T,k)=>(S(),A("table",{"aria-label":g(v),class:q(g(b)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:g(h),onMousemove:g(m),onMousedown:xt(g(p),["prevent"]),onMouseup:g(f)},[I("tbody",{ref_key:"tbodyRef",ref:o},[I("tr",null,[T.showWeekNumber?(S(),A("th",{key:0,scope:"col"},Me(g(w)),1)):ce("v-if",!0),(S(!0),A(He,null,Ut(g(r),(N,O)=>(S(),A("th",{key:O,"aria-label":g(x)("el.datepicker.weeksFull."+N),scope:"col"},Me(g(x)("el.datepicker.weeks."+N)),9,["aria-label"]))),128))]),(S(!0),A(He,null,Ut(g(a),(N,O)=>(S(),A("tr",{key:O,class:q(g(C)(N[1]))},[(S(!0),A(He,null,Ut(N,(L,V)=>(S(),A("td",{key:`${O}.${V}`,ref_for:!0,ref:H=>g(d)(L)&&(i.value=H),class:q(g(_)(L)),"aria-current":L.isCurrent?"date":void 0,"aria-selected":L.isCurrent,tabindex:g(d)(L)?0:-1,onFocus:g(y)},[$(g(H5),{cell:L},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var eT=Xe(V6e,[["__file","basic-date-table.vue"]]);const H6e=qe({...F5,selectionMode:z5("month")}),U6e=Z({__name:"basic-month-table",props:H6e,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const s=t,r=(_,C,x)=>{const T=Pt().locale(x).startOf("month").month(C).year(_),k=T.daysInMonth();return Hc(k).map(N=>T.add(N,"day").toDate())},a=Fe("month-table"),{t:o,lang:i}=fn(),l=B(),u=B(),c=B(s.date.locale("en").localeData().monthsShort().map(_=>_.toLowerCase())),d=B([[],[],[]]),h=B(),f=B(),p=D(()=>{var _,C;const x=d.value,T=Pt().locale(i.value).startOf("month");for(let k=0;k<3;k++){const N=x[k];for(let O=0;O<4;O++){const L=N[O]||(N[O]={row:k,column:O,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});L.type="normal";const V=k*4+O,H=s.date.startOf("year").month(V),K=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;L.inRange=!!(s.minDate&&H.isSameOrAfter(s.minDate,"month")&&K&&H.isSameOrBefore(K,"month"))||!!(s.minDate&&H.isSameOrBefore(s.minDate,"month")&&K&&H.isSameOrAfter(K,"month")),(_=s.minDate)!=null&&_.isSameOrAfter(K)?(L.start=!!(K&&H.isSame(K,"month")),L.end=s.minDate&&H.isSame(s.minDate,"month")):(L.start=!!(s.minDate&&H.isSame(s.minDate,"month")),L.end=!!(K&&H.isSame(K,"month"))),T.isSame(H)&&(L.type="today"),L.text=V,L.disabled=((C=s.disabledDate)==null?void 0:C.call(s,H.toDate()))||!1}}return x}),m=()=>{var _;(_=u.value)==null||_.focus()},y=_=>{const C={},x=s.date.year(),T=new Date,k=_.text;return C.disabled=s.disabledDate?r(x,k,i.value).every(s.disabledDate):!1,C.current=za(s.parsedValue).findIndex(N=>Pt.isDayjs(N)&&N.year()===x&&N.month()===k)>=0,C.today=T.getFullYear()===x&&T.getMonth()===k,_.inRange&&(C["in-range"]=!0,_.start&&(C["start-date"]=!0),_.end&&(C["end-date"]=!0)),C},v=_=>{const C=s.date.year(),x=_.text;return za(s.date).findIndex(T=>T.year()===C&&T.month()===x)>=0},b=_=>{var C;if(!s.rangeState.selecting)return;let x=_.target;if(x.tagName==="SPAN"&&(x=(C=x.parentNode)==null?void 0:C.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const T=x.parentNode.rowIndex,k=x.cellIndex;p.value[T][k].disabled||(T!==h.value||k!==f.value)&&(h.value=T,f.value=k,n("changerange",{selecting:!0,endDate:s.date.startOf("year").month(T*4+k)}))},w=_=>{var C;const x=(C=_.target)==null?void 0:C.closest("td");if((x==null?void 0:x.tagName)!=="TD"||yo(x,"disabled"))return;const T=x.cellIndex,N=x.parentNode.rowIndex*4+T,O=s.date.startOf("year").month(N);if(s.selectionMode==="months"){if(_.type==="keydown"){n("pick",za(s.parsedValue),!1);return}const L=s.date.startOf("month").month(N),V=yo(x,"current")?za(s.parsedValue).filter(H=>Number(H)!==Number(L)):za(s.parsedValue).concat([Pt(L)]);n("pick",V)}else s.selectionMode==="range"?s.rangeState.selecting?(s.minDate&&O>=s.minDate?n("pick",{minDate:s.minDate,maxDate:O}):n("pick",{minDate:O,maxDate:s.minDate}),n("select",!1)):(n("pick",{minDate:O,maxDate:null}),n("select",!0)):n("pick",N)};return Ee(()=>s.date,async()=>{var _,C;(_=l.value)!=null&&_.contains(document.activeElement)&&(await it(),(C=u.value)==null||C.focus())}),e({focus:m}),(_,C)=>(S(),A("table",{role:"grid","aria-label":g(o)("el.datepicker.monthTablePrompt"),class:q(g(a).b()),onClick:w,onMousemove:b},[I("tbody",{ref_key:"tbodyRef",ref:l},[(S(!0),A(He,null,Ut(g(p),(x,T)=>(S(),A("tr",{key:T},[(S(!0),A(He,null,Ut(x,(k,N)=>(S(),A("td",{key:N,ref_for:!0,ref:O=>v(k)&&(u.value=O),class:q(y(k)),"aria-selected":`${v(k)}`,"aria-label":g(o)(`el.datepicker.month${+k.text+1}`),tabindex:v(k)?0:-1,onKeydown:[Pn(xt(w,["prevent","stop"]),["space"]),Pn(xt(w,["prevent","stop"]),["enter"])]},[$(g(H5),{cell:{...k,renderText:g(o)("el.datepicker.months."+c.value[k.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var tT=Xe(U6e,[["__file","basic-month-table.vue"]]);const W6e=qe({...F5,selectionMode:z5("year")}),j6e=Z({__name:"basic-year-table",props:W6e,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const s=t,r=(_,C)=>{const x=Pt(String(_)).locale(C).startOf("year"),k=x.endOf("year").dayOfYear();return Hc(k).map(N=>x.add(N,"day").toDate())},a=Fe("year-table"),{t:o,lang:i}=fn(),l=B(),u=B(),c=D(()=>Math.floor(s.date.year()/10)*10),d=B([[],[],[]]),h=B(),f=B(),p=D(()=>{var _;const C=d.value,x=Pt().locale(i.value).startOf("year");for(let T=0;T<3;T++){const k=C[T];for(let N=0;N<4&&!(T*4+N>=10);N++){let O=k[N];O||(O={row:T,column:N,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),O.type="normal";const L=T*4+N+c.value,V=Pt().year(L),H=s.rangeState.endDate||s.maxDate||s.rangeState.selecting&&s.minDate||null;O.inRange=!!(s.minDate&&V.isSameOrAfter(s.minDate,"year")&&H&&V.isSameOrBefore(H,"year"))||!!(s.minDate&&V.isSameOrBefore(s.minDate,"year")&&H&&V.isSameOrAfter(H,"year")),(_=s.minDate)!=null&&_.isSameOrAfter(H)?(O.start=!!(H&&V.isSame(H,"year")),O.end=!!(s.minDate&&V.isSame(s.minDate,"year"))):(O.start=!!(s.minDate&&V.isSame(s.minDate,"year")),O.end=!!(H&&V.isSame(H,"year"))),x.isSame(V)&&(O.type="today"),O.text=L;const U=V.toDate();O.disabled=s.disabledDate&&s.disabledDate(U)||!1,k[N]=O}}return C}),m=()=>{var _;(_=u.value)==null||_.focus()},y=_=>{const C={},x=Pt().locale(i.value),T=_.text;return C.disabled=s.disabledDate?r(T,i.value).every(s.disabledDate):!1,C.today=x.year()===T,C.current=za(s.parsedValue).findIndex(k=>k.year()===T)>=0,_.inRange&&(C["in-range"]=!0,_.start&&(C["start-date"]=!0),_.end&&(C["end-date"]=!0)),C},v=_=>{const C=_.text;return za(s.date).findIndex(x=>x.year()===C)>=0},b=_=>{var C;const x=(C=_.target)==null?void 0:C.closest("td");if(!x||!x.textContent||yo(x,"disabled"))return;const T=x.cellIndex,N=x.parentNode.rowIndex*4+T+c.value,O=Pt().year(N);if(s.selectionMode==="range")s.rangeState.selecting?(s.minDate&&O>=s.minDate?n("pick",{minDate:s.minDate,maxDate:O}):n("pick",{minDate:O,maxDate:s.minDate}),n("select",!1)):(n("pick",{minDate:O,maxDate:null}),n("select",!0));else if(s.selectionMode==="years"){if(_.type==="keydown"){n("pick",za(s.parsedValue),!1);return}const L=yo(x,"current")?za(s.parsedValue).filter(V=>(V==null?void 0:V.year())!==N):za(s.parsedValue).concat([O]);n("pick",L)}else n("pick",N)},w=_=>{var C;if(!s.rangeState.selecting)return;const x=(C=_.target)==null?void 0:C.closest("td");if(!x)return;const T=x.parentNode.rowIndex,k=x.cellIndex;p.value[T][k].disabled||(T!==h.value||k!==f.value)&&(h.value=T,f.value=k,n("changerange",{selecting:!0,endDate:Pt().year(c.value).add(T*4+k,"year")}))};return Ee(()=>s.date,async()=>{var _,C;(_=l.value)!=null&&_.contains(document.activeElement)&&(await it(),(C=u.value)==null||C.focus())}),e({focus:m}),(_,C)=>(S(),A("table",{role:"grid","aria-label":g(o)("el.datepicker.yearTablePrompt"),class:q(g(a).b()),onClick:b,onMousemove:w},[I("tbody",{ref_key:"tbodyRef",ref:l},[(S(!0),A(He,null,Ut(g(p),(x,T)=>(S(),A("tr",{key:T},[(S(!0),A(He,null,Ut(x,(k,N)=>(S(),A("td",{key:`${T}_${N}`,ref_for:!0,ref:O=>v(k)&&(u.value=O),class:q(["available",y(k)]),"aria-selected":v(k),"aria-label":String(k.text),tabindex:v(k)?0:-1,onKeydown:[Pn(xt(b,["prevent","stop"]),["space"]),Pn(xt(b,["prevent","stop"]),["enter"])]},[$(g(H5),{cell:k},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var nT=Xe(j6e,[["__file","basic-year-table.vue"]]);const G6e=Z({__name:"panel-date-pick",props:R6e,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,s=(Re,ut,xe)=>!0,r=Fe("picker-panel"),a=Fe("date-picker"),o=af(),i=xr(),{t:l,lang:u}=fn(),c=Le("EP_PICKER_BASE"),d=Le(ow),{shortcuts:h,disabledDate:f,cellClassName:p,defaultTime:m}=c.props,y=Nn(c.props,"defaultValue"),v=B(),b=B(Pt().locale(u.value)),w=B(!1);let _=!1;const C=D(()=>Pt(m).locale(u.value)),x=D(()=>b.value.month()),T=D(()=>b.value.year()),k=B([]),N=B(null),O=B(null),L=Re=>k.value.length>0?s(Re,k.value,n.format||"HH:mm:ss"):!0,V=Re=>m&&!at.value&&!w.value&&!_?C.value.year(Re.year()).month(Re.month()).date(Re.date()):ee.value?Re.millisecond(0):Re.startOf("day"),H=(Re,...ut)=>{if(!Re)e("pick",Re,...ut);else if(Mt(Re)){const xe=Re.map(V);e("pick",xe,...ut)}else e("pick",V(Re),...ut);N.value=null,O.value=null,w.value=!1,_=!1},K=async(Re,ut)=>{if(j.value==="date"){Re=Re;let xe=n.parsedValue?n.parsedValue.year(Re.year()).month(Re.month()).date(Re.date()):Re;L(xe)||(xe=k.value[0][0].year(Re.year()).month(Re.month()).date(Re.date())),b.value=xe,H(xe,ee.value||ut),n.type==="datetime"&&(await it(),rn())}else j.value==="week"?H(Re.date):j.value==="dates"&&H(Re,!0)},U=Re=>{const ut=Re?"add":"subtract";b.value=b.value[ut](1,"month"),It("month")},R=Re=>{const ut=b.value,xe=Re?"add":"subtract";b.value=W.value==="year"?ut[xe](10,"year"):ut[xe](1,"year"),It("year")},W=B("date"),G=D(()=>{const Re=l("el.datepicker.year");if(W.value==="year"){const ut=Math.floor(T.value/10)*10;return Re?`${ut} ${Re} - ${ut+9} ${Re}`:`${ut} - ${ut+9}`}return`${T.value} ${Re}`}),P=Re=>{const ut=yn(Re.value)?Re.value():Re.value;if(ut){_=!0,H(Pt(ut).locale(u.value));return}Re.onClick&&Re.onClick({attrs:o,slots:i,emit:e})},j=D(()=>{const{type:Re}=n;return["week","month","months","year","years","dates"].includes(Re)?Re:"date"}),J=D(()=>j.value==="dates"||j.value==="months"||j.value==="years"),ne=D(()=>j.value==="date"?W.value:j.value),te=D(()=>!!h.length),de=async(Re,ut)=>{j.value==="month"?(b.value=b.value.startOf("month").month(Re),H(b.value,!1)):j.value==="months"?H(Re,ut??!0):(b.value=b.value.startOf("month").month(Re),W.value="date",["month","year","date","week"].includes(j.value)&&(H(b.value,!0),await it(),rn())),It("month")},me=async(Re,ut)=>{j.value==="year"?(b.value=b.value.startOf("year").year(Re),H(b.value,!1)):j.value==="years"?H(Re,ut??!0):(b.value=b.value.year(Re),W.value="month",["month","year","date","week"].includes(j.value)&&(H(b.value,!0),await it(),rn())),It("year")},_e=async Re=>{W.value=Re,await it(),rn()},ee=D(()=>n.type==="datetime"||n.type==="datetimerange"),he=D(()=>{const Re=ee.value||j.value==="dates",ut=j.value==="years",xe=j.value==="months",Ke=W.value==="date",Ze=W.value==="year",Zt=W.value==="month";return Re&&Ke||ut&&Ze||xe&&Zt}),le=D(()=>f?n.parsedValue?Mt(n.parsedValue)?f(n.parsedValue[0].toDate()):f(n.parsedValue.toDate()):!0:!1),ue=()=>{if(J.value)H(n.parsedValue);else{let Re=n.parsedValue;if(!Re){const ut=Pt(m).locale(u.value),xe=Qt();Re=ut.year(xe.year()).month(xe.month()).date(xe.date())}b.value=Re,H(Re)}},re=D(()=>f?f(Pt().locale(u.value).toDate()):!1),we=()=>{const ut=Pt().locale(u.value).toDate();w.value=!0,(!f||!f(ut))&&L(ut)&&(b.value=Pt().locale(u.value),H(b.value))},Ae=D(()=>n.timeFormat||zH(n.format)),Ue=D(()=>n.dateFormat||BH(n.format)),at=D(()=>{if(O.value)return O.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(Ae.value)}),ot=D(()=>{if(N.value)return N.value;if(!(!n.parsedValue&&!y.value))return(n.parsedValue||b.value).format(Ue.value)}),Pe=B(!1),je=()=>{Pe.value=!0},dt=()=>{Pe.value=!1},Qe=Re=>({hour:Re.hour(),minute:Re.minute(),second:Re.second(),year:Re.year(),month:Re.month(),date:Re.date()}),wt=(Re,ut,xe)=>{const{hour:Ke,minute:Ze,second:Zt}=Qe(Re),Mn=n.parsedValue?n.parsedValue.hour(Ke).minute(Ze).second(Zt):Re;b.value=Mn,H(b.value,!0),xe||(Pe.value=ut)},vt=Re=>{const ut=Pt(Re,Ae.value).locale(u.value);if(ut.isValid()&&L(ut)){const{year:xe,month:Ke,date:Ze}=Qe(b.value);b.value=ut.year(xe).month(Ke).date(Ze),O.value=null,Pe.value=!1,H(b.value,!0)}},Ge=Re=>{const ut=Pt(Re,Ue.value).locale(u.value);if(ut.isValid()){if(f&&f(ut.toDate()))return;const{hour:xe,minute:Ke,second:Ze}=Qe(b.value);b.value=ut.hour(xe).minute(Ke).second(Ze),N.value=null,H(b.value,!0)}},fe=Re=>Pt.isDayjs(Re)&&Re.isValid()&&(f?!f(Re.toDate()):!0),_t=Re=>Mt(Re)?Re.map(ut=>ut.format(n.format)):Re.format(n.format),Dt=Re=>Pt(Re,n.format).locale(u.value),Qt=()=>{const Re=Pt(y.value).locale(u.value);if(!y.value){const ut=C.value;return Pt().hour(ut.hour()).minute(ut.minute()).second(ut.second()).locale(u.value)}return Re},rn=async()=>{var Re;["week","month","year","date"].includes(j.value)&&((Re=v.value)==null||Re.focus(),j.value==="week"&&Ct(gt.down))},Cn=Re=>{const{code:ut}=Re;[gt.up,gt.down,gt.left,gt.right,gt.home,gt.end,gt.pageUp,gt.pageDown].includes(ut)&&(Ct(ut),Re.stopPropagation(),Re.preventDefault()),[gt.enter,gt.space,gt.numpadEnter].includes(ut)&&N.value===null&&O.value===null&&(Re.preventDefault(),H(b.value,!1))},Ct=Re=>{var ut;const{up:xe,down:Ke,left:Ze,right:Zt,home:Mn,end:Oe,pageUp:St,pageDown:bn}=gt,xn={year:{[xe]:-4,[Ke]:4,[Ze]:-1,[Zt]:1,offset:(In,Wr)=>In.setFullYear(In.getFullYear()+Wr)},month:{[xe]:-4,[Ke]:4,[Ze]:-1,[Zt]:1,offset:(In,Wr)=>In.setMonth(In.getMonth()+Wr)},week:{[xe]:-1,[Ke]:1,[Ze]:-1,[Zt]:1,offset:(In,Wr)=>In.setDate(In.getDate()+Wr*7)},date:{[xe]:-7,[Ke]:7,[Ze]:-1,[Zt]:1,[Mn]:In=>-In.getDay(),[Oe]:In=>-In.getDay()+6,[St]:In=>-new Date(In.getFullYear(),In.getMonth(),0).getDate(),[bn]:In=>new Date(In.getFullYear(),In.getMonth()+1,0).getDate(),offset:(In,Wr)=>In.setDate(In.getDate()+Wr)}},Zn=b.value.toDate();for(;Math.abs(b.value.diff(Zn,"year",!0))<1;){const In=xn[ne.value];if(!In)return;if(In.offset(Zn,yn(In[Re])?In[Re](Zn):(ut=In[Re])!=null?ut:0),f&&f(Zn))break;const Wr=Pt(Zn).locale(u.value);b.value=Wr,e("pick",Wr,!0);break}},It=Re=>{e("panel-change",b.value.toDate(),Re,W.value)};return Ee(()=>j.value,Re=>{if(["month","year"].includes(Re)){W.value=Re;return}else if(Re==="years"){W.value="year";return}else if(Re==="months"){W.value="month";return}W.value="date"},{immediate:!0}),Ee(()=>W.value,()=>{d==null||d.updatePopper()}),Ee(()=>y.value,Re=>{Re&&(b.value=Qt())},{immediate:!0}),Ee(()=>n.parsedValue,Re=>{if(Re){if(J.value||Array.isArray(Re))return;b.value=Re}else b.value=Qt()},{immediate:!0}),e("set-picker-option",["isValidValue",fe]),e("set-picker-option",["formatToString",_t]),e("set-picker-option",["parseUserInput",Dt]),e("set-picker-option",["handleFocusPicker",rn]),(Re,ut)=>(S(),A("div",{class:q([g(r).b(),g(a).b(),{"has-sidebar":Re.$slots.sidebar||g(te),"has-time":g(ee)}])},[I("div",{class:q(g(r).e("body-wrapper"))},[oe(Re.$slots,"sidebar",{class:q(g(r).e("sidebar"))}),g(te)?(S(),A("div",{key:0,class:q(g(r).e("sidebar"))},[(S(!0),A(He,null,Ut(g(h),(xe,Ke)=>(S(),A("button",{key:Ke,type:"button",class:q(g(r).e("shortcut")),onClick:Ze=>P(xe)},Me(xe.text),11,["onClick"]))),128))],2)):ce("v-if",!0),I("div",{class:q(g(r).e("body"))},[g(ee)?(S(),A("div",{key:0,class:q(g(a).e("time-header"))},[I("span",{class:q(g(a).e("editor-wrap"))},[$(g(Gs),{placeholder:g(l)("el.datepicker.selectDate"),"model-value":g(ot),size:"small","validate-event":!1,onInput:xe=>N.value=xe,onChange:Ge},null,8,["placeholder","model-value","onInput"])],2),zt((S(),A("span",{class:q(g(a).e("editor-wrap"))},[$(g(Gs),{placeholder:g(l)("el.datepicker.selectTime"),"model-value":g(at),size:"small","validate-event":!1,onFocus:je,onInput:xe=>O.value=xe,onChange:vt},null,8,["placeholder","model-value","onInput"]),$(g(c3),{visible:Pe.value,format:g(Ae),"parsed-value":b.value,onPick:wt},null,8,["visible","format","parsed-value"])],2)),[[g(Pu),dt]])],2)):ce("v-if",!0),zt(I("div",{class:q([g(a).e("header"),(W.value==="year"||W.value==="month")&&g(a).e("header--bordered")])},[I("span",{class:q(g(a).e("prev-btn"))},[I("button",{type:"button","aria-label":g(l)("el.datepicker.prevYear"),class:q(["d-arrow-left",g(r).e("icon-btn")]),onClick:xe=>R(!1)},[oe(Re.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["aria-label","onClick"]),zt(I("button",{type:"button","aria-label":g(l)("el.datepicker.prevMonth"),class:q([g(r).e("icon-btn"),"arrow-left"]),onClick:xe=>U(!1)},[oe(Re.$slots,"prev-month",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Yc))]),_:1})])],10,["aria-label","onClick"]),[[gn,W.value==="date"]])],2),I("span",{role:"button",class:q(g(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Pn(xe=>_e("year"),["enter"]),onClick:xe=>_e("year")},Me(g(G)),43,["onKeydown","onClick"]),zt(I("span",{role:"button","aria-live":"polite",tabindex:"0",class:q([g(a).e("header-label"),{active:W.value==="month"}]),onKeydown:Pn(xe=>_e("month"),["enter"]),onClick:xe=>_e("month")},Me(g(l)(`el.datepicker.month${g(x)+1}`)),43,["onKeydown","onClick"]),[[gn,W.value==="date"]]),I("span",{class:q(g(a).e("next-btn"))},[zt(I("button",{type:"button","aria-label":g(l)("el.datepicker.nextMonth"),class:q([g(r).e("icon-btn"),"arrow-right"]),onClick:xe=>U(!0)},[oe(Re.$slots,"next-month",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})])],10,["aria-label","onClick"]),[[gn,W.value==="date"]]),I("button",{type:"button","aria-label":g(l)("el.datepicker.nextYear"),class:q([g(r).e("icon-btn"),"d-arrow-right"]),onClick:xe=>R(!0)},[oe(Re.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[gn,W.value!=="time"]]),I("div",{class:q(g(r).e("content")),onKeydown:Cn},[W.value==="date"?(S(),be(eT,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":g(j),date:b.value,"parsed-value":Re.parsedValue,"disabled-date":g(f),"cell-class-name":g(p),onPick:K},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ce("v-if",!0),W.value==="year"?(S(),be(nT,{key:1,ref_key:"currentViewRef",ref:v,"selection-mode":g(j),date:b.value,"disabled-date":g(f),"parsed-value":Re.parsedValue,onPick:me},null,8,["selection-mode","date","disabled-date","parsed-value"])):ce("v-if",!0),W.value==="month"?(S(),be(tT,{key:2,ref_key:"currentViewRef",ref:v,"selection-mode":g(j),date:b.value,"parsed-value":Re.parsedValue,"disabled-date":g(f),onPick:de},null,8,["selection-mode","date","parsed-value","disabled-date"])):ce("v-if",!0)],34)],2)],2),zt(I("div",{class:q(g(r).e("footer"))},[zt($(g(Hn),{text:"",size:"small",class:q(g(r).e("link-btn")),disabled:g(re),onClick:we},{default:se(()=>[ct(Me(g(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[gn,!g(J)]]),$(g(Hn),{plain:"",size:"small",class:q(g(r).e("link-btn")),disabled:g(le),onClick:ue},{default:se(()=>[ct(Me(g(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[gn,g(he)]])],2))}});var q6e=Xe(G6e,[["__file","panel-date-pick.vue"]]);const K6e=qe({...OU,...B5,visible:Boolean}),RU=t=>{const{emit:e}=Ht(),n=af(),s=xr();return a=>{const o=yn(a.value)?a.value():a.value;if(o){e("pick",[Pt(o[0]).locale(t.value),Pt(o[1]).locale(t.value)]);return}a.onClick&&a.onClick({attrs:n,slots:s,emit:e})}},LU=(t,{defaultValue:e,leftDate:n,rightDate:s,unit:r,onParsedValueChanged:a})=>{const{emit:o}=Ht(),{pickerNs:i}=Le(dw),l=Fe("date-range-picker"),{t:u,lang:c}=fn(),d=RU(c),h=B(),f=B(),p=B({endDate:null,selecting:!1}),m=_=>{p.value=_},y=(_=!1)=>{const C=g(h),x=g(f);qp([C,x])&&o("pick",[C,x],_)},v=_=>{p.value.selecting=_,_||(p.value.endDate=null)},b=_=>{if(Mt(_)&&_.length===2){const[C,x]=_;h.value=C,n.value=C,f.value=x,a(g(h),g(f))}else w()},w=()=>{const[_,C]=V5(g(e),{lang:g(c),unit:r,unlinkPanels:t.unlinkPanels});h.value=void 0,f.value=void 0,n.value=_,s.value=C};return Ee(e,_=>{_&&w()},{immediate:!0}),Ee(()=>t.parsedValue,b,{immediate:!0}),{minDate:h,maxDate:f,rangeState:p,lang:c,ppNs:i,drpNs:l,handleChangeRange:m,handleRangeConfirm:y,handleShortcutClick:d,onSelect:v,onReset:b,t:u}},Ub="month",X6e=Z({__name:"panel-date-range",props:K6e,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,s=Le("EP_PICKER_BASE"),{disabledDate:r,cellClassName:a,defaultTime:o,clearable:i}=s.props,l=Nn(s.props,"format"),u=Nn(s.props,"shortcuts"),c=Nn(s.props,"defaultValue"),{lang:d}=fn(),h=B(Pt().locale(d.value)),f=B(Pt().locale(d.value).add(1,Ub)),{minDate:p,maxDate:m,rangeState:y,ppNs:v,drpNs:b,handleChangeRange:w,handleRangeConfirm:_,handleShortcutClick:C,onSelect:x,onReset:T,t:k}=LU(n,{defaultValue:c,leftDate:h,rightDate:f,unit:Ub,onParsedValueChanged:ut});Ee(()=>n.visible,xe=>{!xe&&y.value.selecting&&(T(n.parsedValue),x(!1))});const N=B({min:null,max:null}),O=B({min:null,max:null}),L=D(()=>`${h.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${h.value.month()+1}`)}`),V=D(()=>`${f.value.year()} ${k("el.datepicker.year")} ${k(`el.datepicker.month${f.value.month()+1}`)}`),H=D(()=>h.value.year()),K=D(()=>h.value.month()),U=D(()=>f.value.year()),R=D(()=>f.value.month()),W=D(()=>!!u.value.length),G=D(()=>N.value.min!==null?N.value.min:p.value?p.value.format(te.value):""),P=D(()=>N.value.max!==null?N.value.max:m.value||p.value?(m.value||p.value).format(te.value):""),j=D(()=>O.value.min!==null?O.value.min:p.value?p.value.format(ne.value):""),J=D(()=>O.value.max!==null?O.value.max:m.value||p.value?(m.value||p.value).format(ne.value):""),ne=D(()=>n.timeFormat||zH(l.value)),te=D(()=>n.dateFormat||BH(l.value)),de=xe=>qp(xe)&&(r?!r(xe[0].toDate())&&!r(xe[1].toDate()):!0),me=()=>{h.value=h.value.subtract(1,"year"),n.unlinkPanels||(f.value=h.value.add(1,"month")),Ae("year")},_e=()=>{h.value=h.value.subtract(1,"month"),n.unlinkPanels||(f.value=h.value.add(1,"month")),Ae("month")},ee=()=>{n.unlinkPanels?f.value=f.value.add(1,"year"):(h.value=h.value.add(1,"year"),f.value=h.value.add(1,"month")),Ae("year")},he=()=>{n.unlinkPanels?f.value=f.value.add(1,"month"):(h.value=h.value.add(1,"month"),f.value=h.value.add(1,"month")),Ae("month")},le=()=>{h.value=h.value.add(1,"year"),Ae("year")},ue=()=>{h.value=h.value.add(1,"month"),Ae("month")},re=()=>{f.value=f.value.subtract(1,"year"),Ae("year")},we=()=>{f.value=f.value.subtract(1,"month"),Ae("month")},Ae=xe=>{e("panel-change",[h.value.toDate(),f.value.toDate()],xe)},Ue=D(()=>{const xe=(K.value+1)%12,Ke=K.value+1>=12?1:0;return n.unlinkPanels&&new Date(H.value+Ke,xe)<new Date(U.value,R.value)}),at=D(()=>n.unlinkPanels&&U.value*12+R.value-(H.value*12+K.value+1)>=12),ot=D(()=>!(p.value&&m.value&&!y.value.selecting&&qp([p.value,m.value]))),Pe=D(()=>n.type==="datetime"||n.type==="datetimerange"),je=(xe,Ke)=>{if(xe)return o?Pt(o[Ke]||o).locale(d.value).year(xe.year()).month(xe.month()).date(xe.date()):xe},dt=(xe,Ke=!0)=>{const Ze=xe.minDate,Zt=xe.maxDate,Mn=je(Ze,0),Oe=je(Zt,1);m.value===Oe&&p.value===Mn||(e("calendar-change",[Ze.toDate(),Zt&&Zt.toDate()]),m.value=Oe,p.value=Mn,!(!Ke||Pe.value)&&_())},Qe=B(!1),wt=B(!1),vt=()=>{Qe.value=!1},Ge=()=>{wt.value=!1},fe=(xe,Ke)=>{N.value[Ke]=xe;const Ze=Pt(xe,te.value).locale(d.value);if(Ze.isValid()){if(r&&r(Ze.toDate()))return;Ke==="min"?(h.value=Ze,p.value=(p.value||h.value).year(Ze.year()).month(Ze.month()).date(Ze.date()),!n.unlinkPanels&&(!m.value||m.value.isBefore(p.value))&&(f.value=Ze.add(1,"month"),m.value=p.value.add(1,"month"))):(f.value=Ze,m.value=(m.value||f.value).year(Ze.year()).month(Ze.month()).date(Ze.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(m.value))&&(h.value=Ze.subtract(1,"month"),p.value=m.value.subtract(1,"month")))}},_t=(xe,Ke)=>{N.value[Ke]=null},Dt=(xe,Ke)=>{O.value[Ke]=xe;const Ze=Pt(xe,ne.value).locale(d.value);Ze.isValid()&&(Ke==="min"?(Qe.value=!0,p.value=(p.value||h.value).hour(Ze.hour()).minute(Ze.minute()).second(Ze.second())):(wt.value=!0,m.value=(m.value||f.value).hour(Ze.hour()).minute(Ze.minute()).second(Ze.second()),f.value=m.value))},Qt=(xe,Ke)=>{O.value[Ke]=null,Ke==="min"?(h.value=p.value,Qe.value=!1,(!m.value||m.value.isBefore(p.value))&&(m.value=p.value)):(f.value=m.value,wt.value=!1,m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},rn=(xe,Ke,Ze)=>{O.value.min||(xe&&(h.value=xe,p.value=(p.value||h.value).hour(xe.hour()).minute(xe.minute()).second(xe.second())),Ze||(Qe.value=Ke),(!m.value||m.value.isBefore(p.value))&&(m.value=p.value,f.value=xe))},Cn=(xe,Ke,Ze)=>{O.value.max||(xe&&(f.value=xe,m.value=(m.value||f.value).hour(xe.hour()).minute(xe.minute()).second(xe.second())),Ze||(wt.value=Ke),m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},Ct=()=>{h.value=V5(g(c),{lang:g(d),unit:"month",unlinkPanels:n.unlinkPanels})[0],f.value=h.value.add(1,"month"),m.value=void 0,p.value=void 0,e("pick",null)},It=xe=>Mt(xe)?xe.map(Ke=>Ke.format(l.value)):xe.format(l.value),Re=xe=>Mt(xe)?xe.map(Ke=>Pt(Ke,l.value).locale(d.value)):Pt(xe,l.value).locale(d.value);function ut(xe,Ke){if(n.unlinkPanels&&Ke){const Ze=(xe==null?void 0:xe.year())||0,Zt=(xe==null?void 0:xe.month())||0,Mn=Ke.year(),Oe=Ke.month();f.value=Ze===Mn&&Zt===Oe?Ke.add(1,Ub):Ke}else f.value=h.value.add(1,Ub),Ke&&(f.value=f.value.hour(Ke.hour()).minute(Ke.minute()).second(Ke.second()))}return e("set-picker-option",["isValidValue",de]),e("set-picker-option",["parseUserInput",Re]),e("set-picker-option",["formatToString",It]),e("set-picker-option",["handleClear",Ct]),(xe,Ke)=>(S(),A("div",{class:q([g(v).b(),g(b).b(),{"has-sidebar":xe.$slots.sidebar||g(W),"has-time":g(Pe)}])},[I("div",{class:q(g(v).e("body-wrapper"))},[oe(xe.$slots,"sidebar",{class:q(g(v).e("sidebar"))}),g(W)?(S(),A("div",{key:0,class:q(g(v).e("sidebar"))},[(S(!0),A(He,null,Ut(g(u),(Ze,Zt)=>(S(),A("button",{key:Zt,type:"button",class:q(g(v).e("shortcut")),onClick:Mn=>g(C)(Ze)},Me(Ze.text),11,["onClick"]))),128))],2)):ce("v-if",!0),I("div",{class:q(g(v).e("body"))},[g(Pe)?(S(),A("div",{key:0,class:q(g(b).e("time-header"))},[I("span",{class:q(g(b).e("editors-wrap"))},[I("span",{class:q(g(b).e("time-picker-wrap"))},[$(g(Gs),{size:"small",disabled:g(y).selecting,placeholder:g(k)("el.datepicker.startDate"),class:q(g(b).e("editor")),"model-value":g(G),"validate-event":!1,onInput:Ze=>fe(Ze,"min"),onChange:Ze=>_t(Ze,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),zt((S(),A("span",{class:q(g(b).e("time-picker-wrap"))},[$(g(Gs),{size:"small",class:q(g(b).e("editor")),disabled:g(y).selecting,placeholder:g(k)("el.datepicker.startTime"),"model-value":g(j),"validate-event":!1,onFocus:Ze=>Qe.value=!0,onInput:Ze=>Dt(Ze,"min"),onChange:Ze=>Qt(Ze,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),$(g(c3),{visible:Qe.value,format:g(ne),"datetime-role":"start","parsed-value":h.value,onPick:rn},null,8,["visible","format","parsed-value"])],2)),[[g(Pu),vt]])],2),I("span",null,[$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})]),I("span",{class:q([g(b).e("editors-wrap"),"is-right"])},[I("span",{class:q(g(b).e("time-picker-wrap"))},[$(g(Gs),{size:"small",class:q(g(b).e("editor")),disabled:g(y).selecting,placeholder:g(k)("el.datepicker.endDate"),"model-value":g(P),readonly:!g(p),"validate-event":!1,onInput:Ze=>fe(Ze,"max"),onChange:Ze=>_t(Ze,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),zt((S(),A("span",{class:q(g(b).e("time-picker-wrap"))},[$(g(Gs),{size:"small",class:q(g(b).e("editor")),disabled:g(y).selecting,placeholder:g(k)("el.datepicker.endTime"),"model-value":g(J),readonly:!g(p),"validate-event":!1,onFocus:Ze=>g(p)&&(wt.value=!0),onInput:Ze=>Dt(Ze,"max"),onChange:Ze=>Qt(Ze,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),$(g(c3),{"datetime-role":"end",visible:wt.value,format:g(ne),"parsed-value":f.value,onPick:Cn},null,8,["visible","format","parsed-value"])],2)),[[g(Pu),Ge]])],2)],2)):ce("v-if",!0),I("div",{class:q([[g(v).e("content"),g(b).e("content")],"is-left"])},[I("div",{class:q(g(b).e("header"))},[I("button",{type:"button",class:q([g(v).e("icon-btn"),"d-arrow-left"]),"aria-label":g(k)("el.datepicker.prevYear"),onClick:me},[oe(xe.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["aria-label"]),I("button",{type:"button",class:q([g(v).e("icon-btn"),"arrow-left"]),"aria-label":g(k)("el.datepicker.prevMonth"),onClick:_e},[oe(xe.$slots,"prev-month",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Yc))]),_:1})])],10,["aria-label"]),xe.unlinkPanels?(S(),A("button",{key:0,type:"button",disabled:!g(at),class:q([[g(v).e("icon-btn"),{"is-disabled":!g(at)}],"d-arrow-right"]),"aria-label":g(k)("el.datepicker.nextYear"),onClick:le},[oe(xe.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),xe.unlinkPanels?(S(),A("button",{key:1,type:"button",disabled:!g(Ue),class:q([[g(v).e("icon-btn"),{"is-disabled":!g(Ue)}],"arrow-right"]),"aria-label":g(k)("el.datepicker.nextMonth"),onClick:ue},[oe(xe.$slots,"next-month",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),I("div",null,Me(g(L)),1)],2),$(eT,{"selection-mode":"range",date:h.value,"min-date":g(p),"max-date":g(m),"range-state":g(y),"disabled-date":g(r),"cell-class-name":g(a),onChangerange:g(w),onPick:dt,onSelect:g(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),I("div",{class:q([[g(v).e("content"),g(b).e("content")],"is-right"])},[I("div",{class:q(g(b).e("header"))},[xe.unlinkPanels?(S(),A("button",{key:0,type:"button",disabled:!g(at),class:q([[g(v).e("icon-btn"),{"is-disabled":!g(at)}],"d-arrow-left"]),"aria-label":g(k)("el.datepicker.prevYear"),onClick:re},[oe(xe.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),xe.unlinkPanels?(S(),A("button",{key:1,type:"button",disabled:!g(Ue),class:q([[g(v).e("icon-btn"),{"is-disabled":!g(Ue)}],"arrow-left"]),"aria-label":g(k)("el.datepicker.prevMonth"),onClick:we},[oe(xe.$slots,"prev-month",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Yc))]),_:1})])],10,["disabled","aria-label"])):ce("v-if",!0),I("button",{type:"button","aria-label":g(k)("el.datepicker.nextYear"),class:q([g(v).e("icon-btn"),"d-arrow-right"]),onClick:ee},[oe(xe.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["aria-label"]),I("button",{type:"button",class:q([g(v).e("icon-btn"),"arrow-right"]),"aria-label":g(k)("el.datepicker.nextMonth"),onClick:he},[oe(xe.$slots,"next-month",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})])],10,["aria-label"]),I("div",null,Me(g(V)),1)],2),$(eT,{"selection-mode":"range",date:f.value,"min-date":g(p),"max-date":g(m),"range-state":g(y),"disabled-date":g(r),"cell-class-name":g(a),onChangerange:g(w),onPick:dt,onSelect:g(x)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),g(Pe)?(S(),A("div",{key:0,class:q(g(v).e("footer"))},[g(i)?(S(),be(g(Hn),{key:0,text:"",size:"small",class:q(g(v).e("link-btn")),onClick:Ct},{default:se(()=>[ct(Me(g(k)("el.datepicker.clear")),1)]),_:1},8,["class"])):ce("v-if",!0),$(g(Hn),{plain:"",size:"small",class:q(g(v).e("link-btn")),disabled:g(ot),onClick:Ze=>g(_)(!1)},{default:se(()=>[ct(Me(g(k)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):ce("v-if",!0)],2))}});var Y6e=Xe(X6e,[["__file","panel-date-range.vue"]]);const Q6e=qe({...B5}),Z6e=["pick","set-picker-option","calendar-change"],J6e=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:s}=fn(),r=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},a=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},o=()=>{e.value=e.value.add(1,"year")},i=()=>{n.value=n.value.subtract(1,"year")},l=D(()=>`${e.value.year()} ${s("el.datepicker.year")}`),u=D(()=>`${n.value.year()} ${s("el.datepicker.year")}`),c=D(()=>e.value.year()),d=D(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:r,rightNextYear:a,leftNextYear:o,rightPrevYear:i,leftLabel:l,rightLabel:u,leftYear:c,rightYear:d}},Wb="year",exe=Z({name:"DatePickerMonthRange"}),txe=Z({...exe,props:Q6e,emits:Z6e,setup(t,{emit:e}){const n=t,{lang:s}=fn(),r=Le("EP_PICKER_BASE"),{shortcuts:a,disabledDate:o}=r.props,i=Nn(r.props,"format"),l=Nn(r.props,"defaultValue"),u=B(Pt().locale(s.value)),c=B(Pt().locale(s.value).add(1,Wb)),{minDate:d,maxDate:h,rangeState:f,ppNs:p,drpNs:m,handleChangeRange:y,handleRangeConfirm:v,handleShortcutClick:b,onSelect:w}=LU(n,{defaultValue:l,leftDate:u,rightDate:c,unit:Wb,onParsedValueChanged:G}),_=D(()=>!!a.length),{leftPrevYear:C,rightNextYear:x,leftNextYear:T,rightPrevYear:k,leftLabel:N,rightLabel:O,leftYear:L,rightYear:V}=J6e({unlinkPanels:Nn(n,"unlinkPanels"),leftDate:u,rightDate:c}),H=D(()=>n.unlinkPanels&&V.value>L.value+1),K=(P,j=!0)=>{const J=P.minDate,ne=P.maxDate;h.value===ne&&d.value===J||(e("calendar-change",[J.toDate(),ne&&ne.toDate()]),h.value=ne,d.value=J,j&&v())},U=()=>{u.value=V5(g(l),{lang:g(s),unit:"year",unlinkPanels:n.unlinkPanels})[0],c.value=u.value.add(1,"year"),e("pick",null)},R=P=>Mt(P)?P.map(j=>j.format(i.value)):P.format(i.value),W=P=>Mt(P)?P.map(j=>Pt(j,i.value).locale(s.value)):Pt(P,i.value).locale(s.value);function G(P,j){if(n.unlinkPanels&&j){const J=(P==null?void 0:P.year())||0,ne=j.year();c.value=J===ne?j.add(1,Wb):j}else c.value=u.value.add(1,Wb)}return e("set-picker-option",["isValidValue",qp]),e("set-picker-option",["formatToString",R]),e("set-picker-option",["parseUserInput",W]),e("set-picker-option",["handleClear",U]),(P,j)=>(S(),A("div",{class:q([g(p).b(),g(m).b(),{"has-sidebar":!!P.$slots.sidebar||g(_)}])},[I("div",{class:q(g(p).e("body-wrapper"))},[oe(P.$slots,"sidebar",{class:q(g(p).e("sidebar"))}),g(_)?(S(),A("div",{key:0,class:q(g(p).e("sidebar"))},[(S(!0),A(He,null,Ut(g(a),(J,ne)=>(S(),A("button",{key:ne,type:"button",class:q(g(p).e("shortcut")),onClick:te=>g(b)(J)},Me(J.text),11,["onClick"]))),128))],2)):ce("v-if",!0),I("div",{class:q(g(p).e("body"))},[I("div",{class:q([[g(p).e("content"),g(m).e("content")],"is-left"])},[I("div",{class:q(g(m).e("header"))},[I("button",{type:"button",class:q([g(p).e("icon-btn"),"d-arrow-left"]),onClick:g(C)},[oe(P.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["onClick"]),P.unlinkPanels?(S(),A("button",{key:0,type:"button",disabled:!g(H),class:q([[g(p).e("icon-btn"),{[g(p).is("disabled")]:!g(H)}],"d-arrow-right"]),onClick:g(T)},[oe(P.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),I("div",null,Me(g(N)),1)],2),$(tT,{"selection-mode":"range",date:u.value,"min-date":g(d),"max-date":g(h),"range-state":g(f),"disabled-date":g(o),onChangerange:g(y),onPick:K,onSelect:g(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),I("div",{class:q([[g(p).e("content"),g(m).e("content")],"is-right"])},[I("div",{class:q(g(m).e("header"))},[P.unlinkPanels?(S(),A("button",{key:0,type:"button",disabled:!g(H),class:q([[g(p).e("icon-btn"),{"is-disabled":!g(H)}],"d-arrow-left"]),onClick:g(k)},[oe(P.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),I("button",{type:"button",class:q([g(p).e("icon-btn"),"d-arrow-right"]),onClick:g(x)},[oe(P.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["onClick"]),I("div",null,Me(g(O)),1)],2),$(tT,{"selection-mode":"range",date:c.value,"min-date":g(d),"max-date":g(h),"range-state":g(f),"disabled-date":g(o),onChangerange:g(y),onPick:K,onSelect:g(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var nxe=Xe(txe,[["__file","panel-month-range.vue"]]);const sxe=qe({...B5}),rxe=["pick","set-picker-option","calendar-change"],axe=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const s=()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},r=()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},a=()=>{e.value=e.value.add(10,"year")},o=()=>{n.value=n.value.subtract(10,"year")},i=D(()=>{const d=Math.floor(e.value.year()/10)*10;return`${d}-${d+9}`}),l=D(()=>{const d=Math.floor(n.value.year()/10)*10;return`${d}-${d+9}`}),u=D(()=>Math.floor(e.value.year()/10)*10+9),c=D(()=>Math.floor(n.value.year()/10)*10);return{leftPrevYear:s,rightNextYear:r,leftNextYear:a,rightPrevYear:o,leftLabel:i,rightLabel:l,leftYear:u,rightYear:c}},JR="year",oxe=Z({name:"DatePickerYearRange"}),ixe=Z({...oxe,props:sxe,emits:rxe,setup(t,{emit:e}){const n=t,{lang:s}=fn(),r=B(Pt().locale(s.value)),a=B(r.value.add(10,"year")),{pickerNs:o}=Le(dw),i=Fe("date-range-picker"),l=D(()=>!!K.length),u=D(()=>[o.b(),i.b(),{"has-sidebar":!!xr().sidebar||l.value}]),c=D(()=>({content:[o.e("content"),i.e("content"),"is-left"],arrowLeftBtn:[o.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),{[o.is("disabled")]:!C.value},"d-arrow-right"]})),d=D(()=>({content:[o.e("content"),i.e("content"),"is-right"],arrowLeftBtn:[o.e("icon-btn"),{"is-disabled":!C.value},"d-arrow-left"],arrowRightBtn:[o.e("icon-btn"),"d-arrow-right"]})),h=RU(s),{leftPrevYear:f,rightNextYear:p,leftNextYear:m,rightPrevYear:y,leftLabel:v,rightLabel:b,leftYear:w,rightYear:_}=axe({unlinkPanels:Nn(n,"unlinkPanels"),leftDate:r,rightDate:a}),C=D(()=>n.unlinkPanels&&_.value>w.value+1),x=B(),T=B(),k=B({endDate:null,selecting:!1}),N=te=>{k.value=te},O=(te,de=!0)=>{const me=te.minDate,_e=te.maxDate;T.value===_e&&x.value===me||(e("calendar-change",[me.toDate(),_e&&_e.toDate()]),T.value=_e,x.value=me,de&&L())},L=(te=!1)=>{qp([x.value,T.value])&&e("pick",[x.value,T.value],te)},V=te=>{k.value.selecting=te,te||(k.value.endDate=null)},H=Le("EP_PICKER_BASE"),{shortcuts:K,disabledDate:U}=H.props,R=Nn(H.props,"format"),W=Nn(H.props,"defaultValue"),G=()=>{let te;if(Mt(W.value)){const de=Pt(W.value[0]);let me=Pt(W.value[1]);return n.unlinkPanels||(me=de.add(10,JR)),[de,me]}else W.value?te=Pt(W.value):te=Pt();return te=te.locale(s.value),[te,te.add(10,JR)]};Ee(()=>W.value,te=>{if(te){const de=G();r.value=de[0],a.value=de[1]}},{immediate:!0}),Ee(()=>n.parsedValue,te=>{if(te&&te.length===2)if(x.value=te[0],T.value=te[1],r.value=x.value,n.unlinkPanels&&T.value){const de=x.value.year(),me=T.value.year();a.value=de===me?T.value.add(10,"year"):T.value}else a.value=r.value.add(10,"year");else{const de=G();x.value=void 0,T.value=void 0,r.value=de[0],a.value=de[1]}},{immediate:!0});const P=te=>Mt(te)?te.map(de=>Pt(de,R.value).locale(s.value)):Pt(te,R.value).locale(s.value),j=te=>Mt(te)?te.map(de=>de.format(R.value)):te.format(R.value),J=te=>qp(te)&&(U?!U(te[0].toDate())&&!U(te[1].toDate()):!0),ne=()=>{const te=G();r.value=te[0],a.value=te[1],T.value=void 0,x.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",J]),e("set-picker-option",["parseUserInput",P]),e("set-picker-option",["formatToString",j]),e("set-picker-option",["handleClear",ne]),(te,de)=>(S(),A("div",{class:q(g(u))},[I("div",{class:q(g(o).e("body-wrapper"))},[oe(te.$slots,"sidebar",{class:q(g(o).e("sidebar"))}),g(l)?(S(),A("div",{key:0,class:q(g(o).e("sidebar"))},[(S(!0),A(He,null,Ut(g(K),(me,_e)=>(S(),A("button",{key:_e,type:"button",class:q(g(o).e("shortcut")),onClick:ee=>g(h)(me)},Me(me.text),11,["onClick"]))),128))],2)):ce("v-if",!0),I("div",{class:q(g(o).e("body"))},[I("div",{class:q(g(c).content)},[I("div",{class:q(g(i).e("header"))},[I("button",{type:"button",class:q(g(c).arrowLeftBtn),onClick:g(f)},[oe(te.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["onClick"]),te.unlinkPanels?(S(),A("button",{key:0,type:"button",disabled:!g(C),class:q(g(c).arrowRightBtn),onClick:g(m)},[oe(te.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),I("div",null,Me(g(v)),1)],2),$(nT,{"selection-mode":"range",date:r.value,"min-date":x.value,"max-date":T.value,"range-state":k.value,"disabled-date":g(U),onChangerange:N,onPick:O,onSelect:V},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),I("div",{class:q(g(d).content)},[I("div",{class:q(g(i).e("header"))},[te.unlinkPanels?(S(),A("button",{key:0,type:"button",disabled:!g(C),class:q(g(d).arrowLeftBtn),onClick:g(y)},[oe(te.$slots,"prev-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Qc))]),_:1})])],10,["disabled","onClick"])):ce("v-if",!0),I("button",{type:"button",class:q(g(d).arrowRightBtn),onClick:g(p)},[oe(te.$slots,"next-year",{},()=>[$(g(Je),null,{default:se(()=>[$(g(Zc))]),_:1})])],10,["onClick"]),I("div",null,Me(g(b)),1)],2),$(nT,{"selection-mode":"range",date:a.value,"min-date":x.value,"max-date":T.value,"range-state":k.value,"disabled-date":g(U),onChangerange:N,onPick:O,onSelect:V},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var lxe=Xe(ixe,[["__file","panel-year-range.vue"]]);const uxe=function(t){switch(t){case"daterange":case"datetimerange":return Y6e;case"monthrange":return nxe;case"yearrange":return lxe;default:return q6e}};Pt.extend(nU);Pt.extend(w6e);Pt.extend(D5);Pt.extend(C6e);Pt.extend(T6e);Pt.extend($6e);Pt.extend(I6e);Pt.extend(A6e);var cxe=Z({name:"ElDatePicker",install:null,props:D6e,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:s}){const r=Fe("picker-panel");At("ElPopperOptions",an(Nn(t,"popperOptions"))),At(dw,{slots:s,pickerNs:r});const a=B();e({focus:(l=!0)=>{var u;(u=a.value)==null||u.focus(l)},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const i=l=>{n("update:modelValue",l)};return()=>{var l;const u=(l=t.format)!=null?l:Z_e[t.type]||ip,c=uxe(t.type);return $(UH,Kt(t,{format:u,type:t.type,ref:a,"onUpdate:modelValue":i}),{default:d=>$(c,d,{"prev-month":s["prev-month"],"next-month":s["next-month"],"prev-year":s["prev-year"],"next-year":s["next-year"]}),"range-separator":s["range-separator"]})}}});const Tp=Ft(cxe),U5=Symbol("elDescriptions");var Og=Z({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Le(U5,{})}},render(){var t,e,n,s,r,a,o;const i=o2e(this.cell),l=(((t=this.cell)==null?void 0:t.dirs)||[]).map(C=>{const{dir:x,arg:T,modifiers:k,value:N}=C;return[x,N,T,k]}),{border:u,direction:c}=this.descriptions,d=c==="vertical",h=((s=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:s.call(n))||i.label,f=(o=(a=(r=this.cell)==null?void 0:r.children)==null?void 0:a.default)==null?void 0:o.call(a),p=i.span,m=i.align?`is-${i.align}`:"",y=i.labelAlign?`is-${i.labelAlign}`:m,v=i.className,b=i.labelClassName,w={width:Es(i.width),minWidth:Es(i.minWidth)},_=Fe("descriptions");switch(this.type){case"label":return zt(pt(this.tag,{style:w,class:[_.e("cell"),_.e("label"),_.is("bordered-label",u),_.is("vertical-label",d),y,b],colSpan:d?p:1},h),l);case"content":return zt(pt(this.tag,{style:w,class:[_.e("cell"),_.e("content"),_.is("bordered-content",u),_.is("vertical-content",d),m,v],colSpan:d?p:p*2-1},f),l);default:return zt(pt("td",{style:w,class:[_.e("cell"),m],colSpan:p},[Lr(h)?void 0:pt("span",{class:[_.e("label"),b]},h),pt("span",{class:[_.e("content"),v]},f)]),l)}}});const dxe=qe({row:{type:ve(Array),default:()=>[]}}),hxe=Z({name:"ElDescriptionsRow"}),fxe=Z({...hxe,props:dxe,setup(t){const e=Le(U5,{});return(n,s)=>g(e).direction==="vertical"?(S(),A(He,{key:0},[I("tr",null,[(S(!0),A(He,null,Ut(n.row,(r,a)=>(S(),be(g(Og),{key:`tr1-${a}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),I("tr",null,[(S(!0),A(He,null,Ut(n.row,(r,a)=>(S(),be(g(Og),{key:`tr2-${a}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(S(),A("tr",{key:1},[(S(!0),A(He,null,Ut(n.row,(r,a)=>(S(),A(He,{key:`tr3-${a}`},[g(e).border?(S(),A(He,{key:0},[$(g(Og),{cell:r,tag:"td",type:"label"},null,8,["cell"]),$(g(Og),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(S(),be(g(Og),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var pxe=Xe(fxe,[["__file","descriptions-row.vue"]]);const mxe=qe({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:_r,title:{type:String,default:""},extra:{type:String,default:""}}),gxe=Z({name:"ElDescriptions"}),vxe=Z({...gxe,props:mxe,setup(t){const e=t,n=Fe("descriptions"),s=or(),r=xr();At(U5,e);const a=D(()=>[n.b(),n.m(s.value)]),o=(l,u,c,d=!1)=>(l.props||(l.props={}),u>c&&(l.props.span=c),d&&(l.props.span=u),l),i=()=>{if(!r.default)return[];const l=zc(r.default()).filter(f=>{var p;return((p=f==null?void 0:f.type)==null?void 0:p.name)==="ElDescriptionsItem"}),u=[];let c=[],d=e.column,h=0;return l.forEach((f,p)=>{var m;const y=((m=f.props)==null?void 0:m.span)||1;if(p<l.length-1&&(h+=y>d?d:y),p===l.length-1){const v=e.column-h%e.column;c.push(o(f,v,d,!0)),u.push(c);return}y<d?(d-=y,c.push(f)):(c.push(o(f,y,d)),u.push(c),d=e.column,c=[])}),u};return(l,u)=>(S(),A("div",{class:q(g(a))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(S(),A("div",{key:0,class:q(g(n).e("header"))},[I("div",{class:q(g(n).e("title"))},[oe(l.$slots,"title",{},()=>[ct(Me(l.title),1)])],2),I("div",{class:q(g(n).e("extra"))},[oe(l.$slots,"extra",{},()=>[ct(Me(l.extra),1)])],2)],2)):ce("v-if",!0),I("div",{class:q(g(n).e("body"))},[I("table",{class:q([g(n).e("table"),g(n).is("bordered",l.border)])},[I("tbody",null,[(S(!0),A(He,null,Ut(i(),(c,d)=>(S(),be(pxe,{key:d,row:c},null,8,["row"]))),128))])],2)],2)],2))}});var yxe=Xe(vxe,[["__file","description.vue"]]);const bxe=qe({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),PU=Z({name:"ElDescriptionsItem",props:bxe}),_xe=Ft(yxe,{DescriptionsItem:PU}),wxe=gs(PU),xxe=qe({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:ve([String,Array,Object])},zIndex:{type:ve([String,Number])}}),Cxe={click:t=>t instanceof MouseEvent},Sxe="overlay";var Txe=Z({name:"ElOverlay",props:xxe,emits:Cxe,setup(t,{slots:e,emit:n}){const s=Fe(Sxe),r=l=>{n("click",l)},{onClick:a,onMousedown:o,onMouseup:i}=m5(t.customMaskEvent?void 0:r);return()=>t.mask?$("div",{class:[s.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:o,onMouseup:i},[oe(e,"default")],di.STYLE|di.CLASS|di.PROPS,["onClick","onMouseup","onMousedown"]):pt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[oe(e,"default")])}});const W5=Txe,MU=Symbol("dialogInjectionKey"),FU=qe({center:Boolean,alignCenter:Boolean,closeIcon:{type:Gn},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),kxe={close:()=>!0},$xe=Z({name:"ElDialogContent"}),Exe=Z({...$xe,props:FU,emits:kxe,setup(t,{expose:e}){const n=t,{t:s}=fn(),{Close:r}=e5,{dialogRef:a,headerRef:o,bodyId:i,ns:l,style:u}=Le(MU),{focusTrapRef:c}=Le(I5),d=D(()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}]),h=X4(c,a),f=D(()=>n.draggable),p=D(()=>n.overflow),{resetPostion:m}=OV(a,o,f,p);return e({resetPostion:m}),(y,v)=>(S(),A("div",{ref:g(h),class:q(g(d)),style:yt(g(u)),tabindex:"-1"},[I("header",{ref_key:"headerRef",ref:o,class:q([g(l).e("header"),{"show-close":y.showClose}])},[oe(y.$slots,"header",{},()=>[I("span",{role:"heading","aria-level":y.ariaLevel,class:q(g(l).e("title"))},Me(y.title),11,["aria-level"])]),y.showClose?(S(),A("button",{key:0,"aria-label":g(s)("el.dialog.close"),class:q(g(l).e("headerbtn")),type:"button",onClick:b=>y.$emit("close")},[$(g(Je),{class:q(g(l).e("close"))},{default:se(()=>[(S(),be(Gt(y.closeIcon||g(r))))]),_:1},8,["class"])],10,["aria-label","onClick"])):ce("v-if",!0)],2),I("div",{id:g(i),class:q(g(l).e("body"))},[oe(y.$slots,"default")],10,["id"]),y.$slots.footer?(S(),A("footer",{key:0,class:q(g(l).e("footer"))},[oe(y.$slots,"footer")],2)):ce("v-if",!0)],6))}});var Ixe=Xe(Exe,[["__file","dialog-content.vue"]]);const BU=qe({...FU,appendToBody:Boolean,appendTo:{type:ve([String,Object]),default:"body"},beforeClose:{type:ve(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),zU={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Yt]:t=>Ms(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},VU=(t,e)=>{var n;const r=Ht().emit,{nextZIndex:a}=P0();let o="";const i=pa(),l=pa(),u=B(!1),c=B(!1),d=B(!1),h=B((n=t.zIndex)!=null?n:a());let f,p;const m=nw("namespace",T2),y=D(()=>{const U={},R=`--${m.value}-dialog`;return t.fullscreen||(t.top&&(U[`${R}-margin-top`]=t.top),t.width&&(U[`${R}-width`]=Es(t.width))),U}),v=D(()=>t.alignCenter?{display:"flex"}:{});function b(){r("opened")}function w(){r("closed"),r(Yt,!1),t.destroyOnClose&&(d.value=!1)}function _(){r("close")}function C(){p==null||p(),f==null||f(),t.openDelay&&t.openDelay>0?{stop:f}=Ih(()=>N(),t.openDelay):N()}function x(){f==null||f(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=Ih(()=>O(),t.closeDelay):O()}function T(){function U(R){R||(c.value=!0,u.value=!1)}t.beforeClose?t.beforeClose(U):x()}function k(){t.closeOnClickModal&&T()}function N(){hn&&(u.value=!0)}function O(){u.value=!1}function L(){r("openAutoFocus")}function V(){r("closeAutoFocus")}function H(U){var R;((R=U.detail)==null?void 0:R.focusReason)==="pointer"&&U.preventDefault()}t.lockScroll&&o5(u);function K(){t.closeOnPressEscape&&T()}return Ee(()=>t.modelValue,U=>{U?(c.value=!1,C(),d.value=!0,h.value=wV(t.zIndex)?a():h.value++,it(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):u.value&&x()}),Ee(()=>t.fullscreen,U=>{e.value&&(U?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)}),Et(()=>{t.modelValue&&(u.value=!0,d.value=!0,C())}),{afterEnter:b,afterLeave:w,beforeLeave:_,handleClose:T,onModalClick:k,close:x,doClose:O,onOpenAutoFocus:L,onCloseAutoFocus:V,onCloseRequested:K,onFocusoutPrevented:H,titleId:i,bodyId:l,closed:c,style:y,overlayDialogStyle:v,rendered:d,visible:u,zIndex:h}},Nxe=Z({name:"ElDialog",inheritAttrs:!1}),Axe=Z({...Nxe,props:BU,emits:zU,setup(t,{expose:e}){const n=t,s=xr();Vc({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},D(()=>!!s.title));const r=Fe("dialog"),a=B(),o=B(),i=B(),{visible:l,titleId:u,bodyId:c,style:d,overlayDialogStyle:h,rendered:f,zIndex:p,afterEnter:m,afterLeave:y,beforeLeave:v,handleClose:b,onModalClick:w,onOpenAutoFocus:_,onCloseAutoFocus:C,onCloseRequested:x,onFocusoutPrevented:T}=VU(n,a);At(MU,{dialogRef:a,headerRef:o,bodyId:c,ns:r,rendered:f,style:d});const k=m5(w),N=D(()=>n.draggable&&!n.fullscreen);return e({visible:l,dialogContentRef:i,resetPostion:()=>{i.value.resetPostion()}}),(L,V)=>(S(),be(g(F0),{to:L.appendTo,disabled:L.appendTo!=="body"?!1:!L.appendToBody},{default:se(()=>[$(ar,{name:"dialog-fade",onAfterEnter:g(m),onAfterLeave:g(y),onBeforeLeave:g(v),persisted:""},{default:se(()=>[zt($(g(W5),{"custom-mask-event":"",mask:L.modal,"overlay-class":L.modalClass,"z-index":g(p)},{default:se(()=>[I("div",{role:"dialog","aria-modal":"true","aria-label":L.title||void 0,"aria-labelledby":L.title?void 0:g(u),"aria-describedby":g(c),class:q(`${g(r).namespace.value}-overlay-dialog`),style:yt(g(h)),onClick:g(k).onClick,onMousedown:g(k).onMousedown,onMouseup:g(k).onMouseup},[$(g(iv),{loop:"",trapped:g(l),"focus-start-el":"container",onFocusAfterTrapped:g(_),onFocusAfterReleased:g(C),onFocusoutPrevented:g(T),onReleaseRequested:g(x)},{default:se(()=>[g(f)?(S(),be(Ixe,Kt({key:0,ref_key:"dialogContentRef",ref:i},L.$attrs,{center:L.center,"align-center":L.alignCenter,"close-icon":L.closeIcon,draggable:g(N),overflow:L.overflow,fullscreen:L.fullscreen,"show-close":L.showClose,title:L.title,"aria-level":L.headerAriaLevel,onClose:g(b)}),Ei({header:se(()=>[L.$slots.title?oe(L.$slots,"title",{key:1}):oe(L.$slots,"header",{key:0,close:g(b),titleId:g(u),titleClass:g(r).e("title")})]),default:se(()=>[oe(L.$slots,"default")]),_:2},[L.$slots.footer?{name:"footer",fn:se(()=>[oe(L.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):ce("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[gn,g(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Dxe=Xe(Axe,[["__file","dialog.vue"]]);const HU=Ft(Dxe),Oxe=qe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:ve(String),default:"solid"}}),Rxe=Z({name:"ElDivider"}),Lxe=Z({...Rxe,props:Oxe,setup(t){const e=t,n=Fe("divider"),s=D(()=>n.cssVar({"border-style":e.borderStyle}));return(r,a)=>(S(),A("div",{class:q([g(n).b(),g(n).m(r.direction)]),style:yt(g(s)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(S(),A("div",{key:0,class:q([g(n).e("text"),g(n).is(r.contentPosition)])},[oe(r.$slots,"default")],2)):ce("v-if",!0)],6))}});var Pxe=Xe(Lxe,[["__file","divider.vue"]]);const d3=Ft(Pxe),Mxe=qe({...BU,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),Fxe=zU,Bxe=Z({name:"ElDrawer",inheritAttrs:!1}),zxe=Z({...Bxe,props:Mxe,emits:Fxe,setup(t,{expose:e}){const n=t,s=xr();Vc({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},D(()=>!!s.title));const r=B(),a=B(),o=Fe("drawer"),{t:i}=fn(),{afterEnter:l,afterLeave:u,beforeLeave:c,visible:d,rendered:h,titleId:f,bodyId:p,zIndex:m,onModalClick:y,onOpenAutoFocus:v,onCloseAutoFocus:b,onFocusoutPrevented:w,onCloseRequested:_,handleClose:C}=VU(n,r),x=D(()=>n.direction==="rtl"||n.direction==="ltr"),T=D(()=>Es(n.size));return e({handleClose:C,afterEnter:l,afterLeave:u}),(k,N)=>(S(),be(g(F0),{to:k.appendTo,disabled:k.appendTo!=="body"?!1:!k.appendToBody},{default:se(()=>[$(ar,{name:g(o).b("fade"),onAfterEnter:g(l),onAfterLeave:g(u),onBeforeLeave:g(c),persisted:""},{default:se(()=>[zt($(g(W5),{mask:k.modal,"overlay-class":k.modalClass,"z-index":g(m),onClick:g(y)},{default:se(()=>[$(g(iv),{loop:"",trapped:g(d),"focus-trap-el":r.value,"focus-start-el":a.value,onFocusAfterTrapped:g(v),onFocusAfterReleased:g(b),onFocusoutPrevented:g(w),onReleaseRequested:g(_)},{default:se(()=>[I("div",Kt({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":k.title||void 0,"aria-labelledby":k.title?void 0:g(f),"aria-describedby":g(p)},k.$attrs,{class:[g(o).b(),k.direction,g(d)&&"open"],style:g(x)?"width: "+g(T):"height: "+g(T),role:"dialog",onClick:xt(()=>{},["stop"])}),[I("span",{ref_key:"focusStartRef",ref:a,class:q(g(o).e("sr-focus")),tabindex:"-1"},null,2),k.withHeader?(S(),A("header",{key:0,class:q(g(o).e("header"))},[k.$slots.title?oe(k.$slots,"title",{key:1},()=>[ce(" DEPRECATED SLOT ")]):oe(k.$slots,"header",{key:0,close:g(C),titleId:g(f),titleClass:g(o).e("title")},()=>[k.$slots.title?ce("v-if",!0):(S(),A("span",{key:0,id:g(f),role:"heading","aria-level":k.headerAriaLevel,class:q(g(o).e("title"))},Me(k.title),11,["id","aria-level"]))]),k.showClose?(S(),A("button",{key:2,"aria-label":g(i)("el.drawer.close"),class:q(g(o).e("close-btn")),type:"button",onClick:g(C)},[$(g(Je),{class:q(g(o).e("close"))},{default:se(()=>[$(g(ol))]),_:1},8,["class"])],10,["aria-label","onClick"])):ce("v-if",!0)],2)):ce("v-if",!0),g(h)?(S(),A("div",{key:1,id:g(p),class:q(g(o).e("body"))},[oe(k.$slots,"default")],10,["id"])):ce("v-if",!0),k.$slots.footer?(S(),A("div",{key:2,class:q(g(o).e("footer"))},[oe(k.$slots,"footer")],2)):ce("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[gn,g(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Vxe=Xe(zxe,[["__file","drawer.vue"]]);const j5=Ft(Vxe),Hxe=Z({inheritAttrs:!1});function Uxe(t,e,n,s,r,a){return oe(t.$slots,"default")}var Wxe=Xe(Hxe,[["render",Uxe],["__file","collection.vue"]]);const jxe=Z({name:"ElCollectionItem",inheritAttrs:!1});function Gxe(t,e,n,s,r,a){return oe(t.$slots,"default")}var qxe=Xe(jxe,[["render",Gxe],["__file","collection-item.vue"]]);const UU="data-el-collection-item",WU=t=>{const e=`El${t}Collection`,n=`${e}Item`,s=Symbol(e),r=Symbol(n),a={...Wxe,name:e,setup(){const i=B(null),l=new Map;At(s,{itemMap:l,getItems:()=>{const c=g(i);if(!c)return[];const d=Array.from(c.querySelectorAll(`[${UU}]`));return[...l.values()].sort((f,p)=>d.indexOf(f.ref)-d.indexOf(p.ref))},collectionRef:i})}},o={...qxe,name:n,setup(i,{attrs:l}){const u=B(null),c=Le(s,void 0);At(r,{collectionItemRef:u}),Et(()=>{const d=g(u);d&&c.itemMap.set(d,{ref:d,...l})}),ts(()=>{const d=g(u);c.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:s,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:a,ElCollectionItem:o}},Kxe=qe({style:{type:ve([String,Array,Object])},currentTabId:{type:ve(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:ve(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Xxe,ElCollectionItem:Yxe,COLLECTION_INJECTION_KEY:G5,COLLECTION_ITEM_INJECTION_KEY:Qxe}=WU("RovingFocusGroup"),q5=Symbol("elRovingFocusGroup"),jU=Symbol("elRovingFocusGroupItem"),Zxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Jxe=(t,e)=>{if(e!=="rtl")return t;switch(t){case gt.right:return gt.left;case gt.left:return gt.right;default:return t}},e8e=(t,e,n)=>{const s=Jxe(t.key,n);if(!(e==="vertical"&&[gt.left,gt.right].includes(s))&&!(e==="horizontal"&&[gt.up,gt.down].includes(s)))return Zxe[s]},t8e=(t,e)=>t.map((n,s)=>t[(s+e)%t.length]),K5=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},eL="currentTabIdChange",tL="rovingFocusGroup.entryFocus",n8e={bubbles:!1,cancelable:!0},s8e=Z({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Kxe,emits:[eL,"entryFocus"],setup(t,{emit:e}){var n;const s=B((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),r=B(!1),a=B(!1),o=B(null),{getItems:i}=Le(G5,void 0),l=D(()=>[{outline:"none"},t.style]),u=m=>{e(eL,m)},c=()=>{r.value=!0},d=Cs(m=>{var y;(y=t.onMousedown)==null||y.call(t,m)},()=>{a.value=!0}),h=Cs(m=>{var y;(y=t.onFocus)==null||y.call(t,m)},m=>{const y=!g(a),{target:v,currentTarget:b}=m;if(v===b&&y&&!g(r)){const w=new Event(tL,n8e);if(b==null||b.dispatchEvent(w),!w.defaultPrevented){const _=i().filter(N=>N.focusable),C=_.find(N=>N.active),x=_.find(N=>N.id===g(s)),k=[C,x,..._].filter(Boolean).map(N=>N.ref);K5(k)}}a.value=!1}),f=Cs(m=>{var y;(y=t.onBlur)==null||y.call(t,m)},()=>{r.value=!1}),p=(...m)=>{e("entryFocus",...m)};At(q5,{currentTabbedId:rf(s),loop:Nn(t,"loop"),tabIndex:D(()=>g(r)?-1:0),rovingFocusGroupRef:o,rovingFocusGroupRootStyle:l,orientation:Nn(t,"orientation"),dir:Nn(t,"dir"),onItemFocus:u,onItemShiftTab:c,onBlur:f,onFocus:h,onMousedown:d}),Ee(()=>t.currentTabId,m=>{s.value=m??null}),Fn(o,tL,p)}});function r8e(t,e,n,s,r,a){return oe(t.$slots,"default")}var a8e=Xe(s8e,[["render",r8e],["__file","roving-focus-group-impl.vue"]]);const o8e=Z({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Xxe,ElRovingFocusGroupImpl:a8e}});function i8e(t,e,n,s,r,a){const o=ht("el-roving-focus-group-impl"),i=ht("el-focus-group-collection");return S(),be(i,null,{default:se(()=>[$(o,vi(Eh(t.$attrs)),{default:se(()=>[oe(t.$slots,"default")]),_:3},16)]),_:3})}var l8e=Xe(o8e,[["render",i8e],["__file","roving-focus-group.vue"]]);const u8e=Z({components:{ElRovingFocusCollectionItem:Yxe},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:s,onItemFocus:r,onItemShiftTab:a}=Le(q5,void 0),{getItems:o}=Le(G5,void 0),i=pa(),l=B(null),u=Cs(f=>{e("mousedown",f)},f=>{t.focusable?r(g(i)):f.preventDefault()}),c=Cs(f=>{e("focus",f)},()=>{r(g(i))}),d=Cs(f=>{e("keydown",f)},f=>{const{key:p,shiftKey:m,target:y,currentTarget:v}=f;if(p===gt.tab&&m){a();return}if(y!==v)return;const b=e8e(f);if(b){f.preventDefault();let _=o().filter(C=>C.focusable).map(C=>C.ref);switch(b){case"last":{_.reverse();break}case"prev":case"next":{b==="prev"&&_.reverse();const C=_.indexOf(v);_=s.value?t8e(_,C+1):_.slice(C+1);break}}it(()=>{K5(_)})}}),h=D(()=>n.value===g(i));return At(jU,{rovingFocusGroupItemRef:l,tabIndex:D(()=>g(h)?0:-1),handleMousedown:u,handleFocus:c,handleKeydown:d}),{id:i,handleKeydown:d,handleFocus:c,handleMousedown:u}}});function c8e(t,e,n,s,r,a){const o=ht("el-roving-focus-collection-item");return S(),be(o,{id:t.id,focusable:t.focusable,active:t.active},{default:se(()=>[oe(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var d8e=Xe(u8e,[["render",c8e],["__file","roving-focus-item.vue"]]);const D_=qe({trigger:s1.trigger,effect:{...Dr.effect,default:"light"},type:{type:ve(String)},placement:{type:ve(String),default:"bottom"},popperOptions:{type:ve(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:ve([Number,String]),default:0},maxHeight:{type:ve([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:ve(Object)},teleported:Dr.teleported}),GU=qe({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Gn}}),h8e=qe({onKeydown:{type:ve(Function)}}),f8e=[gt.down,gt.pageDown,gt.home],qU=[gt.up,gt.pageUp,gt.end],p8e=[...f8e,...qU],{ElCollection:m8e,ElCollectionItem:g8e,COLLECTION_INJECTION_KEY:v8e,COLLECTION_ITEM_INJECTION_KEY:y8e}=WU("Dropdown"),hw=Symbol("elDropdown"),{ButtonGroup:b8e}=Hn,_8e=Z({name:"ElDropdown",components:{ElButton:Hn,ElButtonGroup:b8e,ElScrollbar:vr,ElDropdownCollection:m8e,ElTooltip:ys,ElRovingFocusGroup:l8e,ElOnlyChild:wH,ElIcon:Je,ArrowDown:tc},props:D_,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=Ht(),s=Fe("dropdown"),{t:r}=fn(),a=B(),o=B(),i=B(null),l=B(null),u=B(null),c=B(null),d=B(!1),h=[gt.enter,gt.space,gt.down],f=D(()=>({maxHeight:Es(t.maxHeight)})),p=D(()=>[s.m(C.value)]),m=D(()=>_a(t.trigger)),y=pa().value,v=D(()=>t.id||y);Ee([a,m],([W,G],[P])=>{var j,J,ne;(j=P==null?void 0:P.$el)!=null&&j.removeEventListener&&P.$el.removeEventListener("pointerenter",T),(J=W==null?void 0:W.$el)!=null&&J.removeEventListener&&W.$el.removeEventListener("pointerenter",T),(ne=W==null?void 0:W.$el)!=null&&ne.addEventListener&&G.includes("hover")&&W.$el.addEventListener("pointerenter",T)},{immediate:!0}),ts(()=>{var W,G;(G=(W=a.value)==null?void 0:W.$el)!=null&&G.removeEventListener&&a.value.$el.removeEventListener("pointerenter",T)});function b(){w()}function w(){var W;(W=i.value)==null||W.onClose()}function _(){var W;(W=i.value)==null||W.onOpen()}const C=or();function x(...W){e("command",...W)}function T(){var W,G;(G=(W=a.value)==null?void 0:W.$el)==null||G.focus()}function k(){}function N(){const W=g(l);m.value.includes("hover")&&(W==null||W.focus()),c.value=null}function O(W){c.value=W}function L(W){d.value||(W.preventDefault(),W.stopImmediatePropagation())}function V(){e("visible-change",!0)}function H(W){(W==null?void 0:W.type)==="keydown"&&l.value.focus()}function K(){e("visible-change",!1)}return At(hw,{contentRef:l,role:D(()=>t.role),triggerId:v,isUsingKeyboard:d,onItemEnter:k,onItemLeave:N}),At("elDropdown",{instance:n,dropdownSize:C,handleClick:b,commandHandler:x,trigger:Nn(t,"trigger"),hideOnClick:Nn(t,"hideOnClick")}),{t:r,ns:s,scrollbar:u,wrapStyle:f,dropdownTriggerKls:p,dropdownSize:C,triggerId:v,triggerKeys:h,currentTabId:c,handleCurrentTabIdChange:O,handlerMainButtonClick:W=>{e("click",W)},handleEntryFocus:L,handleClose:w,handleOpen:_,handleBeforeShowTooltip:V,handleShowTooltip:H,handleBeforeHideTooltip:K,onFocusAfterTrapped:W=>{var G,P;W.preventDefault(),(P=(G=l.value)==null?void 0:G.focus)==null||P.call(G,{preventScroll:!0})},popperRef:i,contentRef:l,triggeringElementRef:a,referenceElementRef:o}}});function w8e(t,e,n,s,r,a){var o;const i=ht("el-dropdown-collection"),l=ht("el-roving-focus-group"),u=ht("el-scrollbar"),c=ht("el-only-child"),d=ht("el-tooltip"),h=ht("el-button"),f=ht("arrow-down"),p=ht("el-icon"),m=ht("el-button-group");return S(),A("div",{class:q([t.ns.b(),t.ns.is("disabled",t.disabled)])},[$(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(o=t.referenceElementRef)==null?void 0:o.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},Ei({content:se(()=>[$(u,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:se(()=>[$(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:se(()=>[$(i,null,{default:se(()=>[oe(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:se(()=>[$(c,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:se(()=>[oe(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(S(),be(m,{key:0},{default:se(()=>[$(h,Kt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:se(()=>[oe(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),$(h,Kt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:se(()=>[$(p,{class:q(t.ns.e("icon"))},{default:se(()=>[$(f)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):ce("v-if",!0)],2)}var x8e=Xe(_8e,[["render",w8e],["__file","dropdown.vue"]]);const C8e=Z({name:"DropdownItemImpl",components:{ElIcon:Je},props:GU,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Fe("dropdown"),{role:s}=Le(hw,void 0),{collectionItemRef:r}=Le(y8e,void 0),{collectionItemRef:a}=Le(Qxe,void 0),{rovingFocusGroupItemRef:o,tabIndex:i,handleFocus:l,handleKeydown:u,handleMousedown:c}=Le(jU,void 0),d=X4(r,a,o),h=D(()=>s.value==="menu"?"menuitem":s.value==="navigation"?"link":"button"),f=Cs(p=>{const{code:m}=p;if(m===gt.enter||m===gt.space)return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},u);return{ns:n,itemRef:d,dataset:{[UU]:""},role:h,tabIndex:i,handleFocus:l,handleKeydown:f,handleMousedown:c}}});function S8e(t,e,n,s,r,a){const o=ht("el-icon");return S(),A(He,null,[t.divided?(S(),A("li",Kt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):ce("v-if",!0),I("li",Kt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:i=>t.$emit("clickimpl",i),onFocus:t.handleFocus,onKeydown:xt(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:i=>t.$emit("pointermove",i),onPointerleave:i=>t.$emit("pointerleave",i)}),[t.icon?(S(),be(o,{key:0},{default:se(()=>[(S(),be(Gt(t.icon)))]),_:1})):ce("v-if",!0),oe(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var T8e=Xe(C8e,[["render",S8e],["__file","dropdown-item-impl.vue"]]);const KU=()=>{const t=Le("elDropdown",{}),e=D(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},k8e=Z({name:"ElDropdownItem",components:{ElDropdownCollectionItem:g8e,ElRovingFocusItem:d8e,ElDropdownItemImpl:T8e},inheritAttrs:!1,props:GU,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:s}=KU(),r=Ht(),a=B(null),o=D(()=>{var f,p;return(p=(f=g(a))==null?void 0:f.textContent)!=null?p:""}),{onItemEnter:i,onItemLeave:l}=Le(hw,void 0),u=Cs(f=>(e("pointermove",f),f.defaultPrevented),Y7(f=>{if(t.disabled){l(f);return}const p=f.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(i(f),f.defaultPrevented||p==null||p.focus())})),c=Cs(f=>(e("pointerleave",f),f.defaultPrevented),Y7(l)),d=Cs(f=>{if(!t.disabled)return e("click",f),f.type!=="keydown"&&f.defaultPrevented},f=>{var p,m,y;if(t.disabled){f.stopImmediatePropagation();return}(p=s==null?void 0:s.hideOnClick)!=null&&p.value&&((m=s.handleClick)==null||m.call(s)),(y=s.commandHandler)==null||y.call(s,t.command,r,f)}),h=D(()=>({...t,...n}));return{handleClick:d,handlePointerMove:u,handlePointerLeave:c,textContent:o,propsAndAttrs:h}}});function $8e(t,e,n,s,r,a){var o;const i=ht("el-dropdown-item-impl"),l=ht("el-roving-focus-item"),u=ht("el-dropdown-collection-item");return S(),be(u,{disabled:t.disabled,"text-value":(o=t.textValue)!=null?o:t.textContent},{default:se(()=>[$(l,{focusable:!t.disabled},{default:se(()=>[$(i,Kt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:se(()=>[oe(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var XU=Xe(k8e,[["render",$8e],["__file","dropdown-item.vue"]]);const E8e=Z({name:"ElDropdownMenu",props:h8e,setup(t){const e=Fe("dropdown"),{_elDropdownSize:n}=KU(),s=n.value,{focusTrapRef:r,onKeydown:a}=Le(I5,void 0),{contentRef:o,role:i,triggerId:l}=Le(hw,void 0),{collectionRef:u,getItems:c}=Le(v8e,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:h,tabIndex:f,onBlur:p,onFocus:m,onMousedown:y}=Le(q5,void 0),{collectionRef:v}=Le(G5,void 0),b=D(()=>[e.b("menu"),e.bm("menu",s==null?void 0:s.value)]),w=X4(o,u,r,d,v),_=Cs(x=>{var T;(T=t.onKeydown)==null||T.call(t,x)},x=>{const{currentTarget:T,code:k,target:N}=x;if(T.contains(N),gt.tab===k&&x.stopImmediatePropagation(),x.preventDefault(),N!==g(o)||!p8e.includes(k))return;const L=c().filter(V=>!V.disabled).map(V=>V.ref);qU.includes(k)&&L.reverse(),K5(L)});return{size:s,rovingFocusGroupRootStyle:h,tabIndex:f,dropdownKls:b,role:i,triggerId:l,dropdownListWrapperRef:w,handleKeydown:x=>{_(x),a(x)},onBlur:p,onFocus:m,onMousedown:y}}});function I8e(t,e,n,s,r,a){return S(),A("ul",{ref:t.dropdownListWrapperRef,class:q(t.dropdownKls),style:yt(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:xt(t.handleKeydown,["self"]),onMousedown:xt(t.onMousedown,["self"])},[oe(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var YU=Xe(E8e,[["render",I8e],["__file","dropdown-menu.vue"]]);const h3=Ft(x8e,{DropdownItem:XU,DropdownMenu:YU}),ih=gs(XU),f3=gs(YU),N8e=Z({name:"ImgEmpty"}),A8e=Z({...N8e,setup(t){const e=Fe("empty"),n=pa();return(s,r)=>(S(),A("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[I("defs",null,[I("linearGradient",{id:`linearGradient-1-${g(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[I("stop",{"stop-color":`var(${g(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),I("stop",{"stop-color":`var(${g(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),I("linearGradient",{id:`linearGradient-2-${g(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[I("stop",{"stop-color":`var(${g(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),I("stop",{"stop-color":`var(${g(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),I("rect",{id:`path-3-${g(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),I("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[I("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[I("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[I("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${g(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),I("polygon",{id:"Rectangle-Copy-14",fill:`var(${g(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),I("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[I("polygon",{id:"Rectangle-Copy-10",fill:`var(${g(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),I("polygon",{id:"Rectangle-Copy-11",fill:`var(${g(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),I("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${g(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),I("polygon",{id:"Rectangle-Copy-13",fill:`var(${g(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),I("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${g(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),I("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[I("use",{id:"Mask",fill:`var(${g(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${g(n)}`},null,8,["fill","xlink:href"]),I("polygon",{id:"Rectangle-Copy",fill:`var(${g(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${g(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),I("polygon",{id:"Rectangle-Copy-18",fill:`var(${g(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var D8e=Xe(A8e,[["__file","img-empty.vue"]]);const O8e=qe({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),R8e=Z({name:"ElEmpty"}),L8e=Z({...R8e,props:O8e,setup(t){const e=t,{t:n}=fn(),s=Fe("empty"),r=D(()=>e.description||n("el.table.emptyText")),a=D(()=>({width:Es(e.imageSize)}));return(o,i)=>(S(),A("div",{class:q(g(s).b())},[I("div",{class:q(g(s).e("image")),style:yt(g(a))},[o.image?(S(),A("img",{key:0,src:o.image,ondragstart:"return false"},null,8,["src"])):oe(o.$slots,"image",{key:1},()=>[$(D8e)])],6),I("div",{class:q(g(s).e("description"))},[o.$slots.description?oe(o.$slots,"description",{key:0}):(S(),A("p",{key:1},Me(g(r)),1))],2),o.$slots.default?(S(),A("div",{key:0,class:q(g(s).e("bottom"))},[oe(o.$slots,"default")],2)):ce("v-if",!0)],2))}});var P8e=Xe(L8e,[["__file","empty.vue"]]);const fw=Ft(P8e),M8e=qe({urlList:{type:ve(Array),default:()=>hs([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ve(String)}}),F8e={close:()=>!0,switch:t=>Tt(t),rotate:t=>Tt(t)},B8e=Z({name:"ElImageViewer"}),z8e=Z({...B8e,props:M8e,emits:F8e,setup(t,{expose:e,emit:n}){var s;const r=t,a={CONTAIN:{name:"contain",icon:pi(yge)},ORIGINAL:{name:"original",icon:pi(Fge)}},{t:o}=fn(),i=Fe("image-viewer"),{nextZIndex:l}=P0(),u=B(),c=B([]),d=rae(),h=B(!0),f=B(r.initialIndex),p=Jn(a.CONTAIN),m=B({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=B((s=r.zIndex)!=null?s:l()),v=D(()=>{const{urlList:j}=r;return j.length<=1}),b=D(()=>f.value===0),w=D(()=>f.value===r.urlList.length-1),_=D(()=>r.urlList[f.value]),C=D(()=>[i.e("btn"),i.e("prev"),i.is("disabled",!r.infinite&&b.value)]),x=D(()=>[i.e("btn"),i.e("next"),i.is("disabled",!r.infinite&&w.value)]),T=D(()=>{const{scale:j,deg:J,offsetX:ne,offsetY:te,enableTransition:de}=m.value;let me=ne/j,_e=te/j;const ee=J*Math.PI/180,he=Math.cos(ee),le=Math.sin(ee);me=me*he+_e*le,_e=_e*he-ne/j*le;const ue={transform:`scale(${j}) rotate(${J}deg) translate(${me}px, ${_e}px)`,transition:de?"transform .3s":""};return p.value.name===a.CONTAIN.name&&(ue.maxWidth=ue.maxHeight="100%"),ue});function k(){O(),n("close")}function N(){const j=mh(ne=>{switch(ne.code){case gt.esc:r.closeOnPressEscape&&k();break;case gt.space:U();break;case gt.left:W();break;case gt.up:P("zoomIn");break;case gt.right:G();break;case gt.down:P("zoomOut");break}}),J=mh(ne=>{const te=ne.deltaY||ne.deltaX;P(te<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});d.run(()=>{Fn(document,"keydown",j),Fn(document,"wheel",J)})}function O(){d.stop()}function L(){h.value=!1}function V(j){h.value=!1,j.target.alt=o("el.image.error")}function H(j){if(h.value||j.button!==0||!u.value)return;m.value.enableTransition=!1;const{offsetX:J,offsetY:ne}=m.value,te=j.pageX,de=j.pageY,me=mh(ee=>{m.value={...m.value,offsetX:J+ee.pageX-te,offsetY:ne+ee.pageY-de}}),_e=Fn(document,"mousemove",me);Fn(document,"mouseup",()=>{_e()}),j.preventDefault()}function K(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function U(){if(h.value)return;const j=Bp(a),J=Object.values(a),ne=p.value.name,de=(J.findIndex(me=>me.name===ne)+1)%j.length;p.value=a[j[de]],K()}function R(j){const J=r.urlList.length;f.value=(j+J)%J}function W(){b.value&&!r.infinite||R(f.value-1)}function G(){w.value&&!r.infinite||R(f.value+1)}function P(j,J={}){if(h.value)return;const{minScale:ne,maxScale:te}=r,{zoomRate:de,rotateDeg:me,enableTransition:_e}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...J};switch(j){case"zoomOut":m.value.scale>ne&&(m.value.scale=Number.parseFloat((m.value.scale/de).toFixed(3)));break;case"zoomIn":m.value.scale<te&&(m.value.scale=Number.parseFloat((m.value.scale*de).toFixed(3)));break;case"clockwise":m.value.deg+=me,n("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=me,n("rotate",m.value.deg);break}m.value.enableTransition=_e}return Ee(_,()=>{it(()=>{const j=c.value[0];j!=null&&j.complete||(h.value=!0)})}),Ee(f,j=>{K(),n("switch",j)}),Et(()=>{var j,J;N(),(J=(j=u.value)==null?void 0:j.focus)==null||J.call(j)}),e({setActiveItem:R}),(j,J)=>(S(),be(g(F0),{to:"body",disabled:!j.teleported},{default:se(()=>[$(ar,{name:"viewer-fade",appear:""},{default:se(()=>[I("div",{ref_key:"wrapper",ref:u,tabindex:-1,class:q(g(i).e("wrapper")),style:yt({zIndex:y.value})},[I("div",{class:q(g(i).e("mask")),onClick:xt(ne=>j.hideOnClickModal&&k(),["self"])},null,10,["onClick"]),ce(" CLOSE "),I("span",{class:q([g(i).e("btn"),g(i).e("close")]),onClick:k},[$(g(Je),null,{default:se(()=>[$(g(ol))]),_:1})],2),ce(" ARROW "),g(v)?ce("v-if",!0):(S(),A(He,{key:0},[I("span",{class:q(g(C)),onClick:W},[$(g(Je),null,{default:se(()=>[$(g(Yc))]),_:1})],2),I("span",{class:q(g(x)),onClick:G},[$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})],2)],64)),ce(" ACTIONS "),I("div",{class:q([g(i).e("btn"),g(i).e("actions")])},[I("div",{class:q(g(i).e("actions__inner"))},[$(g(Je),{onClick:ne=>P("zoomOut")},{default:se(()=>[$(g(e2e))]),_:1},8,["onClick"]),$(g(Je),{onClick:ne=>P("zoomIn")},{default:se(()=>[$(g(IV))]),_:1},8,["onClick"]),I("i",{class:q(g(i).e("actions__divider"))},null,2),$(g(Je),{onClick:U},{default:se(()=>[(S(),be(Gt(g(p).icon)))]),_:1}),I("i",{class:q(g(i).e("actions__divider"))},null,2),$(g(Je),{onClick:ne=>P("anticlockwise")},{default:se(()=>[$(g(Rge))]),_:1},8,["onClick"]),$(g(Je),{onClick:ne=>P("clockwise")},{default:se(()=>[$(g(Pge))]),_:1},8,["onClick"])],2)],2),ce(" CANVAS "),I("div",{class:q(g(i).e("canvas"))},[(S(!0),A(He,null,Ut(j.urlList,(ne,te)=>zt((S(),A("img",{ref_for:!0,ref:de=>c.value[te]=de,key:ne,src:ne,style:yt(g(T)),class:q(g(i).e("img")),crossorigin:j.crossorigin,onLoad:L,onError:V,onMousedown:H},null,46,["src","crossorigin"])),[[gn,te===f.value]])),128))],2),oe(j.$slots,"default")],6)]),_:3})]),_:3},8,["disabled"]))}});var V8e=Xe(z8e,[["__file","image-viewer.vue"]]);const pw=Ft(V8e),H8e=qe({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:ve([String,Object])},previewSrcList:{type:ve(Array),default:()=>hs([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:ve(String)}}),U8e={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Tt(t),close:()=>!0,show:()=>!0},W8e=Z({name:"ElImage",inheritAttrs:!1}),j8e=Z({...W8e,props:H8e,emits:U8e,setup(t,{emit:e}){const n=t;let s="";const{t:r}=fn(),a=Fe("image"),o=af(),i=D(()=>Z2(Object.entries(o).filter(([G])=>/^(data-|on[A-Z])/i.test(G)||["id","style"].includes(G)))),l=s5({excludeListeners:!0,excludeKeys:D(()=>Object.keys(i.value))}),u=B(),c=B(!1),d=B(!0),h=B(!1),f=B(),p=B(),m=hn&&"loading"in HTMLImageElement.prototype;let y,v;const b=D(()=>[a.e("inner"),_.value&&a.e("preview"),d.value&&a.is("loading")]),w=D(()=>{const{fit:G}=n;return hn&&G?{objectFit:G}:{}}),_=D(()=>{const{previewSrcList:G}=n;return Array.isArray(G)&&G.length>0}),C=D(()=>{const{previewSrcList:G,initialIndex:P}=n;let j=P;return P>G.length-1&&(j=0),j}),x=D(()=>n.loading==="eager"?!1:!m&&n.loading==="lazy"||n.lazy),T=()=>{hn&&(d.value=!0,c.value=!1,u.value=n.src)};function k(G){d.value=!1,c.value=!1,e("load",G)}function N(G){d.value=!1,c.value=!0,e("error",G)}function O(){rde(f.value,p.value)&&(T(),H())}const L=Oz(O,200,!0);async function V(){var G;if(!hn)return;await it();const{scrollContainer:P}=n;qo(P)?p.value=P:qt(P)&&P!==""?p.value=(G=document.querySelector(P))!=null?G:void 0:f.value&&(p.value=K$(f.value)),p.value&&(y=Fn(p,"scroll",L),setTimeout(()=>O(),100))}function H(){!hn||!p.value||!L||(y==null||y(),p.value=void 0)}function K(G){if(G.ctrlKey){if(G.deltaY<0)return G.preventDefault(),!1;if(G.deltaY>0)return G.preventDefault(),!1}}function U(){_.value&&(v=Fn("wheel",K,{passive:!1}),s=document.body.style.overflow,document.body.style.overflow="hidden",h.value=!0,e("show"))}function R(){v==null||v(),document.body.style.overflow=s,h.value=!1,e("close")}function W(G){e("switch",G)}return Ee(()=>n.src,()=>{x.value?(d.value=!0,c.value=!1,H(),V()):T()}),Et(()=>{x.value?V():T()}),(G,P)=>(S(),A("div",Kt({ref_key:"container",ref:f},g(i),{class:[g(a).b(),G.$attrs.class]}),[c.value?oe(G.$slots,"error",{key:0},()=>[I("div",{class:q(g(a).e("error"))},Me(g(r)("el.image.error")),3)]):(S(),A(He,{key:1},[u.value!==void 0?(S(),A("img",Kt({key:0},g(l),{src:u.value,loading:G.loading,style:g(w),class:g(b),crossorigin:G.crossorigin,onClick:U,onLoad:k,onError:N}),null,16,["src","loading","crossorigin"])):ce("v-if",!0),d.value?(S(),A("div",{key:1,class:q(g(a).e("wrapper"))},[oe(G.$slots,"placeholder",{},()=>[I("div",{class:q(g(a).e("placeholder"))},null,2)])],2)):ce("v-if",!0)],64)),g(_)?(S(),A(He,{key:2},[h.value?(S(),be(g(pw),{key:0,"z-index":G.zIndex,"initial-index":g(C),infinite:G.infinite,"zoom-rate":G.zoomRate,"min-scale":G.minScale,"max-scale":G.maxScale,"url-list":G.previewSrcList,crossorigin:G.crossorigin,"hide-on-click-modal":G.hideOnClickModal,teleported:G.previewTeleported,"close-on-press-escape":G.closeOnPressEscape,onClose:R,onSwitch:W},{default:se(()=>[G.$slots.viewer?(S(),A("div",{key:0},[oe(G.$slots,"viewer")])):ce("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):ce("v-if",!0)],64)):ce("v-if",!0)],16))}});var G8e=Xe(j8e,[["__file","image.vue"]]);const mw=Ft(G8e),q8e=qe({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:_r,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||Tt(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),K8e={[ns]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[qa]:t=>Tt(t)||Lr(t),[Yt]:t=>Tt(t)||Lr(t)},X8e=Z({name:"ElInputNumber"}),Y8e=Z({...X8e,props:q8e,emits:K8e,setup(t,{expose:e,emit:n}){const s=t,{t:r}=fn(),a=Fe("input-number"),o=B(),i=an({currentValue:s.modelValue,userInput:null}),{formItem:l}=Na(),u=D(()=>Tt(s.modelValue)&&s.modelValue<=s.min),c=D(()=>Tt(s.modelValue)&&s.modelValue>=s.max),d=D(()=>{const U=v(s.step);return $s(s.precision)?Math.max(v(s.modelValue),U):(U>s.precision,s.precision)}),h=D(()=>s.controls&&s.controlsPosition==="right"),f=or(),p=ao(),m=D(()=>{if(i.userInput!==null)return i.userInput;let U=i.currentValue;if(Lr(U))return"";if(Tt(U)){if(Number.isNaN(U))return"";$s(s.precision)||(U=U.toFixed(s.precision))}return U}),y=(U,R)=>{if($s(R)&&(R=d.value),R===0)return Math.round(U);let W=String(U);const G=W.indexOf(".");if(G===-1||!W.replace(".","").split("")[G+R])return U;const J=W.length;return W.charAt(J-1)==="5"&&(W=`${W.slice(0,Math.max(0,J-1))}6`),Number.parseFloat(Number(W).toFixed(R))},v=U=>{if(Lr(U))return 0;const R=U.toString(),W=R.indexOf(".");let G=0;return W!==-1&&(G=R.length-W-1),G},b=(U,R=1)=>Tt(U)?y(U+s.step*R):i.currentValue,w=()=>{if(s.readonly||p.value||c.value)return;const U=Number(m.value)||0,R=b(U);x(R),n(qa,i.currentValue),H()},_=()=>{if(s.readonly||p.value||u.value)return;const U=Number(m.value)||0,R=b(U,-1);x(R),n(qa,i.currentValue),H()},C=(U,R)=>{const{max:W,min:G,step:P,precision:j,stepStrictly:J,valueOnClear:ne}=s;W<G&&br("InputNumber","min should not be greater than max.");let te=Number(U);if(Lr(U)||Number.isNaN(te))return null;if(U===""){if(ne===null)return null;te=qt(ne)?{min:G,max:W}[ne]:ne}return J&&(te=y(Math.round(te/P)*P,j)),$s(j)||(te=y(te,j)),(te>W||te<G)&&(te=te>W?W:G,R&&n(Yt,te)),te},x=(U,R=!0)=>{var W;const G=i.currentValue,P=C(U);if(!R){n(Yt,P);return}G===P&&U||(i.userInput=null,n(Yt,P),G!==P&&n(ns,P,G),s.validateEvent&&((W=l==null?void 0:l.validate)==null||W.call(l,"change").catch(j=>void 0)),i.currentValue=P)},T=U=>{i.userInput=U;const R=U===""?null:Number(U);n(qa,R),x(R,!1)},k=U=>{const R=U!==""?Number(U):"";(Tt(R)&&!Number.isNaN(R)||U==="")&&x(R),H(),i.userInput=null},N=()=>{var U,R;(R=(U=o.value)==null?void 0:U.focus)==null||R.call(U)},O=()=>{var U,R;(R=(U=o.value)==null?void 0:U.blur)==null||R.call(U)},L=U=>{n("focus",U)},V=U=>{var R;i.userInput=null,n("blur",U),s.validateEvent&&((R=l==null?void 0:l.validate)==null||R.call(l,"blur").catch(W=>void 0))},H=()=>{i.currentValue!==s.modelValue&&(i.currentValue=s.modelValue)},K=U=>{document.activeElement===U.target&&U.preventDefault()};return Ee(()=>s.modelValue,(U,R)=>{const W=C(U,!0);i.userInput===null&&W!==R&&(i.currentValue=W)},{immediate:!0}),Et(()=>{var U;const{min:R,max:W,modelValue:G}=s,P=(U=o.value)==null?void 0:U.input;if(P.setAttribute("role","spinbutton"),Number.isFinite(W)?P.setAttribute("aria-valuemax",String(W)):P.removeAttribute("aria-valuemax"),Number.isFinite(R)?P.setAttribute("aria-valuemin",String(R)):P.removeAttribute("aria-valuemin"),P.setAttribute("aria-valuenow",i.currentValue||i.currentValue===0?String(i.currentValue):""),P.setAttribute("aria-disabled",String(p.value)),!Tt(G)&&G!=null){let j=Number(G);Number.isNaN(j)&&(j=null),n(Yt,j)}P.addEventListener("wheel",K,{passive:!1})}),gd(()=>{var U,R;const W=(U=o.value)==null?void 0:U.input;W==null||W.setAttribute("aria-valuenow",`${(R=i.currentValue)!=null?R:""}`)}),e({focus:N,blur:O}),(U,R)=>(S(),A("div",{class:q([g(a).b(),g(a).m(g(f)),g(a).is("disabled",g(p)),g(a).is("without-controls",!U.controls),g(a).is("controls-right",g(h))]),onDragstart:xt(()=>{},["prevent"])},[U.controls?zt((S(),A("span",{key:0,role:"button","aria-label":g(r)("el.inputNumber.decrease"),class:q([g(a).e("decrease"),g(a).is("disabled",g(u))]),onKeydown:Pn(_,["enter"])},[oe(U.$slots,"decrease-icon",{},()=>[$(g(Je),null,{default:se(()=>[g(h)?(S(),be(g(tc),{key:0})):(S(),be(g(Sge),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[g(u3),_]]):ce("v-if",!0),U.controls?zt((S(),A("span",{key:1,role:"button","aria-label":g(r)("el.inputNumber.increase"),class:q([g(a).e("increase"),g(a).is("disabled",g(c))]),onKeydown:Pn(w,["enter"])},[oe(U.$slots,"increase-icon",{},()=>[$(g(Je),null,{default:se(()=>[g(h)?(S(),be(g(Y$),{key:0})):(S(),be(g($V),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[g(u3),w]]):ce("v-if",!0),$(g(Gs),{id:U.id,ref_key:"input",ref:o,type:"number",step:U.step,"model-value":g(m),placeholder:U.placeholder,readonly:U.readonly,disabled:g(p),size:g(f),max:U.max,min:U.min,name:U.name,"aria-label":U.ariaLabel,"validate-event":!1,onKeydown:[Pn(xt(w,["prevent"]),["up"]),Pn(xt(_,["prevent"]),["down"])],onBlur:V,onFocus:L,onInput:T,onChange:k},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var Q8e=Xe(Y8e,[["__file","input-number.vue"]]);const Kp=Ft(Q8e),Z8e=qe({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Gn}}),J8e={click:t=>t instanceof MouseEvent},eCe=Z({name:"ElLink"}),tCe=Z({...eCe,props:Z8e,emits:J8e,setup(t,{emit:e}){const n=t,s=Fe("link"),r=D(()=>[s.b(),s.m(n.type),s.is("disabled",n.disabled),s.is("underline",n.underline&&!n.disabled)]);function a(o){n.disabled||e("click",o)}return(o,i)=>(S(),A("a",{class:q(g(r)),href:o.disabled||!o.href?void 0:o.href,target:o.disabled||!o.href?void 0:o.target,onClick:a},[o.icon?(S(),be(g(Je),{key:0},{default:se(()=>[(S(),be(Gt(o.icon)))]),_:1})):ce("v-if",!0),o.$slots.default?(S(),A("span",{key:1,class:q(g(s).e("inner"))},[oe(o.$slots,"default")],2)):ce("v-if",!0),o.$slots.icon?oe(o.$slots,"icon",{key:2}):ce("v-if",!0)],10,["href","target"]))}});var nCe=Xe(tCe,[["__file","link.vue"]]);const QU=Ft(nCe);let sCe=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",s=>{let r=!1;switch(s.code){case gt.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case gt.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case gt.tab:{x_(e,"mouseleave");break}case gt.enter:case gt.space:{r=!0,s.currentTarget.click();break}}return r&&(s.preventDefault(),s.stopPropagation()),!1})})}},rCe=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new sCe(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case gt.down:{x_(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case gt.up:{x_(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case gt.tab:{x_(e.currentTarget,"mouseleave");break}case gt.enter:case gt.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},aCe=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(s=>{s.nodeType===1&&new rCe(s,e)})}};const oCe=Z({name:"ElMenuCollapseTransition",setup(){const t=Fe("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,s){yi(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",s()},onAfterEnter(n){ka(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),yo(n,t.m("collapse"))?(ka(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),yi(n,t.m("collapse"))):(yi(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),ka(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){yi(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function iCe(t,e,n,s,r,a){return S(),be(ar,Kt({mode:"out-in"},t.listeners),{default:se(()=>[oe(t.$slots,"default")]),_:3},16)}var lCe=Xe(oCe,[["render",iCe],["__file","menu-collapse-transition.vue"]]);function ZU(t,e){const n=D(()=>{let r=t.parent;const a=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&a.unshift(r.props.index),r=r.parent;return a});return{parentMenu:D(()=>{let r=t.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:n}}function uCe(t){return D(()=>{const n=t.backgroundColor;return n?new RH(n).shade(20).toString():""})}const JU=(t,e)=>{const n=Fe("menu");return D(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":uCe(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},cCe=qe({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Gn},expandOpenIcon:{type:Gn},collapseCloseIcon:{type:Gn},collapseOpenIcon:{type:Gn}}),nC="ElSubMenu";var X5=Z({name:nC,props:cCe,setup(t,{slots:e,expose:n}){const s=Ht(),{indexPath:r,parentMenu:a}=ZU(s,D(()=>t.index)),o=Fe("menu"),i=Fe("sub-menu"),l=Le("rootMenu");l||br(nC,"can not inject root menu");const u=Le(`subMenu:${a.value.uid}`);u||br(nC,"can not inject sub menu");const c=B({}),d=B({});let h;const f=B(!1),p=B(),m=B(null),y=D(()=>k.value==="horizontal"&&b.value?"bottom-start":"right-start"),v=D(()=>k.value==="horizontal"&&b.value||k.value==="vertical"&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?x.value?t.expandOpenIcon:t.expandCloseIcon:tc:t.collapseCloseIcon&&t.collapseOpenIcon?x.value?t.collapseOpenIcon:t.collapseCloseIcon:Ga),b=D(()=>u.level===0),w=D(()=>{const j=t.teleported;return j===void 0?b.value:j}),_=D(()=>l.props.collapse?`${o.namespace.value}-zoom-in-left`:`${o.namespace.value}-zoom-in-top`),C=D(()=>k.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),x=D(()=>l.openedMenus.includes(t.index)),T=D(()=>{let j=!1;return Object.values(c.value).forEach(J=>{J.active&&(j=!0)}),Object.values(d.value).forEach(J=>{J.active&&(j=!0)}),j}),k=D(()=>l.props.mode),N=an({index:t.index,indexPath:r,active:T}),O=JU(l.props,u.level+1),L=D(()=>{var j;return(j=t.popperOffset)!=null?j:l.props.popperOffset}),V=D(()=>{var j;return(j=t.popperClass)!=null?j:l.props.popperClass}),H=D(()=>{var j;return(j=t.showTimeout)!=null?j:l.props.showTimeout}),K=D(()=>{var j;return(j=t.hideTimeout)!=null?j:l.props.hideTimeout}),U=()=>{var j,J,ne;return(ne=(J=(j=m.value)==null?void 0:j.popperRef)==null?void 0:J.popperInstanceRef)==null?void 0:ne.destroy()},R=j=>{j||U()},W=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:r.value,active:T.value})},G=(j,J=H.value)=>{var ne;if(j.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||t.disabled){u.mouseInChild.value=!0;return}u.mouseInChild.value=!0,h==null||h(),{stop:h}=Ih(()=>{l.openMenu(t.index,r.value)},J),w.value&&((ne=a.value.vnode.el)==null||ne.dispatchEvent(new MouseEvent("mouseenter")))}},P=(j=!1)=>{var J;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){u.mouseInChild.value=!1;return}h==null||h(),u.mouseInChild.value=!1,{stop:h}=Ih(()=>!f.value&&l.closeMenu(t.index,r.value),K.value),w.value&&j&&((J=u.handleMouseleave)==null||J.call(u,!0))};Ee(()=>l.props.collapse,j=>R(!!j));{const j=ne=>{d.value[ne.index]=ne},J=ne=>{delete d.value[ne.index]};At(`subMenu:${s.uid}`,{addSubMenu:j,removeSubMenu:J,handleMouseleave:P,mouseInChild:f,level:u.level+1})}return n({opened:x}),Et(()=>{l.addSubMenu(N),u.addSubMenu(N)}),ts(()=>{u.removeSubMenu(N),l.removeSubMenu(N)}),()=>{var j;const J=[(j=e.title)==null?void 0:j.call(e),pt(Je,{class:i.e("icon-arrow"),style:{transform:x.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>qt(v.value)?pt(s.appContext.components[v.value]):pt(v.value)})],ne=l.isMenuPopup?pt(ys,{ref:m,visible:x.value,effect:"light",pure:!0,offset:L.value,showArrow:!1,persistent:!0,popperClass:V.value,placement:y.value,teleported:w.value,fallbackPlacements:C.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var te;return pt("div",{class:[o.m(k.value),o.m("popup-container"),V.value],onMouseenter:de=>G(de,100),onMouseleave:()=>P(!0),onFocus:de=>G(de,100)},[pt("ul",{class:[o.b(),o.m("popup"),o.m(`popup-${y.value}`)],style:O.value},[(te=e.default)==null?void 0:te.call(e)])])},default:()=>pt("div",{class:i.e("title"),onClick:W},J)}):pt(He,{},[pt("div",{class:i.e("title"),ref:p,onClick:W},J),pt(cw,{},{default:()=>{var te;return zt(pt("ul",{role:"menu",class:[o.b(),o.m("inline")],style:O.value},[(te=e.default)==null?void 0:te.call(e)]),[[gn,x.value]])}})]);return pt("li",{class:[i.b(),i.is("active",T.value),i.is("opened",x.value),i.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:G,onMouseleave:()=>P(),onFocus:G},[ne])}}});const dCe=qe({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:ve(Array),default:()=>hs([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Gn,default:()=>$ge},popperEffect:{type:ve(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),sC=t=>Array.isArray(t)&&t.every(e=>qt(e)),hCe={close:(t,e)=>qt(t)&&sC(e),open:(t,e)=>qt(t)&&sC(e),select:(t,e,n,s)=>qt(t)&&sC(e)&&Vn(n)&&(s===void 0||s instanceof Promise)};var fCe=Z({name:"ElMenu",props:dCe,emits:hCe,setup(t,{emit:e,slots:n,expose:s}){const r=Ht(),a=r.appContext.config.globalProperties.$router,o=B(),i=Fe("menu"),l=Fe("sub-menu"),u=B(-1),c=B(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=B(t.defaultActive),h=B({}),f=B({}),p=D(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),m=()=>{const K=d.value&&h.value[d.value];if(!K||t.mode==="horizontal"||t.collapse)return;K.indexPath.forEach(R=>{const W=f.value[R];W&&y(R,W.indexPath)})},y=(K,U)=>{c.value.includes(K)||(t.uniqueOpened&&(c.value=c.value.filter(R=>U.includes(R))),c.value.push(K),e("open",K,U))},v=K=>{const U=c.value.indexOf(K);U!==-1&&c.value.splice(U,1)},b=(K,U)=>{v(K),e("close",K,U)},w=({index:K,indexPath:U})=>{c.value.includes(K)?b(K,U):y(K,U)},_=K=>{(t.mode==="horizontal"||t.collapse)&&(c.value=[]);const{index:U,indexPath:R}=K;if(!(Lr(U)||Lr(R)))if(t.router&&a){const W=K.route||U,G=a.push(W).then(P=>(P||(d.value=U),P));e("select",U,R,{index:U,indexPath:R,route:W},G)}else d.value=U,e("select",U,R,{index:U,indexPath:R})},C=K=>{const U=h.value,R=U[K]||d.value&&U[d.value]||U[t.defaultActive];R?d.value=R.index:d.value=K},x=K=>{const U=getComputedStyle(K),R=Number.parseInt(U.marginLeft,10),W=Number.parseInt(U.marginRight,10);return K.offsetWidth+R+W||0},T=()=>{var K,U;if(!o.value)return-1;const R=Array.from((U=(K=o.value)==null?void 0:K.childNodes)!=null?U:[]).filter(de=>de.nodeName!=="#comment"&&(de.nodeName!=="#text"||de.nodeValue)),W=64,G=getComputedStyle(o.value),P=Number.parseInt(G.paddingLeft,10),j=Number.parseInt(G.paddingRight,10),J=o.value.clientWidth-P-j;let ne=0,te=0;return R.forEach((de,me)=>{ne+=x(de),ne<=J-W&&(te=me+1)}),te===R.length?-1:te},k=K=>f.value[K].indexPath,N=(K,U=33.34)=>{let R;return()=>{R&&clearTimeout(R),R=setTimeout(()=>{K()},U)}};let O=!0;const L=()=>{if(u.value===T())return;const K=()=>{u.value=-1,it(()=>{u.value=T()})};O?K():N(K)(),O=!1};Ee(()=>t.defaultActive,K=>{h.value[K]||(d.value=""),C(K)}),Ee(()=>t.collapse,K=>{K&&(c.value=[])}),Ee(h.value,m);let V;sr(()=>{t.mode==="horizontal"&&t.ellipsis?V=ds(o,L).stop:V==null||V()});const H=B(!1);{const K=G=>{f.value[G.index]=G},U=G=>{delete f.value[G.index]};At("rootMenu",an({props:t,openedMenus:c,items:h,subMenus:f,activeIndex:d,isMenuPopup:p,addMenuItem:G=>{h.value[G.index]=G},removeMenuItem:G=>{delete h.value[G.index]},addSubMenu:K,removeSubMenu:U,openMenu:y,closeMenu:b,handleMenuItemClick:_,handleSubMenuClick:w})),At(`subMenu:${r.uid}`,{addSubMenu:K,removeSubMenu:U,mouseInChild:H,level:0})}return Et(()=>{t.mode==="horizontal"&&new aCe(r.vnode.el,i.namespace.value)}),s({open:U=>{const{indexPath:R}=f.value[U];R.forEach(W=>y(W,R))},close:v,handleResize:L}),()=>{var K,U;let R=(U=(K=n.default)==null?void 0:K.call(n))!=null?U:[];const W=[];if(t.mode==="horizontal"&&o.value){const J=zc(R),ne=u.value===-1?J:J.slice(0,u.value),te=u.value===-1?[]:J.slice(u.value);te!=null&&te.length&&t.ellipsis&&(R=ne,W.push(pt(X5,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>pt(Je,{class:l.e("icon-more")},{default:()=>pt(t.ellipsisIcon)}),default:()=>te})))}const G=JU(t,0),P=t.closeOnClickOutside?[[Pu,()=>{c.value.length&&(H.value||(c.value.forEach(J=>e("close",J,k(J))),c.value=[]))}]]:[],j=zt(pt("ul",{key:String(t.collapse),role:"menubar",ref:o,style:G.value,class:{[i.b()]:!0,[i.m(t.mode)]:!0,[i.m("collapse")]:t.collapse}},[...R,...W]),P);return t.collapseTransition&&t.mode==="vertical"?pt(lCe,()=>j):j}}});const pCe=qe({index:{type:ve([String,null]),default:null},route:{type:ve([String,Object])},disabled:Boolean}),mCe={click:t=>qt(t.index)&&Array.isArray(t.indexPath)},rC="ElMenuItem",gCe=Z({name:rC,components:{ElTooltip:ys},props:pCe,emits:mCe,setup(t,{emit:e}){const n=Ht(),s=Le("rootMenu"),r=Fe("menu"),a=Fe("menu-item");s||br(rC,"can not inject root menu");const{parentMenu:o,indexPath:i}=ZU(n,Nn(t,"index")),l=Le(`subMenu:${o.value.uid}`);l||br(rC,"can not inject sub menu");const u=D(()=>t.index===s.activeIndex),c=an({index:t.index,indexPath:i,active:u}),d=()=>{t.disabled||(s.handleMenuItemClick({index:t.index,indexPath:i.value,route:t.route}),e("click",c))};return Et(()=>{l.addSubMenu(c),s.addMenuItem(c)}),ts(()=>{l.removeSubMenu(c),s.removeMenuItem(c)}),{parentMenu:o,rootMenu:s,active:u,nsMenu:r,nsMenuItem:a,handleClick:d}}});function vCe(t,e,n,s,r,a){const o=ht("el-tooltip");return S(),A("li",{class:q([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:t.handleClick},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(S(),be(o,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:se(()=>[oe(t.$slots,"title")]),default:se(()=>[I("div",{class:q(t.nsMenu.be("tooltip","trigger"))},[oe(t.$slots,"default")],2)]),_:3},8,["effect"])):(S(),A(He,{key:1},[oe(t.$slots,"default"),oe(t.$slots,"title")],64))],10,["onClick"])}var eW=Xe(gCe,[["render",vCe],["__file","menu-item.vue"]]);const yCe={title:String},bCe="ElMenuItemGroup",_Ce=Z({name:bCe,props:yCe,setup(){return{ns:Fe("menu-item-group")}}});function wCe(t,e,n,s,r,a){return S(),A("li",{class:q(t.ns.b())},[I("div",{class:q(t.ns.e("title"))},[t.$slots.title?oe(t.$slots,"title",{key:1}):(S(),A(He,{key:0},[ct(Me(t.title),1)],64))],2),I("ul",null,[oe(t.$slots,"default")])],2)}var tW=Xe(_Ce,[["render",wCe],["__file","menu-item-group.vue"]]);const Y5=Ft(fCe,{MenuItem:eW,MenuItemGroup:tW,SubMenu:X5}),gw=gs(eW),xCe=gs(tW),Q5=gs(X5),CCe=qe({icon:{type:Gn,default:()=>Qme},title:String,content:{type:String,default:""}}),SCe={back:()=>!0},TCe=Z({name:"ElPageHeader"}),kCe=Z({...TCe,props:CCe,emits:SCe,setup(t,{emit:e}){const n=xr(),{t:s}=fn(),r=Fe("page-header"),a=D(()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]);function o(){e("back")}return(i,l)=>(S(),A("div",{class:q(g(a))},[i.$slots.breadcrumb?(S(),A("div",{key:0,class:q(g(r).e("breadcrumb"))},[oe(i.$slots,"breadcrumb")],2)):ce("v-if",!0),I("div",{class:q(g(r).e("header"))},[I("div",{class:q(g(r).e("left"))},[I("div",{class:q(g(r).e("back")),role:"button",tabindex:"0",onClick:o},[i.icon||i.$slots.icon?(S(),A("div",{key:0,"aria-label":i.title||g(s)("el.pageHeader.title"),class:q(g(r).e("icon"))},[oe(i.$slots,"icon",{},()=>[i.icon?(S(),be(g(Je),{key:0},{default:se(()=>[(S(),be(Gt(i.icon)))]),_:1})):ce("v-if",!0)])],10,["aria-label"])):ce("v-if",!0),I("div",{class:q(g(r).e("title"))},[oe(i.$slots,"title",{},()=>[ct(Me(i.title||g(s)("el.pageHeader.title")),1)])],2)],2),$(g(d3),{direction:"vertical"}),I("div",{class:q(g(r).e("content"))},[oe(i.$slots,"content",{},()=>[ct(Me(i.content),1)])],2)],2),i.$slots.extra?(S(),A("div",{key:0,class:q(g(r).e("extra"))},[oe(i.$slots,"extra")],2)):ce("v-if",!0)],2),i.$slots.default?(S(),A("div",{key:1,class:q(g(r).e("main"))},[oe(i.$slots,"default")],2)):ce("v-if",!0)],2))}});var $Ce=Xe(kCe,[["__file","page-header.vue"]]);const ECe=Ft($Ce),nW=Symbol("elPaginationKey"),ICe=qe({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Gn}}),NCe={click:t=>t instanceof MouseEvent},ACe=Z({name:"ElPaginationPrev"}),DCe=Z({...ACe,props:ICe,emits:NCe,setup(t){const e=t,{t:n}=fn(),s=D(()=>e.disabled||e.currentPage<=1);return(r,a)=>(S(),A("button",{type:"button",class:"btn-prev",disabled:g(s),"aria-label":r.prevText||g(n)("el.pagination.prev"),"aria-disabled":g(s),onClick:o=>r.$emit("click",o)},[r.prevText?(S(),A("span",{key:0},Me(r.prevText),1)):(S(),be(g(Je),{key:1},{default:se(()=>[(S(),be(Gt(r.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var OCe=Xe(DCe,[["__file","prev.vue"]]);const RCe=qe({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Gn}}),LCe=Z({name:"ElPaginationNext"}),PCe=Z({...LCe,props:RCe,emits:["click"],setup(t){const e=t,{t:n}=fn(),s=D(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,a)=>(S(),A("button",{type:"button",class:"btn-next",disabled:g(s),"aria-label":r.nextText||g(n)("el.pagination.next"),"aria-disabled":g(s),onClick:o=>r.$emit("click",o)},[r.nextText?(S(),A("span",{key:0},Me(r.nextText),1)):(S(),be(g(Je),{key:1},{default:se(()=>[(S(),be(Gt(r.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var MCe=Xe(PCe,[["__file","next.vue"]]);const sW=Symbol("ElSelectGroup"),z0=Symbol("ElSelect");function FCe(t,e){const n=Le(z0),s=Le(sW,{disabled:!1}),r=D(()=>c(_a(n.props.modelValue),t.value)),a=D(()=>{var f;if(n.props.multiple){const p=_a((f=n.props.modelValue)!=null?f:[]);return!r.value&&p.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),o=D(()=>t.label||(Vn(t.value)?"":t.value)),i=D(()=>t.value||t.label||""),l=D(()=>t.disabled||e.groupDisabled||a.value),u=Ht(),c=(f=[],p)=>{if(Vn(t.value)){const m=n.props.valueKey;return f&&f.some(y=>Rs(Ls(y,m))===Ls(p,m))}else return f&&f.includes(p)},d=()=>{!t.disabled&&!s.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(u.proxy))},h=f=>{const p=new RegExp(q$(f),"i");e.visible=p.test(o.value)||t.created};return Ee(()=>o.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Ee(()=>t.value,(f,p)=>{const{remote:m,valueKey:y}=n.props;if(f!==p&&(n.onOptionDestroy(p,u.proxy),n.onOptionCreate(u.proxy)),!t.created&&!m){if(y&&Vn(f)&&Vn(p)&&f[y]===p[y])return;n.setSelected()}}),Ee(()=>s.disabled,()=>{e.groupDisabled=s.disabled},{immediate:!0}),{select:n,currentLabel:o,currentValue:i,itemSelected:r,isDisabled:l,hoverItem:d,updateOption:h}}const BCe=Z({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Fe("select"),n=pa(),s=D(()=>[e.be("dropdown","item"),e.is("disabled",g(i)),e.is("selected",g(o)),e.is("hovering",g(h))]),r=an({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:o,isDisabled:i,select:l,hoverItem:u,updateOption:c}=FCe(t,r),{visible:d,hover:h}=Jr(r),f=Ht().proxy;l.onOptionCreate(f),ts(()=>{const m=f.value,{selected:y}=l.states,b=(l.props.multiple?y:[y]).some(w=>w.value===f.value);it(()=>{l.states.cachedOptions.get(m)===f&&!b&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,f)});function p(){i.value||l.handleOptionSelect(f)}return{ns:e,id:n,containerKls:s,currentLabel:a,itemSelected:o,isDisabled:i,select:l,hoverItem:u,updateOption:c,visible:d,hover:h,selectOptionClick:p,states:r}}});function zCe(t,e,n,s,r,a){return zt((S(),A("li",{id:t.id,class:q(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:t.hoverItem,onClick:xt(t.selectOptionClick,["stop"])},[oe(t.$slots,"default",{},()=>[I("span",null,Me(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[gn,t.visible]])}var Z5=Xe(BCe,[["render",zCe],["__file","option.vue"]]);const VCe=Z({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Le(z0),e=Fe("select"),n=D(()=>t.props.popperClass),s=D(()=>t.props.multiple),r=D(()=>t.props.fitInputWidth),a=B("");function o(){var i;a.value=`${(i=t.selectRef)==null?void 0:i.offsetWidth}px`}return Et(()=>{o(),ds(t.selectRef,o)}),{ns:e,minWidth:a,popperClass:n,isMultiple:s,isFitInputWidth:r}}});function HCe(t,e,n,s,r,a){return S(),A("div",{class:q([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:yt({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(S(),A("div",{key:0,class:q(t.ns.be("dropdown","header"))},[oe(t.$slots,"header")],2)):ce("v-if",!0),oe(t.$slots,"default"),t.$slots.footer?(S(),A("div",{key:1,class:q(t.ns.be("dropdown","footer"))},[oe(t.$slots,"footer")],2)):ce("v-if",!0)],6)}var UCe=Xe(VCe,[["render",HCe],["__file","select-dropdown.vue"]]);const WCe=11,jCe=(t,e)=>{const{t:n}=fn(),s=pa(),r=Fe("select"),a=Fe("input"),o=an({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),i=B(null),l=B(null),u=B(null),c=B(null),d=B(null),h=B(null),f=B(null),p=B(null),m=B(null),y=B(null),v=B(null),b=B(null),{isComposing:w,handleCompositionStart:_,handleCompositionUpdate:C,handleCompositionEnd:x}=ew({afterComposition:st=>rn(st)}),{wrapperRef:T,isFocused:k,handleBlur:N}=av(d,{afterFocus(){t.automaticDropdown&&!O.value&&(O.value=!0,o.menuVisibleOnFocus=!0)},beforeBlur(st){var kt,kn;return((kt=u.value)==null?void 0:kt.isFocusInsideContent(st))||((kn=c.value)==null?void 0:kn.isFocusInsideContent(st))},afterBlur(){O.value=!1,o.menuVisibleOnFocus=!1}}),O=B(!1),L=B(),{form:V,formItem:H}=Na(),{inputId:K}=ml(t,{formItemContext:H}),{valueOnClear:U,isEmptyValue:R}=tw(t),W=D(()=>t.disabled||(V==null?void 0:V.disabled)),G=D(()=>Mt(t.modelValue)?t.modelValue.length>0:!R(t.modelValue)),P=D(()=>t.clearable&&!W.value&&o.inputHovering&&G.value),j=D(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),J=D(()=>r.is("reverse",j.value&&O.value)),ne=D(()=>(H==null?void 0:H.validateState)||""),te=D(()=>n5[ne.value]),de=D(()=>t.remote?300:0),me=D(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!o.inputValue&&o.options.size===0?!1:t.filterable&&o.inputValue&&o.options.size>0&&_e.value===0?t.noMatchText||n("el.select.noMatch"):o.options.size===0?t.noDataText||n("el.select.noData"):null),_e=D(()=>ee.value.filter(st=>st.visible).length),ee=D(()=>{const st=Array.from(o.options.values()),kt=[];return o.optionValues.forEach(kn=>{const ln=st.findIndex(ni=>ni.value===kn);ln>-1&&kt.push(st[ln])}),kt.length>=st.length?kt:st}),he=D(()=>Array.from(o.cachedOptions.values())),le=D(()=>{const st=ee.value.filter(kt=>!kt.created).some(kt=>kt.currentLabel===o.inputValue);return t.filterable&&t.allowCreate&&o.inputValue!==""&&!st}),ue=()=>{t.filterable&&yn(t.filterMethod)||t.filterable&&t.remote&&yn(t.remoteMethod)||ee.value.forEach(st=>{var kt;(kt=st.updateOption)==null||kt.call(st,o.inputValue)})},re=or(),we=D(()=>["small"].includes(re.value)?"small":"default"),Ae=D({get(){return O.value&&me.value!==!1},set(st){O.value=st}}),Ue=D(()=>{if(t.multiple&&!$s(t.modelValue))return _a(t.modelValue).length===0&&!o.inputValue;const st=Mt(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||$s(st)?!o.inputValue:!0}),at=D(()=>{var st;const kt=(st=t.placeholder)!=null?st:n("el.select.placeholder");return t.multiple||!G.value?kt:o.selectedLabel}),ot=D(()=>vS?null:"mouseenter");Ee(()=>t.modelValue,(st,kt)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(o.inputValue="",Pe("")),dt(),!ja(st,kt)&&t.validateEvent&&(H==null||H.validate("change").catch(kn=>void 0))},{flush:"post",deep:!0}),Ee(()=>O.value,st=>{st?Pe(o.inputValue):(o.inputValue="",o.previousQuery=null,o.isBeforeHide=!0),e("visible-change",st)}),Ee(()=>o.options.entries(),()=>{var st;if(!hn)return;const kt=((st=i.value)==null?void 0:st.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!$s(t.modelValue)||!Array.from(kt).includes(document.activeElement))&&dt(),t.defaultFirstOption&&(t.filterable||t.remote)&&_e.value&&je()},{flush:"post"}),Ee(()=>o.hoveringIndex,st=>{Tt(st)&&st>-1?L.value=ee.value[st]||{}:L.value={},ee.value.forEach(kt=>{kt.hover=L.value===kt})}),sr(()=>{o.isBeforeHide||ue()});const Pe=st=>{o.previousQuery===st||w.value||(o.previousQuery=st,t.filterable&&yn(t.filterMethod)?t.filterMethod(st):t.filterable&&t.remote&&yn(t.remoteMethod)&&t.remoteMethod(st),t.defaultFirstOption&&(t.filterable||t.remote)&&_e.value?it(je):it(wt))},je=()=>{const st=ee.value.filter(ln=>ln.visible&&!ln.disabled&&!ln.states.groupDisabled),kt=st.find(ln=>ln.created),kn=st[0];o.hoveringIndex=Ze(ee.value,kt||kn)},dt=()=>{if(t.multiple)o.selectedLabel="";else{const kt=Mt(t.modelValue)?t.modelValue[0]:t.modelValue,kn=Qe(kt);o.selectedLabel=kn.currentLabel,o.selected=kn;return}const st=[];$s(t.modelValue)||_a(t.modelValue).forEach(kt=>{st.push(Qe(kt))}),o.selected=st},Qe=st=>{let kt;const kn=M8(st).toLowerCase()==="object",ln=M8(st).toLowerCase()==="null",ni=M8(st).toLowerCase()==="undefined";for(let Bi=o.cachedOptions.size-1;Bi>=0;Bi--){const er=he.value[Bi];if(kn?Ls(er.value,t.valueKey)===Ls(st,t.valueKey):er.value===st){kt={value:st,currentLabel:er.currentLabel,get isDisabled(){return er.isDisabled}};break}}if(kt)return kt;const Oo=kn?st.label:!ln&&!ni?st:"";return{value:st,currentLabel:Oo}},wt=()=>{t.multiple?o.hoveringIndex=ee.value.findIndex(st=>o.selected.some(kt=>Cl(kt)===Cl(st))):o.hoveringIndex=ee.value.findIndex(st=>Cl(st)===Cl(o.selected))},vt=()=>{o.selectionWidth=l.value.getBoundingClientRect().width},Ge=()=>{o.calculatorWidth=h.value.getBoundingClientRect().width},fe=()=>{o.collapseItemWidth=v.value.getBoundingClientRect().width},_t=()=>{var st,kt;(kt=(st=u.value)==null?void 0:st.updatePopper)==null||kt.call(st)},Dt=()=>{var st,kt;(kt=(st=c.value)==null?void 0:st.updatePopper)==null||kt.call(st)},Qt=()=>{o.inputValue.length>0&&!O.value&&(O.value=!0),Pe(o.inputValue)},rn=st=>{if(o.inputValue=st.target.value,t.remote)Cn();else return Qt()},Cn=So(()=>{Qt()},de.value),Ct=st=>{ja(t.modelValue,st)||e(ns,st)},It=st=>_V(st,kt=>!o.disabledOptions.has(kt)),Re=st=>{if(t.multiple&&st.code!==gt.delete&&st.target.value.length<=0){const kt=_a(t.modelValue).slice(),kn=It(kt);if(kn<0)return;const ln=kt[kn];kt.splice(kn,1),e(Yt,kt),Ct(kt),e("remove-tag",ln)}},ut=(st,kt)=>{const kn=o.selected.indexOf(kt);if(kn>-1&&!W.value){const ln=_a(t.modelValue).slice();ln.splice(kn,1),e(Yt,ln),Ct(ln),e("remove-tag",kt.value)}st.stopPropagation(),xn()},xe=st=>{st.stopPropagation();const kt=t.multiple?[]:U.value;if(t.multiple)for(const kn of o.selected)kn.isDisabled&&kt.push(kn.value);e(Yt,kt),Ct(kt),o.hoveringIndex=-1,O.value=!1,e("clear"),xn()},Ke=st=>{var kt;if(t.multiple){const kn=_a((kt=t.modelValue)!=null?kt:[]).slice(),ln=Ze(kn,st.value);ln>-1?kn.splice(ln,1):(t.multipleLimit<=0||kn.length<t.multipleLimit)&&kn.push(st.value),e(Yt,kn),Ct(kn),st.created&&Pe(""),t.filterable&&!t.reserveKeyword&&(o.inputValue="")}else e(Yt,st.value),Ct(st.value),O.value=!1;xn(),!O.value&&it(()=>{Zt(st)})},Ze=(st=[],kt)=>{if(!Vn(kt))return st.indexOf(kt);const kn=t.valueKey;let ln=-1;return st.some((ni,Oo)=>Rs(Ls(ni,kn))===Ls(kt,kn)?(ln=Oo,!0):!1),ln},Zt=st=>{var kt,kn,ln,ni,Oo;const Ro=Mt(st)?st[0]:st;let Bi=null;if(Ro!=null&&Ro.value){const er=ee.value.filter(We=>We.value===Ro.value);er.length>0&&(Bi=er[0].$el)}if(u.value&&Bi){const er=(ni=(ln=(kn=(kt=u.value)==null?void 0:kt.popperRef)==null?void 0:kn.contentRef)==null?void 0:ln.querySelector)==null?void 0:ni.call(ln,`.${r.be("dropdown","wrap")}`);er&&X$(er,Bi)}(Oo=b.value)==null||Oo.handleScroll()},Mn=st=>{o.options.set(st.value,st),o.cachedOptions.set(st.value,st),st.disabled&&o.disabledOptions.set(st.value,st)},Oe=(st,kt)=>{o.options.get(st)===kt&&o.options.delete(st)},St=D(()=>{var st,kt;return(kt=(st=u.value)==null?void 0:st.popperRef)==null?void 0:kt.contentRef}),bn=()=>{o.isBeforeHide=!1,it(()=>Zt(o.selected))},xn=()=>{var st;(st=d.value)==null||st.focus()},Zn=()=>{Wr()},In=st=>{xe(st)},Wr=st=>{if(O.value=!1,k.value){const kt=new FocusEvent("focus",st);it(()=>N(kt))}},Pf=()=>{o.inputValue.length>0?o.inputValue="":O.value=!1},fc=()=>{W.value||(vS&&(o.inputHovering=!0),o.menuVisibleOnFocus?o.menuVisibleOnFocus=!1:O.value=!O.value)},Mf=()=>{O.value?ee.value[o.hoveringIndex]&&Ke(ee.value[o.hoveringIndex]):fc()},Cl=st=>Vn(st.value)?Ls(st.value,t.valueKey):st.value,gg=D(()=>ee.value.filter(st=>st.visible).every(st=>st.disabled)),pc=D(()=>t.multiple?t.collapseTags?o.selected.slice(0,t.maxCollapseTags):o.selected:[]),Ff=D(()=>t.multiple?t.collapseTags?o.selected.slice(t.maxCollapseTags):[]:[]),mc=st=>{if(!O.value){O.value=!0;return}if(!(o.options.size===0||o.filteredOptionsCount===0||w.value)&&!gg.value){st==="next"?(o.hoveringIndex++,o.hoveringIndex===o.options.size&&(o.hoveringIndex=0)):st==="prev"&&(o.hoveringIndex--,o.hoveringIndex<0&&(o.hoveringIndex=o.options.size-1));const kt=ee.value[o.hoveringIndex];(kt.disabled===!0||kt.states.groupDisabled===!0||!kt.visible)&&mc(st),it(()=>Zt(L.value))}},gc=()=>{if(!l.value)return 0;const st=window.getComputedStyle(l.value);return Number.parseFloat(st.gap||"6px")},jr=D(()=>{const st=gc();return{maxWidth:`${v.value&&t.maxCollapseTags===1?o.selectionWidth-o.collapseItemWidth-st:o.selectionWidth}px`}}),vg=D(()=>({maxWidth:`${o.selectionWidth}px`})),Bf=D(()=>({width:`${Math.max(o.calculatorWidth,WCe)}px`}));return ds(l,vt),ds(h,Ge),ds(m,_t),ds(T,_t),ds(y,Dt),ds(v,fe),Et(()=>{dt()}),{inputId:K,contentId:s,nsSelect:r,nsInput:a,states:o,isFocused:k,expanded:O,optionsArray:ee,hoverOption:L,selectSize:re,filteredOptionsCount:_e,resetCalculatorWidth:Ge,updateTooltip:_t,updateTagTooltip:Dt,debouncedOnInputChange:Cn,onInput:rn,deletePrevTag:Re,deleteTag:ut,deleteSelected:xe,handleOptionSelect:Ke,scrollToOption:Zt,hasModelValue:G,shouldShowPlaceholder:Ue,currentPlaceholder:at,mouseEnterEventName:ot,showClose:P,iconComponent:j,iconReverse:J,validateState:ne,validateIcon:te,showNewOption:le,updateOptions:ue,collapseTagSize:we,setSelected:dt,selectDisabled:W,emptyText:me,handleCompositionStart:_,handleCompositionUpdate:C,handleCompositionEnd:x,onOptionCreate:Mn,onOptionDestroy:Oe,handleMenuEnter:bn,focus:xn,blur:Zn,handleClearClick:In,handleClickOutside:Wr,handleEsc:Pf,toggleMenu:fc,selectOption:Mf,getValueKey:Cl,navigateOptions:mc,dropdownMenuVisible:Ae,showTagList:pc,collapseTagList:Ff,tagStyle:jr,collapseTagStyle:vg,inputStyle:Bf,popperRef:St,inputRef:d,tooltipRef:u,tagTooltipRef:c,calculatorRef:h,prefixRef:f,suffixRef:p,selectRef:i,wrapperRef:T,selectionRef:l,scrollbarRef:b,menuRef:m,tagMenuRef:y,collapseItemRef:v}};var GCe=Z({name:"ElOptions",setup(t,{slots:e}){const n=Le(z0);let s=[];return()=>{var r,a;const o=(r=e.default)==null?void 0:r.call(e),i=[];function l(u){Mt(u)&&u.forEach(c=>{var d,h,f,p;const m=(d=(c==null?void 0:c.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!qt(c.children)&&!Mt(c.children)&&yn((h=c.children)==null?void 0:h.default)?(f=c.children)==null?void 0:f.default():c.children):m==="ElOption"?i.push((p=c.props)==null?void 0:p.value):Mt(c.children)&&l(c.children)})}return o.length&&l((a=o[0])==null?void 0:a.children),ja(i,s)||(s=i,n&&(n.states.optionValues=i)),o}}});const qCe=qe({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:_r,effect:{type:ve(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Dr.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Gn,default:yd},fitInputWidth:Boolean,suffixIcon:{type:Gn,default:tc},tagType:{...Lh.type,default:"info"},tagEffect:{...Lh.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:ve(String),values:cf,default:"bottom-start"},fallbackPlacements:{type:ve(Array),default:["bottom-start","top-start","right","left"]},...M0,...sa(["ariaLabel"])}),nL="ElSelect",KCe=Z({name:nL,componentName:nL,components:{ElSelectMenu:UCe,ElOption:Z5,ElOptions:GCe,ElTag:Uc,ElScrollbar:vr,ElTooltip:ys,ElIcon:Je},directives:{ClickOutside:Pu},props:qCe,emits:[Yt,ns,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=jCe(t,e);return At(z0,an({props:t,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}});function XCe(t,e,n,s,r,a){const o=ht("el-tag"),i=ht("el-tooltip"),l=ht("el-icon"),u=ht("el-option"),c=ht("el-options"),d=ht("el-scrollbar"),h=ht("el-select-menu"),f=F4("click-outside");return zt((S(),A("div",{ref:"selectRef",class:q([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[aae(t.mouseEnterEventName)]:p=>t.states.inputHovering=!0,onMouseleave:p=>t.states.inputHovering=!1},[$(i,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:p=>t.states.isBeforeHide=!1},{default:se(()=>{var p;return[I("div",{ref:"wrapperRef",class:q([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:xt(t.toggleMenu,["prevent","stop"])},[t.$slots.prefix?(S(),A("div",{key:0,ref:"prefixRef",class:q(t.nsSelect.e("prefix"))},[oe(t.$slots,"prefix")],2)):ce("v-if",!0),I("div",{ref:"selectionRef",class:q([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?oe(t.$slots,"tag",{key:0},()=>[(S(!0),A(He,null,Ut(t.showTagList,m=>(S(),A("div",{key:t.getValueKey(m),class:q(t.nsSelect.e("selected-item"))},[$(o,{closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:yt(t.tagStyle),onClose:y=>t.deleteTag(y,m)},{default:se(()=>[I("span",{class:q(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:m.currentLabel,value:m.value},()=>[ct(Me(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(S(),be(i,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:se(()=>[I("div",{ref:"collapseItemRef",class:q(t.nsSelect.e("selected-item"))},[$(o,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:yt(t.collapseTagStyle)},{default:se(()=>[I("span",{class:q(t.nsSelect.e("tags-text"))}," + "+Me(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:se(()=>[I("div",{ref:"tagMenuRef",class:q(t.nsSelect.e("selection"))},[(S(!0),A(He,null,Ut(t.collapseTagList,m=>(S(),A("div",{key:t.getValueKey(m),class:q(t.nsSelect.e("selected-item"))},[$(o,{class:"in-tooltip",closable:!t.selectDisabled&&!m.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:y=>t.deleteTag(y,m)},{default:se(()=>[I("span",{class:q(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:m.currentLabel,value:m.value},()=>[ct(Me(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):ce("v-if",!0)]):ce("v-if",!0),t.selectDisabled?ce("v-if",!0):(S(),A("div",{key:1,class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[zt(I("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":m=>t.states.inputValue=m,type:"text",name:t.name,class:q([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:yt(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((p=t.hoverOption)==null?void 0:p.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Pn(xt(m=>t.navigateOptions("next"),["stop","prevent"]),["down"]),Pn(xt(m=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),Pn(xt(t.handleEsc,["stop","prevent"]),["esc"]),Pn(xt(t.selectOption,["stop","prevent"]),["enter"]),Pn(xt(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:xt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[_$,t.states.inputValue]]),t.filterable?(S(),A("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q(t.nsSelect.e("input-calculator")),textContent:Me(t.states.inputValue)},null,10,["textContent"])):ce("v-if",!0)],2)),t.shouldShowPlaceholder?(S(),A("div",{key:2,class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?oe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[I("span",null,Me(t.currentPlaceholder),1)]):(S(),A("span",{key:1},Me(t.currentPlaceholder),1))],2)):ce("v-if",!0)],2),I("div",{ref:"suffixRef",class:q(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(S(),be(l,{key:0,class:q([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:se(()=>[(S(),be(Gt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),t.showClose&&t.clearIcon?(S(),be(l,{key:1,class:q([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:se(()=>[(S(),be(Gt(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.validateState&&t.validateIcon?(S(),be(l,{key:2,class:q([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:se(()=>[(S(),be(Gt(t.validateIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],10,["onClick"])]}),content:se(()=>[$(h,{ref:"menuRef"},{default:se(()=>[t.$slots.header?(S(),A("div",{key:0,class:q(t.nsSelect.be("dropdown","header")),onClick:xt(()=>{},["stop"])},[oe(t.$slots,"header")],10,["onClick"])):ce("v-if",!0),zt($(d,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:q([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:se(()=>[t.showNewOption?(S(),be(u,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):ce("v-if",!0),$(c,null,{default:se(()=>[oe(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[gn,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(S(),A("div",{key:1,class:q(t.nsSelect.be("dropdown","loading"))},[oe(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(S(),A("div",{key:2,class:q(t.nsSelect.be("dropdown","empty"))},[oe(t.$slots,"empty",{},()=>[I("span",null,Me(t.emptyText),1)])],2)):ce("v-if",!0),t.$slots.footer?(S(),A("div",{key:3,class:q(t.nsSelect.be("dropdown","footer")),onClick:xt(()=>{},["stop"])},[oe(t.$slots,"footer")],10,["onClick"])):ce("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow","onHide"])],16,["onMouseleave"])),[[f,t.handleClickOutside,t.popperRef]])}var YCe=Xe(KCe,[["render",XCe],["__file","select.vue"]]);const QCe=Z({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Fe("select"),n=B(null),s=Ht(),r=B([]);At(sW,an({...Jr(t)}));const a=D(()=>r.value.some(u=>u.visible===!0)),o=u=>{var c,d;return((c=u.type)==null?void 0:c.name)==="ElOption"&&!!((d=u.component)!=null&&d.proxy)},i=u=>{const c=_a(u),d=[];return c.forEach(h=>{var f,p;o(h)?d.push(h.component.proxy):(f=h.children)!=null&&f.length?d.push(...i(h.children)):(p=h.component)!=null&&p.subTree&&d.push(...i(h.component.subTree))}),d},l=()=>{r.value=i(s.subTree)};return Et(()=>{l()}),Lz(n,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:e}}});function ZCe(t,e,n,s,r,a){return zt((S(),A("ul",{ref:"groupRef",class:q(t.ns.be("group","wrap"))},[I("li",{class:q(t.ns.be("group","title"))},Me(t.label),3),I("li",null,[I("ul",{class:q(t.ns.b("group"))},[oe(t.$slots,"default")],2)])],2)),[[gn,t.visible]])}var rW=Xe(QCe,[["render",ZCe],["__file","option-group.vue"]]);const Mu=Ft(YCe,{Option:Z5,OptionGroup:rW}),Xp=gs(Z5),JCe=gs(rW),J5=()=>Le(nW,{}),eSe=qe({pageSize:{type:Number,required:!0},pageSizes:{type:ve(Array),default:()=>hs([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:uu}}),tSe=Z({name:"ElPaginationSizes"}),nSe=Z({...tSe,props:eSe,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:s}=fn(),r=Fe("pagination"),a=J5(),o=B(n.pageSize);Ee(()=>n.pageSizes,(u,c)=>{if(!ja(u,c)&&Array.isArray(u)){const d=u.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",d)}}),Ee(()=>n.pageSize,u=>{o.value=u});const i=D(()=>n.pageSizes);function l(u){var c;u!==o.value&&(o.value=u,(c=a.handleSizeChange)==null||c.call(a,Number(u)))}return(u,c)=>(S(),A("span",{class:q(g(r).e("sizes"))},[$(g(Mu),{"model-value":o.value,disabled:u.disabled,"popper-class":u.popperClass,size:u.size,teleported:u.teleported,"validate-event":!1,onChange:l},{default:se(()=>[(S(!0),A(He,null,Ut(g(i),d=>(S(),be(g(Xp),{key:d,value:d,label:d+g(s)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var sSe=Xe(nSe,[["__file","sizes.vue"]]);const rSe=qe({size:{type:String,values:uu}}),aSe=Z({name:"ElPaginationJumper"}),oSe=Z({...aSe,props:rSe,setup(t){const{t:e}=fn(),n=Fe("pagination"),{pageCount:s,disabled:r,currentPage:a,changeEvent:o}=J5(),i=B(),l=D(()=>{var d;return(d=i.value)!=null?d:a==null?void 0:a.value});function u(d){i.value=d?+d:""}function c(d){d=Math.trunc(+d),o==null||o(d),i.value=void 0}return(d,h)=>(S(),A("span",{class:q(g(n).e("jump")),disabled:g(r)},[I("span",{class:q([g(n).e("goto")])},Me(g(e)("el.pagination.goto")),3),$(g(Gs),{size:d.size,class:q([g(n).e("editor"),g(n).is("in-pagination")]),min:1,max:g(s),disabled:g(r),"model-value":g(l),"validate-event":!1,"aria-label":g(e)("el.pagination.page"),type:"number","onUpdate:modelValue":u,onChange:c},null,8,["size","class","max","disabled","model-value","aria-label"]),I("span",{class:q([g(n).e("classifier")])},Me(g(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var iSe=Xe(oSe,[["__file","jumper.vue"]]);const lSe=qe({total:{type:Number,default:1e3}}),uSe=Z({name:"ElPaginationTotal"}),cSe=Z({...uSe,props:lSe,setup(t){const{t:e}=fn(),n=Fe("pagination"),{disabled:s}=J5();return(r,a)=>(S(),A("span",{class:q(g(n).e("total")),disabled:g(s)},Me(g(e)("el.pagination.total",{total:r.total})),11,["disabled"]))}});var dSe=Xe(cSe,[["__file","total.vue"]]);const hSe=qe({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),fSe=Z({name:"ElPaginationPager"}),pSe=Z({...fSe,props:hSe,emits:["change"],setup(t,{emit:e}){const n=t,s=Fe("pager"),r=Fe("icon"),{t:a}=fn(),o=B(!1),i=B(!1),l=B(!1),u=B(!1),c=B(!1),d=B(!1),h=D(()=>{const _=n.pagerCount,C=(_-1)/2,x=Number(n.currentPage),T=Number(n.pageCount);let k=!1,N=!1;T>_&&(x>_-C&&(k=!0),x<T-C&&(N=!0));const O=[];if(k&&!N){const L=T-(_-2);for(let V=L;V<T;V++)O.push(V)}else if(!k&&N)for(let L=2;L<_;L++)O.push(L);else if(k&&N){const L=Math.floor(_/2)-1;for(let V=x-L;V<=x+L;V++)O.push(V)}else for(let L=2;L<T;L++)O.push(L);return O}),f=D(()=>["more","btn-quickprev",r.b(),s.is("disabled",n.disabled)]),p=D(()=>["more","btn-quicknext",r.b(),s.is("disabled",n.disabled)]),m=D(()=>n.disabled?-1:0);sr(()=>{const _=(n.pagerCount-1)/2;o.value=!1,i.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-_&&(o.value=!0),n.currentPage<n.pageCount-_&&(i.value=!0))});function y(_=!1){n.disabled||(_?l.value=!0:u.value=!0)}function v(_=!1){_?c.value=!0:d.value=!0}function b(_){const C=_.target;if(C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("number")){const x=Number(C.textContent);x!==n.currentPage&&e("change",x)}else C.tagName.toLowerCase()==="li"&&Array.from(C.classList).includes("more")&&w(_)}function w(_){const C=_.target;if(C.tagName.toLowerCase()==="ul"||n.disabled)return;let x=Number(C.textContent);const T=n.pageCount,k=n.currentPage,N=n.pagerCount-2;C.className.includes("more")&&(C.className.includes("quickprev")?x=k-N:C.className.includes("quicknext")&&(x=k+N)),Number.isNaN(+x)||(x<1&&(x=1),x>T&&(x=T)),x!==k&&e("change",x)}return(_,C)=>(S(),A("ul",{class:q(g(s).b()),onClick:w,onKeyup:Pn(b,["enter"])},[_.pageCount>0?(S(),A("li",{key:0,class:q([[g(s).is("active",_.currentPage===1),g(s).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,"aria-label":g(a)("el.pagination.currentPage",{pager:1}),tabindex:g(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):ce("v-if",!0),o.value?(S(),A("li",{key:1,class:q(g(f)),tabindex:g(m),"aria-label":g(a)("el.pagination.prevPages",{pager:_.pagerCount-2}),onMouseenter:x=>y(!0),onMouseleave:x=>l.value=!1,onFocus:x=>v(!0),onBlur:x=>c.value=!1},[(l.value||c.value)&&!_.disabled?(S(),be(g(Qc),{key:0})):(S(),be(g(WO),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):ce("v-if",!0),(S(!0),A(He,null,Ut(g(h),x=>(S(),A("li",{key:x,class:q([[g(s).is("active",_.currentPage===x),g(s).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===x,"aria-label":g(a)("el.pagination.currentPage",{pager:x}),tabindex:g(m)},Me(x),11,["aria-current","aria-label","tabindex"]))),128)),i.value?(S(),A("li",{key:2,class:q(g(p)),tabindex:g(m),"aria-label":g(a)("el.pagination.nextPages",{pager:_.pagerCount-2}),onMouseenter:x=>y(),onMouseleave:x=>u.value=!1,onFocus:x=>v(),onBlur:x=>d.value=!1},[(u.value||d.value)&&!_.disabled?(S(),be(g(Zc),{key:0})):(S(),be(g(WO),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):ce("v-if",!0),_.pageCount>1?(S(),A("li",{key:3,class:q([[g(s).is("active",_.currentPage===_.pageCount),g(s).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,"aria-label":g(a)("el.pagination.currentPage",{pager:_.pageCount}),tabindex:g(m)},Me(_.pageCount),11,["aria-current","aria-label","tabindex"])):ce("v-if",!0)],42,["onKeyup"]))}});var mSe=Xe(pSe,[["__file","pager.vue"]]);const Pa=t=>typeof t!="number",gSe=qe({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Tt(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:ve(Array),default:()=>hs([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Gn,default:()=>Yc},nextText:{type:String,default:""},nextIcon:{type:Gn,default:()=>Ga},teleported:{type:Boolean,default:!0},small:Boolean,size:_r,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),vSe={"update:current-page":t=>Tt(t),"update:page-size":t=>Tt(t),"size-change":t=>Tt(t),change:(t,e)=>Tt(t)&&Tt(e),"current-change":t=>Tt(t),"prev-click":t=>Tt(t),"next-click":t=>Tt(t)},sL="ElPagination";var ySe=Z({name:sL,props:gSe,emits:vSe,setup(t,{emit:e,slots:n}){const{t:s}=fn(),r=Fe("pagination"),a=Ht().vnode.props||{},o=D(()=>{var _;return t.small?"small":(_=t.size)!=null?_:dH().value});Vc({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},D(()=>!!t.small));const i="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,l="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,u=D(()=>{if(Pa(t.total)&&Pa(t.pageCount)||!Pa(t.currentPage)&&!i)return!1;if(t.layout.includes("sizes")){if(Pa(t.pageCount)){if(!Pa(t.total)&&!Pa(t.pageSize)&&!l)return!1}else if(!l)return!1}return!0}),c=B(Pa(t.defaultPageSize)?10:t.defaultPageSize),d=B(Pa(t.defaultCurrentPage)?1:t.defaultCurrentPage),h=D({get(){return Pa(t.pageSize)?c.value:t.pageSize},set(_){Pa(t.pageSize)&&(c.value=_),l&&(e("update:page-size",_),e("size-change",_))}}),f=D(()=>{let _=0;return Pa(t.pageCount)?Pa(t.total)||(_=Math.max(1,Math.ceil(t.total/h.value))):_=t.pageCount,_}),p=D({get(){return Pa(t.currentPage)?d.value:t.currentPage},set(_){let C=_;_<1?C=1:_>f.value&&(C=f.value),Pa(t.currentPage)&&(d.value=C),i&&(e("update:current-page",C),e("current-change",C))}});Ee(f,_=>{p.value>_&&(p.value=_)}),Ee([p,h],_=>{e("change",..._)},{flush:"post"});function m(_){p.value=_}function y(_){h.value=_;const C=f.value;p.value>C&&(p.value=C)}function v(){t.disabled||(p.value-=1,e("prev-click",p.value))}function b(){t.disabled||(p.value+=1,e("next-click",p.value))}function w(_,C){_&&(_.props||(_.props={}),_.props.class=[_.props.class,C].join(" "))}return At(nW,{pageCount:f,disabled:D(()=>t.disabled),currentPage:p,changeEvent:m,handleSizeChange:y}),()=>{var _,C;if(!u.value)return s("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&f.value<=1)return null;const x=[],T=[],k=pt("div",{class:r.e("rightwrapper")},T),N={prev:pt(OCe,{disabled:t.disabled,currentPage:p.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:v}),jumper:pt(iSe,{size:o.value}),pager:pt(mSe,{currentPage:p.value,pageCount:f.value,pagerCount:t.pagerCount,onChange:m,disabled:t.disabled}),next:pt(MCe,{disabled:t.disabled,currentPage:p.value,pageCount:f.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:b}),sizes:pt(sSe,{pageSize:h.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:o.value}),slot:(C=(_=n==null?void 0:n.default)==null?void 0:_.call(n))!=null?C:null,total:pt(dSe,{total:Pa(t.total)?0:t.total})},O=t.layout.split(",").map(V=>V.trim());let L=!1;return O.forEach(V=>{if(V==="->"){L=!0;return}L?T.push(N[V]):x.push(N[V])}),w(x[0],r.is("first")),w(x[x.length-1],r.is("last")),L&&T.length>0&&(w(T[0],r.is("first")),w(T[T.length-1],r.is("last")),x.push(k)),pt("div",{class:[r.b(),r.is("background",t.background),r.m(o.value)]},x)}}});const aW=Ft(ySe),bSe=qe({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:PS,default:"primary"},cancelButtonType:{type:String,values:PS,default:"text"},icon:{type:Gn,default:()=>Dge},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Dr.teleported,persistent:Dr.persistent,width:{type:[String,Number],default:150}}),_Se={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},wSe=Z({name:"ElPopconfirm"}),xSe=Z({...wSe,props:bSe,emits:_Se,setup(t,{emit:e}){const n=t,{t:s}=fn(),r=Fe("popconfirm"),a=B(),o=()=>{var h,f;(f=(h=a.value)==null?void 0:h.onClose)==null||f.call(h)},i=D(()=>({width:Es(n.width)})),l=h=>{e("confirm",h),o()},u=h=>{e("cancel",h),o()},c=D(()=>n.confirmButtonText||s("el.popconfirm.confirmButtonText")),d=D(()=>n.cancelButtonText||s("el.popconfirm.cancelButtonText"));return(h,f)=>(S(),be(g(ys),Kt({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},h.$attrs,{"popper-class":`${g(r).namespace.value}-popover`,"popper-style":g(i),teleported:h.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":h.hideAfter,persistent:h.persistent}),{content:se(()=>[I("div",{class:q(g(r).b())},[I("div",{class:q(g(r).e("main"))},[!h.hideIcon&&h.icon?(S(),be(g(Je),{key:0,class:q(g(r).e("icon")),style:yt({color:h.iconColor})},{default:se(()=>[(S(),be(Gt(h.icon)))]),_:1},8,["class","style"])):ce("v-if",!0),ct(" "+Me(h.title),1)],2),I("div",{class:q(g(r).e("action"))},[$(g(Hn),{size:"small",type:h.cancelButtonType==="text"?"":h.cancelButtonType,text:h.cancelButtonType==="text",onClick:u},{default:se(()=>[ct(Me(g(d)),1)]),_:1},8,["type","text"]),$(g(Hn),{size:"small",type:h.confirmButtonType==="text"?"":h.confirmButtonType,text:h.confirmButtonType==="text",onClick:l},{default:se(()=>[ct(Me(g(c)),1)]),_:1},8,["type","text"])],2)],2)]),default:se(()=>[h.$slots.reference?oe(h.$slots,"reference",{key:0}):ce("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var CSe=Xe(xSe,[["__file","popconfirm.vue"]]);const oW=Ft(CSe),SSe=qe({trigger:s1.trigger,placement:D_.placement,disabled:s1.disabled,visible:Dr.visible,transition:Dr.transition,popperOptions:D_.popperOptions,tabindex:D_.tabindex,content:Dr.content,popperStyle:Dr.popperStyle,popperClass:Dr.popperClass,enterable:{...Dr.enterable,default:!0},effect:{...Dr.effect,default:"light"},teleported:Dr.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),TSe={"update:visible":t=>Ms(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},kSe="onUpdate:visible",$Se=Z({name:"ElPopover"}),ESe=Z({...$Se,props:SSe,emits:TSe,setup(t,{expose:e,emit:n}){const s=t,r=D(()=>s[kSe]),a=Fe("popover"),o=B(),i=D(()=>{var y;return(y=g(o))==null?void 0:y.popperRef}),l=D(()=>[{width:Es(s.width)},s.popperStyle]),u=D(()=>[a.b(),s.popperClass,{[a.m("plain")]:!!s.content}]),c=D(()=>s.transition===`${a.namespace.value}-fade-in-linear`),d=()=>{var y;(y=o.value)==null||y.hide()},h=()=>{n("before-enter")},f=()=>{n("before-leave")},p=()=>{n("after-enter")},m=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:i,hide:d}),(y,v)=>(S(),be(g(ys),Kt({ref_key:"tooltipRef",ref:o},y.$attrs,{trigger:y.trigger,placement:y.placement,disabled:y.disabled,visible:y.visible,transition:y.transition,"popper-options":y.popperOptions,tabindex:y.tabindex,content:y.content,offset:y.offset,"show-after":y.showAfter,"hide-after":y.hideAfter,"auto-close":y.autoClose,"show-arrow":y.showArrow,"aria-label":y.title,effect:y.effect,enterable:y.enterable,"popper-class":g(u),"popper-style":g(l),teleported:y.teleported,persistent:y.persistent,"gpu-acceleration":g(c),"onUpdate:visible":g(r),onBeforeShow:h,onBeforeHide:f,onShow:p,onHide:m}),{content:se(()=>[y.title?(S(),A("div",{key:0,class:q(g(a).e("title")),role:"title"},Me(y.title),3)):ce("v-if",!0),oe(y.$slots,"default",{},()=>[ct(Me(y.content),1)])]),default:se(()=>[y.$slots.reference?oe(y.$slots,"reference",{key:0}):ce("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var ISe=Xe(ESe,[["__file","popover.vue"]]);const rL=(t,e)=>{const n=e.arg||e.value,s=n==null?void 0:n.popperRef;s&&(s.triggerRef=t)};var NSe={mounted(t,e){rL(t,e)},updated(t,e){rL(t,e)}};const ASe="popover",iW=n2e(NSe,ASe),eE=Ft(ISe,{directive:iW}),DSe=qe({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:ve(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:ve([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:ve(Function),default:t=>`${t}%`}}),OSe=Z({name:"ElProgress"}),RSe=Z({...OSe,props:DSe,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=Fe("progress"),r=D(()=>{const w={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},_=b(e.percentage);return _.includes("gradient")?w.background=_:w.backgroundColor=_,w}),a=D(()=>(e.strokeWidth/e.width*100).toFixed(1)),o=D(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),i=D(()=>{const w=o.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${w}
          a ${w} ${w} 0 1 1 0 ${_?"-":""}${w*2}
          a ${w} ${w} 0 1 1 0 ${_?"":"-"}${w*2}
          `}),l=D(()=>2*Math.PI*o.value),u=D(()=>e.type==="dashboard"?.75:1),c=D(()=>`${-1*l.value*(1-u.value)/2}px`),d=D(()=>({strokeDasharray:`${l.value*u.value}px, ${l.value}px`,strokeDashoffset:c.value})),h=D(()=>({strokeDasharray:`${l.value*u.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:c.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),f=D(()=>{let w;return e.color?w=b(e.percentage):w=n[e.status]||n.default,w}),p=D(()=>e.status==="warning"?K4:e.type==="line"?e.status==="success"?Q$:yd:e.status==="success"?J1:ol),m=D(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=D(()=>e.format(e.percentage));function v(w){const _=100/w.length;return w.map((x,T)=>qt(x)?{color:x,percentage:(T+1)*_}:x).sort((x,T)=>x.percentage-T.percentage)}const b=w=>{var _;const{color:C}=e;if(yn(C))return C(w);if(qt(C))return C;{const x=v(C);for(const T of x)if(T.percentage>w)return T.color;return(_=x[x.length-1])==null?void 0:_.color}};return(w,_)=>(S(),A("div",{class:q([g(s).b(),g(s).m(w.type),g(s).is(w.status),{[g(s).m("without-text")]:!w.showText,[g(s).m("text-inside")]:w.textInside}]),role:"progressbar","aria-valuenow":w.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[w.type==="line"?(S(),A("div",{key:0,class:q(g(s).b("bar"))},[I("div",{class:q(g(s).be("bar","outer")),style:yt({height:`${w.strokeWidth}px`})},[I("div",{class:q([g(s).be("bar","inner"),{[g(s).bem("bar","inner","indeterminate")]:w.indeterminate},{[g(s).bem("bar","inner","striped")]:w.striped},{[g(s).bem("bar","inner","striped-flow")]:w.stripedFlow}]),style:yt(g(r))},[(w.showText||w.$slots.default)&&w.textInside?(S(),A("div",{key:0,class:q(g(s).be("bar","innerText"))},[oe(w.$slots,"default",{percentage:w.percentage},()=>[I("span",null,Me(g(y)),1)])],2)):ce("v-if",!0)],6)],6)],2)):(S(),A("div",{key:1,class:q(g(s).b("circle")),style:yt({height:`${w.width}px`,width:`${w.width}px`})},[(S(),A("svg",{viewBox:"0 0 100 100"},[I("path",{class:q(g(s).be("circle","track")),d:g(i),stroke:`var(${g(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":w.strokeLinecap,"stroke-width":g(a),fill:"none",style:yt(g(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),I("path",{class:q(g(s).be("circle","path")),d:g(i),stroke:g(f),fill:"none",opacity:w.percentage?1:0,"stroke-linecap":w.strokeLinecap,"stroke-width":g(a),style:yt(g(h))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(w.showText||w.$slots.default)&&!w.textInside?(S(),A("div",{key:2,class:q(g(s).e("text")),style:yt({fontSize:`${g(m)}px`})},[oe(w.$slots,"default",{percentage:w.percentage},()=>[w.status?(S(),be(g(Je),{key:1},{default:se(()=>[(S(),be(Gt(g(p))))]),_:1})):(S(),A("span",{key:0},Me(g(y)),1))])],6)):ce("v-if",!0)],10,["aria-valuenow"]))}});var LSe=Xe(RSe,[["__file","progress.vue"]]);const lW=Ft(LSe),PSe=qe({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:ve([Array,Object]),default:()=>hs(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:ve([Array,Object]),default:()=>[Db,Db,Db]},voidIcon:{type:Gn,default:()=>qge},disabledVoidIcon:{type:Gn,default:()=>Db},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:ve(Array),default:()=>hs(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:_r,clearable:Boolean,...sa(["ariaLabel"])}),MSe={[ns]:t=>Tt(t),[Yt]:t=>Tt(t)},FSe=Z({name:"ElRate"}),BSe=Z({...FSe,props:PSe,emits:MSe,setup(t,{expose:e,emit:n}){const s=t;function r(R,W){const G=J=>Vn(J),P=Object.keys(W).map(J=>+J).filter(J=>{const ne=W[J];return(G(ne)?ne.excluded:!1)?R<J:R<=J}).sort((J,ne)=>J-ne),j=W[P[0]];return G(j)&&j.value||j}const a=Le(df,void 0),o=Le(Zl,void 0),i=or(),l=Fe("rate"),{inputId:u,isLabeledByFormItem:c}=ml(s,{formItemContext:o}),d=B(s.modelValue),h=B(-1),f=B(!0),p=D(()=>[l.b(),l.m(i.value)]),m=D(()=>s.disabled||(a==null?void 0:a.disabled)),y=D(()=>l.cssVarBlock({"void-color":s.voidColor,"disabled-void-color":s.disabledVoidColor,"fill-color":_.value})),v=D(()=>{let R="";return s.showScore?R=s.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${s.modelValue}`:`${d.value}`):s.showText&&(R=s.texts[Math.ceil(d.value)-1]),R}),b=D(()=>s.modelValue*100-Math.floor(s.modelValue)*100),w=D(()=>Mt(s.colors)?{[s.lowThreshold]:s.colors[0],[s.highThreshold]:{value:s.colors[1],excluded:!0},[s.max]:s.colors[2]}:s.colors),_=D(()=>{const R=r(d.value,w.value);return Vn(R)?"":R}),C=D(()=>{let R="";return m.value?R=`${b.value}%`:s.allowHalf&&(R="50%"),{color:_.value,width:R}}),x=D(()=>{let R=Mt(s.icons)?[...s.icons]:{...s.icons};return R=pi(R),Mt(R)?{[s.lowThreshold]:R[0],[s.highThreshold]:{value:R[1],excluded:!0},[s.max]:R[2]}:R}),T=D(()=>r(s.modelValue,x.value)),k=D(()=>m.value?qt(s.disabledVoidIcon)?s.disabledVoidIcon:pi(s.disabledVoidIcon):qt(s.voidIcon)?s.voidIcon:pi(s.voidIcon)),N=D(()=>r(d.value,x.value));function O(R){const W=m.value&&b.value>0&&R-1<s.modelValue&&R>s.modelValue,G=s.allowHalf&&f.value&&R-.5<=d.value&&R>d.value;return W||G}function L(R){s.clearable&&R===s.modelValue&&(R=0),n(Yt,R),s.modelValue!==R&&n("change",R)}function V(R){m.value||(s.allowHalf&&f.value?L(d.value):L(R))}function H(R){if(m.value)return;let W=d.value;const G=R.code;return G===gt.up||G===gt.right?(s.allowHalf?W+=.5:W+=1,R.stopPropagation(),R.preventDefault()):(G===gt.left||G===gt.down)&&(s.allowHalf?W-=.5:W-=1,R.stopPropagation(),R.preventDefault()),W=W<0?0:W,W=W>s.max?s.max:W,n(Yt,W),n("change",W),W}function K(R,W){if(!m.value){if(s.allowHalf&&W){let G=W.target;yo(G,l.e("item"))&&(G=G.querySelector(`.${l.e("icon")}`)),(G.clientWidth===0||yo(G,l.e("decimal")))&&(G=G.parentNode),f.value=W.offsetX*2<=G.clientWidth,d.value=f.value?R-.5:R}else d.value=R;h.value=R}}function U(){m.value||(s.allowHalf&&(f.value=s.modelValue!==Math.floor(s.modelValue)),d.value=s.modelValue,h.value=-1)}return Ee(()=>s.modelValue,R=>{d.value=R,f.value=s.modelValue!==Math.floor(s.modelValue)}),s.modelValue||n(Yt,0),e({setCurrentValue:K,resetCurrentValue:U}),(R,W)=>{var G;return S(),A("div",{id:g(u),class:q([g(p),g(l).is("disabled",g(m))]),role:"slider","aria-label":g(c)?void 0:R.ariaLabel||"rating","aria-labelledby":g(c)?(G=g(o))==null?void 0:G.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":g(v)||void 0,"aria-valuemin":"0","aria-valuemax":R.max,tabindex:"0",style:yt(g(y)),onKeydown:H},[(S(!0),A(He,null,Ut(R.max,(P,j)=>(S(),A("span",{key:j,class:q(g(l).e("item")),onMousemove:J=>K(P,J),onMouseleave:U,onClick:J=>V(P)},[$(g(Je),{class:q([g(l).e("icon"),{hover:h.value===P},g(l).is("active",P<=d.value)])},{default:se(()=>[O(P)?ce("v-if",!0):(S(),A(He,{key:0},[zt((S(),be(Gt(g(N)),null,null,512)),[[gn,P<=d.value]]),zt((S(),be(Gt(g(k)),null,null,512)),[[gn,!(P<=d.value)]])],64)),O(P)?(S(),A(He,{key:1},[(S(),be(Gt(g(k)),{class:q([g(l).em("decimal","box")])},null,8,["class"])),$(g(Je),{style:yt(g(C)),class:q([g(l).e("icon"),g(l).e("decimal")])},{default:se(()=>[(S(),be(Gt(g(T))))]),_:1},8,["style","class"])],64)):ce("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),R.showText||R.showScore?(S(),A("span",{key:0,class:q(g(l).e("text")),style:yt({color:R.textColor})},Me(g(v)),7)):ce("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var zSe=Xe(BSe,[["__file","rate.vue"]]);const VSe=Ft(zSe),fp={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},aL={[fp.success]:age,[fp.warning]:K4,[fp.error]:Z$,[fp.info]:J$},HSe=qe({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),USe=Z({name:"ElResult"}),WSe=Z({...USe,props:HSe,setup(t){const e=t,n=Fe("result"),s=D(()=>{const r=e.icon,a=r&&fp[r]?fp[r]:"icon-info",o=aL[a]||aL["icon-info"];return{class:a,component:o}});return(r,a)=>(S(),A("div",{class:q(g(n).b())},[I("div",{class:q(g(n).e("icon"))},[oe(r.$slots,"icon",{},()=>[g(s).component?(S(),be(Gt(g(s).component),{key:0,class:q(g(s).class)},null,8,["class"])):ce("v-if",!0)])],2),r.title||r.$slots.title?(S(),A("div",{key:0,class:q(g(n).e("title"))},[oe(r.$slots,"title",{},()=>[I("p",null,Me(r.title),1)])],2)):ce("v-if",!0),r.subTitle||r.$slots["sub-title"]?(S(),A("div",{key:1,class:q(g(n).e("subtitle"))},[oe(r.$slots,"sub-title",{},()=>[I("p",null,Me(r.subTitle),1)])],2)):ce("v-if",!0),r.$slots.extra?(S(),A("div",{key:2,class:q(g(n).e("extra"))},[oe(r.$slots,"extra")],2)):ce("v-if",!0)],2))}});var jSe=Xe(WSe,[["__file","result.vue"]]);const GSe=Ft(jSe);var oL=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function qSe(t,e){return!!(t===e||oL(t)&&oL(e))}function KSe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!qSe(t[n],e[n]))return!1;return!0}function XSe(t,e){e===void 0&&(e=KSe);var n=null;function s(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return s.clear=function(){n=null},s}const uW=()=>{const e=Ht().proxy.$props;return D(()=>{const n=(s,r,a)=>({});return e.perfMode?W4(n):XSe(n)})},sT=50,p3="itemRendered",m3="scroll",pp="forward",g3="backward",bi="auto",vw="smart",a1="start",Al="center",o1="end",Yp="horizontal",tE="vertical",YSe="ltr",kp="rtl",i1="negative",nE="positive-ascending",sE="positive-descending",QSe={[Yp]:"left",[tE]:"top"},ZSe=20,JSe={[Yp]:"deltaX",[tE]:"deltaY"},eTe=({atEndEdge:t,atStartEdge:e,layout:n},s)=>{let r,a=0;const o=l=>l<0&&e.value||l>0&&t.value;return{hasReachedEdge:o,onWheel:l=>{Dh(r);const u=l[JSe[n.value]];o(a)&&o(a+u)||(a+=u,N$()||l.preventDefault(),r=Xc(()=>{s(a),a=0}))}}},rT=fl({type:ve([Number,Function]),required:!0}),aT=fl({type:Number}),oT=fl({type:Number,default:2}),tTe=fl({type:String,values:["ltr","rtl"],default:"ltr"}),iT=fl({type:Number,default:0}),v3=fl({type:Number,required:!0}),cW=fl({type:String,values:["horizontal","vertical"],default:tE}),dW=qe({className:{type:String,default:""},containerElement:{type:ve([String,Object]),default:"div"},data:{type:ve(Array),default:()=>hs([])},direction:tTe,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:ve([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),hW=qe({cache:oT,estimatedItemSize:aT,layout:cW,initScrollOffset:iT,total:v3,itemSize:rT,...dW}),lT={type:Number,default:6},fW={type:Number,default:0},pW={type:Number,default:2},yh=qe({columnCache:oT,columnWidth:rT,estimatedColumnWidth:aT,estimatedRowHeight:aT,initScrollLeft:iT,initScrollTop:iT,itemKey:{type:ve(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:oT,rowHeight:rT,totalColumn:v3,totalRow:v3,hScrollbarSize:lT,vScrollbarSize:lT,scrollbarStartGap:fW,scrollbarEndGap:pW,role:String,...dW}),mW=qe({alwaysOn:Boolean,class:String,layout:cW,total:v3,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:lT,startGap:fW,endGap:pW,visible:Boolean}),lh=(t,e)=>t<e?pp:g3,l1=t=>t===YSe||t===kp||t===Yp,iL=t=>t===kp;let qf=null;function y3(t=!1){if(qf===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const s=document.createElement("div"),r=s.style;return r.width="100px",r.height="100px",e.appendChild(s),document.body.appendChild(e),e.scrollLeft>0?qf=sE:(e.scrollLeft=1,e.scrollLeft===0?qf=i1:qf=nE),document.body.removeChild(e),qf}return qf}function nTe({move:t,size:e,bar:n},s){const r={},a=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=a,r.msTransform=a,r.webkitTransform=a,s==="horizontal"?r.height="100%":r.width="100%",r}const uT=Z({name:"ElVirtualScrollBar",props:mW,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=D(()=>t.startGap+t.endGap),s=Fe("virtual-scrollbar"),r=Fe("scrollbar"),a=B(),o=B();let i=null,l=null;const u=an({isDragging:!1,traveled:0}),c=D(()=>vH[t.layout]),d=D(()=>t.clientSize-g(n)),h=D(()=>({position:"absolute",width:`${Yp===t.layout?d.value:t.scrollbarSize}px`,height:`${Yp===t.layout?t.scrollbarSize:d.value}px`,[QSe[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),f=D(()=>{const x=t.ratio,T=t.clientSize;if(x>=100)return Number.POSITIVE_INFINITY;if(x>=50)return x*T/100;const k=T/3;return Math.floor(Math.min(Math.max(x*T,ZSe),k))}),p=D(()=>{if(!Number.isFinite(f.value))return{display:"none"};const x=`${f.value}px`;return nTe({bar:c.value,size:x,move:u.traveled},t.layout)}),m=D(()=>Math.floor(t.clientSize-f.value-g(n))),y=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",w);const x=g(o);x&&(l=document.onselectstart,document.onselectstart=()=>!1,x.addEventListener("touchmove",_,{passive:!0}),x.addEventListener("touchend",w))},v=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",w),document.onselectstart=l,l=null;const x=g(o);x&&(x.removeEventListener("touchmove",_),x.removeEventListener("touchend",w))},b=x=>{x.stopImmediatePropagation(),!(x.ctrlKey||[1,2].includes(x.button))&&(u.isDragging=!0,u[c.value.axis]=x.currentTarget[c.value.offset]-(x[c.value.client]-x.currentTarget.getBoundingClientRect()[c.value.direction]),e("start-move"),y())},w=()=>{u.isDragging=!1,u[c.value.axis]=0,e("stop-move"),v()},_=x=>{const{isDragging:T}=u;if(!T||!o.value||!a.value)return;const k=u[c.value.axis];if(!k)return;Dh(i);const N=(a.value.getBoundingClientRect()[c.value.direction]-x[c.value.client])*-1,O=o.value[c.value.offset]-k,L=N-O;i=Xc(()=>{u.traveled=Math.max(t.startGap,Math.min(L,m.value)),e("scroll",L,m.value)})},C=x=>{const T=Math.abs(x.target.getBoundingClientRect()[c.value.direction]-x[c.value.client]),k=o.value[c.value.offset]/2,N=T-k;u.traveled=Math.max(0,Math.min(N,m.value)),e("scroll",N,m.value)};return Ee(()=>t.scrollFrom,x=>{u.isDragging||(u.traveled=Math.ceil(x*m.value))}),ts(()=>{v()}),()=>pt("div",{role:"presentation",ref:a,class:[s.b(),t.class,(t.alwaysOn||u.isDragging)&&"always-on"],style:h.value,onMousedown:xt(C,["stop","prevent"]),onTouchstartPrevent:b},pt("div",{ref:o,class:r.e("thumb"),style:p.value,onMousedown:b},[]))}}),gW=({name:t,getOffset:e,getItemSize:n,getItemOffset:s,getEstimatedTotalSize:r,getStartIndexForOffset:a,getStopIndexForStartIndex:o,initCache:i,clearCache:l,validateProps:u})=>Z({name:t??"ElVirtualList",props:hW,emits:[p3,m3],setup(c,{emit:d,expose:h}){u(c);const f=Ht(),p=Fe("vl"),m=B(i(c,f)),y=uW(),v=B(),b=B(),w=B(),_=B({isScrolling:!1,scrollDir:"forward",scrollOffset:Tt(c.initScrollOffset)?c.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:c.scrollbarAlwaysOn}),C=D(()=>{const{total:te,cache:de}=c,{isScrolling:me,scrollDir:_e,scrollOffset:ee}=g(_);if(te===0)return[0,0,0,0];const he=a(c,ee,g(m)),le=o(c,he,ee,g(m)),ue=!me||_e===g3?Math.max(1,de):1,re=!me||_e===pp?Math.max(1,de):1;return[Math.max(0,he-ue),Math.max(0,Math.min(te-1,le+re)),he,le]}),x=D(()=>r(c,g(m))),T=D(()=>l1(c.layout)),k=D(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:c.direction,height:Tt(c.height)?`${c.height}px`:c.height,width:Tt(c.width)?`${c.width}px`:c.width},c.style]),N=D(()=>{const te=g(x),de=g(T);return{height:de?"100%":`${te}px`,pointerEvents:g(_).isScrolling?"none":void 0,width:de?`${te}px`:"100%"}}),O=D(()=>T.value?c.width:c.height),{onWheel:L}=eTe({atStartEdge:D(()=>_.value.scrollOffset<=0),atEndEdge:D(()=>_.value.scrollOffset>=x.value),layout:D(()=>c.layout)},te=>{var de,me;(me=(de=w.value).onMouseUp)==null||me.call(de),W(Math.min(_.value.scrollOffset+te,x.value-O.value))});Fn(v,"wheel",L,{passive:!1});const V=()=>{const{total:te}=c;if(te>0){const[ee,he,le,ue]=g(C);d(p3,ee,he,le,ue)}const{scrollDir:de,scrollOffset:me,updateRequested:_e}=g(_);d(m3,de,me,_e)},H=te=>{const{clientHeight:de,scrollHeight:me,scrollTop:_e}=te.currentTarget,ee=g(_);if(ee.scrollOffset===_e)return;const he=Math.max(0,Math.min(_e,me-de));_.value={...ee,isScrolling:!0,scrollDir:lh(ee.scrollOffset,he),scrollOffset:he,updateRequested:!1},it(j)},K=te=>{const{clientWidth:de,scrollLeft:me,scrollWidth:_e}=te.currentTarget,ee=g(_);if(ee.scrollOffset===me)return;const{direction:he}=c;let le=me;if(he===kp)switch(y3()){case i1:{le=-me;break}case sE:{le=_e-de-me;break}}le=Math.max(0,Math.min(le,_e-de)),_.value={...ee,isScrolling:!0,scrollDir:lh(ee.scrollOffset,le),scrollOffset:le,updateRequested:!1},it(j)},U=te=>{g(T)?K(te):H(te),V()},R=(te,de)=>{const me=(x.value-O.value)/de*te;W(Math.min(x.value-O.value,me))},W=te=>{te=Math.max(te,0),te!==g(_).scrollOffset&&(_.value={...g(_),scrollOffset:te,scrollDir:lh(g(_).scrollOffset,te),updateRequested:!0},it(j))},G=(te,de=bi)=>{const{scrollOffset:me}=g(_);te=Math.max(0,Math.min(te,c.total-1)),W(e(c,te,de,me,g(m)))},P=te=>{const{direction:de,itemSize:me,layout:_e}=c,ee=y.value(l&&me,l&&_e,l&&de);let he;if(fa(ee,String(te)))he=ee[te];else{const le=s(c,te,g(m)),ue=n(c,te,g(m)),re=g(T),we=de===kp,Ae=re?le:0;ee[te]=he={position:"absolute",left:we?void 0:`${Ae}px`,right:we?`${Ae}px`:void 0,top:re?0:`${le}px`,height:re?"100%":`${ue}px`,width:re?`${ue}px`:"100%"}}return he},j=()=>{_.value.isScrolling=!1,it(()=>{y.value(-1,null,null)})},J=()=>{const te=v.value;te&&(te.scrollTop=0)};Et(()=>{if(!hn)return;const{initScrollOffset:te}=c,de=g(v);Tt(te)&&de&&(g(T)?de.scrollLeft=te:de.scrollTop=te),V()}),gd(()=>{const{direction:te,layout:de}=c,{scrollOffset:me,updateRequested:_e}=g(_),ee=g(v);if(_e&&ee)if(de===Yp)if(te===kp)switch(y3()){case i1:{ee.scrollLeft=-me;break}case nE:{ee.scrollLeft=me;break}default:{const{clientWidth:he,scrollWidth:le}=ee;ee.scrollLeft=le-he-me;break}}else ee.scrollLeft=me;else ee.scrollTop=me}),gz(()=>{g(v).scrollTop=g(_).scrollOffset});const ne={ns:p,clientSize:O,estimatedTotalSize:x,windowStyle:k,windowRef:v,innerRef:b,innerStyle:N,itemsToRender:C,scrollbarRef:w,states:_,getItemStyle:P,onScroll:U,onScrollbarScroll:R,onWheel:L,scrollTo:W,scrollToItem:G,resetScrollTop:J};return h({windowRef:v,innerRef:b,getItemStyleCache:y,scrollTo:W,scrollToItem:G,resetScrollTop:J,states:_}),ne},render(c){var d;const{$slots:h,className:f,clientSize:p,containerElement:m,data:y,getItemStyle:v,innerElement:b,itemsToRender:w,innerStyle:_,layout:C,total:x,onScroll:T,onScrollbarScroll:k,states:N,useIsScrolling:O,windowStyle:L,ns:V}=c,[H,K]=w,U=Gt(m),R=Gt(b),W=[];if(x>0)for(let J=H;J<=K;J++)W.push((d=h.default)==null?void 0:d.call(h,{data:y,key:J,index:J,isScrolling:O?N.isScrolling:void 0,style:v(J)}));const G=[pt(R,{style:_,ref:"innerRef"},qt(R)?W:{default:()=>W})],P=pt(uT,{ref:"scrollbarRef",clientSize:p,layout:C,onScroll:k,ratio:p*100/this.estimatedTotalSize,scrollFrom:N.scrollOffset/(this.estimatedTotalSize-p),total:x}),j=pt(U,{class:[V.e("window"),f],style:L,onScroll:T,ref:"windowRef",key:0},qt(U)?[G]:{default:()=>[G]});return pt("div",{key:0,class:[V.e("wrapper"),N.scrollbarAlwaysOn?"always-on":""]},[j,P])}}),vW=gW({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:s,width:r},a,o,i)=>{const l=l1(s)?r:t,u=Math.max(0,e*n-l),c=Math.min(u,a*n),d=Math.max(0,(a+1)*n-l);switch(o===vw&&(i>=d-l&&i<=c+l?o=bi:o=Al),o){case a1:return c;case o1:return d;case Al:{const h=Math.round(d+(c-d)/2);return h<Math.ceil(l/2)?0:h>u+Math.floor(l/2)?u:h}case bi:default:return i>=d&&i<=c?i:i<d?d:c}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:s,width:r},a,o)=>{const i=a*n,l=l1(s)?r:t,u=Math.ceil((l+o-i)/n);return Math.max(0,Math.min(e-1,a+u-1))},initCache(){},clearCache:!0,validateProps(){}}),mp=(t,e,n)=>{const{itemSize:s}=t,{items:r,lastVisitedIndex:a}=n;if(e>a){let o=0;if(a>=0){const i=r[a];o=i.offset+i.size}for(let i=a+1;i<=e;i++){const l=s(i);r[i]={offset:o,size:l},o+=l}n.lastVisitedIndex=e}return r[e]},sTe=(t,e,n)=>{const{items:s,lastVisitedIndex:r}=e;return(r>0?s[r].offset:0)>=n?yW(t,e,0,r,n):rTe(t,e,Math.max(0,r),n)},yW=(t,e,n,s,r)=>{for(;n<=s;){const a=n+Math.floor((s-n)/2),o=mp(t,a,e).offset;if(o===r)return a;o<r?n=a+1:o>r&&(s=a-1)}return Math.max(0,n-1)},rTe=(t,e,n,s)=>{const{total:r}=t;let a=1;for(;n<r&&mp(t,n,e).offset<s;)n+=a,a*=2;return yW(t,e,Math.floor(n/2),Math.min(n,r-1),s)},lL=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:s})=>{let r=0;if(s>=t&&(s=t-1),s>=0){const i=e[s];r=i.offset+i.size}const o=(t-s-1)*n;return r+o},aTe=gW({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>mp(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:lL,getOffset:(t,e,n,s,r)=>{const{height:a,layout:o,width:i}=t,l=l1(o)?i:a,u=mp(t,e,r),c=lL(t,r),d=Math.max(0,Math.min(c-l,u.offset)),h=Math.max(0,u.offset-l+u.size);switch(n===vw&&(s>=h-l&&s<=d+l?n=bi:n=Al),n){case a1:return d;case o1:return h;case Al:return Math.round(h+(d-h)/2);case bi:default:return s>=h&&s<=d?s:s<h?h:d}},getStartIndexForOffset:(t,e,n)=>sTe(t,n,e),getStopIndexForStartIndex:(t,e,n,s)=>{const{height:r,total:a,layout:o,width:i}=t,l=l1(o)?i:r,u=mp(t,e,s),c=n+l;let d=u.offset+u.size,h=e;for(;h<a-1&&d<c;)h++,d+=mp(t,h,s).size;return h},initCache({estimatedItemSize:t=sT},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(s,r=!0)=>{var a,o;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,s-1),(a=e.exposed)==null||a.getItemStyleCache(-1),r&&((o=e.proxy)==null||o.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),oTe=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:s},r)=>{let a=null,o=0,i=0;const l=(c,d)=>{const h=c<=0&&e.value||c>=0&&t.value,f=d<=0&&s.value||d>=0&&n.value;return h&&f};return{hasReachedEdge:l,onWheel:c=>{Dh(a);let d=c.deltaX,h=c.deltaY;Math.abs(d)>Math.abs(h)?h=0:d=0,c.shiftKey&&h!==0&&(d=h,h=0),!(l(o,i)&&l(o+d,i+h))&&(o+=d,i+=h,c.preventDefault(),a=Xc(()=>{r(o,i),o=0,i=0}))}}},bW=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:s,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:o,getColumnOffset:i,getRowOffset:l,getRowPosition:u,getRowStartIndexForOffset:c,getRowStopIndexForStartIndex:d,initCache:h,injectToInstance:f,validateProps:p})=>Z({name:t??"ElVirtualList",props:yh,emits:[p3,m3],setup(m,{emit:y,expose:v,slots:b}){const w=Fe("vl");p(m);const _=Ht(),C=B(h(m,_));f==null||f(_,C);const x=B(),T=B(),k=B(),N=B(null),O=B({isScrolling:!1,scrollLeft:Tt(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:Tt(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:pp,yAxisScrollDir:pp}),L=uW(),V=D(()=>Number.parseInt(`${m.height}`,10)),H=D(()=>Number.parseInt(`${m.width}`,10)),K=D(()=>{const{totalColumn:Pe,totalRow:je,columnCache:dt}=m,{isScrolling:Qe,xAxisScrollDir:wt,scrollLeft:vt}=g(O);if(Pe===0||je===0)return[0,0,0,0];const Ge=s(m,vt,g(C)),fe=r(m,Ge,vt,g(C)),_t=!Qe||wt===g3?Math.max(1,dt):1,Dt=!Qe||wt===pp?Math.max(1,dt):1;return[Math.max(0,Ge-_t),Math.max(0,Math.min(Pe-1,fe+Dt)),Ge,fe]}),U=D(()=>{const{totalColumn:Pe,totalRow:je,rowCache:dt}=m,{isScrolling:Qe,yAxisScrollDir:wt,scrollTop:vt}=g(O);if(Pe===0||je===0)return[0,0,0,0];const Ge=c(m,vt,g(C)),fe=d(m,Ge,vt,g(C)),_t=!Qe||wt===g3?Math.max(1,dt):1,Dt=!Qe||wt===pp?Math.max(1,dt):1;return[Math.max(0,Ge-_t),Math.max(0,Math.min(je-1,fe+Dt)),Ge,fe]}),R=D(()=>a(m,g(C))),W=D(()=>o(m,g(C))),G=D(()=>{var Pe;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:Tt(m.height)?`${m.height}px`:m.height,width:Tt(m.width)?`${m.width}px`:m.width},(Pe=m.style)!=null?Pe:{}]}),P=D(()=>{const Pe=`${g(W)}px`;return{height:`${g(R)}px`,pointerEvents:g(O).isScrolling?"none":void 0,width:Pe}}),j=()=>{const{totalColumn:Pe,totalRow:je}=m;if(Pe>0&&je>0){const[fe,_t,Dt,Qt]=g(K),[rn,Cn,Ct,It]=g(U);y(p3,{columnCacheStart:fe,columnCacheEnd:_t,rowCacheStart:rn,rowCacheEnd:Cn,columnVisibleStart:Dt,columnVisibleEnd:Qt,rowVisibleStart:Ct,rowVisibleEnd:It})}const{scrollLeft:dt,scrollTop:Qe,updateRequested:wt,xAxisScrollDir:vt,yAxisScrollDir:Ge}=g(O);y(m3,{xAxisScrollDir:vt,scrollLeft:dt,yAxisScrollDir:Ge,scrollTop:Qe,updateRequested:wt})},J=Pe=>{const{clientHeight:je,clientWidth:dt,scrollHeight:Qe,scrollLeft:wt,scrollTop:vt,scrollWidth:Ge}=Pe.currentTarget,fe=g(O);if(fe.scrollTop===vt&&fe.scrollLeft===wt)return;let _t=wt;if(iL(m.direction))switch(y3()){case i1:_t=-wt;break;case sE:_t=Ge-dt-wt;break}O.value={...fe,isScrolling:!0,scrollLeft:_t,scrollTop:Math.max(0,Math.min(vt,Qe-je)),updateRequested:!0,xAxisScrollDir:lh(fe.scrollLeft,_t),yAxisScrollDir:lh(fe.scrollTop,vt)},it(()=>he()),le(),j()},ne=(Pe,je)=>{const dt=g(V),Qe=(R.value-dt)/je*Pe;me({scrollTop:Math.min(R.value-dt,Qe)})},te=(Pe,je)=>{const dt=g(H),Qe=(W.value-dt)/je*Pe;me({scrollLeft:Math.min(W.value-dt,Qe)})},{onWheel:de}=oTe({atXStartEdge:D(()=>O.value.scrollLeft<=0),atXEndEdge:D(()=>O.value.scrollLeft>=W.value-g(H)),atYStartEdge:D(()=>O.value.scrollTop<=0),atYEndEdge:D(()=>O.value.scrollTop>=R.value-g(V))},(Pe,je)=>{var dt,Qe,wt,vt;(Qe=(dt=T.value)==null?void 0:dt.onMouseUp)==null||Qe.call(dt),(vt=(wt=k.value)==null?void 0:wt.onMouseUp)==null||vt.call(wt);const Ge=g(H),fe=g(V);me({scrollLeft:Math.min(O.value.scrollLeft+Pe,W.value-Ge),scrollTop:Math.min(O.value.scrollTop+je,R.value-fe)})});Fn(x,"wheel",de,{passive:!1});const me=({scrollLeft:Pe=O.value.scrollLeft,scrollTop:je=O.value.scrollTop})=>{Pe=Math.max(Pe,0),je=Math.max(je,0);const dt=g(O);je===dt.scrollTop&&Pe===dt.scrollLeft||(O.value={...dt,xAxisScrollDir:lh(dt.scrollLeft,Pe),yAxisScrollDir:lh(dt.scrollTop,je),scrollLeft:Pe,scrollTop:je,updateRequested:!0},it(()=>he()),le(),j())},_e=(Pe=0,je=0,dt=bi)=>{const Qe=g(O);je=Math.max(0,Math.min(je,m.totalColumn-1)),Pe=Math.max(0,Math.min(Pe,m.totalRow-1));const wt=SV(w.namespace.value),vt=g(C),Ge=a(m,vt),fe=o(m,vt);me({scrollLeft:i(m,je,dt,Qe.scrollLeft,vt,fe>m.width?wt:0),scrollTop:l(m,Pe,dt,Qe.scrollTop,vt,Ge>m.height?wt:0)})},ee=(Pe,je)=>{const{columnWidth:dt,direction:Qe,rowHeight:wt}=m,vt=L.value(e&&dt,e&&wt,e&&Qe),Ge=`${Pe},${je}`;if(fa(vt,Ge))return vt[Ge];{const[,fe]=n(m,je,g(C)),_t=g(C),Dt=iL(Qe),[Qt,rn]=u(m,Pe,_t),[Cn]=n(m,je,_t);return vt[Ge]={position:"absolute",left:Dt?void 0:`${fe}px`,right:Dt?`${fe}px`:void 0,top:`${rn}px`,height:`${Qt}px`,width:`${Cn}px`},vt[Ge]}},he=()=>{O.value.isScrolling=!1,it(()=>{L.value(-1,null,null)})};Et(()=>{if(!hn)return;const{initScrollLeft:Pe,initScrollTop:je}=m,dt=g(x);dt&&(Tt(Pe)&&(dt.scrollLeft=Pe),Tt(je)&&(dt.scrollTop=je)),j()});const le=()=>{const{direction:Pe}=m,{scrollLeft:je,scrollTop:dt,updateRequested:Qe}=g(O),wt=g(x);if(Qe&&wt){if(Pe===kp)switch(y3()){case i1:{wt.scrollLeft=-je;break}case nE:{wt.scrollLeft=je;break}default:{const{clientWidth:vt,scrollWidth:Ge}=wt;wt.scrollLeft=Ge-vt-je;break}}else wt.scrollLeft=Math.max(0,je);wt.scrollTop=Math.max(0,dt)}},{resetAfterColumnIndex:ue,resetAfterRowIndex:re,resetAfter:we}=_.proxy;v({windowRef:x,innerRef:N,getItemStyleCache:L,scrollTo:me,scrollToItem:_e,states:O,resetAfterColumnIndex:ue,resetAfterRowIndex:re,resetAfter:we});const Ae=()=>{const{scrollbarAlwaysOn:Pe,scrollbarStartGap:je,scrollbarEndGap:dt,totalColumn:Qe,totalRow:wt}=m,vt=g(H),Ge=g(V),fe=g(W),_t=g(R),{scrollLeft:Dt,scrollTop:Qt}=g(O),rn=pt(uT,{ref:T,alwaysOn:Pe,startGap:je,endGap:dt,class:w.e("horizontal"),clientSize:vt,layout:"horizontal",onScroll:te,ratio:vt*100/fe,scrollFrom:Dt/(fe-vt),total:wt,visible:!0}),Cn=pt(uT,{ref:k,alwaysOn:Pe,startGap:je,endGap:dt,class:w.e("vertical"),clientSize:Ge,layout:"vertical",onScroll:ne,ratio:Ge*100/_t,scrollFrom:Qt/(_t-Ge),total:Qe,visible:!0});return{horizontalScrollbar:rn,verticalScrollbar:Cn}},Ue=()=>{var Pe;const[je,dt]=g(K),[Qe,wt]=g(U),{data:vt,totalColumn:Ge,totalRow:fe,useIsScrolling:_t,itemKey:Dt}=m,Qt=[];if(fe>0&&Ge>0)for(let rn=Qe;rn<=wt;rn++)for(let Cn=je;Cn<=dt;Cn++)Qt.push((Pe=b.default)==null?void 0:Pe.call(b,{columnIndex:Cn,data:vt,key:Dt({columnIndex:Cn,data:vt,rowIndex:rn}),isScrolling:_t?g(O).isScrolling:void 0,style:ee(rn,Cn),rowIndex:rn}));return Qt},at=()=>{const Pe=Gt(m.innerElement),je=Ue();return[pt(Pe,{style:g(P),ref:N},qt(Pe)?je:{default:()=>je})]};return()=>{const Pe=Gt(m.containerElement),{horizontalScrollbar:je,verticalScrollbar:dt}=Ae(),Qe=at();return pt("div",{key:0,class:w.e("wrapper"),role:m.role},[pt(Pe,{class:m.className,style:g(G),onScroll:J,ref:x},qt(Pe)?Qe:{default:()=>Qe}),je,dt])}}}),iTe=bW({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},s,r,a,o,i)=>{n=Number(n);const l=Math.max(0,t*e-n),u=Math.min(l,s*e),c=Math.max(0,s*e-n+i+e);switch(r==="smart"&&(a>=c-n&&a<=u+n?r=bi:r=Al),r){case a1:return u;case o1:return c;case Al:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(n/2)?0:d>l+Math.floor(n/2)?l:d}case bi:default:return a>=c&&a<=u?a:c>u||a<c?c:u}},getRowOffset:({rowHeight:t,height:e,totalRow:n},s,r,a,o,i)=>{e=Number(e);const l=Math.max(0,n*t-e),u=Math.min(l,s*t),c=Math.max(0,s*t-e+i+t);switch(r===vw&&(a>=c-e&&a<=u+e?r=bi:r=Al),r){case a1:return u;case o1:return c;case Al:{const d=Math.round(c+(u-c)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case bi:default:return a>=c&&a<=u?a:c>u||a<c?c:u}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},s,r)=>{const a=s*t,o=Math.ceil((n+r-a)/t);return Math.max(0,Math.min(e-1,s+o-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},s,r)=>{const a=s*t,o=Math.ceil((n+r-a)/t);return Math.max(0,Math.min(e-1,s+o-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:b3,min:_W,floor:wW}=Math,lTe={column:"columnWidth",row:"rowHeight"},cT={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},yu=(t,e,n,s)=>{const[r,a,o]=[n[s],t[lTe[s]],n[cT[s]]];if(e>o){let i=0;if(o>=0){const l=r[o];i=l.offset+l.size}for(let l=o+1;l<=e;l++){const u=a(l);r[l]={offset:i,size:u},i+=u}n[cT[s]]=e}return r[e]},xW=(t,e,n,s,r,a)=>{for(;n<=s;){const o=n+wW((s-n)/2),i=yu(t,o,e,a).offset;if(i===r)return o;i<r?n=o+1:s=o-1}return b3(0,n-1)},uTe=(t,e,n,s,r)=>{const a=r==="column"?t.totalColumn:t.totalRow;let o=1;for(;n<a&&yu(t,n,e,r).offset<s;)n+=o,o*=2;return xW(t,e,wW(n/2),_W(n,a-1),s,r)},uL=(t,e,n,s)=>{const[r,a]=[e[s],e[cT[s]]];return(a>0?r[a].offset:0)>=n?xW(t,e,0,a,n,s):uTe(t,e,b3(0,a),n,s)},CW=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:s})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const i=s[n];r=i.offset+i.size}const o=(t-n-1)*e;return r+o},SW=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:s})=>{let r=0;if(s>t&&(s=t-1),s>=0){const i=e[s];r=i.offset+i.size}const o=(t-s-1)*n;return r+o},cTe={column:SW,row:CW},cL=(t,e,n,s,r,a,o)=>{const[i,l]=[a==="row"?t.height:t.width,cTe[a]],u=yu(t,e,r,a),c=l(t,r),d=b3(0,_W(c-i,u.offset)),h=b3(0,u.offset-i+o+u.size);switch(n===vw&&(s>=h-i&&s<=d+i?n=bi:n=Al),n){case a1:return d;case o1:return h;case Al:return Math.round(h+(d-h)/2);case bi:default:return s>=h&&s<=d?s:h>d||s<h?h:d}},dTe=bW({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const s=yu(t,e,n,"column");return[s.size,s.offset]},getRowPosition:(t,e,n)=>{const s=yu(t,e,n,"row");return[s.size,s.offset]},getColumnOffset:(t,e,n,s,r,a)=>cL(t,e,n,s,r,"column",a),getRowOffset:(t,e,n,s,r,a)=>cL(t,e,n,s,r,"row",a),getColumnStartIndexForOffset:(t,e,n)=>uL(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,s)=>{const r=yu(t,e,s,"column"),a=n+t.width;let o=r.offset+r.size,i=e;for(;i<t.totalColumn-1&&o<a;)i++,o+=yu(t,e,s,"column").size;return i},getEstimatedTotalHeight:CW,getEstimatedTotalWidth:SW,getRowStartIndexForOffset:(t,e,n)=>uL(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,s)=>{const{totalRow:r,height:a}=t,o=yu(t,e,s,"row"),i=n+a;let l=o.size+o.offset,u=e;for(;u<r-1&&l<i;)u++,l+=yu(t,u,s,"row").size;return u},injectToInstance:(t,e)=>{const n=({columnIndex:a,rowIndex:o},i)=>{var l,u;i=$s(i)?!0:i,Tt(a)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,a-1)),Tt(o)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,o-1)),(l=t.exposed)==null||l.getItemStyleCache.value(-1,null,null),i&&((u=t.proxy)==null||u.$forceUpdate())},s=(a,o)=>{n({columnIndex:a},o)},r=(a,o)=>{n({rowIndex:a},o)};Object.assign(t.proxy,{resetAfterColumnIndex:s,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:t=sT,estimatedRowHeight:e=sT})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),hTe=Z({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Fe("select")}}});function fTe(t,e,n,s,r,a){return S(),A("div",{class:q(t.ns.be("group","title")),style:yt([t.style,{lineHeight:`${t.height}px`}])},Me(t.item.label),7)}var pTe=Xe(hTe,[["render",fTe],["__file","group-item.vue"]]);function mTe(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const TW={label:"label",value:"value",disabled:"disabled",options:"options"};function yw(t){const e=D(()=>({...TW,...t.props}));return{aliasProps:e,getLabel:o=>Ls(o,e.value.label),getValue:o=>Ls(o,e.value.value),getDisabled:o=>Ls(o,e.value.disabled),getOptions:o=>Ls(o,e.value.options)}}const gTe=qe({allowCreate:Boolean,autocomplete:{type:ve(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Gn,default:yd},effect:{type:ve(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:ve([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:ve(Array),required:!0},placeholder:{type:String},teleported:Dr.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})},remote:Boolean,size:_r,props:{type:ve(Object),default:()=>TW},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:ve(String),values:cf,default:"bottom-start"},fallbackPlacements:{type:ve(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Lh.type,default:"info"},tagEffect:{...Lh.effect,default:"light"},...M0,...sa(["ariaLabel"])}),vTe=qe({data:Array,disabled:Boolean,hovering:Boolean,item:{type:ve(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),rE=Symbol("ElSelectV2Injection"),yTe=Z({props:vTe,emits:["select","hover"],setup(t,{emit:e}){const n=Le(rE),s=Fe("select"),{hoverItem:r,selectOptionClick:a}=mTe(t,{emit:e}),{getLabel:o}=yw(n.props);return{ns:s,hoverItem:r,selectOptionClick:a,getLabel:o}}});function bTe(t,e,n,s,r,a){return S(),A("li",{"aria-selected":t.selected,style:yt(t.style),class:q([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:t.hoverItem,onClick:xt(t.selectOptionClick,["stop"])},[oe(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[I("span",null,Me(t.getLabel(t.item)),1)])],46,["aria-selected","onMouseenter","onClick"])}var _Te=Xe(yTe,[["render",bTe],["__file","option-item.vue"]]),wTe=Z({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const s=Le(rE),r=Fe("select"),{getLabel:a,getValue:o,getDisabled:i}=yw(s.props),l=B([]),u=B(),c=D(()=>t.data.length);Ee(()=>c.value,()=>{var L,V;(V=(L=s.tooltipRef.value).updatePopper)==null||V.call(L)});const d=D(()=>$s(s.props.estimatedOptionHeight)),h=D(()=>d.value?{itemSize:s.props.itemHeight}:{estimatedSize:s.props.estimatedOptionHeight,itemSize:L=>l.value[L]}),f=(L=[],V)=>{const{props:{valueKey:H}}=s;return Vn(V)?L&&L.some(K=>Rs(Ls(K,H))===Ls(V,H)):L.includes(V)},p=(L,V)=>{if(Vn(V)){const{valueKey:H}=s.props;return Ls(L,H)===Ls(V,H)}else return L===V},m=(L,V)=>s.props.multiple?f(L,o(V)):p(L,o(V)),y=(L,V)=>{const{disabled:H,multiple:K,multipleLimit:U}=s.props;return H||!V&&(K?U>0&&L.length>=U:!1)},v=L=>t.hoveringIndex===L;n({listRef:u,isSized:d,isItemDisabled:y,isItemHovering:v,isItemSelected:m,scrollToItem:L=>{const V=u.value;V&&V.scrollToItem(L)},resetScrollTop:()=>{const L=u.value;L&&L.resetScrollTop()}});const _=L=>{const{index:V,data:H,style:K}=L,U=g(d),{itemSize:R,estimatedSize:W}=g(h),{modelValue:G}=s.props,{onSelect:P,onHover:j}=s,J=H[V];if(J.type==="Group")return $(pTe,{item:J,style:K,height:U?R:W},null);const ne=m(G,J),te=y(G,ne),de=v(V);return $(_Te,Kt(L,{selected:ne,disabled:i(J)||te,created:!!J.created,hovering:de,item:J,onSelect:P,onHover:j}),{default:me=>{var _e;return((_e=e.default)==null?void 0:_e.call(e,me))||$("span",null,[a(J)])}})},{onKeyboardNavigate:C,onKeyboardSelect:x}=s,T=()=>{C("forward")},k=()=>{C("backward")},N=()=>{s.expanded=!1},O=L=>{const{code:V}=L,{tab:H,esc:K,down:U,up:R,enter:W}=gt;switch(V!==H&&(L.preventDefault(),L.stopPropagation()),V){case H:case K:{N();break}case U:{T();break}case R:{k();break}case W:{x();break}}};return()=>{var L,V,H,K;const{data:U,width:R}=t,{height:W,multiple:G,scrollbarAlwaysOn:P}=s.props,j=g(d)?vW:aTe;return $("div",{class:[r.b("dropdown"),r.is("multiple",G)],style:{width:`${R}px`}},[(L=e.header)==null?void 0:L.call(e),((V=e.loading)==null?void 0:V.call(e))||((H=e.empty)==null?void 0:H.call(e))||$(j,Kt({ref:u},g(h),{className:r.be("dropdown","list"),scrollbarAlwaysOn:P,data:U,height:W,width:R,total:U.length,onKeydown:O}),{default:J=>$(_,J,null)}),(K=e.footer)==null?void 0:K.call(e)])}}});function xTe(t,e){const{aliasProps:n,getLabel:s,getValue:r}=yw(t),a=B(0),o=B(null),i=D(()=>t.allowCreate&&t.filterable);function l(f){const p=m=>s(m)===f;return t.options&&t.options.some(p)||e.createdOptions.some(p)}function u(f){i.value&&(t.multiple&&f.created?a.value++:o.value=f)}function c(f){if(i.value)if(f&&f.length>0){if(l(f))return;const p={[n.value.value]:f,[n.value.label]:f,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=p:e.createdOptions.push(p)}else if(t.multiple)e.createdOptions.length=a.value;else{const p=o.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function d(f){if(!i.value||!f||!f.created||f.created&&t.reserveKeyword&&e.inputValue===s(f))return;const p=e.createdOptions.findIndex(m=>r(m)===r(f));~p&&(e.createdOptions.splice(p,1),a.value--)}function h(){i.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:c,removeNewOption:d,selectNewOption:u,clearAllNewOption:h}}const CTe=11,STe=(t,e)=>{const{t:n}=fn(),s=Fe("select"),r=Fe("input"),{form:a,formItem:o}=Na(),{inputId:i}=ml(t,{formItemContext:o}),{aliasProps:l,getLabel:u,getValue:c,getDisabled:d,getOptions:h}=yw(t),{valueOnClear:f,isEmptyValue:p}=tw(t),m=an({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),y=B(-1),v=B(null),b=B(null),w=B(null),_=B(null),C=B(null),x=B(null),T=B(null),k=B(null),N=B(null),O=B(null),L=B(null),{isComposing:V,handleCompositionStart:H,handleCompositionEnd:K,handleCompositionUpdate:U}=ew({afterComposition:We=>ln(We)}),{wrapperRef:R,isFocused:W}=av(C,{afterFocus(){t.automaticDropdown&&!j.value&&(j.value=!0,m.menuVisibleOnFocus=!0)},beforeBlur(We){var Bt,un;return((Bt=w.value)==null?void 0:Bt.isFocusInsideContent(We))||((un=_.value)==null?void 0:un.isFocusInsideContent(We))},afterBlur(){j.value=!1,m.menuVisibleOnFocus=!1}}),G=B([]),P=B([]),j=B(!1),J=D(()=>t.disabled||(a==null?void 0:a.disabled)),ne=D(()=>{const We=P.value.length*t.itemHeight;return We>t.height?t.height:We}),te=D(()=>t.multiple?Mt(t.modelValue)&&t.modelValue.length>0:!p(t.modelValue)),de=D(()=>t.clearable&&!J.value&&m.inputHovering&&te.value),me=D(()=>t.remote&&t.filterable?"":tc),_e=D(()=>me.value&&s.is("reverse",j.value)),ee=D(()=>(o==null?void 0:o.validateState)||""),he=D(()=>n5[ee.value]),le=D(()=>t.remote?300:0),ue=D(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!m.inputValue&&G.value.length===0?!1:t.filterable&&m.inputValue&&G.value.length>0&&P.value.length===0?t.noMatchText||n("el.select.noMatch"):G.value.length===0?t.noDataText||n("el.select.noData"):null),re=We=>{const Bt=un=>{if(t.filterable&&yn(t.filterMethod)||t.filterable&&t.remote&&yn(t.remoteMethod))return!0;const zn=new RegExp(q$(We),"i");return We?zn.test(u(un)||""):!0};return t.loading?[]:[...m.createdOptions,...t.options].reduce((un,zn)=>{const io=h(zn);if(Mt(io)){const zi=io.filter(Bt);zi.length>0&&un.push({label:u(zn),type:"Group"},...zi)}else(t.remote||Bt(zn))&&un.push(zn);return un},[])},we=()=>{G.value=re(""),P.value=re(m.inputValue)},Ae=D(()=>{const We=new Map;return G.value.forEach((Bt,un)=>{We.set(xn(c(Bt)),{option:Bt,index:un})}),We}),Ue=D(()=>{const We=new Map;return P.value.forEach((Bt,un)=>{We.set(xn(c(Bt)),{option:Bt,index:un})}),We}),at=D(()=>P.value.every(We=>d(We))),ot=or(),Pe=D(()=>ot.value==="small"?"small":"default"),je=()=>{var We;y.value=((We=v.value)==null?void 0:We.offsetWidth)||200},dt=()=>{if(!b.value)return 0;const We=window.getComputedStyle(b.value);return Number.parseFloat(We.gap||"6px")},Qe=D(()=>{const We=dt();return{maxWidth:`${L.value&&t.maxCollapseTags===1?m.selectionWidth-m.collapseItemWidth-We:m.selectionWidth}px`}}),wt=D(()=>({maxWidth:`${m.selectionWidth}px`})),vt=D(()=>({width:`${Math.max(m.calculatorWidth,CTe)}px`})),Ge=D(()=>Mt(t.modelValue)?t.modelValue.length===0&&!m.inputValue:t.filterable?!m.inputValue:!0),fe=D(()=>{var We;const Bt=(We=t.placeholder)!=null?We:n("el.select.placeholder");return t.multiple||!te.value?Bt:m.selectedLabel}),_t=D(()=>{var We,Bt;return(Bt=(We=w.value)==null?void 0:We.popperRef)==null?void 0:Bt.contentRef}),Dt=D(()=>{if(t.multiple){const We=t.modelValue.length;if(t.modelValue.length>0&&Ue.value.has(t.modelValue[We-1])){const{index:Bt}=Ue.value.get(t.modelValue[We-1]);return Bt}}else if(t.modelValue&&Ue.value.has(t.modelValue)){const{index:We}=Ue.value.get(t.modelValue);return We}return-1}),Qt=D({get(){return j.value&&ue.value!==!1},set(We){j.value=We}}),rn=D(()=>t.multiple?t.collapseTags?m.cachedOptions.slice(0,t.maxCollapseTags):m.cachedOptions:[]),Cn=D(()=>t.multiple?t.collapseTags?m.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:Ct,removeNewOption:It,selectNewOption:Re,clearAllNewOption:ut}=xTe(t,m),xe=()=>{J.value||(m.menuVisibleOnFocus?m.menuVisibleOnFocus=!1:j.value=!j.value)},Ke=()=>{m.inputValue.length>0&&!j.value&&(j.value=!0),Ct(m.inputValue),Zt(m.inputValue)},Ze=So(Ke,le.value),Zt=We=>{m.previousQuery===We||V.value||(m.previousQuery=We,t.filterable&&yn(t.filterMethod)?t.filterMethod(We):t.filterable&&t.remote&&yn(t.remoteMethod)&&t.remoteMethod(We),t.defaultFirstOption&&(t.filterable||t.remote)&&P.value.length?it(Mn):it(kn))},Mn=()=>{const We=P.value.filter(zn=>!zn.disabled&&zn.type!=="Group"),Bt=We.find(zn=>zn.created),un=We[0];m.hoveringIndex=bn(P.value,Bt||un)},Oe=We=>{ja(t.modelValue,We)||e(ns,We)},St=We=>{e(Yt,We),Oe(We),m.previousValue=t.multiple?String(We):We},bn=(We=[],Bt)=>{if(!Vn(Bt))return We.indexOf(Bt);const un=t.valueKey;let zn=-1;return We.some((io,zi)=>Ls(io,un)===Ls(Bt,un)?(zn=zi,!0):!1),zn},xn=We=>Vn(We)?Ls(We,t.valueKey):We,Zn=()=>{je()},In=()=>{m.selectionWidth=b.value.getBoundingClientRect().width},Wr=()=>{m.calculatorWidth=x.value.getBoundingClientRect().width},Pf=()=>{m.collapseItemWidth=L.value.getBoundingClientRect().width},fc=()=>{var We,Bt;(Bt=(We=w.value)==null?void 0:We.updatePopper)==null||Bt.call(We)},Mf=()=>{var We,Bt;(Bt=(We=_.value)==null?void 0:We.updatePopper)==null||Bt.call(We)},Cl=We=>{if(t.multiple){let Bt=t.modelValue.slice();const un=bn(Bt,c(We));un>-1?(Bt=[...Bt.slice(0,un),...Bt.slice(un+1)],m.cachedOptions.splice(un,1),It(We)):(t.multipleLimit<=0||Bt.length<t.multipleLimit)&&(Bt=[...Bt,c(We)],m.cachedOptions.push(We),Re(We)),St(Bt),We.created&&Zt(""),t.filterable&&!t.reserveKeyword&&(m.inputValue="")}else m.selectedLabel=u(We),St(c(We)),j.value=!1,Re(We),We.created||ut();pc()},gg=(We,Bt)=>{let un=t.modelValue.slice();const zn=bn(un,c(Bt));zn>-1&&!J.value&&(un=[...t.modelValue.slice(0,zn),...t.modelValue.slice(zn+1)],m.cachedOptions.splice(zn,1),St(un),e("remove-tag",c(Bt)),It(Bt)),We.stopPropagation(),pc()},pc=()=>{var We;(We=C.value)==null||We.focus()},Ff=()=>{var We;(We=C.value)==null||We.blur()},mc=()=>{m.inputValue.length>0?m.inputValue="":j.value=!1},gc=We=>_V(We,Bt=>!m.cachedOptions.some(un=>c(un)===Bt&&d(un))),jr=We=>{if(t.multiple&&We.code!==gt.delete&&m.inputValue.length===0){We.preventDefault();const Bt=t.modelValue.slice(),un=gc(Bt);if(un<0)return;const zn=Bt[un];Bt.splice(un,1);const io=m.cachedOptions[un];m.cachedOptions.splice(un,1),It(io),St(Bt),e("remove-tag",zn)}},vg=()=>{let We;Mt(t.modelValue)?We=[]:We=f.value,t.multiple?m.cachedOptions=[]:m.selectedLabel="",j.value=!1,St(We),e("clear"),ut(),pc()},Bf=(We,Bt=void 0)=>{const un=P.value;if(!["forward","backward"].includes(We)||J.value||un.length<=0||at.value||V.value)return;if(!j.value)return xe();Bt===void 0&&(Bt=m.hoveringIndex);let zn=-1;We==="forward"?(zn=Bt+1,zn>=un.length&&(zn=0)):We==="backward"&&(zn=Bt-1,(zn<0||zn>=un.length)&&(zn=un.length-1));const io=un[zn];if(d(io)||io.type==="Group")return Bf(We,zn);m.hoveringIndex=zn,Ro(zn)},st=()=>{if(j.value)~m.hoveringIndex&&P.value[m.hoveringIndex]&&Cl(P.value[m.hoveringIndex]);else return xe()},kt=We=>{m.hoveringIndex=We},kn=()=>{t.multiple?m.hoveringIndex=P.value.findIndex(We=>t.modelValue.some(Bt=>xn(Bt)===xn(We))):m.hoveringIndex=P.value.findIndex(We=>xn(We)===xn(t.modelValue))},ln=We=>{if(m.inputValue=We.target.value,t.remote)Ze();else return Ke()},ni=We=>{if(j.value=!1,W.value){const Bt=new FocusEvent("focus",We);handleBlur(Bt)}},Oo=()=>(m.isBeforeHide=!1,it(()=>{~Dt.value&&Ro(m.hoveringIndex)})),Ro=We=>{N.value.scrollToItem(We)},Bi=We=>{const Bt=xn(We);if(Ae.value.has(Bt)){const{option:un}=Ae.value.get(Bt);return un}return{[l.value.value]:We,[l.value.label]:We}},er=()=>{if(t.multiple)if(t.modelValue.length>0){m.cachedOptions.length=0,m.previousValue=t.modelValue.toString();for(const We of t.modelValue){const Bt=Bi(We);m.cachedOptions.push(Bt)}}else m.cachedOptions=[],m.previousValue=void 0;else if(te.value){m.previousValue=t.modelValue;const We=P.value,Bt=We.findIndex(un=>xn(c(un))===xn(t.modelValue));~Bt?m.selectedLabel=u(We[Bt]):m.selectedLabel=xn(t.modelValue)}else m.selectedLabel="",m.previousValue=void 0;ut(),je()};return Ee(j,We=>{We?Zt(""):(m.inputValue="",m.previousQuery=null,m.isBeforeHide=!0,Ct("")),e("visible-change",We)}),Ee(()=>t.modelValue,(We,Bt)=>{var un;(!We||t.multiple&&We.toString()!==m.previousValue||!t.multiple&&xn(We)!==xn(m.previousValue))&&er(),!ja(We,Bt)&&t.validateEvent&&((un=o==null?void 0:o.validate)==null||un.call(o,"change").catch(zn=>void 0))},{deep:!0}),Ee(()=>t.options,()=>{const We=C.value;(!We||We&&document.activeElement!==We)&&er()},{deep:!0,flush:"post"}),Ee(()=>P.value,()=>N.value&&it(N.value.resetScrollTop)),sr(()=>{m.isBeforeHide||we()}),sr(()=>{const{valueKey:We,options:Bt}=t,un=new Map;for(const zn of Bt){const io=c(zn);let zi=io;if(Vn(zi)&&(zi=Ls(io,We)),un.get(zi))break;un.set(zi,!0)}}),Et(()=>{er()}),ds(v,Zn),ds(b,In),ds(x,Wr),ds(N,fc),ds(R,fc),ds(O,Mf),ds(L,Pf),{inputId:i,collapseTagSize:Pe,currentPlaceholder:fe,expanded:j,emptyText:ue,popupHeight:ne,debounce:le,allOptions:G,filteredOptions:P,iconComponent:me,iconReverse:_e,tagStyle:Qe,collapseTagStyle:wt,inputStyle:vt,popperSize:y,dropdownMenuVisible:Qt,hasModelValue:te,shouldShowPlaceholder:Ge,selectDisabled:J,selectSize:ot,showClearBtn:de,states:m,isFocused:W,nsSelect:s,nsInput:r,calculatorRef:x,inputRef:C,menuRef:N,tagMenuRef:O,tooltipRef:w,tagTooltipRef:_,selectRef:v,wrapperRef:R,selectionRef:b,prefixRef:T,suffixRef:k,collapseItemRef:L,popperRef:_t,validateState:ee,validateIcon:he,showTagList:rn,collapseTagList:Cn,debouncedOnInputChange:Ze,deleteTag:gg,getLabel:u,getValue:c,getDisabled:d,getValueKey:xn,handleClear:vg,handleClickOutside:ni,handleDel:jr,handleEsc:mc,focus:pc,blur:Ff,handleMenuEnter:Oo,handleResize:Zn,resetSelectionWidth:In,resetCalculatorWidth:Wr,updateTooltip:fc,updateTagTooltip:Mf,updateOptions:we,toggleMenu:xe,scrollTo:Ro,onInput:ln,onKeyboardNavigate:Bf,onKeyboardSelect:st,onSelect:Cl,onHover:kt,handleCompositionStart:H,handleCompositionEnd:K,handleCompositionUpdate:U}},TTe=Z({name:"ElSelectV2",components:{ElSelectMenu:wTe,ElTag:Uc,ElTooltip:ys,ElIcon:Je},directives:{ClickOutside:Pu},props:gTe,emits:[Yt,ns,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=D(()=>{const{modelValue:r,multiple:a}=t,o=a?[]:void 0;return Mt(r)?a?r:o:a?o:r}),s=STe(an({...Jr(t),modelValue:n}),e);return At(rE,{props:an({...Jr(t),height:s.popupHeight,modelValue:n}),tooltipRef:s.tooltipRef,onSelect:s.onSelect,onHover:s.onHover,onKeyboardNavigate:s.onKeyboardNavigate,onKeyboardSelect:s.onKeyboardSelect}),{...s,modelValue:n}}});function kTe(t,e,n,s,r,a){const o=ht("el-tag"),i=ht("el-tooltip"),l=ht("el-icon"),u=ht("el-select-menu"),c=F4("click-outside");return zt((S(),A("div",{ref:"selectRef",class:q([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:d=>t.states.inputHovering=!0,onMouseleave:d=>t.states.inputHovering=!1},[$(i,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:d=>t.states.isBeforeHide=!1},{default:se(()=>[I("div",{ref:"wrapperRef",class:q([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:xt(t.toggleMenu,["prevent","stop"])},[t.$slots.prefix?(S(),A("div",{key:0,ref:"prefixRef",class:q(t.nsSelect.e("prefix"))},[oe(t.$slots,"prefix")],2)):ce("v-if",!0),I("div",{ref:"selectionRef",class:q([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?oe(t.$slots,"tag",{key:0},()=>[(S(!0),A(He,null,Ut(t.showTagList,d=>(S(),A("div",{key:t.getValueKey(t.getValue(d)),class:q(t.nsSelect.e("selected-item"))},[$(o,{closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:yt(t.tagStyle),onClose:h=>t.deleteTag(h,d)},{default:se(()=>[I("span",{class:q(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[ct(Me(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(S(),be(i,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:se(()=>[I("div",{ref:"collapseItemRef",class:q(t.nsSelect.e("selected-item"))},[$(o,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:yt(t.collapseTagStyle),"disable-transitions":""},{default:se(()=>[I("span",{class:q(t.nsSelect.e("tags-text"))}," + "+Me(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:se(()=>[I("div",{ref:"tagMenuRef",class:q(t.nsSelect.e("selection"))},[(S(!0),A(He,null,Ut(t.collapseTagList,d=>(S(),A("div",{key:t.getValueKey(t.getValue(d)),class:q(t.nsSelect.e("selected-item"))},[$(o,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(d),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:h=>t.deleteTag(h,d)},{default:se(()=>[I("span",{class:q(t.nsSelect.e("tags-text"))},[oe(t.$slots,"label",{label:t.getLabel(d),value:t.getValue(d)},()=>[ct(Me(t.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):ce("v-if",!0)]):ce("v-if",!0),t.selectDisabled?ce("v-if",!0):(S(),A("div",{key:1,class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[zt(I("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":d=>t.states.inputValue=d,style:yt(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:q([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[Pn(xt(d=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Pn(xt(d=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Pn(xt(t.onKeyboardSelect,["stop","prevent"]),["enter"]),Pn(xt(t.handleEsc,["stop","prevent"]),["esc"]),Pn(xt(t.handleDel,["stop"]),["delete"])],onClick:xt(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[_$,t.states.inputValue]]),t.filterable?(S(),A("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:q(t.nsSelect.e("input-calculator")),textContent:Me(t.states.inputValue)},null,10,["textContent"])):ce("v-if",!0)],2)),t.shouldShowPlaceholder?(S(),A("div",{key:2,class:q([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?oe(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[I("span",null,Me(t.currentPlaceholder),1)]):(S(),A("span",{key:1},Me(t.currentPlaceholder),1))],2)):ce("v-if",!0)],2),I("div",{ref:"suffixRef",class:q(t.nsSelect.e("suffix"))},[t.iconComponent?zt((S(),be(l,{key:0,class:q([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:se(()=>[(S(),be(Gt(t.iconComponent)))]),_:1},8,["class"])),[[gn,!t.showClearBtn]]):ce("v-if",!0),t.showClearBtn&&t.clearIcon?(S(),be(l,{key:1,class:q([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:xt(t.handleClear,["prevent","stop"])},{default:se(()=>[(S(),be(Gt(t.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.validateState&&t.validateIcon?(S(),be(l,{key:2,class:q([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:se(()=>[(S(),be(Gt(t.validateIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],10,["onClick"])]),content:se(()=>[$(u,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},Ei({default:se(d=>[oe(t.$slots,"default",vi(Eh(d)))]),_:2},[t.$slots.header?{name:"header",fn:se(()=>[I("div",{class:q(t.nsSelect.be("dropdown","header"))},[oe(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:se(()=>[I("div",{class:q(t.nsSelect.be("dropdown","loading"))},[oe(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:se(()=>[I("div",{class:q(t.nsSelect.be("dropdown","empty"))},[oe(t.$slots,"empty",{},()=>[I("span",null,Me(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:se(()=>[I("div",{class:q(t.nsSelect.be("dropdown","footer"))},[oe(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[c,t.handleClickOutside,t.popperRef]])}var $Te=Xe(TTe,[["render",kTe],["__file","select.vue"]]);const ETe=Ft($Te),ITe=qe({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),NTe=qe({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),ATe=Z({name:"ElSkeletonItem"}),DTe=Z({...ATe,props:NTe,setup(t){const e=Fe("skeleton");return(n,s)=>(S(),A("div",{class:q([g(e).e("item"),g(e).e(n.variant)])},[n.variant==="image"?(S(),be(g(Ige),{key:0})):ce("v-if",!0)],2))}});var _3=Xe(DTe,[["__file","skeleton-item.vue"]]);const OTe=Z({name:"ElSkeleton"}),RTe=Z({...OTe,props:ITe,setup(t,{expose:e}){const n=t,s=Fe("skeleton"),r=C1e(Nn(n,"loading"),n.throttle);return e({uiLoading:r}),(a,o)=>g(r)?(S(),A("div",Kt({key:0,class:[g(s).b(),g(s).is("animated",a.animated)]},a.$attrs),[(S(!0),A(He,null,Ut(a.count,i=>(S(),A(He,{key:i},[a.loading?oe(a.$slots,"template",{key:i},()=>[$(_3,{class:q(g(s).is("first")),variant:"p"},null,8,["class"]),(S(!0),A(He,null,Ut(a.rows,l=>(S(),be(_3,{key:l,class:q([g(s).e("paragraph"),g(s).is("last",l===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):ce("v-if",!0)],64))),128))],16)):oe(a.$slots,"default",vi(Kt({key:1},a.$attrs)))}});var LTe=Xe(RTe,[["__file","skeleton.vue"]]);const PTe=Ft(LTe,{SkeletonItem:_3}),MTe=gs(_3),kW=Symbol("sliderContextKey"),FTe=qe({modelValue:{type:ve([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:_r,inputSize:_r,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:ve(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:ve(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:cf,default:"top"},marks:{type:ve(Object)},validateEvent:{type:Boolean,default:!0},...sa(["ariaLabel"])}),aC=t=>Tt(t)||Mt(t)&&t.every(Tt),BTe={[Yt]:aC,[qa]:aC,[ns]:aC},zTe=(t,e,n)=>{const s=B();return Et(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),Fn(window,"resize",n),await it(),n()}),{sliderWrapper:s}},VTe=t=>D(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,s)=>n-s).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),HTe=(t,e,n)=>{const{form:s,formItem:r}=Na(),a=Jn(),o=B(),i=B(),l={firstButton:o,secondButton:i},u=D(()=>t.disabled||(s==null?void 0:s.disabled)||!1),c=D(()=>Math.min(e.firstValue,e.secondValue)),d=D(()=>Math.max(e.firstValue,e.secondValue)),h=D(()=>t.range?`${100*(d.value-c.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),f=D(()=>t.range?`${100*(c.value-t.min)/(t.max-t.min)}%`:"0%"),p=D(()=>t.vertical?{height:t.height}:{}),m=D(()=>t.vertical?{height:h.value,bottom:f.value}:{width:h.value,left:f.value}),y=()=>{a.value&&(e.sliderSize=a.value[`client${t.vertical?"Height":"Width"}`])},v=V=>{const H=t.min+V*(t.max-t.min)/100;if(!t.range)return o;let K;return Math.abs(c.value-H)<Math.abs(d.value-H)?K=e.firstValue<e.secondValue?"firstButton":"secondButton":K=e.firstValue>e.secondValue?"firstButton":"secondButton",l[K]},b=V=>{const H=v(V);return H.value.setPosition(V),H},w=V=>{e.firstValue=V??t.min,C(t.range?[c.value,d.value]:V??t.min)},_=V=>{e.secondValue=V,t.range&&C([c.value,d.value])},C=V=>{n(Yt,V),n(qa,V)},x=async()=>{await it(),n(ns,t.range?[c.value,d.value]:t.modelValue)},T=V=>{var H,K,U,R,W,G;if(u.value||e.dragging)return;y();let P=0;if(t.vertical){const j=(U=(K=(H=V.touches)==null?void 0:H.item(0))==null?void 0:K.clientY)!=null?U:V.clientY;P=(a.value.getBoundingClientRect().bottom-j)/e.sliderSize*100}else{const j=(G=(W=(R=V.touches)==null?void 0:R.item(0))==null?void 0:W.clientX)!=null?G:V.clientX,J=a.value.getBoundingClientRect().left;P=(j-J)/e.sliderSize*100}if(!(P<0||P>100))return b(P)};return{elFormItem:r,slider:a,firstButton:o,secondButton:i,sliderDisabled:u,minValue:c,maxValue:d,runwayStyle:p,barStyle:m,resetSize:y,setPosition:b,emitChange:x,onSliderWrapperPrevent:V=>{var H,K;((H=l.firstButton.value)!=null&&H.dragging||(K=l.secondButton.value)!=null&&K.dragging)&&V.preventDefault()},onSliderClick:V=>{T(V)&&x()},onSliderDown:async V=>{const H=T(V);H&&(await it(),H.value.onButtonDown(V))},onSliderMarkerDown:V=>{u.value||e.dragging||b(V)},setFirstValue:w,setSecondValue:_}},{left:UTe,down:WTe,right:jTe,up:GTe,home:qTe,end:KTe,pageUp:XTe,pageDown:YTe}=gt,QTe=(t,e,n)=>{const s=B(),r=B(!1),a=D(()=>e.value instanceof Function),o=D(()=>a.value&&e.value(t.modelValue)||t.modelValue),i=So(()=>{n.value&&(r.value=!0)},50),l=So(()=>{n.value&&(r.value=!1)},50);return{tooltip:s,tooltipVisible:r,formatValue:o,displayTooltip:i,hideTooltip:l}},ZTe=(t,e,n)=>{const{disabled:s,min:r,max:a,step:o,showTooltip:i,precision:l,sliderSize:u,formatTooltip:c,emitChange:d,resetSize:h,updateDragging:f}=Le(kW),{tooltip:p,tooltipVisible:m,formatValue:y,displayTooltip:v,hideTooltip:b}=QTe(t,c,i),w=B(),_=D(()=>`${(t.modelValue-r.value)/(a.value-r.value)*100}%`),C=D(()=>t.vertical?{bottom:_.value}:{left:_.value}),x=()=>{e.hovering=!0,v()},T=()=>{e.hovering=!1,e.dragging||b()},k=ne=>{s.value||(ne.preventDefault(),G(ne),window.addEventListener("mousemove",P),window.addEventListener("touchmove",P),window.addEventListener("mouseup",j),window.addEventListener("touchend",j),window.addEventListener("contextmenu",j),w.value.focus())},N=ne=>{s.value||(e.newPosition=Number.parseFloat(_.value)+ne/(a.value-r.value)*100,J(e.newPosition),d())},O=()=>{N(-o.value)},L=()=>{N(o.value)},V=()=>{N(-o.value*4)},H=()=>{N(o.value*4)},K=()=>{s.value||(J(0),d())},U=()=>{s.value||(J(100),d())},R=ne=>{let te=!0;[UTe,WTe].includes(ne.key)?O():[jTe,GTe].includes(ne.key)?L():ne.key===qTe?K():ne.key===KTe?U():ne.key===YTe?V():ne.key===XTe?H():te=!1,te&&ne.preventDefault()},W=ne=>{let te,de;return ne.type.startsWith("touch")?(de=ne.touches[0].clientY,te=ne.touches[0].clientX):(de=ne.clientY,te=ne.clientX),{clientX:te,clientY:de}},G=ne=>{e.dragging=!0,e.isClick=!0;const{clientX:te,clientY:de}=W(ne);t.vertical?e.startY=de:e.startX=te,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},P=ne=>{if(e.dragging){e.isClick=!1,v(),h();let te;const{clientX:de,clientY:me}=W(ne);t.vertical?(e.currentY=me,te=(e.startY-e.currentY)/u.value*100):(e.currentX=de,te=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+te,J(e.newPosition)}},j=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||b(),e.isClick||J(e.newPosition),d()},0),window.removeEventListener("mousemove",P),window.removeEventListener("touchmove",P),window.removeEventListener("mouseup",j),window.removeEventListener("touchend",j),window.removeEventListener("contextmenu",j))},J=async ne=>{if(ne===null||Number.isNaN(+ne))return;ne<0?ne=0:ne>100&&(ne=100);const te=100/((a.value-r.value)/o.value);let me=Math.round(ne/te)*te*(a.value-r.value)*.01+r.value;me=Number.parseFloat(me.toFixed(l.value)),me!==t.modelValue&&n(Yt,me),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await it(),e.dragging&&v(),p.value.updatePopper()};return Ee(()=>e.dragging,ne=>{f(ne)}),Fn(w,"touchstart",k,{passive:!1}),{disabled:s,button:w,tooltip:p,tooltipVisible:m,showTooltip:i,wrapperStyle:C,formatValue:y,handleMouseEnter:x,handleMouseLeave:T,onButtonDown:k,onKeyDown:R,setPosition:J}},JTe=(t,e,n,s)=>({stops:D(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const o=(t.max-t.min)/t.step,i=100*t.step/(t.max-t.min),l=Array.from({length:o-1}).map((u,c)=>(c+1)*i);return t.range?l.filter(u=>u<100*(n.value-t.min)/(t.max-t.min)||u>100*(s.value-t.min)/(t.max-t.min)):l.filter(u=>u>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:o=>t.vertical?{bottom:`${o}%`}:{left:`${o}%`}}),eke=(t,e,n,s,r,a)=>{const o=u=>{r(Yt,u),r(qa,u)},i=()=>t.range?![n.value,s.value].every((u,c)=>u===e.oldValue[c]):t.modelValue!==e.oldValue,l=()=>{var u,c;t.min>t.max&&br("Slider","min should not be greater than max.");const d=t.modelValue;t.range&&Array.isArray(d)?d[1]<t.min?o([t.min,t.min]):d[0]>t.max?o([t.max,t.max]):d[0]<t.min?o([t.min,d[1]]):d[1]>t.max?o([d[0],t.max]):(e.firstValue=d[0],e.secondValue=d[1],i()&&(t.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(h=>void 0)),e.oldValue=d.slice())):!t.range&&typeof d=="number"&&!Number.isNaN(d)&&(d<t.min?o(t.min):d>t.max?o(t.max):(e.firstValue=d,i()&&(t.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(h=>void 0)),e.oldValue=d)))};l(),Ee(()=>e.dragging,u=>{u||l()}),Ee(()=>t.modelValue,(u,c)=>{e.dragging||Array.isArray(u)&&Array.isArray(c)&&u.every((d,h)=>d===c[h])&&e.firstValue===u[0]&&e.secondValue===u[1]||l()},{deep:!0}),Ee(()=>[t.min,t.max],()=>{l()})},tke=qe({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:cf,default:"top"}}),nke={[Yt]:t=>Tt(t)},ske=Z({name:"ElSliderButton"}),rke=Z({...ske,props:tke,emits:nke,setup(t,{expose:e,emit:n}){const s=t,r=Fe("slider"),a=an({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:s.modelValue}),{disabled:o,button:i,tooltip:l,showTooltip:u,tooltipVisible:c,wrapperStyle:d,formatValue:h,handleMouseEnter:f,handleMouseLeave:p,onButtonDown:m,onKeyDown:y,setPosition:v}=ZTe(s,a,n),{hovering:b,dragging:w}=Jr(a);return e({onButtonDown:m,onKeyDown:y,setPosition:v,hovering:b,dragging:w}),(_,C)=>(S(),A("div",{ref_key:"button",ref:i,class:q([g(r).e("button-wrapper"),{hover:g(b),dragging:g(w)}]),style:yt(g(d)),tabindex:g(o)?-1:0,onMouseenter:g(f),onMouseleave:g(p),onMousedown:g(m),onFocus:g(f),onBlur:g(p),onKeydown:g(y)},[$(g(ys),{ref_key:"tooltip",ref:l,visible:g(c),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!g(u),persistent:""},{content:se(()=>[I("span",null,Me(g(h)),1)]),default:se(()=>[I("div",{class:q([g(r).e("button"),{hover:g(b),dragging:g(w)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var dL=Xe(rke,[["__file","button.vue"]]);const ake=qe({mark:{type:ve([String,Object]),default:void 0}});var oke=Z({name:"ElSliderMarker",props:ake,setup(t){const e=Fe("slider"),n=D(()=>qt(t.mark)?t.mark:t.mark.label),s=D(()=>qt(t.mark)?void 0:t.mark.style);return()=>pt("div",{class:e.e("marks-text"),style:s.value},n.value)}});const ike=Z({name:"ElSlider"}),lke=Z({...ike,props:FTe,emits:BTe,setup(t,{expose:e,emit:n}){const s=t,r=Fe("slider"),{t:a}=fn(),o=an({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:i,slider:l,firstButton:u,secondButton:c,sliderDisabled:d,minValue:h,maxValue:f,runwayStyle:p,barStyle:m,resetSize:y,emitChange:v,onSliderWrapperPrevent:b,onSliderClick:w,onSliderDown:_,onSliderMarkerDown:C,setFirstValue:x,setSecondValue:T}=HTe(s,o,n),{stops:k,getStopStyle:N}=JTe(s,o,h,f),{inputId:O,isLabeledByFormItem:L}=ml(s,{formItemContext:i}),V=or(),H=D(()=>s.inputSize||V.value),K=D(()=>s.ariaLabel||a("el.slider.defaultLabel",{min:s.min,max:s.max})),U=D(()=>s.range?s.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):K.value),R=D(()=>s.formatValueText?s.formatValueText(te.value):`${te.value}`),W=D(()=>s.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),G=D(()=>s.formatValueText?s.formatValueText(de.value):`${de.value}`),P=D(()=>[r.b(),r.m(V.value),r.is("vertical",s.vertical),{[r.m("with-input")]:s.showInput}]),j=VTe(s);eke(s,o,h,f,n,i);const J=D(()=>{const ee=[s.min,s.max,s.step].map(he=>{const le=`${he}`.split(".")[1];return le?le.length:0});return Math.max.apply(null,ee)}),{sliderWrapper:ne}=zTe(s,o,y),{firstValue:te,secondValue:de,sliderSize:me}=Jr(o),_e=ee=>{o.dragging=ee};return Fn(ne,"touchstart",b,{passive:!1}),Fn(ne,"touchmove",b,{passive:!1}),At(kW,{...Jr(s),sliderSize:me,disabled:d,precision:J,emitChange:v,resetSize:y,updateDragging:_e}),e({onSliderClick:w}),(ee,he)=>{var le,ue;return S(),A("div",{id:ee.range?g(O):void 0,ref_key:"sliderWrapper",ref:ne,class:q(g(P)),role:ee.range?"group":void 0,"aria-label":ee.range&&!g(L)?g(K):void 0,"aria-labelledby":ee.range&&g(L)?(le=g(i))==null?void 0:le.labelId:void 0},[I("div",{ref_key:"slider",ref:l,class:q([g(r).e("runway"),{"show-input":ee.showInput&&!ee.range},g(r).is("disabled",g(d))]),style:yt(g(p)),onMousedown:g(_),onTouchstartPassive:g(_)},[I("div",{class:q(g(r).e("bar")),style:yt(g(m))},null,6),$(dL,{id:ee.range?void 0:g(O),ref_key:"firstButton",ref:u,"model-value":g(te),vertical:ee.vertical,"tooltip-class":ee.tooltipClass,placement:ee.placement,role:"slider","aria-label":ee.range||!g(L)?g(U):void 0,"aria-labelledby":!ee.range&&g(L)?(ue=g(i))==null?void 0:ue.labelId:void 0,"aria-valuemin":ee.min,"aria-valuemax":ee.range?g(de):ee.max,"aria-valuenow":g(te),"aria-valuetext":g(R),"aria-orientation":ee.vertical?"vertical":"horizontal","aria-disabled":g(d),"onUpdate:modelValue":g(x)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),ee.range?(S(),be(dL,{key:0,ref_key:"secondButton",ref:c,"model-value":g(de),vertical:ee.vertical,"tooltip-class":ee.tooltipClass,placement:ee.placement,role:"slider","aria-label":g(W),"aria-valuemin":g(te),"aria-valuemax":ee.max,"aria-valuenow":g(de),"aria-valuetext":g(G),"aria-orientation":ee.vertical?"vertical":"horizontal","aria-disabled":g(d),"onUpdate:modelValue":g(T)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):ce("v-if",!0),ee.showStops?(S(),A("div",{key:1},[(S(!0),A(He,null,Ut(g(k),(re,we)=>(S(),A("div",{key:we,class:q(g(r).e("stop")),style:yt(g(N)(re))},null,6))),128))])):ce("v-if",!0),g(j).length>0?(S(),A(He,{key:2},[I("div",null,[(S(!0),A(He,null,Ut(g(j),(re,we)=>(S(),A("div",{key:we,style:yt(g(N)(re.position)),class:q([g(r).e("stop"),g(r).e("marks-stop")])},null,6))),128))]),I("div",{class:q(g(r).e("marks"))},[(S(!0),A(He,null,Ut(g(j),(re,we)=>(S(),be(g(oke),{key:we,mark:re.mark,style:yt(g(N)(re.position)),onMousedown:xt(Ae=>g(C)(re.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):ce("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),ee.showInput&&!ee.range?(S(),be(g(Kp),{key:0,ref:"input","model-value":g(te),class:q(g(r).e("input")),step:ee.step,disabled:g(d),controls:ee.showInputControls,min:ee.min,max:ee.max,precision:g(J),debounce:ee.debounce,size:g(H),"onUpdate:modelValue":g(x),onChange:g(v)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):ce("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var uke=Xe(lke,[["__file","slider.vue"]]);const cke=Ft(uke),dke=qe({prefixCls:{type:String}}),hL=Z({name:"ElSpaceItem",props:dke,setup(t,{slots:e}){const n=Fe("space"),s=D(()=>`${t.prefixCls||n.b()}__item`);return()=>pt("div",{class:s.value},oe(e,"default"))}}),fL={small:8,default:12,large:16};function hke(t){const e=Fe("space"),n=D(()=>[e.b(),e.m(t.direction),t.class]),s=B(0),r=B(0),a=D(()=>{const i=t.wrap||t.fill?{flexWrap:"wrap"}:{},l={alignItems:t.alignment},u={rowGap:`${r.value}px`,columnGap:`${s.value}px`};return[i,l,u,t.style]}),o=D(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return sr(()=>{const{size:i="small",wrap:l,direction:u,fill:c}=t;if(Mt(i)){const[d=0,h=0]=i;s.value=d,r.value=h}else{let d;Tt(i)?d=i:d=fL[i||"small"]||fL.small,(l||c)&&u==="horizontal"?s.value=r.value=d:u==="horizontal"?(s.value=d,r.value=0):(r.value=d,s.value=0)}}),{classes:n,containerStyle:a,itemStyle:o}}const fke=qe({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:ve([String,Object,Array]),default:""},style:{type:ve([String,Array,Object]),default:""},alignment:{type:ve(String),default:"center"},prefixCls:{type:String},spacer:{type:ve([Object,String,Number,Array]),default:null,validator:t=>An(t)||Tt(t)||qt(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:uu,validator:t=>Tt(t)||Mt(t)&&t.length===2&&t.every(Tt)}}),pke=Z({name:"ElSpace",props:fke,setup(t,{slots:e}){const{classes:n,containerStyle:s,itemStyle:r}=hke(t);function a(o,i="",l=[]){const{prefixCls:u}=t;return o.forEach((c,d)=>{kS(c)?Mt(c.children)&&c.children.forEach((h,f)=>{kS(h)&&Mt(h.children)?a(h.children,`${i+f}-`,l):l.push($(hL,{style:r.value,prefixCls:u,key:`nested-${i+f}`},{default:()=>[h]},di.PROPS|di.STYLE,["style","prefixCls"]))}):a2e(c)&&l.push($(hL,{style:r.value,prefixCls:u,key:`LoopKey${i+d}`},{default:()=>[c]},di.PROPS|di.STYLE,["style","prefixCls"]))}),l}return()=>{var o;const{spacer:i,direction:l}=t,u=oe(e,"default",{key:0},()=>[]);if(((o=u.children)!=null?o:[]).length===0)return null;if(Mt(u.children)){let c=a(u.children);if(i){const d=c.length-1;c=c.reduce((h,f,p)=>{const m=[...h,f];return p!==d&&m.push($("span",{style:[r.value,l==="vertical"?"width: 100%":null],key:p},[An(i)?i:ct(i,di.TEXT)],di.STYLE)),m},[])}return $("div",{class:n.value,style:s.value},c,di.STYLE|di.CLASS)}return u.children}}}),mke=Ft(pke),gke=qe({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:ve([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:ve([String,Object,Array])}}),vke=Z({name:"ElStatistic"}),yke=Z({...vke,props:gke,setup(t,{expose:e}){const n=t,s=Fe("statistic"),r=D(()=>{const{value:a,formatter:o,precision:i,decimalSeparator:l,groupSeparator:u}=n;if(yn(o))return o(a);if(!Tt(a)||Number.isNaN(a))return a;let[c,d=""]=String(a).split(".");return d=d.padEnd(i,"0").slice(0,i>0?i:0),c=c.replace(/\B(?=(\d{3})+(?!\d))/g,u),[c,d].join(d?l:"")});return e({displayValue:r}),(a,o)=>(S(),A("div",{class:q(g(s).b())},[a.$slots.title||a.title?(S(),A("div",{key:0,class:q(g(s).e("head"))},[oe(a.$slots,"title",{},()=>[ct(Me(a.title),1)])],2)):ce("v-if",!0),I("div",{class:q(g(s).e("content"))},[a.$slots.prefix||a.prefix?(S(),A("div",{key:0,class:q(g(s).e("prefix"))},[oe(a.$slots,"prefix",{},()=>[I("span",null,Me(a.prefix),1)])],2)):ce("v-if",!0),I("span",{class:q(g(s).e("number")),style:yt(a.valueStyle)},Me(g(r)),7),a.$slots.suffix||a.suffix?(S(),A("div",{key:1,class:q(g(s).e("suffix"))},[oe(a.$slots,"suffix",{},()=>[I("span",null,Me(a.suffix),1)])],2)):ce("v-if",!0)],2)],2))}});var bke=Xe(yke,[["__file","statistic.vue"]]);const $W=Ft(bke),_ke=qe({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:ve([Number,Object]),default:0},valueStyle:{type:ve([String,Object,Array])}}),wke={finish:()=>!0,[ns]:t=>Tt(t)},xke=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],pL=t=>Tt(t)?new Date(t).getTime():t.valueOf(),mL=(t,e)=>{let n=t;const s=/\[([^\]]*)]/g;return xke.reduce((a,[o,i])=>{const l=new RegExp(`${o}+(?![^\\[\\]]*\\])`,"g");if(l.test(a)){const u=Math.floor(n/i);return n-=u*i,a.replace(l,c=>String(u).padStart(c.length,"0"))}return a},e).replace(s,"$1")},Cke=Z({name:"ElCountdown"}),Ske=Z({...Cke,props:_ke,emits:wke,setup(t,{expose:e,emit:n}){const s=t;let r;const a=B(0),o=D(()=>mL(a.value,s.format)),i=c=>mL(c,s.format),l=()=>{r&&(Dh(r),r=void 0)},u=()=>{const c=pL(s.value),d=()=>{let h=c-Date.now();n("change",h),h<=0?(h=0,l(),n("finish")):r=Xc(d),a.value=h};r=Xc(d)};return Et(()=>{a.value=pL(s.value)-Date.now(),Ee(()=>[s.value,s.format],()=>{l(),u()},{immediate:!0})}),ts(()=>{l()}),e({displayValue:o}),(c,d)=>(S(),be(g($W),{value:a.value,title:c.title,prefix:c.prefix,suffix:c.suffix,"value-style":c.valueStyle,formatter:i},Ei({_:2},[Ut(c.$slots,(h,f)=>({name:f,fn:se(()=>[oe(c.$slots,f)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Tke=Xe(Ske,[["__file","countdown.vue"]]);const kke=Ft(Tke),$ke=qe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Eke={[ns]:(t,e)=>[t,e].every(Tt)},Ike=Z({name:"ElSteps"}),Nke=Z({...Ike,props:$ke,emits:Eke,setup(t,{emit:e}){const n=t,s=Fe("steps"),{children:r,addChild:a,removeChild:o}=C5(Ht(),"ElStep");return Ee(r,()=>{r.value.forEach((i,l)=>{i.setIndex(l)})}),At("ElSteps",{props:n,steps:r,addStep:a,removeStep:o}),Ee(()=>n.active,(i,l)=>{e(ns,i,l)}),(i,l)=>(S(),A("div",{class:q([g(s).b(),g(s).m(i.simple?"simple":i.direction)])},[oe(i.$slots,"default")],2))}});var Ake=Xe(Nke,[["__file","steps.vue"]]);const Dke=qe({title:{type:String,default:""},icon:{type:Gn},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Oke=Z({name:"ElStep"}),Rke=Z({...Oke,props:Dke,setup(t){const e=t,n=Fe("step"),s=B(-1),r=B({}),a=B(""),o=Le("ElSteps"),i=Ht();Et(()=>{Ee([()=>o.props.active,()=>o.props.processStatus,()=>o.props.finishStatus],([x])=>{_(x)},{immediate:!0})}),ts(()=>{o.removeStep(C.uid)});const l=D(()=>e.status||a.value),u=D(()=>{const x=o.steps.value[s.value-1];return x?x.currentStatus:"wait"}),c=D(()=>o.props.alignCenter),d=D(()=>o.props.direction==="vertical"),h=D(()=>o.props.simple),f=D(()=>o.steps.value.length),p=D(()=>{var x;return((x=o.steps.value[f.value-1])==null?void 0:x.uid)===(i==null?void 0:i.uid)}),m=D(()=>h.value?"":o.props.space),y=D(()=>[n.b(),n.is(h.value?"simple":o.props.direction),n.is("flex",p.value&&!m.value&&!c.value),n.is("center",c.value&&!d.value&&!h.value)]),v=D(()=>{const x={flexBasis:Tt(m.value)?`${m.value}px`:m.value?m.value:`${100/(f.value-(c.value?0:1))}%`};return d.value||p.value&&(x.maxWidth=`${100/f.value}%`),x}),b=x=>{s.value=x},w=x=>{const T=x==="wait",k={transitionDelay:`${T?"-":""}${150*s.value}ms`},N=x===o.props.processStatus||T?0:100;k.borderWidth=N&&!h.value?"1px":0,k[o.props.direction==="vertical"?"height":"width"]=`${N}%`,r.value=k},_=x=>{x>s.value?a.value=o.props.finishStatus:x===s.value&&u.value!=="error"?a.value=o.props.processStatus:a.value="wait";const T=o.steps.value[s.value-1];T&&T.calcProgress(a.value)},C=an({uid:i.uid,currentStatus:l,setIndex:b,calcProgress:w});return o.addStep(C),(x,T)=>(S(),A("div",{style:yt(g(v)),class:q(g(y))},[ce(" icon & line "),I("div",{class:q([g(n).e("head"),g(n).is(g(l))])},[g(h)?ce("v-if",!0):(S(),A("div",{key:0,class:q(g(n).e("line"))},[I("i",{class:q(g(n).e("line-inner")),style:yt(r.value)},null,6)],2)),I("div",{class:q([g(n).e("icon"),g(n).is(x.icon||x.$slots.icon?"icon":"text")])},[oe(x.$slots,"icon",{},()=>[x.icon?(S(),be(g(Je),{key:0,class:q(g(n).e("icon-inner"))},{default:se(()=>[(S(),be(Gt(x.icon)))]),_:1},8,["class"])):g(l)==="success"?(S(),be(g(Je),{key:1,class:q([g(n).e("icon-inner"),g(n).is("status")])},{default:se(()=>[$(g(J1))]),_:1},8,["class"])):g(l)==="error"?(S(),be(g(Je),{key:2,class:q([g(n).e("icon-inner"),g(n).is("status")])},{default:se(()=>[$(g(ol))]),_:1},8,["class"])):g(h)?ce("v-if",!0):(S(),A("div",{key:3,class:q(g(n).e("icon-inner"))},Me(s.value+1),3))])],2)],2),ce(" title & description "),I("div",{class:q(g(n).e("main"))},[I("div",{class:q([g(n).e("title"),g(n).is(g(l))])},[oe(x.$slots,"title",{},()=>[ct(Me(x.title),1)])],2),g(h)?(S(),A("div",{key:0,class:q(g(n).e("arrow"))},null,2)):(S(),A("div",{key:1,class:q([g(n).e("description"),g(n).is(g(l))])},[oe(x.$slots,"description",{},()=>[ct(Me(x.description),1)])],2))],2)],6))}});var EW=Xe(Rke,[["__file","item.vue"]]);const Lke=Ft(Ake,{Step:EW}),Pke=gs(EW),Mke=qe({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:DV},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Gn},activeActionIcon:{type:Gn},activeIcon:{type:Gn},inactiveIcon:{type:Gn},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:ve(Function)},id:String,tabindex:{type:[String,Number]},...sa(["ariaLabel"])}),Fke={[Yt]:t=>Ms(t)||qt(t)||Tt(t),[ns]:t=>Ms(t)||qt(t)||Tt(t),[qa]:t=>Ms(t)||qt(t)||Tt(t)},IW="ElSwitch",Bke=Z({name:IW}),zke=Z({...Bke,props:Mke,emits:Fke,setup(t,{expose:e,emit:n}){const s=t,{formItem:r}=Na(),a=or(),o=Fe("switch"),{inputId:i}=ml(s,{formItemContext:r}),l=ao(D(()=>s.loading)),u=B(s.modelValue!==!1),c=B(),d=B(),h=D(()=>[o.b(),o.m(a.value),o.is("disabled",l.value),o.is("checked",v.value)]),f=D(()=>[o.e("label"),o.em("label","left"),o.is("active",!v.value)]),p=D(()=>[o.e("label"),o.em("label","right"),o.is("active",v.value)]),m=D(()=>({width:Es(s.width)}));Ee(()=>s.modelValue,()=>{u.value=!0});const y=D(()=>u.value?s.modelValue:!1),v=D(()=>y.value===s.activeValue);[s.activeValue,s.inactiveValue].includes(y.value)||(n(Yt,s.inactiveValue),n(ns,s.inactiveValue),n(qa,s.inactiveValue)),Ee(v,C=>{var x;c.value.checked=C,s.validateEvent&&((x=r==null?void 0:r.validate)==null||x.call(r,"change").catch(T=>void 0))});const b=()=>{const C=v.value?s.inactiveValue:s.activeValue;n(Yt,C),n(ns,C),n(qa,C),it(()=>{c.value.checked=v.value})},w=()=>{if(l.value)return;const{beforeChange:C}=s;if(!C){b();return}const x=C();[hS(x),Ms(x)].includes(!0)||br(IW,"beforeChange must return type `Promise<boolean>` or `boolean`"),hS(x)?x.then(k=>{k&&b()}).catch(k=>{}):x&&b()},_=()=>{var C,x;(x=(C=c.value)==null?void 0:C.focus)==null||x.call(C)};return Et(()=>{c.value.checked=v.value}),e({focus:_,checked:v}),(C,x)=>(S(),A("div",{class:q(g(h)),onClick:xt(w,["prevent"])},[I("input",{id:g(i),ref_key:"input",ref:c,class:q(g(o).e("input")),type:"checkbox",role:"switch","aria-checked":g(v),"aria-disabled":g(l),"aria-label":C.ariaLabel,name:C.name,"true-value":C.activeValue,"false-value":C.inactiveValue,disabled:g(l),tabindex:C.tabindex,onChange:b,onKeydown:Pn(w,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!C.inlinePrompt&&(C.inactiveIcon||C.inactiveText)?(S(),A("span",{key:0,class:q(g(f))},[C.inactiveIcon?(S(),be(g(Je),{key:0},{default:se(()=>[(S(),be(Gt(C.inactiveIcon)))]),_:1})):ce("v-if",!0),!C.inactiveIcon&&C.inactiveText?(S(),A("span",{key:1,"aria-hidden":g(v)},Me(C.inactiveText),9,["aria-hidden"])):ce("v-if",!0)],2)):ce("v-if",!0),I("span",{ref_key:"core",ref:d,class:q(g(o).e("core")),style:yt(g(m))},[C.inlinePrompt?(S(),A("div",{key:0,class:q(g(o).e("inner"))},[C.activeIcon||C.inactiveIcon?(S(),be(g(Je),{key:0,class:q(g(o).is("icon"))},{default:se(()=>[(S(),be(Gt(g(v)?C.activeIcon:C.inactiveIcon)))]),_:1},8,["class"])):C.activeText||C.inactiveText?(S(),A("span",{key:1,class:q(g(o).is("text")),"aria-hidden":!g(v)},Me(g(v)?C.activeText:C.inactiveText),11,["aria-hidden"])):ce("v-if",!0)],2)):ce("v-if",!0),I("div",{class:q(g(o).e("action"))},[C.loading?(S(),be(g(Je),{key:0,class:q(g(o).is("loading"))},{default:se(()=>[$(g(Xl))]),_:1},8,["class"])):g(v)?oe(C.$slots,"active-action",{key:1},()=>[C.activeActionIcon?(S(),be(g(Je),{key:0},{default:se(()=>[(S(),be(Gt(C.activeActionIcon)))]),_:1})):ce("v-if",!0)]):g(v)?ce("v-if",!0):oe(C.$slots,"inactive-action",{key:2},()=>[C.inactiveActionIcon?(S(),be(g(Je),{key:0},{default:se(()=>[(S(),be(Gt(C.inactiveActionIcon)))]),_:1})):ce("v-if",!0)])],2)],6),!C.inlinePrompt&&(C.activeIcon||C.activeText)?(S(),A("span",{key:1,class:q(g(p))},[C.activeIcon?(S(),be(g(Je),{key:0},{default:se(()=>[(S(),be(Gt(C.activeIcon)))]),_:1})):ce("v-if",!0),!C.activeIcon&&C.activeText?(S(),A("span",{key:1,"aria-hidden":!g(v)},Me(C.activeText),9,["aria-hidden"])):ce("v-if",!0)],2)):ce("v-if",!0)],10,["onClick"]))}});var Vke=Xe(zke,[["__file","switch.vue"]]);const dT=Ft(Vke),oC=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},Hke=function(t,e,n,s,r){if(!e&&!s&&(!r||Array.isArray(r)&&!r.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const a=s?null:function(i,l){return r?(Array.isArray(r)||(r=[r]),r.map(u=>typeof u=="string"?Ls(i,u):u(i,l,t))):(e!=="$key"&&Vn(i)&&"$value"in i&&(i=i.$value),[Vn(i)?Ls(i,e):i])},o=function(i,l){if(s)return s(i.value,l.value);for(let u=0,c=i.key.length;u<c;u++){if(i.key[u]<l.key[u])return-1;if(i.key[u]>l.key[u])return 1}return 0};return t.map((i,l)=>({value:i,index:l,key:a?a(i,l):null})).sort((i,l)=>{let u=o(i,l);return u||(u=i.index-l.index),u*+n}).map(i=>i.value)},NW=function(t,e){let n=null;return t.columns.forEach(s=>{s.id===e&&(n=s)}),n},Uke=function(t,e){let n=null;for(let s=0;s<t.columns.length;s++){const r=t.columns[s];if(r.columnKey===e){n=r;break}}return n||br("ElTable",`No column matching with column-key: ${e}`),n},gL=function(t,e,n){const s=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return s?NW(t,s[0]):null},wa=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let s=t;for(const r of n)s=s[r];return`${s}`}else if(typeof e=="function")return e.call(null,t)},uh=function(t,e){const n={};return(t||[]).forEach((s,r)=>{n[wa(s,e)]={row:s,index:r}}),n};function Wke(t,e){const n={};let s;for(s in t)n[s]=t[s];for(s in e)if(fa(e,s)){const r=e[s];typeof r<"u"&&(n[s]=r)}return n}function aE(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function AW(t){return t===""||t!==void 0&&(t=aE(t),Number.isNaN(t)&&(t=80)),t}function jke(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function Gke(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...s)=>e(n(...s)))}function w3(t,e,n,s,r,a){let o=a??0,i=!1;const l=t.indexOf(e),u=l!==-1,c=r==null?void 0:r.call(null,e,a),d=f=>{f==="add"?t.push(e):t.splice(l,1),i=!0},h=f=>{let p=0;const m=(s==null?void 0:s.children)&&f[s.children];return m&&Mt(m)&&(p+=m.length,m.forEach(y=>{p+=h(y)})),p};return(!r||c)&&(Ms(n)?n&&!u?d("add"):!n&&u&&d("remove"):d(u?"remove":"add")),!(s!=null&&s.checkStrictly)&&(s!=null&&s.children)&&Mt(e[s.children])&&e[s.children].forEach(f=>{w3(t,f,n??!u,s,r,o+1),o+=h(f)+1}),i}function qke(t,e,n="children",s="hasChildren"){const r=o=>!(Array.isArray(o)&&o.length);function a(o,i,l){e(o,i,l),i.forEach(u=>{if(u[s]){e(u,null,l+1);return}const c=u[n];r(c)||a(u,c,l+1)})}t.forEach(o=>{if(o[s]){e(o,null,0);return}const i=o[n];r(i)||a(o,i,0)})}let ui=null;function Kke(t,e,n,s){if((ui==null?void 0:ui.trigger)===n)return;ui==null||ui();const r=s==null?void 0:s.refs.tableWrapper,a=r==null?void 0:r.dataset.prefix,o={strategy:"fixed",...t.popperOptions},i=$(ys,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:r,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:o,onHide:()=>{ui==null||ui()}});i.appContext={...s.appContext,...s};const l=document.createElement("div");Ta(i,l),i.component.exposed.onOpen();const u=r==null?void 0:r.querySelector(`.${a}-scrollbar__wrap`);ui=()=>{Ta(null,l),u==null||u.removeEventListener("scroll",ui),ui=null},ui.trigger=n,u==null||u.addEventListener("scroll",ui)}function DW(t){return t.children?wme(t.children,DW):[t]}function vL(t,e){return t+e.colSpan}const OW=(t,e,n,s)=>{let r=0,a=t;const o=n.states.columns.value;if(s){const l=DW(s[t]);r=o.slice(0,o.indexOf(l[0])).reduce(vL,0),a=r+l.reduce(vL,0)-1}else r=t;let i;switch(e){case"left":a<n.states.fixedLeafColumnsLength.value&&(i="left");break;case"right":r>=o.length-n.states.rightFixedLeafColumnsLength.value&&(i="right");break;default:a<n.states.fixedLeafColumnsLength.value?i="left":r>=o.length-n.states.rightFixedLeafColumnsLength.value&&(i="right")}return i?{direction:i,start:r,after:a}:{}},oE=(t,e,n,s,r,a=0)=>{const o=[],{direction:i,start:l,after:u}=OW(e,n,s,r);if(i){const c=i==="left";o.push(`${t}-fixed-column--${i}`),c&&u+a===s.states.fixedLeafColumnsLength.value-1?o.push("is-last-column"):!c&&l-a===s.states.columns.value.length-s.states.rightFixedLeafColumnsLength.value&&o.push("is-first-column")}return o};function yL(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const iE=(t,e,n,s)=>{const{direction:r,start:a=0,after:o=0}=OW(t,e,n,s);if(!r)return;const i={},l=r==="left",u=n.states.columns.value;return l?i.left=u.slice(0,a).reduce(yL,0):i.right=u.slice(o+1).reverse().reduce(yL,0),i},Qp=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function Xke(t){const e=Ht(),n=B(!1),s=B([]);return{updateExpandRows:()=>{const l=t.data.value||[],u=t.rowKey.value;if(n.value)s.value=l.slice();else if(u){const c=uh(s.value,u);s.value=l.reduce((d,h)=>{const f=wa(h,u);return c[f]&&d.push(h),d},[])}else s.value=[]},toggleRowExpansion:(l,u)=>{w3(s.value,l,u)&&e.emit("expand-change",l,s.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const u=t.data.value||[],c=t.rowKey.value,d=uh(u,c);s.value=l.reduce((h,f)=>{const p=d[f];return p&&h.push(p.row),h},[])},isRowExpanded:l=>{const u=t.rowKey.value;return u?!!uh(s.value,u)[wa(l,u)]:s.value.includes(l)},states:{expandRows:s,defaultExpandAll:n}}}function Yke(t){const e=Ht(),n=B(null),s=B(null),r=u=>{e.store.assertRowKey(),n.value=u,o(u)},a=()=>{n.value=null},o=u=>{const{data:c,rowKey:d}=t;let h=null;d.value&&(h=(g(c)||[]).find(f=>wa(f,d.value)===u)),s.value=h,e.emit("current-change",s.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:a,setCurrentRowByKey:o,updateCurrentRow:u=>{const c=s.value;if(u&&u!==c){s.value=u,e.emit("current-change",s.value,c);return}!u&&c&&(s.value=null,e.emit("current-change",null,c))},updateCurrentRowData:()=>{const u=t.rowKey.value,c=t.data.value||[],d=s.value;if(!c.includes(d)&&d){if(u){const h=wa(d,u);o(h)}else s.value=null;s.value===null&&e.emit("current-change",null,d)}else n.value&&(o(n.value),a())},states:{_currentRowKey:n,currentRow:s}}}function Qke(t){const e=B([]),n=B({}),s=B(16),r=B(!1),a=B({}),o=B("hasChildren"),i=B("children"),l=B(!1),u=Ht(),c=D(()=>{if(!t.rowKey.value)return{};const b=t.data.value||[];return h(b)}),d=D(()=>{const b=t.rowKey.value,w=Object.keys(a.value),_={};return w.length&&w.forEach(C=>{if(a.value[C].length){const x={children:[]};a.value[C].forEach(T=>{const k=wa(T,b);x.children.push(k),T[o.value]&&!_[k]&&(_[k]={children:[]})}),_[C]=x}}),_}),h=b=>{const w=t.rowKey.value,_={};return qke(b,(C,x,T)=>{const k=wa(C,w);Array.isArray(x)?_[k]={children:x.map(N=>wa(N,w)),level:T}:r.value&&(_[k]={children:[],lazy:!0,level:T})},i.value,o.value),_},f=(b=!1,w=(_=>(_=u.store)==null?void 0:_.states.defaultExpandAll.value)())=>{var _;const C=c.value,x=d.value,T=Object.keys(C),k={};if(T.length){const N=g(n),O=[],L=(H,K)=>{if(b)return e.value?w||e.value.includes(K):!!(w||H!=null&&H.expanded);{const U=w||e.value&&e.value.includes(K);return!!(H!=null&&H.expanded||U)}};T.forEach(H=>{const K=N[H],U={...C[H]};if(U.expanded=L(K,H),U.lazy){const{loaded:R=!1,loading:W=!1}=K||{};U.loaded=!!R,U.loading=!!W,O.push(H)}k[H]=U});const V=Object.keys(x);r.value&&V.length&&O.length&&V.forEach(H=>{const K=N[H],U=x[H].children;if(O.includes(H)){if(k[H].children.length!==0)throw new Error("[ElTable]children must be an empty array.");k[H].children=U}else{const{loaded:R=!1,loading:W=!1}=K||{};k[H]={lazy:!0,loaded:!!R,loading:!!W,expanded:L(K,H),children:U,level:""}}})}n.value=k,(_=u.store)==null||_.updateTableScrollY()};Ee(()=>e.value,()=>{f(!0)}),Ee(()=>c.value,()=>{f()}),Ee(()=>d.value,()=>{f()});const p=b=>{e.value=b,f()},m=(b,w)=>{u.store.assertRowKey();const _=t.rowKey.value,C=wa(b,_),x=C&&n.value[C];if(C&&x&&"expanded"in x){const T=x.expanded;w=typeof w>"u"?!x.expanded:w,n.value[C].expanded=w,T!==w&&u.emit("expand-change",b,w),u.store.updateTableScrollY()}},y=b=>{u.store.assertRowKey();const w=t.rowKey.value,_=wa(b,w),C=n.value[_];r.value&&C&&"loaded"in C&&!C.loaded?v(b,_,C):m(b,void 0)},v=(b,w,_)=>{const{load:C}=u.props;C&&!n.value[w].loaded&&(n.value[w].loading=!0,C(b,_,x=>{if(!Array.isArray(x))throw new TypeError("[ElTable] data must be an array");n.value[w].loading=!1,n.value[w].loaded=!0,n.value[w].expanded=!0,x.length&&(a.value[w]=x),u.emit("expand-change",b,!0)}))};return{loadData:v,loadOrToggle:y,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:f,normalize:h,states:{expandRowKeys:e,treeData:n,indent:s,lazy:r,lazyTreeNodeMap:a,lazyColumnIdentifier:o,childrenColumnName:i,checkStrictly:l}}}const Zke=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:Hke(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},O_=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,O_(n.children)):e.push(n)}),e};function Jke(){var t;const e=Ht(),{size:n}=Jr((t=e.proxy)==null?void 0:t.$props),s=B(null),r=B([]),a=B([]),o=B(!1),i=B([]),l=B([]),u=B([]),c=B([]),d=B([]),h=B([]),f=B([]),p=B([]),m=[],y=B(0),v=B(0),b=B(0),w=B(!1),_=B([]),C=B(!1),x=B(!1),T=B(null),k=B({}),N=B(null),O=B(null),L=B(null),V=B(null),H=B(null);Ee(r,()=>e.state&&W(!1),{deep:!0});const K=()=>{if(!s.value)throw new Error("[ElTable] prop row-key is required")},U=Ct=>{var It;(It=Ct.children)==null||It.forEach(Re=>{Re.fixed=Ct.fixed,U(Re)})},R=()=>{i.value.forEach(xe=>{U(xe)}),c.value=i.value.filter(xe=>xe.fixed===!0||xe.fixed==="left"),d.value=i.value.filter(xe=>xe.fixed==="right"),c.value.length>0&&i.value[0]&&i.value[0].type==="selection"&&!i.value[0].fixed&&(i.value[0].fixed=!0,c.value.unshift(i.value[0]));const Ct=i.value.filter(xe=>!xe.fixed);l.value=[].concat(c.value).concat(Ct).concat(d.value);const It=O_(Ct),Re=O_(c.value),ut=O_(d.value);y.value=It.length,v.value=Re.length,b.value=ut.length,u.value=[].concat(Re).concat(It).concat(ut),o.value=c.value.length>0||d.value.length>0},W=(Ct,It=!1)=>{Ct&&R(),It?e.state.doLayout():e.state.debouncedUpdateLayout()},G=Ct=>_.value.includes(Ct),P=()=>{w.value=!1;const Ct=_.value;_.value=[],Ct.length&&e.emit("selection-change",[])},j=()=>{let Ct;if(s.value){Ct=[];const It=uh(_.value,s.value),Re=uh(r.value,s.value);for(const ut in It)fa(It,ut)&&!Re[ut]&&Ct.push(It[ut].row)}else Ct=_.value.filter(It=>!r.value.includes(It));if(Ct.length){const It=_.value.filter(Re=>!Ct.includes(Re));_.value=It,e.emit("selection-change",It.slice())}},J=()=>(_.value||[]).slice(),ne=(Ct,It,Re=!0)=>{var ut,xe,Ke,Ze;const Zt={children:(xe=(ut=e==null?void 0:e.store)==null?void 0:ut.states)==null?void 0:xe.childrenColumnName.value,checkStrictly:(Ze=(Ke=e==null?void 0:e.store)==null?void 0:Ke.states)==null?void 0:Ze.checkStrictly.value};if(w3(_.value,Ct,It,Zt,T.value)){const Oe=(_.value||[]).slice();Re&&e.emit("select",Oe,Ct),e.emit("selection-change",Oe)}},te=()=>{var Ct,It;const Re=x.value?!w.value:!(w.value||_.value.length);w.value=Re;let ut=!1,xe=0;const Ke=(It=(Ct=e==null?void 0:e.store)==null?void 0:Ct.states)==null?void 0:It.rowKey.value,{childrenColumnName:Ze}=e.store.states,Zt={children:Ze.value,checkStrictly:!1};r.value.forEach((Mn,Oe)=>{const St=Oe+xe;w3(_.value,Mn,Re,Zt,T.value,St)&&(ut=!0),xe+=_e(wa(Mn,Ke))}),ut&&e.emit("selection-change",_.value?_.value.slice():[]),e.emit("select-all",(_.value||[]).slice())},de=()=>{const Ct=uh(_.value,s.value);r.value.forEach(It=>{const Re=wa(It,s.value),ut=Ct[Re];ut&&(_.value[ut.index]=It)})},me=()=>{var Ct;if(((Ct=r.value)==null?void 0:Ct.length)===0){w.value=!1;return}const{childrenColumnName:It}=e.store.states,Re=s.value?uh(_.value,s.value):void 0;let ut=0,xe=0;const Ke=Mn=>Re?!!Re[wa(Mn,s.value)]:_.value.includes(Mn),Ze=Mn=>{var Oe;for(const St of Mn){const bn=T.value&&T.value.call(null,St,ut);if(Ke(St))xe++;else if(!T.value||bn)return!1;if(ut++,(Oe=St[It.value])!=null&&Oe.length&&!Ze(St[It.value]))return!1}return!0},Zt=Ze(r.value||[]);w.value=xe===0?!1:Zt},_e=Ct=>{var It;if(!e||!e.store)return 0;const{treeData:Re}=e.store.states;let ut=0;const xe=(It=Re.value[Ct])==null?void 0:It.children;return xe&&(ut+=xe.length,xe.forEach(Ke=>{ut+=_e(Ke)})),ut},ee=(Ct,It)=>{Array.isArray(Ct)||(Ct=[Ct]);const Re={};return Ct.forEach(ut=>{k.value[ut.id]=It,Re[ut.columnKey||ut.id]=It}),Re},he=(Ct,It,Re)=>{O.value&&O.value!==Ct&&(O.value.order=null),O.value=Ct,L.value=It,V.value=Re},le=()=>{let Ct=g(a);Object.keys(k.value).forEach(It=>{const Re=k.value[It];if(!Re||Re.length===0)return;const ut=NW({columns:u.value},It);ut&&ut.filterMethod&&(Ct=Ct.filter(xe=>Re.some(Ke=>ut.filterMethod.call(null,Ke,xe,ut))))}),N.value=Ct},ue=()=>{r.value=Zke(N.value,{sortingColumn:O.value,sortProp:L.value,sortOrder:V.value})},re=(Ct=void 0)=>{Ct&&Ct.filter||le(),ue()},we=Ct=>{const{tableHeaderRef:It}=e.refs;if(!It)return;const Re=Object.assign({},It.filterPanels),ut=Object.keys(Re);if(ut.length)if(typeof Ct=="string"&&(Ct=[Ct]),Array.isArray(Ct)){const xe=Ct.map(Ke=>Uke({columns:u.value},Ke));ut.forEach(Ke=>{const Ze=xe.find(Zt=>Zt.id===Ke);Ze&&(Ze.filteredValue=[])}),e.store.commit("filterChange",{column:xe,values:[],silent:!0,multi:!0})}else ut.forEach(xe=>{const Ke=u.value.find(Ze=>Ze.id===xe);Ke&&(Ke.filteredValue=[])}),k.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},Ae=()=>{O.value&&(he(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ue,toggleRowExpansion:at,updateExpandRows:ot,states:Pe,isRowExpanded:je}=Xke({data:r,rowKey:s}),{updateTreeExpandKeys:dt,toggleTreeExpansion:Qe,updateTreeData:wt,loadOrToggle:vt,states:Ge}=Qke({data:r,rowKey:s}),{updateCurrentRowData:fe,updateCurrentRow:_t,setCurrentRowKey:Dt,states:Qt}=Yke({data:r,rowKey:s});return{assertRowKey:K,updateColumns:R,scheduleLayout:W,isSelected:G,clearSelection:P,cleanSelection:j,getSelectionRows:J,toggleRowSelection:ne,_toggleAllSelection:te,toggleAllSelection:null,updateSelectionByRowKey:de,updateAllSelected:me,updateFilters:ee,updateCurrentRow:_t,updateSort:he,execFilter:le,execSort:ue,execQuery:re,clearFilter:we,clearSort:Ae,toggleRowExpansion:at,setExpandRowKeysAdapter:Ct=>{Ue(Ct),dt(Ct)},setCurrentRowKey:Dt,toggleRowExpansionAdapter:(Ct,It)=>{u.value.some(({type:ut})=>ut==="expand")?at(Ct,It):Qe(Ct,It)},isRowExpanded:je,updateExpandRows:ot,updateCurrentRowData:fe,loadOrToggle:vt,updateTreeData:wt,states:{tableSize:n,rowKey:s,data:r,_data:a,isComplex:o,_columns:i,originColumns:l,columns:u,fixedColumns:c,rightFixedColumns:d,leafColumns:h,fixedLeafColumns:f,rightFixedLeafColumns:p,updateOrderFns:m,leafColumnsLength:y,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:b,isAllSelected:w,selection:_,reserveSelection:C,selectOnIndeterminate:x,selectable:T,filters:k,filteredData:N,sortingColumn:O,sortProp:L,sortOrder:V,hoverRow:H,...Pe,...Ge,...Qt}}}function hT(t,e){return t.map(n=>{var s;return n.id===e.id?e:((s=n.children)!=null&&s.length&&(n.children=hT(n.children,e)),n)})}function fT(t){t.forEach(e=>{var n,s;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(s=e.children)!=null&&s.length&&fT(e.children)}),t.sort((e,n)=>e.no-n.no)}function e$e(){const t=Ht(),e=Jke();return{ns:Fe("table"),...e,mutations:{setData(o,i){const l=g(o._data)!==i;o.data.value=i,o._data.value=i,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),g(o.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):l?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(o,i,l,u){const c=g(o._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(i),d=hT(c,l)):(c.push(i),d=c),fT(d),o._columns.value=d,o.updateOrderFns.push(u),i.type==="selection"&&(o.selectable.value=i.selectable,o.reserveSelection.value=i.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(o,i){var l;((l=i.getColumnIndex)==null?void 0:l.call(i))!==i.no&&(fT(o._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(o,i,l,u){const c=g(o._columns)||[];if(l)l.children.splice(l.children.findIndex(h=>h.id===i.id),1),it(()=>{var h;((h=l.children)==null?void 0:h.length)===0&&delete l.children}),o._columns.value=hT(c,l);else{const h=c.indexOf(i);h>-1&&(c.splice(h,1),o._columns.value=c)}const d=o.updateOrderFns.indexOf(u);d>-1&&o.updateOrderFns.splice(d,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(o,i){const{prop:l,order:u,init:c}=i;if(l){const d=g(o.columns).find(h=>h.property===l);d&&(d.order=u,t.store.updateSort(d,l,u),t.store.commit("changeSortCondition",{init:c}))}},changeSortCondition(o,i){const{sortingColumn:l,sortProp:u,sortOrder:c}=o,d=g(l),h=g(u),f=g(c);f===null&&(o.sortingColumn.value=null,o.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!i||!(i.silent||i.init))&&t.emit("sort-change",{column:d,prop:h,order:f}),t.store.updateTableScrollY()},filterChange(o,i){const{column:l,values:u,silent:c}=i,d=t.store.updateFilters(l,u);t.store.execQuery(),c||t.emit("filter-change",d),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(o,i){t.store.toggleRowSelection(i),t.store.updateAllSelected()},setHoverRow(o,i){o.hoverRow.value=i},setCurrentRow(o,i){t.store.updateCurrentRow(i)}},commit:function(o,...i){const l=t.store.mutations;if(l[o])l[o].apply(t,[t.store.states].concat(i));else throw new Error(`Action not found: ${o}`)},updateTableScrollY:function(){it(()=>t.layout.updateScrollY.apply(t.layout))}}}const N2={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function t$e(t,e){if(!t)throw new Error("Table is required.");const n=e$e();return n.toggleAllSelection=So(n._toggleAllSelection,10),Object.keys(N2).forEach(s=>{RW(LW(e,s),s,n)}),n$e(n,e),n}function n$e(t,e){Object.keys(N2).forEach(n=>{Ee(()=>LW(e,n),s=>{RW(s,n,t)})})}function RW(t,e,n){let s=t,r=N2[e];typeof N2[e]=="object"&&(r=r.key,s=s||N2[e].default),n.states[r].value=s}function LW(t,e){if(e.includes(".")){const n=e.split(".");let s=t;return n.forEach(r=>{s=s[r]}),s}else return t[e]}class s$e{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=B(null),this.scrollX=B(!1),this.scrollY=B(!1),this.bodyWidth=B(null),this.fixedWidth=B(null),this.rightFixedWidth=B(null),this.gutterWidth=0;for(const n in e)fa(e,n)&&(ms(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let s=!0;const r=this.scrollY.value;return s=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=s,r!==s}return!1}setHeight(e,n="height"){if(!hn)return;const s=this.table.vnode.el;if(e=jke(e),this.height.value=Number(e),!s&&(e||e===0))return it(()=>this.setHeight(e,n));typeof e=="number"?(s.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(s.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(s=>{s.isColumnGroup?e.push.apply(e,s.columns):e.push(s)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!hn)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let s=0;const r=this.getFlattenColumns(),a=r.filter(l=>typeof l.width!="number");if(r.forEach(l=>{typeof l.width=="number"&&l.realWidth&&(l.realWidth=null)}),a.length>0&&e){if(r.forEach(l=>{s+=Number(l.width||l.minWidth||80)}),s<=n){this.scrollX.value=!1;const l=n-s;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+l;else{const u=a.reduce((h,f)=>h+Number(f.minWidth||80),0),c=l/u;let d=0;a.forEach((h,f)=>{if(f===0)return;const p=Math.floor(Number(h.minWidth||80)*c);d+=p,h.realWidth=Number(h.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+l-d}}else this.scrollX.value=!0,a.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(s,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),s+=l.realWidth}),this.scrollX.value=s>n,this.bodyWidth.value=s;const o=this.store.states.fixedColumns.value;if(o.length>0){let l=0;o.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.fixedWidth.value=l}const i=this.store.states.rightFixedColumns.value;if(i.length>0){let l=0;i.forEach(u=>{l+=Number(u.realWidth||u.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(s=>{var r,a;switch(e){case"columns":(r=s.state)==null||r.onColumnsChange(this);break;case"scrollable":(a=s.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:r$e}=ha,a$e=Z({name:"ElTableFilterPanel",components:{ElCheckbox:ha,ElCheckboxGroup:r$e,ElScrollbar:vr,ElTooltip:ys,ElIcon:Je,ArrowDown:tc,ArrowUp:Y$},directives:{ClickOutside:Pu},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=Ht(),{t:n}=fn(),s=Fe("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const a=B(!1),o=B(null),i=D(()=>t.column&&t.column.filters),l=D(()=>t.column.filterClassName?`${s.b()} ${t.column.filterClassName}`:s.b()),u=D({get:()=>{var C;return(((C=t.column)==null?void 0:C.filteredValue)||[])[0]},set:C=>{c.value&&(typeof C<"u"&&C!==null?c.value.splice(0,1,C):c.value.splice(0,1))}}),c=D({get(){return t.column?t.column.filteredValue||[]:[]},set(C){t.column&&t.upDataColumn("filteredValue",C)}}),d=D(()=>t.column?t.column.filterMultiple:!0),h=C=>C.value===u.value,f=()=>{a.value=!1},p=C=>{C.stopPropagation(),a.value=!a.value},m=()=>{a.value=!1},y=()=>{w(c.value),f()},v=()=>{c.value=[],w(c.value),f()},b=C=>{u.value=C,w(typeof C<"u"&&C!==null?c.value:[]),f()},w=C=>{t.store.commit("filterChange",{column:t.column,values:C}),t.store.updateAllSelected()};Ee(a,C=>{t.column&&t.upDataColumn("filterOpened",C)},{immediate:!0});const _=D(()=>{var C,x;return(x=(C=o.value)==null?void 0:C.popperRef)==null?void 0:x.contentRef});return{tooltipVisible:a,multiple:d,filterClassName:l,filteredValue:c,filterValue:u,filters:i,handleConfirm:y,handleReset:v,handleSelect:b,isActive:h,t:n,ns:s,showFilterPanel:p,hideFilterPanel:m,popperPaneRef:_,tooltip:o}}});function o$e(t,e,n,s,r,a){const o=ht("el-checkbox"),i=ht("el-checkbox-group"),l=ht("el-scrollbar"),u=ht("arrow-up"),c=ht("arrow-down"),d=ht("el-icon"),h=ht("el-tooltip"),f=F4("click-outside");return S(),be(h,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:se(()=>[t.multiple?(S(),A("div",{key:0},[I("div",{class:q(t.ns.e("content"))},[$(l,{"wrap-class":t.ns.e("wrap")},{default:se(()=>[$(i,{modelValue:t.filteredValue,"onUpdate:modelValue":p=>t.filteredValue=p,class:q(t.ns.e("checkbox-group"))},{default:se(()=>[(S(!0),A(He,null,Ut(t.filters,p=>(S(),be(o,{key:p.value,value:p.value},{default:se(()=>[ct(Me(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),I("div",{class:q(t.ns.e("bottom"))},[I("button",{class:q({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},Me(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),I("button",{type:"button",onClick:t.handleReset},Me(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(S(),A("ul",{key:1,class:q(t.ns.e("list"))},[I("li",{class:q([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:p=>t.handleSelect(null)},Me(t.t("el.table.clearFilter")),11,["onClick"]),(S(!0),A(He,null,Ut(t.filters,p=>(S(),A("li",{key:p.value,class:q([t.ns.e("list-item"),t.ns.is("active",t.isActive(p))]),label:p.value,onClick:m=>t.handleSelect(p.value)},Me(p.text),11,["label","onClick"]))),128))],2))]),default:se(()=>[zt((S(),A("span",{class:q([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[$(d,null,{default:se(()=>[oe(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(S(),be(u,{key:0})):(S(),be(c,{key:1}))])]),_:3})],10,["onClick"])),[[f,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class"])}var i$e=Xe(a$e,[["render",o$e],["__file","filter-panel.vue"]]);function PW(t){const e=Ht();b$(()=>{n.value.addObserver(e)}),Et(()=>{s(n.value),r(n.value)}),gd(()=>{s(n.value),r(n.value)}),ma(()=>{n.value.removeObserver(e)});const n=D(()=>{const a=t.layout;if(!a)throw new Error("Can not find table layout.");return a}),s=a=>{var o;const i=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col"))||[];if(!i.length)return;const l=a.getFlattenColumns(),u={};l.forEach(c=>{u[c.id]=c});for(let c=0,d=i.length;c<d;c++){const h=i[c],f=h.getAttribute("name"),p=u[f];p&&h.setAttribute("width",p.realWidth||p.width)}},r=a=>{var o,i;const l=((o=t.vnode.el)==null?void 0:o.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let c=0,d=l.length;c<d;c++)l[c].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const u=((i=t.vnode.el)==null?void 0:i.querySelectorAll("th.gutter"))||[];for(let c=0,d=u.length;c<d;c++){const h=u[c];h.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",h.style.display=a.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:s,onScrollableChange:r}}const cu=Symbol("ElTable");function l$e(t,e){const n=Ht(),s=Le(cu),r=m=>{m.stopPropagation()},a=(m,y)=>{!y.filters&&y.sortable?p(m,y,!1):y.filterable&&!y.sortable&&r(m),s==null||s.emit("header-click",y,m)},o=(m,y)=>{s==null||s.emit("header-contextmenu",y,m)},i=B(null),l=B(!1),u=B({}),c=(m,y)=>{if(hn&&!(y.children&&y.children.length>0)&&i.value&&t.border){l.value=!0;const v=s;e("set-drag-visible",!0);const w=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,_=n.vnode.el.querySelector(`th.${y.id}`),C=_.getBoundingClientRect(),x=C.left-w+30;yi(_,"noclick"),u.value={startMouseLeft:m.clientX,startLeft:C.right-w,startColumnLeft:C.left-w,tableLeft:w};const T=v==null?void 0:v.refs.resizeProxy;T.style.left=`${u.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const k=O=>{const L=O.clientX-u.value.startMouseLeft,V=u.value.startLeft+L;T.style.left=`${Math.max(x,V)}px`},N=()=>{if(l.value){const{startColumnLeft:O,startLeft:L}=u.value,H=Number.parseInt(T.style.left,10)-O;y.width=y.realWidth=H,v==null||v.emit("header-dragend",y.width,L-O,y,m),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,i.value=null,u.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",N),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{ka(_,"noclick")},0)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",N)}},d=(m,y)=>{if(y.children&&y.children.length>0)return;const v=m.target;if(!qo(v))return;const b=v==null?void 0:v.closest("th");if(!(!y||!y.resizable)&&!l.value&&t.border){const w=b.getBoundingClientRect(),_=document.body.style;w.width>12&&w.right-m.pageX<8?(_.cursor="col-resize",yo(b,"is-sortable")&&(b.style.cursor="col-resize"),i.value=y):l.value||(_.cursor="",yo(b,"is-sortable")&&(b.style.cursor="pointer"),i.value=null)}},h=()=>{hn&&(document.body.style.cursor="")},f=({order:m,sortOrders:y})=>{if(m==="")return y[0];const v=y.indexOf(m||null);return y[v>y.length-2?0:v+1]},p=(m,y,v)=>{var b;m.stopPropagation();const w=y.order===v?null:v||f(y),_=(b=m.target)==null?void 0:b.closest("th");if(_&&yo(_,"noclick")){ka(_,"noclick");return}if(!y.sortable)return;const C=m.currentTarget;if(["ascending","descending"].some(O=>yo(C,O)&&!y.sortOrders.includes(O)))return;const x=t.store.states;let T=x.sortProp.value,k;const N=x.sortingColumn.value;(N!==y||N===y&&N.order===null)&&(N&&(N.order=null),x.sortingColumn.value=y,T=y.property),w?k=y.order=w:k=y.order=null,x.sortProp.value=T,x.sortOrder.value=k,s==null||s.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:p,handleFilterClick:r}}function u$e(t){const e=Le(cu),n=Fe("table");return{getHeaderRowStyle:i=>{const l=e==null?void 0:e.props.headerRowStyle;return typeof l=="function"?l.call(null,{rowIndex:i}):l},getHeaderRowClass:i=>{const l=[],u=e==null?void 0:e.props.headerRowClassName;return typeof u=="string"?l.push(u):typeof u=="function"&&l.push(u.call(null,{rowIndex:i})),l.join(" ")},getHeaderCellStyle:(i,l,u,c)=>{var d;let h=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};typeof h=="function"&&(h=h.call(null,{rowIndex:i,columnIndex:l,row:u,column:c}));const f=iE(l,c.fixed,t.store,u);return Qp(f,"left"),Qp(f,"right"),Object.assign({},h,f)},getHeaderCellClass:(i,l,u,c)=>{const d=oE(n.b(),l,c.fixed,t.store,u),h=[c.id,c.order,c.headerAlign,c.className,c.labelClassName,...d];c.children||h.push("is-leaf"),c.sortable&&h.push("is-sortable");const f=e==null?void 0:e.props.headerCellClassName;return typeof f=="string"?h.push(f):typeof f=="function"&&h.push(f.call(null,{rowIndex:i,columnIndex:l,row:u,column:c})),h.push(n.e("cell")),h.filter(p=>!!p).join(" ")}}}const MW=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,MW(n.children))):e.push(n)}),e},FW=t=>{let e=1;const n=(a,o)=>{if(o&&(a.level=o.level+1,e<a.level&&(e=a.level)),a.children){let i=0;a.children.forEach(l=>{n(l,a),i+=l.colSpan}),a.colSpan=i}else a.colSpan=1};t.forEach(a=>{a.level=1,n(a,void 0)});const s=[];for(let a=0;a<e;a++)s.push([]);return MW(t).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(o=>o.isSubColumn=!0)):a.rowSpan=e-a.level+1,s[a.level-1].push(a)}),s};function c$e(t){const e=Le(cu),n=D(()=>FW(t.store.states.originColumns.value));return{isGroup:D(()=>{const a=n.value.length>1;return a&&e&&(e.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var d$e=Z({name:"ElTableHeader",components:{ElCheckbox:ha},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=Ht(),s=Le(cu),r=Fe("table"),a=B({}),{onColumnsChange:o,onScrollableChange:i}=PW(s);Et(async()=>{await it(),await it();const{prop:x,order:T}=t.defaultSort;s==null||s.store.commit("sort",{prop:x,order:T,init:!0})});const{handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:f,handleFilterClick:p}=l$e(t,e),{getHeaderRowStyle:m,getHeaderRowClass:y,getHeaderCellStyle:v,getHeaderCellClass:b}=u$e(t),{isGroup:w,toggleAllSelection:_,columnRows:C}=c$e(t);return n.state={onColumnsChange:o,onScrollableChange:i},n.filterPanels=a,{ns:r,filterPanels:a,onColumnsChange:o,onScrollableChange:i,columnRows:C,getHeaderRowClass:y,getHeaderRowStyle:m,getHeaderCellClass:b,getHeaderCellStyle:v,handleHeaderClick:l,handleHeaderContextMenu:u,handleMouseDown:c,handleMouseMove:d,handleMouseOut:h,handleSortClick:f,handleFilterClick:p,isGroup:w,toggleAllSelection:_}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:s,getHeaderCellClass:r,getHeaderRowClass:a,getHeaderRowStyle:o,handleHeaderClick:i,handleHeaderContextMenu:l,handleMouseDown:u,handleMouseMove:c,handleSortClick:d,handleMouseOut:h,store:f,$parent:p}=this;let m=1;return pt("thead",{class:{[t.is("group")]:e}},n.map((y,v)=>pt("tr",{class:a(v),key:v,style:o(v)},y.map((b,w)=>(b.rowSpan>m&&(m=b.rowSpan),pt("th",{class:r(v,w,y,b),colspan:b.colSpan,key:`${b.id}-thead`,rowspan:b.rowSpan,style:s(v,w,y,b),onClick:_=>{_.currentTarget.classList.contains("noclick")||i(_,b)},onContextmenu:_=>l(_,b),onMousedown:_=>u(_,b),onMousemove:_=>c(_,b),onMouseout:h},[pt("div",{class:["cell",b.filteredValue&&b.filteredValue.length>0?"highlight":""]},[b.renderHeader?b.renderHeader({column:b,$index:w,store:f,_self:p}):b.label,b.sortable&&pt("span",{onClick:_=>d(_,b),class:"caret-wrapper"},[pt("i",{onClick:_=>d(_,b,"ascending"),class:"sort-caret ascending"}),pt("i",{onClick:_=>d(_,b,"descending"),class:"sort-caret descending"})]),b.filterable&&pt(i$e,{store:f,placement:b.filterPlacement||"bottom-start",column:b,upDataColumn:(_,C)=>{b[_]=C}},{"filter-icon":()=>b.renderFilterIcon?b.renderFilterIcon({filterOpened:b.filterOpened}):null})])]))))))}});function iC(t,e,n=.03){return t-e>n}function h$e(t){const e=Le(cu),n=B(""),s=B(pt("div")),r=(p,m,y)=>{var v;const b=e,w=oC(p);let _;const C=(v=b==null?void 0:b.vnode.el)==null?void 0:v.dataset.prefix;w&&(_=gL({columns:t.store.states.columns.value},w,C),_&&(b==null||b.emit(`cell-${y}`,m,_,w,p))),b==null||b.emit(`row-${y}`,m,_,p)},a=(p,m)=>{r(p,m,"dblclick")},o=(p,m)=>{t.store.commit("setCurrentRow",m),r(p,m,"click")},i=(p,m)=>{r(p,m,"contextmenu")},l=So(p=>{t.store.commit("setHoverRow",p)},30),u=So(()=>{t.store.commit("setHoverRow",null)},30),c=p=>{const m=window.getComputedStyle(p,null),y=Number.parseInt(m.paddingLeft,10)||0,v=Number.parseInt(m.paddingRight,10)||0,b=Number.parseInt(m.paddingTop,10)||0,w=Number.parseInt(m.paddingBottom,10)||0;return{left:y,right:v,top:b,bottom:w}},d=(p,m,y)=>{let v=m.target.parentNode;for(;p>1&&(v=v==null?void 0:v.nextSibling,!(!v||v.nodeName!=="TR"));)y(v,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:a,handleClick:o,handleContextMenu:i,handleMouseEnter:l,handleMouseLeave:u,handleCellMouseEnter:(p,m,y)=>{var v;const b=e,w=oC(p),_=(v=b==null?void 0:b.vnode.el)==null?void 0:v.dataset.prefix;if(w){const W=gL({columns:t.store.states.columns.value},w,_);w.rowSpan>1&&d(w.rowSpan,p,yi);const G=b.hoverState={cell:w,column:W,row:m};b==null||b.emit("cell-mouse-enter",G.row,G.column,G.cell,p)}if(!y)return;const C=p.target.querySelector(".cell");if(!(yo(C,`${_}-tooltip`)&&C.childNodes.length))return;const x=document.createRange();x.setStart(C,0),x.setEnd(C,C.childNodes.length);const{width:T,height:k}=x.getBoundingClientRect(),{width:N,height:O}=C.getBoundingClientRect(),{top:L,left:V,right:H,bottom:K}=c(C),U=V+H,R=L+K;(iC(T+U,N)||iC(k+R,O)||iC(C.scrollWidth,N))&&Kke(y,w.innerText||w.textContent,w,b)},handleCellMouseLeave:p=>{const m=oC(p);if(!m)return;m.rowSpan>1&&d(m.rowSpan,p,ka);const y=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",y==null?void 0:y.row,y==null?void 0:y.column,y==null?void 0:y.cell,p)},tooltipContent:n,tooltipTrigger:s}}function f$e(t){const e=Le(cu),n=Fe("table");return{getRowStyle:(u,c)=>{const d=e==null?void 0:e.props.rowStyle;return typeof d=="function"?d.call(null,{row:u,rowIndex:c}):d||null},getRowClass:(u,c)=>{const d=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&u===t.store.states.currentRow.value&&d.push("current-row"),t.stripe&&c%2===1&&d.push(n.em("row","striped"));const h=e==null?void 0:e.props.rowClassName;return typeof h=="string"?d.push(h):typeof h=="function"&&d.push(h.call(null,{row:u,rowIndex:c})),d},getCellStyle:(u,c,d,h)=>{const f=e==null?void 0:e.props.cellStyle;let p=f??{};typeof f=="function"&&(p=f.call(null,{rowIndex:u,columnIndex:c,row:d,column:h}));const m=iE(c,t==null?void 0:t.fixed,t.store);return Qp(m,"left"),Qp(m,"right"),Object.assign({},p,m)},getCellClass:(u,c,d,h,f)=>{const p=oE(n.b(),c,t==null?void 0:t.fixed,t.store,void 0,f),m=[h.id,h.align,h.className,...p],y=e==null?void 0:e.props.cellClassName;return typeof y=="string"?m.push(y):typeof y=="function"&&m.push(y.call(null,{rowIndex:u,columnIndex:c,row:d,column:h})),m.push(n.e("cell")),m.filter(v=>!!v).join(" ")},getSpan:(u,c,d,h)=>{let f=1,p=1;const m=e==null?void 0:e.props.spanMethod;if(typeof m=="function"){const y=m({row:u,column:c,rowIndex:d,columnIndex:h});Array.isArray(y)?(f=y[0],p=y[1]):typeof y=="object"&&(f=y.rowspan,p=y.colspan)}return{rowspan:f,colspan:p}},getColspanRealWidth:(u,c,d)=>{if(c<1)return u[d].realWidth;const h=u.map(({realWidth:f,width:p})=>f||p).slice(d,d+c);return Number(h.reduce((f,p)=>Number(f)+Number(p),-1))}}}function p$e(t){const e=Le(cu),n=Fe("table"),{handleDoubleClick:s,handleClick:r,handleContextMenu:a,handleMouseEnter:o,handleMouseLeave:i,handleCellMouseEnter:l,handleCellMouseLeave:u,tooltipContent:c,tooltipTrigger:d}=h$e(t),{getRowStyle:h,getRowClass:f,getCellStyle:p,getCellClass:m,getSpan:y,getColspanRealWidth:v}=f$e(t),b=D(()=>t.store.states.columns.value.findIndex(({type:T})=>T==="default")),w=(T,k)=>{const N=e.props.rowKey;return N?wa(T,N):k},_=(T,k,N,O=!1)=>{const{tooltipEffect:L,tooltipOptions:V,store:H}=t,{indent:K,columns:U}=H.states,R=f(T,k);let W=!0;return N&&(R.push(n.em("row",`level-${N.level}`)),W=N.display),pt("tr",{style:[W?null:{display:"none"},h(T,k)],class:R,key:w(T,k),onDblclick:P=>s(P,T),onClick:P=>r(P,T),onContextmenu:P=>a(P,T),onMouseenter:()=>o(k),onMouseleave:i},U.value.map((P,j)=>{const{rowspan:J,colspan:ne}=y(T,P,k,j);if(!J||!ne)return null;const te=Object.assign({},P);te.realWidth=v(U.value,ne,j);const de={store:t.store,_self:t.context||e,column:te,row:T,$index:k,cellIndex:j,expanded:O};j===b.value&&N&&(de.treeNode={indent:N.level*K.value,level:N.level},typeof N.expanded=="boolean"&&(de.treeNode.expanded=N.expanded,"loading"in N&&(de.treeNode.loading=N.loading),"noLazyChildren"in N&&(de.treeNode.noLazyChildren=N.noLazyChildren)));const me=`${w(T,k)},${j}`,_e=te.columnKey||te.rawColumnKey||"",ee=C(j,P,de),he=P.showOverflowTooltip&&kme({effect:L},V,P.showOverflowTooltip);return pt("td",{style:p(k,j,T,P),class:m(k,j,T,P,ne-1),key:`${_e}${me}`,rowspan:J,colspan:ne,onMouseenter:le=>l(le,T,he),onMouseleave:u},[ee])}))},C=(T,k,N)=>k.renderCell(N);return{wrappedRowRender:(T,k)=>{const N=t.store,{isRowExpanded:O,assertRowKey:L}=N,{treeData:V,lazyTreeNodeMap:H,childrenColumnName:K,rowKey:U}=N.states,R=N.states.columns.value;if(R.some(({type:G})=>G==="expand")){const G=O(T),P=_(T,k,void 0,G),j=e.renderExpanded;return G?j?[[P,pt("tr",{key:`expanded-row__${P.key}`},[pt("td",{colspan:R.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[j({row:T,$index:k,store:N,expanded:G})])])]]:(console.error("[Element Error]renderExpanded is required."),P):[[P]]}else if(Object.keys(V.value).length){L();const G=wa(T,U.value);let P=V.value[G],j=null;P&&(j={expanded:P.expanded,level:P.level,display:!0},typeof P.lazy=="boolean"&&(typeof P.loaded=="boolean"&&P.loaded&&(j.noLazyChildren=!(P.children&&P.children.length)),j.loading=P.loading));const J=[_(T,k,j)];if(P){let ne=0;const te=(me,_e)=>{me&&me.length&&_e&&me.forEach(ee=>{const he={display:_e.display&&_e.expanded,level:_e.level+1,expanded:!1,noLazyChildren:!1,loading:!1},le=wa(ee,U.value);if(le==null)throw new Error("For nested data item, row-key is required.");if(P={...V.value[le]},P&&(he.expanded=P.expanded,P.level=P.level||he.level,P.display=!!(P.expanded&&he.display),typeof P.lazy=="boolean"&&(typeof P.loaded=="boolean"&&P.loaded&&(he.noLazyChildren=!(P.children&&P.children.length)),he.loading=P.loading)),ne++,J.push(_(ee,k+ne,he)),P){const ue=H.value[le]||ee[K.value];te(ue,P)}})};P.display=!0;const de=H.value[G]||T[K.value];te(de,P)}return J}else return _(T,k,void 0)},tooltipContent:c,tooltipTrigger:d}}const m$e={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var g$e=Z({name:"ElTableBody",props:m$e,setup(t){const e=Ht(),n=Le(cu),s=Fe("table"),{wrappedRowRender:r,tooltipContent:a,tooltipTrigger:o}=p$e(t),{onColumnsChange:i,onScrollableChange:l}=PW(n),u=[];return Ee(t.store.states.hoverRow,(c,d)=>{var h;const f=e==null?void 0:e.vnode.el,p=Array.from((f==null?void 0:f.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${s.e("row")}`));let m=c;const y=(h=p[m])==null?void 0:h.childNodes;if(y!=null&&y.length){let v=0;Array.from(y).reduce((w,_,C)=>{var x,T;return((x=y[C])==null?void 0:x.colSpan)>1&&(v=(T=y[C])==null?void 0:T.colSpan),_.nodeName!=="TD"&&v===0&&w.push(C),v>0&&v--,w},[]).forEach(w=>{var _;for(m=c;m>0;){const C=(_=p[m-1])==null?void 0:_.childNodes;if(C[w]&&C[w].nodeName==="TD"&&C[w].rowSpan>1){yi(C[w],"hover-cell"),u.push(C[w]);break}m--}})}else u.forEach(v=>ka(v,"hover-cell")),u.length=0;!t.store.states.isComplex.value||!hn||Xc(()=>{const v=p[d],b=p[c];v&&!v.classList.contains("hover-fixed-row")&&ka(v,"hover-row"),b&&yi(b,"hover-row")})}),ma(()=>{var c;(c=ui)==null||c()}),{ns:s,onColumnsChange:i,onScrollableChange:l,wrappedRowRender:r,tooltipContent:a,tooltipTrigger:o}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return pt("tbody",{tabIndex:-1},[n.reduce((s,r)=>s.concat(t(r,s.length)),[])])}});function v$e(){const t=Le(cu),e=t==null?void 0:t.store,n=D(()=>e.states.fixedLeafColumnsLength.value),s=D(()=>e.states.rightFixedColumns.value.length),r=D(()=>e.states.columns.value.length),a=D(()=>e.states.fixedColumns.value.length),o=D(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:s,columnsCount:r,leftFixedCount:a,rightFixedCount:o,columns:e.states.columns}}function y$e(t){const{columns:e}=v$e(),n=Fe("table");return{getCellClasses:(a,o)=>{const i=a[o],l=[n.e("cell"),i.id,i.align,i.labelClassName,...oE(n.b(),o,i.fixed,t.store)];return i.className&&l.push(i.className),i.children||l.push(n.is("leaf")),l},getCellStyles:(a,o)=>{const i=iE(o,a.fixed,t.store);return Qp(i,"left"),Qp(i,"right"),i},columns:e}}var b$e=Z({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:s}=y$e(t);return{ns:Fe("table"),getCellClasses:e,getCellStyles:n,columns:s}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:s,sumText:r}=this,a=this.store.states.data.value;let o=[];return s?o=s({columns:t,data:a}):t.forEach((i,l)=>{if(l===0){o[l]=r;return}const u=a.map(f=>Number(f[i.property])),c=[];let d=!0;u.forEach(f=>{if(!Number.isNaN(+f)){d=!1;const p=`${f}`.split(".")[1];c.push(p?p.length:0)}});const h=Math.max.apply(null,c);d?o[l]="":o[l]=u.reduce((f,p)=>{const m=Number(p);return Number.isNaN(+m)?f:Number.parseFloat((f+p).toFixed(Math.min(h,20)))},0)}),pt(pt("tfoot",[pt("tr",{},[...t.map((i,l)=>pt("td",{key:l,colspan:i.colSpan,rowspan:i.rowSpan,class:n(t,l),style:e(i,l)},[pt("div",{class:["cell",i.labelClassName]},[o[l]])]))])]))}});function _$e(t){return{setCurrentRow:c=>{t.commit("setCurrentRow",c)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(c,d)=>{t.toggleRowSelection(c,d,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:c=>{t.clearFilter(c)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(c,d)=>{t.toggleRowExpansionAdapter(c,d)},clearSort:()=>{t.clearSort()},sort:(c,d)=>{t.commit("sort",{prop:c,order:d})}}}function w$e(t,e,n,s){const r=B(!1),a=B(null),o=B(!1),i=P=>{o.value=P},l=B({width:null,height:null,headerHeight:null}),u=B(!1),c={display:"inline-block",verticalAlign:"middle"},d=B(),h=B(0),f=B(0),p=B(0),m=B(0),y=B(0);sr(()=>{e.setHeight(t.height)}),sr(()=>{e.setMaxHeight(t.maxHeight)}),Ee(()=>[t.currentRowKey,n.states.rowKey],([P,j])=>{!g(j)||!g(P)||n.setCurrentRowKey(`${P}`)},{immediate:!0}),Ee(()=>t.data,P=>{s.store.commit("setData",P)},{immediate:!0,deep:!0}),sr(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const v=()=>{s.store.commit("setHoverRow",null),s.hoverState&&(s.hoverState=null)},b=(P,j)=>{const{pixelX:J,pixelY:ne}=j;Math.abs(J)>=Math.abs(ne)&&(s.refs.bodyWrapper.scrollLeft+=j.pixelX/5)},w=D(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),_=D(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),C=()=>{w.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(N)};Et(async()=>{await it(),n.updateColumns(),O(),requestAnimationFrame(C);const P=s.vnode.el,j=s.refs.headerWrapper;t.flexible&&P&&P.parentElement&&(P.parentElement.style.minWidth="0"),l.value={width:d.value=P.offsetWidth,height:P.offsetHeight,headerHeight:t.showHeader&&j?j.offsetHeight:null},n.states.columns.value.forEach(J=>{J.filteredValue&&J.filteredValue.length&&s.store.commit("filterChange",{column:J,values:J.filteredValue,silent:!0})}),s.$ready=!0});const x=(P,j)=>{if(!P)return;const J=Array.from(P.classList).filter(ne=>!ne.startsWith("is-scrolling-"));J.push(e.scrollX.value?j:"is-scrolling-none"),P.className=J.join(" ")},T=P=>{const{tableWrapper:j}=s.refs;x(j,P)},k=P=>{const{tableWrapper:j}=s.refs;return!!(j&&j.classList.contains(P))},N=function(){if(!s.refs.scrollBarRef)return;if(!e.scrollX.value){const _e="is-scrolling-none";k(_e)||T(_e);return}const P=s.refs.scrollBarRef.wrapRef;if(!P)return;const{scrollLeft:j,offsetWidth:J,scrollWidth:ne}=P,{headerWrapper:te,footerWrapper:de}=s.refs;te&&(te.scrollLeft=j),de&&(de.scrollLeft=j);const me=ne-J-1;j>=me?T("is-scrolling-right"):T(j===0?"is-scrolling-left":"is-scrolling-middle")},O=()=>{s.refs.scrollBarRef&&(s.refs.scrollBarRef.wrapRef&&Fn(s.refs.scrollBarRef.wrapRef,"scroll",N,{passive:!0}),t.fit?ds(s.vnode.el,L):Fn(window,"resize",L),ds(s.refs.bodyWrapper,()=>{var P,j;L(),(j=(P=s.refs)==null?void 0:P.scrollBarRef)==null||j.update()}))},L=()=>{var P,j,J,ne;const te=s.vnode.el;if(!s.$ready||!te)return;let de=!1;const{width:me,height:_e,headerHeight:ee}=l.value,he=d.value=te.offsetWidth;me!==he&&(de=!0);const le=te.offsetHeight;(t.height||w.value)&&_e!==le&&(de=!0);const ue=t.tableLayout==="fixed"?s.refs.headerWrapper:(P=s.refs.tableHeaderRef)==null?void 0:P.$el;t.showHeader&&(ue==null?void 0:ue.offsetHeight)!==ee&&(de=!0),h.value=((j=s.refs.tableWrapper)==null?void 0:j.scrollHeight)||0,p.value=(ue==null?void 0:ue.scrollHeight)||0,m.value=((J=s.refs.footerWrapper)==null?void 0:J.offsetHeight)||0,y.value=((ne=s.refs.appendWrapper)==null?void 0:ne.offsetHeight)||0,f.value=h.value-p.value-m.value-y.value,de&&(l.value={width:he,height:le,headerHeight:t.showHeader&&(ue==null?void 0:ue.offsetHeight)||0},C())},V=or(),H=D(()=>{const{bodyWidth:P,scrollY:j,gutterWidth:J}=e;return P.value?`${P.value-(j.value?J:0)}px`:""}),K=D(()=>t.maxHeight?"fixed":t.tableLayout),U=D(()=>{if(t.data&&t.data.length)return null;let P="100%";t.height&&f.value&&(P=`${f.value}px`);const j=d.value;return{width:j?`${j}px`:"",height:P}}),R=D(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),W=D(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${p.value+m.value}px)`}:{maxHeight:`${t.maxHeight-p.value-m.value}px`}:{});return{isHidden:r,renderExpanded:a,setDragVisible:i,isGroup:u,handleMouseLeave:v,handleHeaderFooterMousewheel:b,tableSize:V,emptyBlockStyle:U,handleFixedMousewheel:(P,j)=>{const J=s.refs.bodyWrapper;if(Math.abs(j.spinY)>0){const ne=J.scrollTop;j.pixelY<0&&ne!==0&&P.preventDefault(),j.pixelY>0&&J.scrollHeight-J.clientHeight>ne&&P.preventDefault(),J.scrollTop+=Math.ceil(j.pixelY/5)}else J.scrollLeft+=Math.ceil(j.pixelX/5)},resizeProxyVisible:o,bodyWidth:H,resizeState:l,doLayout:C,tableBodyStyles:_,tableLayout:K,scrollbarViewStyle:c,tableInnerStyle:R,scrollbarStyle:W}}function x$e(t){const e=B(),n=()=>{const r=t.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},o=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{o.forEach(i=>i())}),e.value.observe(r,a)};Et(()=>{n()}),ma(()=>{var s;(s=e.value)==null||s.disconnect()})}var C$e={data:{type:Array,default:()=>[]},size:_r,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function BW(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(r=>r.width===void 0)&&(n=[]);const s=r=>{const a={key:`${t.tableLayout}_${r.id}`,style:{},name:void 0};return e?a.style={width:`${r.width}px`}:a.name=r.id,a};return pt("colgroup",{},n.map(r=>pt("col",s(r))))}BW.props=["columns","tableLayout"];const S$e=()=>{const t=B(),e=(a,o)=>{const i=t.value;i&&i.scrollTo(a,o)},n=(a,o)=>{const i=t.value;i&&Tt(o)&&["Top","Left"].includes(a)&&i[`setScroll${a}`](o)};return{scrollBarRef:t,scrollTo:e,setScrollTop:a=>n("Top",a),setScrollLeft:a=>n("Left",a)}};let T$e=1;const k$e=Z({name:"ElTable",directives:{Mousewheel:d3e},components:{TableHeader:d$e,TableBody:g$e,TableFooter:b$e,ElScrollbar:vr,hColgroup:BW},props:C$e,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=fn(),n=Fe("table"),s=Ht();At(cu,s);const r=t$e(s,t);s.store=r;const a=new s$e({store:s.store,table:s,fit:t.fit,showHeader:t.showHeader});s.layout=a;const o=D(()=>(r.states.data.value||[]).length===0),{setCurrentRow:i,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:f,clearSort:p,sort:m}=_$e(r),{isHidden:y,renderExpanded:v,setDragVisible:b,isGroup:w,handleMouseLeave:_,handleHeaderFooterMousewheel:C,tableSize:x,emptyBlockStyle:T,handleFixedMousewheel:k,resizeProxyVisible:N,bodyWidth:O,resizeState:L,doLayout:V,tableBodyStyles:H,tableLayout:K,scrollbarViewStyle:U,tableInnerStyle:R,scrollbarStyle:W}=w$e(t,a,r,s),{scrollBarRef:G,scrollTo:P,setScrollLeft:j,setScrollTop:J}=S$e(),ne=So(V,50),te=`${n.namespace.value}-table_${T$e++}`;s.tableId=te,s.state={isGroup:w,resizeState:L,doLayout:V,debouncedUpdateLayout:ne};const de=D(()=>t.sumText||e("el.table.sumText")),me=D(()=>t.emptyText||e("el.table.emptyText")),_e=D(()=>FW(r.states.originColumns.value)[0]);return x$e(s),{ns:n,layout:a,store:r,columns:_e,handleHeaderFooterMousewheel:C,handleMouseLeave:_,tableId:te,tableSize:x,isHidden:y,isEmpty:o,renderExpanded:v,resizeProxyVisible:N,resizeState:L,isGroup:w,bodyWidth:O,tableBodyStyles:H,emptyBlockStyle:T,debouncedUpdateLayout:ne,handleFixedMousewheel:k,setCurrentRow:i,getSelectionRows:l,toggleRowSelection:u,clearSelection:c,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:f,clearSort:p,doLayout:V,sort:m,t:e,setDragVisible:b,context:s,computedSumText:de,computedEmptyText:me,tableLayout:K,scrollbarViewStyle:U,tableInnerStyle:R,scrollbarStyle:W,scrollBarRef:G,scrollTo:P,setScrollLeft:j,setScrollTop:J}}});function $$e(t,e,n,s,r,a){const o=ht("hColgroup"),i=ht("table-header"),l=ht("table-body"),u=ht("table-footer"),c=ht("el-scrollbar"),d=F4("mousewheel");return S(),A("div",{ref:"tableWrapper",class:q([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:yt(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[I("div",{class:q(t.ns.e("inner-wrapper")),style:yt(t.tableInnerStyle)},[I("div",{ref:"hiddenColumns",class:"hidden-columns"},[oe(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?zt((S(),A("div",{key:0,ref:"headerWrapper",class:q(t.ns.e("header-wrapper"))},[I("table",{ref:"tableHeader",class:q(t.ns.e("header")),style:yt(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[$(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),$(i,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):ce("v-if",!0),I("div",{ref:"bodyWrapper",class:q(t.ns.e("body-wrapper"))},[$(c,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:se(()=>[I("table",{ref:"tableBody",class:q(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:yt({width:t.bodyWidth,tableLayout:t.tableLayout})},[$(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(S(),be(i,{key:0,ref:"tableHeaderRef",class:q(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):ce("v-if",!0),$(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(S(),be(u,{key:1,class:q(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):ce("v-if",!0)],6),t.isEmpty?(S(),A("div",{key:0,ref:"emptyBlock",style:yt(t.emptyBlockStyle),class:q(t.ns.e("empty-block"))},[I("span",{class:q(t.ns.e("empty-text"))},[oe(t.$slots,"empty",{},()=>[ct(Me(t.computedEmptyText),1)])],2)],6)):ce("v-if",!0),t.$slots.append?(S(),A("div",{key:1,ref:"appendWrapper",class:q(t.ns.e("append-wrapper"))},[oe(t.$slots,"append")],2)):ce("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?zt((S(),A("div",{key:1,ref:"footerWrapper",class:q(t.ns.e("footer-wrapper"))},[I("table",{class:q(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:yt(t.tableBodyStyles)},[$(o,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),$(u,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[gn,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):ce("v-if",!0),t.border||t.isGroup?(S(),A("div",{key:2,class:q(t.ns.e("border-left-patch"))},null,2)):ce("v-if",!0)],6),zt(I("div",{ref:"resizeProxy",class:q(t.ns.e("column-resize-proxy"))},null,2),[[gn,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var E$e=Xe(k$e,[["render",$$e],["__file","table.vue"]]);const I$e={selection:"table-column--selection",expand:"table__expand-column"},N$e={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},A$e=t=>I$e[t]||"",D$e={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return pt(ha,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:s}){return pt(ha,{disabled:e.selectable?!e.selectable.call(null,t,s):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const s=t.index;return typeof s=="number"?n=e+s:typeof s=="function"&&(n=s(e)),pt("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:s}=e,r=[s.e("expand-icon")];return n&&r.push(s.em("expand-icon","expanded")),pt("div",{class:r,onClick:function(o){o.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[pt(Je,null,{default:()=>[pt(Ga)]})]})},sortable:!1,resizable:!1}};function O$e({row:t,column:e,$index:n}){var s;const r=e.property,a=r&&S_(t,r).value;return e&&e.formatter?e.formatter(t,e,a,n):((s=a==null?void 0:a.toString)==null?void 0:s.call(a))||""}function R$e({row:t,treeNode:e,store:n},s=!1){const{ns:r}=n;if(!e)return s?[pt("span",{class:r.e("placeholder")})]:null;const a=[],o=function(i){i.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&a.push(pt("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const i=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let l=Ga;e.loading&&(l=Xl),a.push(pt("div",{class:i,onClick:o},{default:()=>[pt(Je,{class:{[r.is("loading")]:e.loading}},{default:()=>[pt(l)]})]}))}else a.push(pt("span",{class:r.e("placeholder")}));return a}function bL(t,e){return t.reduce((n,s)=>(n[s]=s,n),e)}function L$e(t,e){const n=Ht();return{registerComplexWatchers:()=>{const a=["fixed"],o={realWidth:"width",realMinWidth:"minWidth"},i=bL(a,o);Object.keys(i).forEach(l=>{const u=o[l];fa(e,u)&&Ee(()=>e[u],c=>{let d=c;u==="width"&&l==="realWidth"&&(d=aE(c)),u==="minWidth"&&l==="realMinWidth"&&(d=AW(c)),n.columnConfig.value[u]=d,n.columnConfig.value[l]=d;const h=u==="fixed";t.value.store.scheduleLayout(h)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],o={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},i=bL(a,o);Object.keys(i).forEach(l=>{const u=o[l];fa(e,u)&&Ee(()=>e[u],c=>{n.columnConfig.value[l]=c})})}}}function P$e(t,e,n){const s=Ht(),r=B(""),a=B(!1),o=B(),i=B(),l=Fe("table");sr(()=>{o.value=t.align?`is-${t.align}`:null,o.value}),sr(()=>{i.value=t.headerAlign?`is-${t.headerAlign}`:o.value,i.value});const u=D(()=>{let _=s.vnode.vParent||s.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),c=D(()=>{const{store:_}=s.parent;if(!_)return!1;const{treeData:C}=_.states,x=C.value;return x&&Object.keys(x).length>0}),d=B(aE(t.width)),h=B(AW(t.minWidth)),f=_=>(d.value&&(_.width=d.value),h.value&&(_.minWidth=h.value),!d.value&&h.value&&(_.width=void 0),_.minWidth||(_.minWidth=80),_.realWidth=Number(_.width===void 0?_.minWidth:_.width),_),p=_=>{const C=_.type,x=D$e[C]||{};Object.keys(x).forEach(k=>{const N=x[k];k!=="className"&&N!==void 0&&(_[k]=N)});const T=A$e(C);if(T){const k=`${g(l.namespace)}-${T}`;_.className=_.className?`${_.className} ${k}`:k}return _},m=_=>{Array.isArray(_)?_.forEach(x=>C(x)):C(_);function C(x){var T;((T=x==null?void 0:x.type)==null?void 0:T.name)==="ElTableColumn"&&(x.vParent=s)}};return{columnId:r,realAlign:o,isSubColumn:a,realHeaderAlign:i,columnOrTableParent:u,setColumnWidth:f,setColumnForcedProps:p,setColumnRenders:_=>{t.renderHeader||_.type!=="selection"&&(_.renderHeader=x=>(s.columnConfig.value.label,oe(e,"header",x,()=>[_.label]))),e["filter-icon"]&&(_.renderFilterIcon=x=>oe(e,"filter-icon",x));let C=_.renderCell;return _.type==="expand"?(_.renderCell=x=>pt("div",{class:"cell"},[C(x)]),n.value.renderExpanded=x=>e.default?e.default(x):e.default):(C=C||O$e,_.renderCell=x=>{let T=null;if(e.default){const H=e.default(x);T=H.some(K=>K.type!==y$)?H:C(x)}else T=C(x);const{columns:k}=n.value.store.states,N=k.value.findIndex(H=>H.type==="default"),O=c.value&&x.cellIndex===N,L=R$e(x,O),V={class:"cell",style:{}};return _.showOverflowTooltip&&(V.class=`${V.class} ${g(l.namespace)}-tooltip`,V.style={width:`${(x.column.realWidth||Number(x.column.width))-1}px`}),m(T),pt("div",V,[L,T])}),_},getPropsData:(..._)=>_.reduce((C,x)=>(Array.isArray(x)&&x.forEach(T=>{C[T]=t[T]}),C),{}),getColumnElIndex:(_,C)=>Array.prototype.indexOf.call(_,C),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",s.columnConfig.value)}}}var M$e={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let F$e=1;var zW=Z({name:"ElTableColumn",components:{ElCheckbox:ha},props:M$e,setup(t,{slots:e}){const n=Ht(),s=B({}),r=D(()=>{let w=n.parent;for(;w&&!w.tableId;)w=w.parent;return w}),{registerNormalWatchers:a,registerComplexWatchers:o}=L$e(r,t),{columnId:i,isSubColumn:l,realHeaderAlign:u,columnOrTableParent:c,setColumnWidth:d,setColumnForcedProps:h,setColumnRenders:f,getPropsData:p,getColumnElIndex:m,realAlign:y,updateColumnOrder:v}=P$e(t,e,r),b=c.value;i.value=`${b.tableId||b.columnId}_column_${F$e++}`,b$(()=>{l.value=r.value!==b;const w=t.type||"default",_=t.sortable===""?!0:t.sortable,C=$s(t.showOverflowTooltip)?b.props.showOverflowTooltip:t.showOverflowTooltip,x={...N$e[w],id:i.value,type:w,property:t.prop||t.property,align:y,headerAlign:u,showOverflowTooltip:C,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:_,index:t.index,rawColumnKey:n.vnode.key};let L=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);L=Wke(x,L),L=Gke(f,d,h)(L),s.value=L,a(),o()}),Et(()=>{var w;const _=c.value,C=l.value?_.vnode.el.children:(w=_.refs.hiddenColumns)==null?void 0:w.children,x=()=>m(C||[],n.vnode.el);s.value.getColumnIndex=x,x()>-1&&r.value.store.commit("insertColumn",s.value,l.value?_.columnConfig.value:null,v)}),ts(()=>{s.value.getColumnIndex()>-1&&r.value.store.commit("removeColumn",s.value,l.value?b.columnConfig.value:null,v)}),n.columnId=i.value,n.columnConfig=s},render(){var t,e,n;try{const s=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(s))for(const o of s)((n=o.type)==null?void 0:n.name)==="ElTableColumn"||o.shapeFlag&2?r.push(o):o.type===He&&Array.isArray(o.children)&&o.children.forEach(i=>{(i==null?void 0:i.patchFlag)!==1024&&!qt(i==null?void 0:i.children)&&r.push(i)});return pt("div",r)}catch{return pt("div",[])}}});const lE=Ft(E$e,{TableColumn:zW}),Zi=gs(zW);var u1=(t=>(t.ASC="asc",t.DESC="desc",t))(u1||{}),c1=(t=>(t.CENTER="center",t.RIGHT="right",t))(c1||{}),VW=(t=>(t.LEFT="left",t.RIGHT="right",t))(VW||{});const pT={asc:"desc",desc:"asc"},d1=Symbol("placeholder"),B$e=(t,e,n)=>{var s;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const a={...(s=t.style)!=null?s:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(a.maxWidth=t.maxWidth),t.minWidth&&(a.minWidth=t.minWidth)),a};function z$e(t,e,n){const s=D(()=>g(e).filter(m=>!m.hidden)),r=D(()=>g(s).filter(m=>m.fixed==="left"||m.fixed===!0)),a=D(()=>g(s).filter(m=>m.fixed==="right")),o=D(()=>g(s).filter(m=>!m.fixed)),i=D(()=>{const m=[];return g(r).forEach(y=>{m.push({...y,placeholderSign:d1})}),g(o).forEach(y=>{m.push(y)}),g(a).forEach(y=>{m.push({...y,placeholderSign:d1})}),m}),l=D(()=>g(r).length||g(a).length),u=D(()=>g(e).reduce((y,v)=>(y[v.key]=B$e(v,g(n),t.fixed),y),{})),c=D(()=>g(s).reduce((m,y)=>m+y.width,0)),d=m=>g(e).find(y=>y.key===m),h=m=>g(u)[m],f=(m,y)=>{m.width=y};function p(m){var y;const{key:v}=m.currentTarget.dataset;if(!v)return;const{sortState:b,sortBy:w}=t;let _=u1.ASC;Vn(b)?_=pT[b[v]]:_=pT[w.order],(y=t.onColumnSort)==null||y.call(t,{column:d(v),key:v,order:_})}return{columns:e,columnsStyles:u,columnsTotalWidth:c,fixedColumnsOnLeft:r,fixedColumnsOnRight:a,hasFixedColumns:l,mainColumns:i,normalColumns:o,visibleColumns:s,getColumn:d,getColumnStyle:h,updateColumnWidth:f,onColumnSorted:p}}const V$e=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:r})=>{const a=B({scrollLeft:0,scrollTop:0});function o(f){var p,m,y;const{scrollTop:v}=f;(p=e.value)==null||p.scrollTo(f),(m=n.value)==null||m.scrollToTop(v),(y=s.value)==null||y.scrollToTop(v)}function i(f){a.value=f,o(f)}function l(f){a.value.scrollTop=f,o(g(a))}function u(f){var p,m;a.value.scrollLeft=f,(m=(p=e.value)==null?void 0:p.scrollTo)==null||m.call(p,g(a))}function c(f){var p;i(f),(p=t.onScroll)==null||p.call(t,f)}function d({scrollTop:f}){const{scrollTop:p}=g(a);f!==p&&l(f)}function h(f,p="auto"){var m;(m=e.value)==null||m.scrollToRow(f,p)}return Ee(()=>g(a).scrollTop,(f,p)=>{f>p&&r()}),{scrollPos:a,scrollTo:i,scrollToLeft:u,scrollToTop:l,scrollToRow:h,onScroll:c,onVerticalScroll:d}},H$e=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,tableInstance:r,ns:a,isScrolling:o})=>{const i=Ht(),{emit:l}=i,u=Jn(!1),c=B(t.defaultExpandedRowKeys||[]),d=B(-1),h=Jn(null),f=B({}),p=B({}),m=Jn({}),y=Jn({}),v=Jn({}),b=D(()=>Tt(t.estimatedRowHeight));function w(O){var L;(L=t.onRowsRendered)==null||L.call(t,O),O.rowCacheEnd>g(d)&&(d.value=O.rowCacheEnd)}function _({hovered:O,rowKey:L}){if(o.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(L)}"]`).forEach(K=>{O?K.classList.add(a.is("hovered")):K.classList.remove(a.is("hovered"))})}function C({expanded:O,rowData:L,rowIndex:V,rowKey:H}){var K,U;const R=[...g(c)],W=R.indexOf(H);O?W===-1&&R.push(H):W>-1&&R.splice(W,1),c.value=R,l("update:expandedRowKeys",R),(K=t.onRowExpand)==null||K.call(t,{expanded:O,rowData:L,rowIndex:V,rowKey:H}),(U=t.onExpandedRowsChange)==null||U.call(t,R)}const x=So(()=>{var O,L,V,H;u.value=!0,f.value={...g(f),...g(p)},T(g(h),!1),p.value={},h.value=null,(O=e.value)==null||O.forceUpdate(),(L=n.value)==null||L.forceUpdate(),(V=s.value)==null||V.forceUpdate(),(H=i.proxy)==null||H.$forceUpdate(),u.value=!1},0);function T(O,L=!1){g(b)&&[e,n,s].forEach(V=>{const H=g(V);H&&H.resetAfterRowIndex(O,L)})}function k(O,L,V){const H=g(h);(H===null||H>V)&&(h.value=V),p.value[O]=L}function N({rowKey:O,height:L,rowIndex:V},H){H?H===VW.RIGHT?v.value[O]=L:m.value[O]=L:y.value[O]=L;const K=Math.max(...[m,v,y].map(U=>U.value[O]||0));g(f)[O]!==K&&(k(O,K,V),x())}return{expandedRowKeys:c,lastRenderedRowIndex:d,isDynamic:b,isResetting:u,rowHeights:f,resetAfterIndex:T,onRowExpanded:C,onRowHovered:_,onRowsRendered:w,onRowHeightChange:N}},U$e=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:s})=>{const r=B({}),a=D(()=>{const i={},{data:l,rowKey:u}=t,c=g(e);if(!c||!c.length)return l;const d=[],h=new Set;c.forEach(p=>h.add(p));let f=l.slice();for(f.forEach(p=>i[p[u]]=0);f.length>0;){const p=f.shift();d.push(p),h.has(p[u])&&Array.isArray(p.children)&&p.children.length>0&&(f=[...p.children,...f],p.children.forEach(m=>i[m[u]]=i[p[u]]+1))}return r.value=i,d}),o=D(()=>{const{data:i,expandColumnKey:l}=t;return l?g(a):i});return Ee(o,(i,l)=>{i!==l&&(n.value=-1,s(0,!0))}),{data:o,depthMap:r}},W$e=(t,e)=>t+e,R_=t=>Mt(t)?t.reduce(W$e,0):t,Ph=(t,e,n={})=>yn(t)?t(e):t??n,Lc=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=Es(t[e])}),t),HW=t=>An(t)?e=>pt(t,e):t,j$e=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:s,fixedColumnsOnRight:r})=>{const a=D(()=>{const{fixed:w,width:_,vScrollbarSize:C}=t,x=_-C;return w?Math.max(Math.round(g(e)),x):x}),o=D(()=>g(a)+t.vScrollbarSize),i=D(()=>{const{height:w=0,maxHeight:_=0,footerHeight:C,hScrollbarSize:x}=t;if(_>0){const T=g(p),k=g(l),O=g(f)+T+k+x;return Math.min(O,_-C)}return w-C}),l=D(()=>{const{rowHeight:w,estimatedRowHeight:_}=t,C=g(n);return Tt(_)?C.length*_:C.length*w}),u=D(()=>{const{maxHeight:w}=t,_=g(i);if(Tt(w)&&w>0)return _;const C=g(l)+g(f)+g(p);return Math.min(_,C)}),c=w=>w.width,d=D(()=>R_(g(s).map(c))),h=D(()=>R_(g(r).map(c))),f=D(()=>R_(t.headerHeight)),p=D(()=>{var w;return(((w=t.fixedData)==null?void 0:w.length)||0)*t.rowHeight}),m=D(()=>g(i)-g(f)-g(p)),y=D(()=>{const{style:w={},height:_,width:C}=t;return Lc({...w,height:_,width:C})}),v=D(()=>Lc({height:t.footerHeight})),b=D(()=>({top:Es(g(f)),bottom:Es(t.footerHeight),width:Es(t.width)}));return{bodyWidth:a,fixedTableHeight:u,mainTableHeight:i,leftTableWidth:d,rightTableWidth:h,headerWidth:o,rowsHeight:l,windowHeight:m,footerHeight:v,emptyStyle:b,rootStyle:y,headerHeight:f}},G$e=t=>{const e=B(),n=B(0),s=B(0);let r;return Et(()=>{r=ds(e,([a])=>{const{width:o,height:i}=a.contentRect,{paddingLeft:l,paddingRight:u,paddingTop:c,paddingBottom:d}=getComputedStyle(a.target),h=Number.parseInt(l)||0,f=Number.parseInt(u)||0,p=Number.parseInt(c)||0,m=Number.parseInt(d)||0;n.value=o-h-f,s.value=i-p-m}).stop}),ts(()=>{r==null||r()}),Ee([n,s],([a,o])=>{var i;(i=t.onResize)==null||i.call(t,{width:a,height:o})}),{sizer:e,width:n,height:s}};function q$e(t){const e=B(),n=B(),s=B(),{columns:r,columnsStyles:a,columnsTotalWidth:o,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,hasFixedColumns:u,mainColumns:c,onColumnSorted:d}=z$e(t,Nn(t,"columns"),Nn(t,"fixed")),{scrollTo:h,scrollToLeft:f,scrollToTop:p,scrollToRow:m,onScroll:y,onVerticalScroll:v,scrollPos:b}=V$e(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,onMaybeEndReached:Ae}),w=Fe("table-v2"),_=Ht(),C=Jn(!1),{expandedRowKeys:x,lastRenderedRowIndex:T,isDynamic:k,isResetting:N,rowHeights:O,resetAfterIndex:L,onRowExpanded:V,onRowHeightChange:H,onRowHovered:K,onRowsRendered:U}=H$e(t,{mainTableRef:e,leftTableRef:n,rightTableRef:s,tableInstance:_,ns:w,isScrolling:C}),{data:R,depthMap:W}=U$e(t,{expandedRowKeys:x,lastRenderedRowIndex:T,resetAfterIndex:L}),{bodyWidth:G,fixedTableHeight:P,mainTableHeight:j,leftTableWidth:J,rightTableWidth:ne,headerWidth:te,rowsHeight:de,windowHeight:me,footerHeight:_e,emptyStyle:ee,rootStyle:he,headerHeight:le}=j$e(t,{columnsTotalWidth:o,data:R,fixedColumnsOnLeft:i,fixedColumnsOnRight:l}),ue=B(),re=D(()=>{const Ue=g(R).length===0;return Mt(t.fixedData)?t.fixedData.length===0&&Ue:Ue});function we(Ue){const{estimatedRowHeight:at,rowHeight:ot,rowKey:Pe}=t;return at?g(O)[g(R)[Ue][Pe]]||at:ot}function Ae(){const{onEndReached:Ue}=t;if(!Ue)return;const{scrollTop:at}=g(b),ot=g(de),Pe=g(me),je=ot-(at+Pe)+t.hScrollbarSize;g(T)>=0&&ot===at+g(j)-g(le)&&Ue(je)}return Ee(()=>t.expandedRowKeys,Ue=>x.value=Ue,{deep:!0}),{columns:r,containerRef:ue,mainTableRef:e,leftTableRef:n,rightTableRef:s,isDynamic:k,isResetting:N,isScrolling:C,hasFixedColumns:u,columnsStyles:a,columnsTotalWidth:o,data:R,expandedRowKeys:x,depthMap:W,fixedColumnsOnLeft:i,fixedColumnsOnRight:l,mainColumns:c,bodyWidth:G,emptyStyle:ee,rootStyle:he,headerWidth:te,footerHeight:_e,mainTableHeight:j,fixedTableHeight:P,leftTableWidth:J,rightTableWidth:ne,showEmpty:re,getRowHeight:we,onColumnSorted:d,onRowHovered:K,onRowExpanded:V,onRowsRendered:U,onRowHeightChange:H,scrollTo:h,scrollToLeft:f,scrollToTop:p,scrollToRow:m,onScroll:y,onVerticalScroll:v}}const uE=Symbol("tableV2"),UW=String,lv={type:ve(Array),required:!0},cE={type:ve(Array)},WW={...cE,required:!0},K$e=String,_L={type:ve(Array),default:()=>hs([])},Yd={type:Number,required:!0},jW={type:ve([String,Number,Symbol]),default:"id"},wL={type:ve(Object)},ch=qe({class:String,columns:lv,columnsStyles:{type:ve(Object),required:!0},depth:Number,expandColumnKey:K$e,estimatedRowHeight:{...yh.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:ve(Function)},onRowHover:{type:ve(Function)},onRowHeightChange:{type:ve(Function)},rowData:{type:ve(Object),required:!0},rowEventHandlers:{type:ve(Object)},rowIndex:{type:Number,required:!0},rowKey:jW,style:{type:ve(Object)}}),lC={type:Number,required:!0},dE=qe({class:String,columns:lv,fixedHeaderData:{type:ve(Array)},headerData:{type:ve(Array),required:!0},headerHeight:{type:ve([Number,Array]),default:50},rowWidth:lC,rowHeight:{type:Number,default:50},height:lC,width:lC}),L_=qe({columns:lv,data:WW,fixedData:cE,estimatedRowHeight:ch.estimatedRowHeight,width:Yd,height:Yd,headerWidth:Yd,headerHeight:dE.headerHeight,bodyWidth:Yd,rowHeight:Yd,cache:hW.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:yh.scrollbarAlwaysOn,scrollbarStartGap:yh.scrollbarStartGap,scrollbarEndGap:yh.scrollbarEndGap,class:UW,style:wL,containerStyle:wL,getRowHeight:{type:ve(Function),required:!0},rowKey:ch.rowKey,onRowsRendered:{type:ve(Function)},onScroll:{type:ve(Function)}}),X$e=qe({cache:L_.cache,estimatedRowHeight:ch.estimatedRowHeight,rowKey:jW,headerClass:{type:ve([String,Function])},headerProps:{type:ve([Object,Function])},headerCellProps:{type:ve([Object,Function])},headerHeight:dE.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:ve([String,Function])},rowProps:{type:ve([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:ve([Object,Function])},columns:lv,data:WW,dataGetter:{type:ve(Function)},fixedData:cE,expandColumnKey:ch.expandColumnKey,expandedRowKeys:_L,defaultExpandedRowKeys:_L,class:UW,fixed:Boolean,style:{type:ve(Object)},width:Yd,height:Yd,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:yh.hScrollbarSize,vScrollbarSize:yh.vScrollbarSize,scrollbarAlwaysOn:mW.alwaysOn,sortBy:{type:ve(Object),default:()=>({})},sortState:{type:ve(Object),default:void 0},onColumnSort:{type:ve(Function)},onExpandedRowsChange:{type:ve(Function)},onEndReached:{type:ve(Function)},onRowExpand:ch.onRowExpand,onScroll:L_.onScroll,onRowsRendered:L_.onRowsRendered,rowEventHandlers:ch.rowEventHandlers}),hE=(t,{slots:e})=>{var n;const{cellData:s,style:r}=t,a=((n=s==null?void 0:s.toString)==null?void 0:n.call(s))||"",o=oe(e,"default",t,()=>[a]);return $("div",{class:t.class,title:a,style:r},[o])};hE.displayName="ElTableV2Cell";hE.inheritAttrs=!1;const fE=(t,{slots:e})=>oe(e,"default",t,()=>{var n,s;return[$("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(s=t.column)==null?void 0:s.title])]});fE.displayName="ElTableV2HeaderCell";fE.inheritAttrs=!1;const Y$e=qe({class:String,columns:lv,columnsStyles:{type:ve(Object),required:!0},headerIndex:Number,style:{type:ve(Object)}}),Q$e=Z({name:"ElTableV2HeaderRow",props:Y$e,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:s,headerIndex:r,style:a}=t;let o=n.map((i,l)=>e.cell({columns:n,column:i,columnIndex:l,headerIndex:r,style:s[i.key]}));return e.header&&(o=e.header({cells:o.map(i=>Mt(i)&&i.length===1?i[0]:i),columns:n,headerIndex:r})),$("div",{class:t.class,style:a,role:"row"},[o])}}}),Z$e="ElTableV2Header",J$e=Z({name:Z$e,props:dE,setup(t,{slots:e,expose:n}){const s=Fe("table-v2"),r=B(),a=D(()=>Lc({width:t.width,height:t.height})),o=D(()=>Lc({width:t.rowWidth,height:t.height})),i=D(()=>_a(g(t.headerHeight))),l=d=>{const h=g(r);it(()=>{h!=null&&h.scroll&&h.scroll({left:d})})},u=()=>{const d=s.e("fixed-header-row"),{columns:h,fixedHeaderData:f,rowHeight:p}=t;return f==null?void 0:f.map((m,y)=>{var v;const b=Lc({height:p,width:"100%"});return(v=e.fixed)==null?void 0:v.call(e,{class:d,columns:h,rowData:m,rowIndex:-(y+1),style:b})})},c=()=>{const d=s.e("dynamic-header-row"),{columns:h}=t;return g(i).map((f,p)=>{var m;const y=Lc({width:"100%",height:f});return(m=e.dynamic)==null?void 0:m.call(e,{class:d,columns:h,headerIndex:p,style:y})})};return n({scrollToLeft:l}),()=>{if(!(t.height<=0))return $("div",{ref:r,class:t.class,style:g(a),role:"rowgroup"},[$("div",{style:g(o),class:s.e("header")},[c(),u()])])}}}),e5e=t=>{const{isScrolling:e}=Le(uE),n=B(!1),s=B(),r=D(()=>Tt(t.estimatedRowHeight)&&t.rowIndex>=0),a=(l=!1)=>{const u=g(s);if(!u)return;const{columns:c,onRowHeightChange:d,rowKey:h,rowIndex:f,style:p}=t,{height:m}=u.getBoundingClientRect();n.value=!0,it(()=>{if(l||m!==Number.parseInt(p.height)){const y=c[0],v=(y==null?void 0:y.placeholderSign)===d1;d==null||d({rowKey:h,height:m,rowIndex:f},y&&!v&&y.fixed)}})},o=D(()=>{const{rowData:l,rowIndex:u,rowKey:c,onRowHover:d}=t,h=t.rowEventHandlers||{},f={};return Object.entries(h).forEach(([p,m])=>{yn(m)&&(f[p]=y=>{m({event:y,rowData:l,rowIndex:u,rowKey:c})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:m})=>{const y=f[p];f[p]=v=>{d({event:v,hovered:m,rowData:l,rowIndex:u,rowKey:c}),y==null||y(v)}}),f}),i=l=>{const{onRowExpand:u,rowData:c,rowIndex:d,rowKey:h}=t;u==null||u({expanded:l,rowData:c,rowIndex:d,rowKey:h})};return Et(()=>{g(r)&&a(!0)}),{isScrolling:e,measurable:r,measured:n,rowRef:s,eventHandlers:o,onExpand:i}},t5e="ElTableV2TableRow",n5e=Z({name:t5e,props:ch,setup(t,{expose:e,slots:n,attrs:s}){const{eventHandlers:r,isScrolling:a,measurable:o,measured:i,rowRef:l,onExpand:u}=e5e(t);return e({onExpand:u}),()=>{const{columns:c,columnsStyles:d,expandColumnKey:h,depth:f,rowData:p,rowIndex:m,style:y}=t;let v=c.map((b,w)=>{const _=Mt(p.children)&&p.children.length>0&&b.key===h;return n.cell({column:b,columns:c,columnIndex:w,depth:f,style:d[b.key],rowData:p,rowIndex:m,isScrolling:g(a),expandIconProps:_?{rowData:p,rowIndex:m,onExpand:u}:void 0})});if(n.row&&(v=n.row({cells:v.map(b=>Mt(b)&&b.length===1?b[0]:b),style:y,columns:c,depth:f,rowData:p,rowIndex:m,isScrolling:g(a)})),g(o)){const{height:b,...w}=y||{},_=g(i);return $("div",Kt({ref:l,class:t.class,style:_?y:w,role:"row"},s,g(r)),[v])}return $("div",Kt(s,{ref:l,class:t.class,style:y,role:"row"},g(r)),[v])}}}),s5e=t=>{const{sortOrder:e}=t;return $(Je,{size:14,class:t.class},{default:()=>[e===u1.ASC?$(Wge,null,null):$(Hge,null,null)]})},r5e=t=>{const{expanded:e,expandable:n,onExpand:s,style:r,size:a}=t,o={onClick:n?()=>s(!e):void 0,class:t.class};return $(Je,Kt(o,{size:a,style:r}),{default:()=>[$(Ga,null,null)]})},a5e="ElTableV2Grid",o5e=t=>{const e=B(),n=B(),s=D(()=>{const{data:m,rowHeight:y,estimatedRowHeight:v}=t;if(!v)return m.length*y}),r=D(()=>{const{fixedData:m,rowHeight:y}=t;return((m==null?void 0:m.length)||0)*y}),a=D(()=>R_(t.headerHeight)),o=D(()=>{const{height:m}=t;return Math.max(0,m-g(a)-g(r))}),i=D(()=>g(a)+g(r)>0),l=({data:m,rowIndex:y})=>m[y][t.rowKey];function u({rowCacheStart:m,rowCacheEnd:y,rowVisibleStart:v,rowVisibleEnd:b}){var w;(w=t.onRowsRendered)==null||w.call(t,{rowCacheStart:m,rowCacheEnd:y,rowVisibleStart:v,rowVisibleEnd:b})}function c(m,y){var v;(v=n.value)==null||v.resetAfterRowIndex(m,y)}function d(m,y){const v=g(e),b=g(n);Vn(m)?(v==null||v.scrollToLeft(m.scrollLeft),b==null||b.scrollTo(m)):(v==null||v.scrollToLeft(m),b==null||b.scrollTo({scrollLeft:m,scrollTop:y}))}function h(m){var y;(y=g(n))==null||y.scrollTo({scrollTop:m})}function f(m,y){var v;(v=g(n))==null||v.scrollToItem(m,1,y)}function p(){var m,y;(m=g(n))==null||m.$forceUpdate(),(y=g(e))==null||y.$forceUpdate()}return{bodyRef:n,forceUpdate:p,fixedRowHeight:r,gridHeight:o,hasHeader:i,headerHeight:a,headerRef:e,totalHeight:s,itemKey:l,onItemRendered:u,resetAfterRowIndex:c,scrollTo:d,scrollToTop:h,scrollToRow:f}},pE=Z({name:a5e,props:L_,setup(t,{slots:e,expose:n}){const{ns:s}=Le(uE),{bodyRef:r,fixedRowHeight:a,gridHeight:o,hasHeader:i,headerRef:l,headerHeight:u,totalHeight:c,forceUpdate:d,itemKey:h,onItemRendered:f,resetAfterRowIndex:p,scrollTo:m,scrollToTop:y,scrollToRow:v}=o5e(t);n({forceUpdate:d,totalHeight:c,scrollTo:m,scrollToTop:y,scrollToRow:v,resetAfterRowIndex:p});const b=()=>t.bodyWidth;return()=>{const{cache:w,columns:_,data:C,fixedData:x,useIsScrolling:T,scrollbarAlwaysOn:k,scrollbarEndGap:N,scrollbarStartGap:O,style:L,rowHeight:V,bodyWidth:H,estimatedRowHeight:K,headerWidth:U,height:R,width:W,getRowHeight:G,onScroll:P}=t,j=Tt(K),J=j?dTe:iTe,ne=g(u);return $("div",{role:"table",class:[s.e("table"),t.class],style:L},[$(J,{ref:r,data:C,useIsScrolling:T,itemKey:h,columnCache:0,columnWidth:j?b:H,totalColumn:1,totalRow:C.length,rowCache:w,rowHeight:j?G:V,width:W,height:g(o),class:s.e("body"),role:"rowgroup",scrollbarStartGap:O,scrollbarEndGap:N,scrollbarAlwaysOn:k,onScroll:P,onItemRendered:f,perfMode:!1},{default:te=>{var de;const me=C[te.rowIndex];return(de=e.row)==null?void 0:de.call(e,{...te,columns:_,rowData:me})}}),g(i)&&$(J$e,{ref:l,class:s.e("header-wrapper"),columns:_,headerData:C,headerHeight:t.headerHeight,fixedHeaderData:x,rowWidth:U,rowHeight:V,width:W,height:Math.min(ne+g(a),R)},{dynamic:e.header,fixed:e.row})])}}});function i5e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const l5e=(t,{slots:e})=>{const{mainTableRef:n,...s}=t;return $(pE,Kt({ref:n},s),i5e(e)?e:{default:()=>[e]})};function u5e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const c5e=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...s}=t;return $(pE,Kt({ref:n},s),u5e(e)?e:{default:()=>[e]})};function d5e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const h5e=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...s}=t;return $(pE,Kt({ref:n},s),d5e(e)?e:{default:()=>[e]})};function f5e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const p5e=(t,{slots:e})=>{const{columns:n,columnsStyles:s,depthMap:r,expandColumnKey:a,expandedRowKeys:o,estimatedRowHeight:i,hasFixedColumns:l,rowData:u,rowIndex:c,style:d,isScrolling:h,rowProps:f,rowClass:p,rowKey:m,rowEventHandlers:y,ns:v,onRowHovered:b,onRowExpanded:w}=t,_=Ph(p,{columns:n,rowData:u,rowIndex:c},""),C=Ph(f,{columns:n,rowData:u,rowIndex:c}),x=u[m],T=r[x]||0,k=!!a,N=c<0,O=[v.e("row"),_,{[v.e(`row-depth-${T}`)]:k&&c>=0,[v.is("expanded")]:k&&o.includes(x),[v.is("fixed")]:!T&&N,[v.is("customized")]:!!e.row}],L=l?b:void 0,V={...C,columns:n,columnsStyles:s,class:O,depth:T,expandColumnKey:a,estimatedRowHeight:N?void 0:i,isScrolling:h,rowIndex:c,rowData:u,rowKey:x,rowEventHandlers:y,style:d};return $(n5e,Kt(V,{onRowExpand:w,onMouseenter:U=>{L==null||L({hovered:!0,rowKey:x,event:U,rowData:u,rowIndex:c})},onMouseleave:U=>{L==null||L({hovered:!1,rowKey:x,event:U,rowData:u,rowIndex:c})},rowkey:x}),f5e(e)?e:{default:()=>[e]})},mT=({columns:t,column:e,columnIndex:n,depth:s,expandIconProps:r,isScrolling:a,rowData:o,rowIndex:i,style:l,expandedRowKeys:u,ns:c,cellProps:d,expandColumnKey:h,indentSize:f,iconSize:p,rowKey:m},{slots:y})=>{const v=Lc(l);if(e.placeholderSign===d1)return $("div",{class:c.em("row-cell","placeholder"),style:v},null);const{cellRenderer:b,dataKey:w,dataGetter:_}=e,C=yn(_)?_({columns:t,column:e,columnIndex:n,rowData:o,rowIndex:i}):Ls(o,w??""),x=Ph(d,{cellData:C,columns:t,column:e,columnIndex:n,rowIndex:i,rowData:o}),T={class:c.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:C,isScrolling:a,rowData:o,rowIndex:i},k=HW(b),N=k?k(T):oe(y,"default",T,()=>[$(hE,T,null)]),O=[c.e("row-cell"),e.class,e.align===c1.CENTER&&c.is("align-center"),e.align===c1.RIGHT&&c.is("align-right")],L=i>=0&&h&&e.key===h,V=i>=0&&u.includes(o[m]);let H;const K=`margin-inline-start: ${s*f}px;`;return L&&(Vn(r)?H=$(r5e,Kt(r,{class:[c.e("expand-icon"),c.is("expanded",V)],size:p,expanded:V,style:K,expandable:!0}),null):H=$("div",{style:[K,`width: ${p}px; height: ${p}px;`].join(" ")},null)),$("div",Kt({class:O,style:v},x,{role:"cell"}),[H,N])};mT.inheritAttrs=!1;function m5e(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const g5e=({columns:t,columnsStyles:e,headerIndex:n,style:s,headerClass:r,headerProps:a,ns:o},{slots:i})=>{const l={columns:t,headerIndex:n},u=[o.e("header-row"),Ph(r,l,""),{[o.is("customized")]:!!i.header}],c={...Ph(a,l),columnsStyles:e,class:u,columns:t,headerIndex:n,style:s};return $(Q$e,c,m5e(i)?i:{default:()=>[i]})},xL=(t,{slots:e})=>{const{column:n,ns:s,style:r,onColumnSorted:a}=t,o=Lc(r);if(n.placeholderSign===d1)return $("div",{class:s.em("header-row-cell","placeholder"),style:o},null);const{headerCellRenderer:i,headerClass:l,sortable:u}=n,c={...t,class:s.e("header-cell-text")},d=HW(i),h=d?d(c):oe(e,"default",c,()=>[$(fE,c,null)]),{sortBy:f,sortState:p,headerCellProps:m}=t;let y,v;if(p){const _=p[n.key];y=!!pT[_],v=y?_:u1.ASC}else y=n.key===f.key,v=y?f.order:u1.ASC;const b=[s.e("header-cell"),Ph(l,t,""),n.align===c1.CENTER&&s.is("align-center"),n.align===c1.RIGHT&&s.is("align-right"),u&&s.is("sortable")],w={...Ph(m,t),onClick:n.sortable?a:void 0,class:b,style:o,"data-key":n.key};return $("div",Kt(w,{role:"columnheader"}),[h,u&&$(s5e,{class:[s.e("sort-icon"),y&&s.is("sorting")],sortOrder:v},null)])},GW=(t,{slots:e})=>{var n;return $("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};GW.displayName="ElTableV2Footer";const qW=(t,{slots:e})=>{const n=oe(e,"default",{},()=>[$(fw,null,null)]);return $("div",{class:t.class,style:t.style},[n])};qW.displayName="ElTableV2Empty";const KW=(t,{slots:e})=>{var n;return $("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};KW.displayName="ElTableV2Overlay";function Rg(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const v5e="ElTableV2",y5e=Z({name:v5e,props:X$e,setup(t,{slots:e,expose:n}){const s=Fe("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:o,mainColumns:i,mainTableHeight:l,fixedTableHeight:u,leftTableWidth:c,rightTableWidth:d,data:h,depthMap:f,expandedRowKeys:p,hasFixedColumns:m,mainTableRef:y,leftTableRef:v,rightTableRef:b,isDynamic:w,isResetting:_,isScrolling:C,bodyWidth:x,emptyStyle:T,rootStyle:k,headerWidth:N,footerHeight:O,showEmpty:L,scrollTo:V,scrollToLeft:H,scrollToTop:K,scrollToRow:U,getRowHeight:R,onColumnSorted:W,onRowHeightChange:G,onRowHovered:P,onRowExpanded:j,onRowsRendered:J,onScroll:ne,onVerticalScroll:te}=q$e(t);return n({scrollTo:V,scrollToLeft:H,scrollToTop:K,scrollToRow:U}),At(uE,{ns:s,isResetting:_,isScrolling:C}),()=>{const{cache:de,cellProps:me,estimatedRowHeight:_e,expandColumnKey:ee,fixedData:he,headerHeight:le,headerClass:ue,headerProps:re,headerCellProps:we,sortBy:Ae,sortState:Ue,rowHeight:at,rowClass:ot,rowEventHandlers:Pe,rowKey:je,rowProps:dt,scrollbarAlwaysOn:Qe,indentSize:wt,iconSize:vt,useIsScrolling:Ge,vScrollbarSize:fe,width:_t}=t,Dt=g(h),Qt={cache:de,class:s.e("main"),columns:g(i),data:Dt,fixedData:he,estimatedRowHeight:_e,bodyWidth:g(x)+fe,headerHeight:le,headerWidth:g(N),height:g(l),mainTableRef:y,rowKey:je,rowHeight:at,scrollbarAlwaysOn:Qe,scrollbarStartGap:2,scrollbarEndGap:fe,useIsScrolling:Ge,width:_t,getRowHeight:R,onRowsRendered:J,onScroll:ne},rn=g(c),Cn=g(u),Ct={cache:de,class:s.e("left"),columns:g(a),data:Dt,estimatedRowHeight:_e,leftTableRef:v,rowHeight:at,bodyWidth:rn,headerWidth:rn,headerHeight:le,height:Cn,rowKey:je,scrollbarAlwaysOn:Qe,scrollbarStartGap:2,scrollbarEndGap:fe,useIsScrolling:Ge,width:rn,getRowHeight:R,onScroll:te},Re=g(d)+fe,ut={cache:de,class:s.e("right"),columns:g(o),data:Dt,estimatedRowHeight:_e,rightTableRef:b,rowHeight:at,bodyWidth:Re,headerWidth:Re,headerHeight:le,height:Cn,rowKey:je,scrollbarAlwaysOn:Qe,scrollbarStartGap:2,scrollbarEndGap:fe,width:Re,style:`--${g(s.namespace)}-table-scrollbar-size: ${fe}px`,useIsScrolling:Ge,getRowHeight:R,onScroll:te},xe=g(r),Ke={ns:s,depthMap:g(f),columnsStyles:xe,expandColumnKey:ee,expandedRowKeys:g(p),estimatedRowHeight:_e,hasFixedColumns:g(m),rowProps:dt,rowClass:ot,rowKey:je,rowEventHandlers:Pe,onRowHovered:P,onRowExpanded:j,onRowHeightChange:G},Ze={cellProps:me,expandColumnKey:ee,indentSize:wt,iconSize:vt,rowKey:je,expandedRowKeys:g(p),ns:s},Zt={ns:s,headerClass:ue,headerProps:re,columnsStyles:xe},Mn={ns:s,sortBy:Ae,sortState:Ue,headerCellProps:we,onColumnSorted:W},Oe={row:xn=>$(p5e,Kt(xn,Ke),{row:e.row,cell:Zn=>{let In;return e.cell?$(mT,Kt(Zn,Ze,{style:xe[Zn.column.key]}),Rg(In=e.cell(Zn))?In:{default:()=>[In]}):$(mT,Kt(Zn,Ze,{style:xe[Zn.column.key]}),null)}}),header:xn=>$(g5e,Kt(xn,Zt),{header:e.header,cell:Zn=>{let In;return e["header-cell"]?$(xL,Kt(Zn,Mn,{style:xe[Zn.column.key]}),Rg(In=e["header-cell"](Zn))?In:{default:()=>[In]}):$(xL,Kt(Zn,Mn,{style:xe[Zn.column.key]}),null)}})},St=[t.class,s.b(),s.e("root"),{[s.is("dynamic")]:g(w)}],bn={class:s.e("footer"),style:g(O)};return $("div",{class:St,style:g(k)},[$(l5e,Qt,Rg(Oe)?Oe:{default:()=>[Oe]}),$(c5e,Ct,Rg(Oe)?Oe:{default:()=>[Oe]}),$(h5e,ut,Rg(Oe)?Oe:{default:()=>[Oe]}),e.footer&&$(GW,bn,{default:e.footer}),g(L)&&$(qW,{class:s.e("empty"),style:g(T)},{default:e.empty}),e.overlay&&$(KW,{class:s.e("overlay")},{default:e.overlay})])}}}),b5e=qe({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:ve(Function)}}),_5e=Z({name:"ElAutoResizer",props:b5e,setup(t,{slots:e}){const n=Fe("auto-resizer"),{height:s,width:r,sizer:a}=G$e(t),o={width:"100%",height:"100%"};return()=>{var i;return $("div",{ref:a,class:n.b(),style:o},[(i=e.default)==null?void 0:i.call(e,{height:s.value,width:r.value})])}}}),w5e=Ft(y5e),x5e=Ft(_5e),bw=Symbol("tabsRootContextKey"),C5e=qe({tabs:{type:ve(Array),default:()=>hs([])}}),XW="ElTabBar",S5e=Z({name:XW}),T5e=Z({...S5e,props:C5e,setup(t,{expose:e}){const n=t,s=Ht(),r=Le(bw);r||br(XW,"<el-tabs><el-tab-bar /></el-tabs>");const a=Fe("tabs"),o=B(),i=B(),l=()=>{let c=0,d=0;const h=["top","bottom"].includes(r.props.tabPosition)?"width":"height",f=h==="width"?"x":"y",p=f==="x"?"left":"top";return n.tabs.every(m=>{var y,v;const b=(v=(y=s.parent)==null?void 0:y.refs)==null?void 0:v[`tab-${m.uid}`];if(!b)return!1;if(!m.active)return!0;c=b[`offset${Nl(p)}`],d=b[`client${Nl(h)}`];const w=window.getComputedStyle(b);return h==="width"&&(d-=Number.parseFloat(w.paddingLeft)+Number.parseFloat(w.paddingRight),c+=Number.parseFloat(w.paddingLeft)),!1}),{[h]:`${d}px`,transform:`translate${Nl(f)}(${c}px)`}},u=()=>i.value=l();return Ee(()=>n.tabs,async()=>{await it(),u()},{immediate:!0}),ds(o,()=>u()),e({ref:o,update:u}),(c,d)=>(S(),A("div",{ref_key:"barRef",ref:o,class:q([g(a).e("active-bar"),g(a).is(g(r).props.tabPosition)]),style:yt(i.value)},null,6))}});var k5e=Xe(T5e,[["__file","tab-bar.vue"]]);const $5e=qe({panes:{type:ve(Array),default:()=>hs([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),E5e={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},CL="ElTabNav",I5e=Z({name:CL,props:$5e,emits:E5e,setup(t,{expose:e,emit:n}){const s=Le(bw);s||br(CL,"<el-tabs><tab-nav /></el-tabs>");const r=Fe("tabs"),a=Wce(),o=nde(),i=B(),l=B(),u=B(),c=B(),d=B(!1),h=B(0),f=B(!1),p=B(!0),m=D(()=>["top","bottom"].includes(s.props.tabPosition)?"width":"height"),y=D(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${h.value}px)`})),v=()=>{if(!i.value)return;const k=i.value[`offset${Nl(m.value)}`],N=h.value;if(!N)return;const O=N>k?N-k:0;h.value=O},b=()=>{if(!i.value||!l.value)return;const k=l.value[`offset${Nl(m.value)}`],N=i.value[`offset${Nl(m.value)}`],O=h.value;if(k-O<=N)return;const L=k-O>N*2?O+N:k-N;h.value=L},w=async()=>{const k=l.value;if(!d.value||!u.value||!i.value||!k)return;await it();const N=u.value.querySelector(".is-active");if(!N)return;const O=i.value,L=["top","bottom"].includes(s.props.tabPosition),V=N.getBoundingClientRect(),H=O.getBoundingClientRect(),K=L?k.offsetWidth-H.width:k.offsetHeight-H.height,U=h.value;let R=U;L?(V.left<H.left&&(R=U-(H.left-V.left)),V.right>H.right&&(R=U+V.right-H.right)):(V.top<H.top&&(R=U-(H.top-V.top)),V.bottom>H.bottom&&(R=U+(V.bottom-H.bottom))),R=Math.max(R,0),h.value=Math.min(R,K)},_=()=>{var k;if(!l.value||!i.value)return;t.stretch&&((k=c.value)==null||k.update());const N=l.value[`offset${Nl(m.value)}`],O=i.value[`offset${Nl(m.value)}`],L=h.value;O<N?(d.value=d.value||{},d.value.prev=L,d.value.next=L+O<N,N-L<O&&(h.value=N-O)):(d.value=!1,L>0&&(h.value=0))},C=k=>{const N=k.code,{up:O,down:L,left:V,right:H}=gt;if(![O,L,V,H].includes(N))return;const K=Array.from(k.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),U=K.indexOf(k.target);let R;N===V||N===O?U===0?R=K.length-1:R=U-1:U<K.length-1?R=U+1:R=0,K[R].focus({preventScroll:!0}),K[R].click(),x()},x=()=>{p.value&&(f.value=!0)},T=()=>f.value=!1;return Ee(a,k=>{k==="hidden"?p.value=!1:k==="visible"&&setTimeout(()=>p.value=!0,50)}),Ee(o,k=>{k?setTimeout(()=>p.value=!0,50):p.value=!1}),ds(u,_),Et(()=>setTimeout(()=>w(),0)),gd(()=>_()),e({scrollToActiveTab:w,removeFocus:T}),()=>{const k=d.value?[$("span",{class:[r.e("nav-prev"),r.is("disabled",!d.value.prev)],onClick:v},[$(Je,null,{default:()=>[$(Yc,null,null)]})]),$("span",{class:[r.e("nav-next"),r.is("disabled",!d.value.next)],onClick:b},[$(Je,null,{default:()=>[$(Ga,null,null)]})])]:null,N=t.panes.map((O,L)=>{var V,H,K,U;const R=O.uid,W=O.props.disabled,G=(H=(V=O.props.name)!=null?V:O.index)!=null?H:`${L}`,P=!W&&(O.isClosable||t.editable);O.index=`${L}`;const j=P?$(Je,{class:"is-icon-close",onClick:te=>n("tabRemove",O,te)},{default:()=>[$(ol,null,null)]}):null,J=((U=(K=O.slots).label)==null?void 0:U.call(K))||O.props.label,ne=!W&&O.active?0:-1;return $("div",{ref:`tab-${R}`,class:[r.e("item"),r.is(s.props.tabPosition),r.is("active",O.active),r.is("disabled",W),r.is("closable",P),r.is("focus",f.value)],id:`tab-${G}`,key:`tab-${R}`,"aria-controls":`pane-${G}`,role:"tab","aria-selected":O.active,tabindex:ne,onFocus:()=>x(),onBlur:()=>T(),onClick:te=>{T(),n("tabClick",O,G,te)},onKeydown:te=>{P&&(te.code===gt.delete||te.code===gt.backspace)&&n("tabRemove",O,te)}},[J,j])});return $("div",{ref:u,class:[r.e("nav-wrap"),r.is("scrollable",!!d.value),r.is(s.props.tabPosition)]},[k,$("div",{class:r.e("nav-scroll"),ref:i},[$("div",{class:[r.e("nav"),r.is(s.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(s.props.tabPosition))],ref:l,style:y.value,role:"tablist",onKeydown:C},[t.type?null:$(k5e,{ref:c,tabs:[...t.panes]},null),N])])])}}}),N5e=qe({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:ve(Function),default:()=>!0},stretch:Boolean}),uC=t=>qt(t)||Tt(t),A5e={[Yt]:t=>uC(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>uC(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>uC(t),tabAdd:()=>!0},D5e=Z({name:"ElTabs",props:N5e,emits:A5e,setup(t,{emit:e,slots:n,expose:s}){var r;const a=Fe("tabs"),o=D(()=>["left","right"].includes(t.tabPosition)),{children:i,addChild:l,removeChild:u}=C5(Ht(),"ElTabPane"),c=B(),d=B((r=t.modelValue)!=null?r:"0"),h=async(v,b=!1)=>{var w,_,C;if(!(d.value===v||$s(v)))try{await((w=t.beforeLeave)==null?void 0:w.call(t,v,d.value))!==!1&&(d.value=v,b&&(e(Yt,v),e("tabChange",v)),(C=(_=c.value)==null?void 0:_.removeFocus)==null||C.call(_))}catch{}},f=(v,b,w)=>{v.props.disabled||(h(b,!0),e("tabClick",v,w))},p=(v,b)=>{v.props.disabled||$s(v.props.name)||(b.stopPropagation(),e("edit",v.props.name,"remove"),e("tabRemove",v.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};Ee(()=>t.modelValue,v=>h(v)),Ee(d,async()=>{var v;await it(),(v=c.value)==null||v.scrollToActiveTab()}),At(bw,{props:t,currentName:d,registerPane:v=>{i.value.push(v)},sortPane:l,unregisterPane:u}),s({currentName:d});const y=({render:v})=>v();return()=>{const v=n["add-icon"],b=t.editable||t.addable?$("div",{class:[a.e("new-tab"),o.value&&a.e("new-tab-vertical")],tabindex:"0",onClick:m,onKeydown:C=>{C.code===gt.enter&&m()}},[v?oe(n,"add-icon"):$(Je,{class:a.is("icon-plus")},{default:()=>[$($V,null,null)]})]):null,w=$("div",{class:[a.e("header"),o.value&&a.e("header-vertical"),a.is(t.tabPosition)]},[$(y,{render:()=>{const C=i.value.some(x=>x.slots.label);return $(I5e,{ref:c,currentName:d.value,editable:t.editable,type:t.type,panes:i.value,stretch:t.stretch,onTabClick:f,onTabRemove:p},{$stable:!C})}},null),b]),_=$("div",{class:a.e("content")},[oe(n,"default")]);return $("div",{class:[a.b(),a.m(t.tabPosition),{[a.m("card")]:t.type==="card",[a.m("border-card")]:t.type==="border-card"}]},[_,w])}}}),O5e=qe({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),YW="ElTabPane",R5e=Z({name:YW}),L5e=Z({...R5e,props:O5e,setup(t){const e=t,n=Ht(),s=xr(),r=Le(bw);r||br(YW,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=Fe("tab-pane"),o=B(),i=D(()=>e.closable||r.props.closable),l=J7(()=>{var f;return r.currentName.value===((f=e.name)!=null?f:o.value)}),u=B(l.value),c=D(()=>{var f;return(f=e.name)!=null?f:o.value}),d=J7(()=>!e.lazy||u.value||l.value);Ee(l,f=>{f&&(u.value=!0)});const h=an({uid:n.uid,slots:s,props:e,paneName:c,active:l,index:o,isClosable:i});return r.registerPane(h),Et(()=>{r.sortPane(h)}),ma(()=>{r.unregisterPane(h.uid)}),(f,p)=>g(d)?zt((S(),A("div",{key:0,id:`pane-${g(c)}`,class:q(g(a).b()),role:"tabpanel","aria-hidden":!g(l),"aria-labelledby":`tab-${g(c)}`},[oe(f.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[gn,g(l)]]):ce("v-if",!0)}});var QW=Xe(L5e,[["__file","tab-pane.vue"]]);const P5e=Ft(D5e,{TabPane:QW}),M5e=gs(QW),F5e=qe({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:uu,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),B5e=Z({name:"ElText"}),z5e=Z({...B5e,props:F5e,setup(t){const e=t,n=or(),s=Fe("text"),r=D(()=>[s.b(),s.m(e.type),s.m(n.value),s.is("truncated",e.truncated),s.is("line-clamp",!$s(e.lineClamp))]);return(a,o)=>(S(),be(Gt(a.tag),{class:q(g(r)),style:yt({"-webkit-line-clamp":a.lineClamp})},{default:se(()=>[oe(a.$slots,"default")]),_:3},8,["class","style"]))}});var V5e=Xe(z5e,[["__file","text.vue"]]);const H5e=Ft(V5e),U5e=qe({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:ve(String),default:"light"},clearable:{type:Boolean,default:!0},size:_r,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:ve([String,Object]),default:()=>kV},clearIcon:{type:ve([String,Object]),default:()=>yd},...M0}),xu=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const s=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&n===12?n=0:r.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:s}}return null},cC=(t,e)=>{const n=xu(t);if(!n)return-1;const s=xu(e);if(!s)return-1;const r=n.minutes+n.hours*60,a=s.minutes+s.hours*60;return r===a?0:r>a?1:-1},SL=t=>`${t}`.padStart(2,"0"),lp=t=>`${SL(t.hours)}:${SL(t.minutes)}`,W5e=(t,e)=>{const n=xu(t);if(!n)return"";const s=xu(e);if(!s)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=s.minutes,r.hours+=s.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,lp(r)},j5e=Z({name:"ElTimeSelect"}),G5e=Z({...j5e,props:U5e,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;Pt.extend(D5);const{Option:s}=Mu,r=Fe("input"),a=B(),o=ao(),{lang:i}=fn(),l=D(()=>n.modelValue),u=D(()=>{const v=xu(n.start);return v?lp(v):null}),c=D(()=>{const v=xu(n.end);return v?lp(v):null}),d=D(()=>{const v=xu(n.step);return v?lp(v):null}),h=D(()=>{const v=xu(n.minTime||"");return v?lp(v):null}),f=D(()=>{const v=xu(n.maxTime||"");return v?lp(v):null}),p=D(()=>{const v=[];if(n.start&&n.end&&n.step){let b=u.value,w;for(;b&&c.value&&cC(b,c.value)<=0;)w=Pt(b,"HH:mm").locale(i.value).format(n.format),v.push({value:w,disabled:cC(b,h.value||"-1:-1")<=0||cC(b,f.value||"100:100")>=0}),b=W5e(b,d.value)}return v});return e({blur:()=>{var v,b;(b=(v=a.value)==null?void 0:v.blur)==null||b.call(v)},focus:()=>{var v,b;(b=(v=a.value)==null?void 0:v.focus)==null||b.call(v)}}),(v,b)=>(S(),be(g(Mu),{ref_key:"select",ref:a,"model-value":g(l),disabled:g(o),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"onUpdate:modelValue":w=>v.$emit("update:modelValue",w),onChange:w=>v.$emit("change",w),onBlur:w=>v.$emit("blur",w),onFocus:w=>v.$emit("focus",w),onClear:()=>v.$emit("clear")},{prefix:se(()=>[v.prefixIcon?(S(),be(g(Je),{key:0,class:q(g(r).e("prefix-icon"))},{default:se(()=>[(S(),be(Gt(v.prefixIcon)))]),_:1},8,["class"])):ce("v-if",!0)]),default:se(()=>[(S(!0),A(He,null,Ut(g(p),w=>(S(),be(g(s),{key:w.value,label:w.value,value:w.value,disabled:w.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var q5e=Xe(G5e,[["__file","time-select.vue"]]);const ZW=Ft(q5e),K5e=Z({name:"ElTimeline",setup(t,{slots:e}){const n=Fe("timeline");return At("timeline",e),()=>pt("ul",{class:[n.b()]},[oe(e,"default")])}}),X5e=qe({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Gn},hollow:Boolean}),Y5e=Z({name:"ElTimelineItem"}),Q5e=Z({...Y5e,props:X5e,setup(t){const e=t,n=Fe("timeline-item"),s=D(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(r,a)=>(S(),A("li",{class:q([g(n).b(),{[g(n).e("center")]:r.center}])},[I("div",{class:q(g(n).e("tail"))},null,2),r.$slots.dot?ce("v-if",!0):(S(),A("div",{key:0,class:q(g(s)),style:yt({backgroundColor:r.color})},[r.icon?(S(),be(g(Je),{key:0,class:q(g(n).e("icon"))},{default:se(()=>[(S(),be(Gt(r.icon)))]),_:1},8,["class"])):ce("v-if",!0)],6)),r.$slots.dot?(S(),A("div",{key:1,class:q(g(n).e("dot"))},[oe(r.$slots,"dot")],2)):ce("v-if",!0),I("div",{class:q(g(n).e("wrapper"))},[!r.hideTimestamp&&r.placement==="top"?(S(),A("div",{key:0,class:q([g(n).e("timestamp"),g(n).is("top")])},Me(r.timestamp),3)):ce("v-if",!0),I("div",{class:q(g(n).e("content"))},[oe(r.$slots,"default")],2),!r.hideTimestamp&&r.placement==="bottom"?(S(),A("div",{key:1,class:q([g(n).e("timestamp"),g(n).is("bottom")])},Me(r.timestamp),3)):ce("v-if",!0)],2)],2))}});var JW=Xe(Q5e,[["__file","timeline-item.vue"]]);const Z5e=Ft(K5e,{TimelineItem:JW}),J5e=gs(JW),ej=qe({nowrap:Boolean});var tj=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(tj||{});const eEe=Object.values(tj),mE=qe({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:ve(Object),default:null}}),tEe=qe({side:{type:ve(String),values:eEe,required:!0}}),nEe=["absolute","fixed"],sEe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],gE=qe({arrowPadding:{type:ve(Number),default:5},effect:{type:ve(String),default:"light"},contentClass:String,placement:{type:ve(String),values:sEe,default:"bottom"},reference:{type:ve(Object),default:null},offset:{type:Number,default:8},strategy:{type:ve(String),values:nEe,default:"absolute"},showArrow:Boolean,...sa(["ariaLabel"])}),vE=qe({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:ve(Function)},"onUpdate:open":{type:ve(Function)}}),Kf={type:ve(Function)},yE=qe({onBlur:Kf,onClick:Kf,onFocus:Kf,onMouseDown:Kf,onMouseEnter:Kf,onMouseLeave:Kf}),rEe=qe({...vE,...mE,...yE,...gE,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:ve(Object),default:null},teleported:Boolean,to:{type:ve(String),default:"body"}}),_w=Symbol("tooltipV2"),nj=Symbol("tooltipV2Content"),dC="tooltip_v2.open",aEe=Z({name:"ElTooltipV2Root"}),oEe=Z({...aEe,props:vE,setup(t,{expose:e}){const n=t,s=B(n.defaultOpen),r=B(null),a=D({get:()=>Ah(n.open)?s.value:n.open,set:y=>{var v;s.value=y,(v=n["onUpdate:open"])==null||v.call(n,y)}}),o=D(()=>Tt(n.delayDuration)&&n.delayDuration>0),{start:i,stop:l}=Ih(()=>{a.value=!0},D(()=>n.delayDuration),{immediate:!1}),u=Fe("tooltip-v2"),c=pa(),d=()=>{l(),a.value=!0},h=()=>{g(o)?i():d()},f=d,p=()=>{l(),a.value=!1};return Ee(a,y=>{var v;y&&(document.dispatchEvent(new CustomEvent(dC)),f()),(v=n.onOpenChange)==null||v.call(n,y)}),Et(()=>{document.addEventListener(dC,p)}),ts(()=>{l(),document.removeEventListener(dC,p)}),At(_w,{contentId:c,triggerRef:r,ns:u,onClose:p,onDelayOpen:h,onOpen:f}),e({onOpen:f,onClose:p}),(y,v)=>oe(y.$slots,"default",{open:g(a)})}});var iEe=Xe(oEe,[["__file","root.vue"]]);const lEe=Z({name:"ElTooltipV2Arrow"}),uEe=Z({...lEe,props:{...mE,...tEe},setup(t){const e=t,{ns:n}=Le(_w),{arrowRef:s}=Le(nj),r=D(()=>{const{style:a,width:o,height:i}=e,l=n.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${o}px`,[`--${l}-tooltip-v2-arrow-height`]:`${i}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${o/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:o/2-1,...a||{}}});return(a,o)=>(S(),A("span",{ref_key:"arrowRef",ref:s,style:yt(g(r)),class:q(g(n).e("arrow"))},null,6))}});var TL=Xe(uEe,[["__file","arrow.vue"]]);const cEe=qe({style:{type:ve([String,Object,Array]),default:()=>({})}}),dEe=Z({name:"ElVisuallyHidden"}),hEe=Z({...dEe,props:cEe,setup(t){const e=t,n=D(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(s,r)=>(S(),A("span",Kt(s.$attrs,{style:g(n)}),[oe(s.$slots,"default")],16))}});var fEe=Xe(hEe,[["__file","visual-hidden.vue"]]);const pEe=Z({name:"ElTooltipV2Content"}),mEe=Z({...pEe,props:{...gE,...ej},setup(t){const e=t,{triggerRef:n,contentId:s}=Le(_w),r=B(e.placement),a=B(e.strategy),o=B(null),{referenceRef:i,contentRef:l,middlewareData:u,x:c,y:d,update:h}=lve({placement:r,strategy:a,middleware:D(()=>{const w=[tH(e.offset)];return e.showArrow&&w.push(uve({arrowRef:o})),w})}),f=P0().nextZIndex(),p=Fe("tooltip-v2"),m=D(()=>r.value.split("-")[0]),y=D(()=>({position:g(a),top:`${g(d)||0}px`,left:`${g(c)||0}px`,zIndex:f})),v=D(()=>{if(!e.showArrow)return{};const{arrow:w}=g(u);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${w==null?void 0:w.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${w==null?void 0:w.y}px`||""}}),b=D(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(g(a)),e.contentClass]);return Ee(o,()=>h()),Ee(()=>e.placement,w=>r.value=w),Et(()=>{Ee(()=>e.reference||n.value,w=>{i.value=w||void 0},{immediate:!0})}),At(nj,{arrowRef:o}),(w,_)=>(S(),A("div",{ref_key:"contentRef",ref:l,style:yt(g(y)),"data-tooltip-v2-root":""},[w.nowrap?ce("v-if",!0):(S(),A("div",{key:0,"data-side":g(m),class:q(g(b))},[oe(w.$slots,"default",{contentStyle:g(y),contentClass:g(b)}),$(g(fEe),{id:g(s),role:"tooltip"},{default:se(()=>[w.ariaLabel?(S(),A(He,{key:0},[ct(Me(w.ariaLabel),1)],64)):oe(w.$slots,"default",{key:1})]),_:3},8,["id"]),oe(w.$slots,"arrow",{style:yt(g(v)),side:g(m)})],10,["data-side"]))],4))}});var kL=Xe(mEe,[["__file","content.vue"]]);const gEe=qe({setRef:{type:ve(Function),required:!0},onlyChild:Boolean});var vEe=Z({props:gEe,setup(t,{slots:e}){const n=B(),s=X4(n,r=>{r?t.setRef(r.nextElementSibling):t.setRef(null)});return()=>{var r;const[a]=((r=e.default)==null?void 0:r.call(e))||[],o=t.onlyChild?i2e(a.children):a.children;return $(He,{ref:s},[o])}}});const yEe=Z({name:"ElTooltipV2Trigger"}),bEe=Z({...yEe,props:{...ej,...yE},setup(t){const e=t,{onClose:n,onOpen:s,onDelayOpen:r,triggerRef:a,contentId:o}=Le(_w);let i=!1;const l=b=>{a.value=b},u=()=>{i=!1},c=Cs(e.onMouseEnter,r),d=Cs(e.onMouseLeave,n),h=Cs(e.onMouseDown,()=>{n(),i=!0,document.addEventListener("mouseup",u,{once:!0})}),f=Cs(e.onFocus,()=>{i||s()}),p=Cs(e.onBlur,n),m=Cs(e.onClick,b=>{b.detail===0&&n()}),y={blur:p,click:m,focus:f,mousedown:h,mouseenter:c,mouseleave:d},v=(b,w,_)=>{b&&Object.entries(w).forEach(([C,x])=>{b[_](C,x)})};return Ee(a,(b,w)=>{v(b,y,"addEventListener"),v(w,y,"removeEventListener"),b&&b.setAttribute("aria-describedby",o.value)}),ts(()=>{v(a.value,y,"removeEventListener"),document.removeEventListener("mouseup",u)}),(b,w)=>b.nowrap?(S(),be(g(vEe),{key:0,"set-ref":l,"only-child":""},{default:se(()=>[oe(b.$slots,"default")]),_:3})):(S(),A("button",Kt({key:1,ref_key:"triggerRef",ref:a},b.$attrs),[oe(b.$slots,"default")],16))}});var _Ee=Xe(bEe,[["__file","trigger.vue"]]);const wEe=Z({name:"ElTooltipV2"}),xEe=Z({...wEe,props:rEe,setup(t){const n=Jr(t),s=an(Qi(n,Object.keys(mE))),r=an(Qi(n,Object.keys(gE))),a=an(Qi(n,Object.keys(vE))),o=an(Qi(n,Object.keys(yE)));return(i,l)=>(S(),be(iEe,vi(Eh(a)),{default:se(({open:u})=>[$(_Ee,Kt(o,{nowrap:""}),{default:se(()=>[oe(i.$slots,"trigger")]),_:3},16),$(g(F0),{to:i.to,disabled:!i.teleported},{default:se(()=>[i.fullTransition?(S(),be(ar,vi(Kt({key:0},i.transitionProps)),{default:se(()=>[i.alwaysOn||u?(S(),be(kL,vi(Kt({key:0},r)),{arrow:se(({style:c,side:d})=>[i.showArrow?(S(),be(TL,Kt({key:0},s,{style:c,side:d}),null,16,["style","side"])):ce("v-if",!0)]),default:se(()=>[oe(i.$slots,"default")]),_:3},16)):ce("v-if",!0)]),_:2},1040)):(S(),A(He,{key:1},[i.alwaysOn||u?(S(),be(kL,vi(Kt({key:0},r)),{arrow:se(({style:c,side:d})=>[i.showArrow?(S(),be(TL,Kt({key:0},s,{style:c,side:d}),null,16,["style","side"])):ce("v-if",!0)]),default:se(()=>[oe(i.$slots,"default")]),_:3},16)):ce("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var CEe=Xe(xEe,[["__file","tooltip.vue"]]);const SEe=Ft(CEe),sj="left-check-change",rj="right-check-change",up=qe({data:{type:ve(Array),default:()=>[]},titles:{type:ve(Array),default:()=>[]},buttonTexts:{type:ve(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:ve(Function)},leftDefaultChecked:{type:ve(Array),default:()=>[]},rightDefaultChecked:{type:ve(Array),default:()=>[]},renderContent:{type:ve(Function)},modelValue:{type:ve(Array),default:()=>[]},format:{type:ve(Object),default:()=>({})},filterable:Boolean,props:{type:ve(Object),default:()=>hs({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),gT=(t,e)=>[t,e].every(Mt)||Mt(t)&&Lr(e),TEe={[ns]:(t,e,n)=>[t,n].every(Mt)&&["left","right"].includes(e),[Yt]:t=>Mt(t),[sj]:gT,[rj]:gT},vT="checked-change",kEe=qe({data:up.data,optionRender:{type:ve(Function)},placeholder:String,title:String,filterable:Boolean,format:up.format,filterMethod:up.filterMethod,defaultChecked:up.leftDefaultChecked,props:up.props}),$Ee={[vT]:gT},uv=t=>{const e={label:"label",key:"key",disabled:"disabled"};return D(()=>({...e,...t.props}))},EEe=(t,e,n)=>{const s=uv(t),r=D(()=>t.data.filter(c=>yn(t.filterMethod)?t.filterMethod(e.query,c):String(c[s.value.label]||c[s.value.key]).toLowerCase().includes(e.query.toLowerCase()))),a=D(()=>r.value.filter(c=>!c[s.value.disabled])),o=D(()=>{const c=e.checked.length,d=t.data.length,{noChecked:h,hasChecked:f}=t.format;return h&&f?c>0?f.replace(/\${checked}/g,c.toString()).replace(/\${total}/g,d.toString()):h.replace(/\${total}/g,d.toString()):`${c}/${d}`}),i=D(()=>{const c=e.checked.length;return c>0&&c<a.value.length}),l=()=>{const c=a.value.map(d=>d[s.value.key]);e.allChecked=c.length>0&&c.every(d=>e.checked.includes(d))},u=c=>{e.checked=c?a.value.map(d=>d[s.value.key]):[]};return Ee(()=>e.checked,(c,d)=>{if(l(),e.checkChangeByUser){const h=c.concat(d).filter(f=>!c.includes(f)||!d.includes(f));n(vT,c,h)}else n(vT,c),e.checkChangeByUser=!0}),Ee(a,()=>{l()}),Ee(()=>t.data,()=>{const c=[],d=r.value.map(h=>h[s.value.key]);e.checked.forEach(h=>{d.includes(h)&&c.push(h)}),e.checkChangeByUser=!1,e.checked=c}),Ee(()=>t.defaultChecked,(c,d)=>{if(d&&c.length===d.length&&c.every(p=>d.includes(p)))return;const h=[],f=a.value.map(p=>p[s.value.key]);c.forEach(p=>{f.includes(p)&&h.push(p)}),e.checkChangeByUser=!1,e.checked=h},{immediate:!0}),{filteredData:r,checkableData:a,checkedSummary:o,isIndeterminate:i,updateAllChecked:l,handleAllCheckedChange:u}},IEe=(t,e)=>({onSourceCheckedChange:(r,a)=>{t.leftChecked=r,a&&e(sj,r,a)},onTargetCheckedChange:(r,a)=>{t.rightChecked=r,a&&e(rj,r,a)}}),NEe=t=>{const e=uv(t),n=D(()=>t.data.reduce((a,o)=>(a[o[e.value.key]]=o)&&a,{})),s=D(()=>t.data.filter(a=>!t.modelValue.includes(a[e.value.key]))),r=D(()=>t.targetOrder==="original"?t.data.filter(a=>t.modelValue.includes(a[e.value.key])):t.modelValue.reduce((a,o)=>{const i=n.value[o];return i&&a.push(i),a},[]));return{sourceData:s,targetData:r}},AEe=(t,e,n)=>{const s=uv(t),r=(i,l,u)=>{n(Yt,i),n(ns,i,l,u)};return{addToLeft:()=>{const i=t.modelValue.slice();e.rightChecked.forEach(l=>{const u=i.indexOf(l);u>-1&&i.splice(u,1)}),r(i,"left",e.rightChecked)},addToRight:()=>{let i=t.modelValue.slice();const l=t.data.filter(u=>{const c=u[s.value.key];return e.leftChecked.includes(c)&&!t.modelValue.includes(c)}).map(u=>u[s.value.key]);i=t.targetOrder==="unshift"?l.concat(i):i.concat(l),t.targetOrder==="original"&&(i=t.data.filter(u=>i.includes(u[s.value.key])).map(u=>u[s.value.key])),r(i,"right",e.leftChecked)}}},DEe=Z({name:"ElTransferPanel"}),OEe=Z({...DEe,props:kEe,emits:$Ee,setup(t,{expose:e,emit:n}){const s=t,r=xr(),a=({option:w})=>w,{t:o}=fn(),i=Fe("transfer"),l=an({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),u=uv(s),{filteredData:c,checkedSummary:d,isIndeterminate:h,handleAllCheckedChange:f}=EEe(s,l,n),p=D(()=>!mi(l.query)&&mi(c.value)),m=D(()=>!mi(r.default()[0].children)),{checked:y,allChecked:v,query:b}=Jr(l);return e({query:b}),(w,_)=>(S(),A("div",{class:q(g(i).b("panel"))},[I("p",{class:q(g(i).be("panel","header"))},[$(g(ha),{modelValue:g(v),"onUpdate:modelValue":C=>ms(v)?v.value=C:null,indeterminate:g(h),"validate-event":!1,onChange:g(f)},{default:se(()=>[ct(Me(w.title)+" ",1),I("span",null,Me(g(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),I("div",{class:q([g(i).be("panel","body"),g(i).is("with-footer",g(m))])},[w.filterable?(S(),be(g(Gs),{key:0,modelValue:g(b),"onUpdate:modelValue":C=>ms(b)?b.value=C:null,class:q(g(i).be("panel","filter")),size:"default",placeholder:w.placeholder,"prefix-icon":g(zge),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):ce("v-if",!0),zt($(g(iw),{modelValue:g(y),"onUpdate:modelValue":C=>ms(y)?y.value=C:null,"validate-event":!1,class:q([g(i).is("filterable",w.filterable),g(i).be("panel","list")])},{default:se(()=>[(S(!0),A(He,null,Ut(g(c),C=>(S(),be(g(ha),{key:C[g(u).key],class:q(g(i).be("panel","item")),value:C[g(u).key],disabled:C[g(u).disabled],"validate-event":!1},{default:se(()=>{var x;return[$(a,{option:(x=w.optionRender)==null?void 0:x.call(w,C)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[gn,!g(p)&&!g(mi)(w.data)]]),zt(I("p",{class:q(g(i).be("panel","empty"))},Me(g(p)?g(o)("el.transfer.noMatch"):g(o)("el.transfer.noData")),3),[[gn,g(p)||g(mi)(w.data)]])],2),g(m)?(S(),A("p",{key:0,class:q(g(i).be("panel","footer"))},[oe(w.$slots,"default")],2)):ce("v-if",!0)],2))}});var $L=Xe(OEe,[["__file","transfer-panel.vue"]]);const REe=Z({name:"ElTransfer"}),LEe=Z({...REe,props:up,emits:TEe,setup(t,{expose:e,emit:n}){const s=t,r=xr(),{t:a}=fn(),o=Fe("transfer"),{formItem:i}=Na(),l=an({leftChecked:[],rightChecked:[]}),u=uv(s),{sourceData:c,targetData:d}=NEe(s),{onSourceCheckedChange:h,onTargetCheckedChange:f}=IEe(l,n),{addToLeft:p,addToRight:m}=AEe(s,l,n),y=B(),v=B(),b=k=>{switch(k){case"left":y.value.query="";break;case"right":v.value.query="";break}},w=D(()=>s.buttonTexts.length===2),_=D(()=>s.titles[0]||a("el.transfer.titles.0")),C=D(()=>s.titles[1]||a("el.transfer.titles.1")),x=D(()=>s.filterPlaceholder||a("el.transfer.filterPlaceholder"));Ee(()=>s.modelValue,()=>{var k;s.validateEvent&&((k=i==null?void 0:i.validate)==null||k.call(i,"change").catch(N=>void 0))});const T=D(()=>k=>s.renderContent?s.renderContent(pt,k):r.default?r.default({option:k}):pt("span",k[u.value.label]||k[u.value.key]));return e({clearQuery:b,leftPanel:y,rightPanel:v}),(k,N)=>(S(),A("div",{class:q(g(o).b())},[$($L,{ref_key:"leftPanel",ref:y,data:g(c),"option-render":g(T),placeholder:g(x),title:g(_),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,"default-checked":k.leftDefaultChecked,props:s.props,onCheckedChange:g(h)},{default:se(()=>[oe(k.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),I("div",{class:q(g(o).e("buttons"))},[$(g(Hn),{type:"primary",class:q([g(o).e("button"),g(o).is("with-texts",g(w))]),disabled:g(mi)(l.rightChecked),onClick:g(p)},{default:se(()=>[$(g(Je),null,{default:se(()=>[$(g(Yc))]),_:1}),g($s)(k.buttonTexts[0])?ce("v-if",!0):(S(),A("span",{key:0},Me(k.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),$(g(Hn),{type:"primary",class:q([g(o).e("button"),g(o).is("with-texts",g(w))]),disabled:g(mi)(l.leftChecked),onClick:g(m)},{default:se(()=>[g($s)(k.buttonTexts[1])?ce("v-if",!0):(S(),A("span",{key:0},Me(k.buttonTexts[1]),1)),$(g(Je),null,{default:se(()=>[$(g(Ga))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),$($L,{ref_key:"rightPanel",ref:v,data:g(d),"option-render":g(T),placeholder:g(x),filterable:k.filterable,format:k.format,"filter-method":k.filterMethod,title:g(C),"default-checked":k.rightDefaultChecked,props:s.props,onCheckedChange:g(f)},{default:se(()=>[oe(k.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var PEe=Xe(LEe,[["__file","transfer.vue"]]);const MEe=Ft(PEe),$p="$treeNodeId",EL=function(t,e){!e||e[$p]||Object.defineProperty(e,$p,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},bE=function(t,e){return t?e[t]:e[$p]},yT=(t,e,n)=>{const s=t.value.currentNode;n();const r=t.value.currentNode;s!==r&&e("current-change",r?r.data:null,r)},bT=t=>{let e=!0,n=!0,s=!0;for(let r=0,a=t.length;r<a;r++){const o=t[r];(o.checked!==!0||o.indeterminate)&&(e=!1,o.disabled||(s=!1)),(o.checked!==!1||o.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:s,half:!e&&!n}},a2=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:s}=bT(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):s?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||a2(r)},jb=function(t,e){const n=t.store.props,s=t.data||{},r=n[e];if(typeof r=="function")return r(s,t);if(typeof r=="string")return s[r];if(typeof r>"u"){const a=s[e];return a===void 0?"":a}};let FEe=0,_T=class P_{constructor(e){this.id=FEe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)fa(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const a=jb(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Array.isArray(this.data)||EL(this,this.data),!this.data)return;const s=e.defaultExpandedKeys,r=e.key;r&&s&&s.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||EL(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=jb(this,"children")||[];for(let s=0,r=n.length;s<r;s++)this.insertChild({data:n[s]})}get label(){return jb(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return jb(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(s=>s===e||n&&s.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,s){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof P_)){if(!s){const r=this.getChildren(!0);r.includes(e.data)||(typeof n>"u"||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=an(new P_(e)),e instanceof P_&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let s;n&&(s=this.childNodes.indexOf(n)),this.insertChild(e,s)}insertAfter(e,n){let s;n&&(s=this.childNodes.indexOf(n),s!==-1&&(s+=1)),this.insertChild(e,s)}removeChild(e){const n=this.getChildren()||[],s=n.indexOf(e.data);s>-1&&n.splice(s,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let s=0;s<this.childNodes.length;s++)if(this.childNodes[s].data===e){n=this.childNodes[s];break}n&&this.removeChild(n)}expand(e,n){const s=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||a2(this),s())}):s()}doCreateChildren(e,n={}){e.forEach(s=>{this.insertChild(Object.assign({data:s},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,s,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:o,allWithoutDisable:i}=bT(this.childNodes);!this.isLeaf&&!o&&i&&(this.checked=!1,e=!1);const l=()=>{if(n){const u=this.childNodes;for(let h=0,f=u.length;h<f;h++){const p=u[h];r=r||e!==!1;const m=p.disabled?p.checked:r;p.setChecked(m,n,!0,r)}const{half:c,all:d}=bT(u);d||(this.checked=d,this.indeterminate=c)}};if(this.shouldLoadData()){this.loadData(()=>{l(),a2(this)},{checked:e!==!1});return}else l()}const a=this.parent;!a||a.level===0||s||a2(a)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const s=this.store.props;let r="children";return s&&(r=s.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(a=>a.data),s={},r=[];e.forEach((a,o)=>{const i=a[$p];!!i&&n.findIndex(u=>u[$p]===i)>=0?s[i]={index:o,data:a}:r.push({index:o,data:a})}),this.store.lazy||n.forEach(a=>{s[a[$p]]||this.removeChildByData(a)}),r.forEach(({index:a,data:o})=>{this.insertChild({data:o},a)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const s=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},r=()=>{this.loading=!1};this.store.load(this,s,r)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const s=n.shift();n.unshift(...s.childNodes),e(s)}}reInitChecked(){this.store.checkStrictly||a2(this)}};class BEe{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)fa(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new _T({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,s=this.lazy,r=function(a){const o=a.root?a.root.childNodes:a.childNodes;if(o.forEach(i=>{i.visible=n.call(i,e,i.data,i),r(i)}),!a.visible&&o.length){let i=!0;i=!o.some(l=>l.visible),a.root?a.root.visible=i===!1:a.visible=i===!1}e&&a.visible&&!a.isLeaf&&(!s||a.loaded)&&a.expand()};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof _T)return e;const n=Vn(e)?bE(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const s=this.getNode(n);s.parent.insertBefore({data:e},s)}insertAfter(e,n){const s=this.getNode(n);s.parent.insertAfter({data:e},s)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const s=Ah(n)?this.root:this.getNode(n);s&&s.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(s=>{const r=n[s];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(s=>{this.deregisterNode(s)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const s=[],r=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(i=>{(i.checked||n&&i.indeterminate)&&(!e||e&&i.isLeaf)&&s.push(i.data),r(i)})};return r(this),s}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),n(a)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const s in n)fa(n,s)&&e.push(n[s]);return e}updateChildren(e,n){const s=this.nodesMap[e];if(!s)return;const r=s.childNodes;for(let a=r.length-1;a>=0;a--){const o=r[a];this.remove(o.data)}for(let a=0,o=n.length;a<o;a++){const i=n[a];this.append(i,s.data)}}_setCheckedKeys(e,n=!1,s){const r=this._getAllNodes().sort((l,u)=>l.level-u.level),a=Object.create(null),o=Object.keys(s);r.forEach(l=>l.setChecked(!1,!1));const i=l=>{l.childNodes.forEach(u=>{var c;a[u.data[e]]=!0,(c=u.childNodes)!=null&&c.length&&i(u)})};for(let l=0,u=r.length;l<u;l++){const c=r[l],d=c.data[e].toString();if(!o.includes(d)){c.checked&&!a[d]&&c.setChecked(!1,!1);continue}if(c.childNodes.length&&i(c),c.isLeaf||this.checkStrictly){c.setChecked(!0,!1);continue}if(c.setChecked(!0,!0),n){c.setChecked(!1,!1);const f=function(p){p.childNodes.forEach(y=>{y.isLeaf||y.setChecked(!1,!1),f(y)})};f(c)}}}setCheckedNodes(e,n=!1){const s=this.key,r={};e.forEach(a=>{r[(a||{})[s]]=!0}),this._setCheckedKeys(s,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const s=this.key,r={};e.forEach(a=>{r[a]=!0}),this._setCheckedKeys(s,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const s=this.getNode(n);s&&s.expand(null,this.autoExpandParent)})}setChecked(e,n,s){const r=this.getNode(e);r&&r.setChecked(!!n,s)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const s=e[this.key],r=this.nodesMap[s];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const s=this.getNode(e);s&&(this.setCurrentNode(s),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const zEe=Z({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Fe("tree"),n=Le("NodeInstance"),s=Le("RootTree");return()=>{const r=t.node,{data:a,store:o}=r;return t.renderContent?t.renderContent(pt,{_self:n,node:r,data:a,store:o}):oe(s.ctx.slots,"default",{node:r,data:a},()=>[pt("span",{class:e.be("node","label")},[r.label])])}}});var VEe=Xe(zEe,[["__file","tree-node-content.vue"]]);function aj(t){const e=Le("TreeNodeMap",null),n={treeNodeExpand:s=>{t.node!==s&&t.node.collapse()},children:[]};return e&&e.children.push(n),At("TreeNodeMap",n),{broadcastExpanded:s=>{if(t.accordion)for(const r of n.children)r.treeNodeExpand(s)}}}const oj=Symbol("dragEvents");function HEe({props:t,ctx:e,el$:n,dropIndicator$:s,store:r}){const a=Fe("tree"),o=B({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return At(oj,{treeNodeDragStart:({event:c,treeNode:d})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(d.node))return c.preventDefault(),!1;c.dataTransfer.effectAllowed="move";try{c.dataTransfer.setData("text/plain","")}catch{}o.value.draggingNode=d,e.emit("node-drag-start",d.node,c)},treeNodeDragOver:({event:c,treeNode:d})=>{const h=d,f=o.value.dropNode;f&&f.node.id!==h.node.id&&ka(f.$el,a.is("drop-inner"));const p=o.value.draggingNode;if(!p||!h)return;let m=!0,y=!0,v=!0,b=!0;typeof t.allowDrop=="function"&&(m=t.allowDrop(p.node,h.node,"prev"),b=y=t.allowDrop(p.node,h.node,"inner"),v=t.allowDrop(p.node,h.node,"next")),c.dataTransfer.dropEffect=y||m||v?"move":"none",(m||y||v)&&(f==null?void 0:f.node.id)!==h.node.id&&(f&&e.emit("node-drag-leave",p.node,f.node,c),e.emit("node-drag-enter",p.node,h.node,c)),m||y||v?o.value.dropNode=h:o.value.dropNode=null,h.node.nextSibling===p.node&&(v=!1),h.node.previousSibling===p.node&&(m=!1),h.node.contains(p.node,!1)&&(y=!1),(p.node===h.node||p.node.contains(h.node))&&(m=!1,y=!1,v=!1);const w=h.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),_=n.value.getBoundingClientRect();let C;const x=m?y?.25:v?.45:1:-1,T=v?y?.75:m?.55:0:1;let k=-9999;const N=c.clientY-w.top;N<w.height*x?C="before":N>w.height*T?C="after":y?C="inner":C="none";const O=h.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),L=s.value;C==="before"?k=O.top-_.top:C==="after"&&(k=O.bottom-_.top),L.style.top=`${k}px`,L.style.left=`${O.right-_.left}px`,C==="inner"?yi(h.$el,a.is("drop-inner")):ka(h.$el,a.is("drop-inner")),o.value.showDropIndicator=C==="before"||C==="after",o.value.allowDrop=o.value.showDropIndicator||b,o.value.dropType=C,e.emit("node-drag-over",p.node,h.node,c)},treeNodeDragEnd:c=>{const{draggingNode:d,dropType:h,dropNode:f}=o.value;if(c.preventDefault(),c.dataTransfer.dropEffect="move",d&&f){const p={data:d.node.data};h!=="none"&&d.node.remove(),h==="before"?f.node.parent.insertBefore(p,f.node):h==="after"?f.node.parent.insertAfter(p,f.node):h==="inner"&&f.node.insertChild(p),h!=="none"&&(r.value.registerNode(p),r.value.key&&d.node.eachNode(m=>{var y;(y=r.value.nodesMap[m.data[r.value.key]])==null||y.setChecked(m.checked,!r.value.checkStrictly)})),ka(f.$el,a.is("drop-inner")),e.emit("node-drag-end",d.node,f.node,h,c),h!=="none"&&e.emit("node-drop",d.node,f.node,h,c)}d&&!f&&e.emit("node-drag-end",d.node,null,h,c),o.value.showDropIndicator=!1,o.value.draggingNode=null,o.value.dropNode=null,o.value.allowDrop=!0}}),{dragState:o}}const UEe=Z({name:"ElTreeNode",components:{ElCollapseTransition:cw,ElCheckbox:ha,NodeContent:VEe,ElIcon:Je,Loading:Xl},props:{node:{type:_T,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Fe("tree"),{broadcastExpanded:s}=aj(t),r=Le("RootTree"),a=B(!1),o=B(!1),i=B(null),l=B(null),u=B(null),c=Le(oj),d=Ht();At("NodeInstance",d),t.node.expanded&&(a.value=!0,o.value=!0);const h=r.props.props.children||"children";Ee(()=>{const N=t.node.data[h];return N&&[...N]},()=>{t.node.updateChildren()}),Ee(()=>t.node.indeterminate,N=>{m(t.node.checked,N)}),Ee(()=>t.node.checked,N=>{m(N,t.node.indeterminate)}),Ee(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Ee(()=>t.node.expanded,N=>{it(()=>a.value=N),N&&(o.value=!0)});const f=N=>bE(r.props.nodeKey,N.data),p=N=>{const O=t.props.class;if(!O)return{};let L;if(yn(O)){const{data:V}=N;L=O(V,N)}else L=O;return qt(L)?{[L]:!0}:L},m=(N,O)=>{(i.value!==N||l.value!==O)&&r.ctx.emit("check-change",t.node.data,N,O),i.value=N,l.value=O},y=N=>{yT(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&b(),r.props.checkOnClickNode&&!t.node.disabled&&w(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,d,N)},v=N=>{r.instance.vnode.props.onNodeContextmenu&&(N.stopPropagation(),N.preventDefault()),r.ctx.emit("node-contextmenu",N,t.node.data,t.node,d)},b=()=>{t.node.isLeaf||(a.value?(r.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,d)))},w=(N,O)=>{t.node.setChecked(O.target.checked,!r.props.checkStrictly),it(()=>{const L=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:L.getCheckedNodes(),checkedKeys:L.getCheckedKeys(),halfCheckedNodes:L.getHalfCheckedNodes(),halfCheckedKeys:L.getHalfCheckedKeys()})})};return{ns:n,node$:u,tree:r,expanded:a,childNodeRendered:o,oldChecked:i,oldIndeterminate:l,getNodeKey:f,getNodeClass:p,handleSelectChange:m,handleClick:y,handleContextMenu:v,handleExpandIconClick:b,handleCheckChange:w,handleChildNodeExpand:(N,O,L)=>{s(O),r.ctx.emit("node-expand",N,O,L)},handleDragStart:N=>{r.props.draggable&&c.treeNodeDragStart({event:N,treeNode:t})},handleDragOver:N=>{N.preventDefault(),r.props.draggable&&c.treeNodeDragOver({event:N,treeNode:{$el:u.value,node:t.node}})},handleDrop:N=>{N.preventDefault()},handleDragEnd:N=>{r.props.draggable&&c.treeNodeDragEnd(N)},CaretRight:TV}}});function WEe(t,e,n,s,r,a){const o=ht("el-icon"),i=ht("el-checkbox"),l=ht("loading"),u=ht("node-content"),c=ht("el-tree-node"),d=ht("el-collapse-transition");return zt((S(),A("div",{ref:"node$",class:q([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:xt(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:xt(t.handleDragStart,["stop"]),onDragover:xt(t.handleDragOver,["stop"]),onDragend:xt(t.handleDragEnd,["stop"]),onDrop:xt(t.handleDrop,["stop"])},[I("div",{class:q(t.ns.be("node","content")),style:yt({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(S(),be(o,{key:0,class:q([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:xt(t.handleExpandIconClick,["stop"])},{default:se(()=>[(S(),be(Gt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):ce("v-if",!0),t.showCheckbox?(S(),be(i,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:xt(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):ce("v-if",!0),t.node.loading?(S(),be(o,{key:2,class:q([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:se(()=>[$(l)]),_:1},8,["class"])):ce("v-if",!0),$(u,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),$(d,null,{default:se(()=>[!t.renderAfterExpand||t.childNodeRendered?zt((S(),A("div",{key:0,class:q(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(S(!0),A(He,null,Ut(t.node.childNodes,h=>(S(),be(c,{key:t.getNodeKey(h),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:h,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[gn,t.expanded]]):ce("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[gn,t.node.visible]])}var jEe=Xe(UEe,[["render",WEe],["__file","tree-node.vue"]]);function GEe({el$:t},e){const n=Fe("tree"),s=Jn([]),r=Jn([]);Et(()=>{o()}),gd(()=>{s.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Ee(r,i=>{i.forEach(l=>{l.setAttribute("tabindex","-1")})}),Fn(t,"keydown",i=>{const l=i.target;if(!l.className.includes(n.b("node")))return;const u=i.code;s.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const c=s.value.indexOf(l);let d;if([gt.up,gt.down].includes(u)){if(i.preventDefault(),u===gt.up){d=c===-1?0:c!==0?c-1:s.value.length-1;const f=d;for(;!e.value.getNode(s.value[d].dataset.key).canFocus;){if(d--,d===f){d=-1;break}d<0&&(d=s.value.length-1)}}else{d=c===-1?0:c<s.value.length-1?c+1:0;const f=d;for(;!e.value.getNode(s.value[d].dataset.key).canFocus;){if(d++,d===f){d=-1;break}d>=s.value.length&&(d=0)}}d!==-1&&s.value[d].focus()}[gt.left,gt.right].includes(u)&&(i.preventDefault(),l.click());const h=l.querySelector('[type="checkbox"]');[gt.enter,gt.space].includes(u)&&h&&(i.preventDefault(),h.click())});const o=()=>{var i;s.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const l=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(i=s.value[0])==null||i.setAttribute("tabindex","0")}}const qEe=Z({name:"ElTree",components:{ElTreeNode:jEe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Gn}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=fn(),s=Fe("tree"),r=Le(z0,null),a=B(new BEe({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));a.value.initialize();const o=B(a.value.root),i=B(null),l=B(null),u=B(null),{broadcastExpanded:c}=aj(t),{dragState:d}=HEe({props:t,ctx:e,el$:l,dropIndicator$:u,store:a});GEe({el$:l},a);const h=D(()=>{const{childNodes:G}=o.value,P=r?r.hasFilteredOptions!==0:!1;return(!G||G.length===0||G.every(({visible:j})=>!j))&&!P});Ee(()=>t.currentNodeKey,G=>{a.value.setCurrentNodeKey(G)}),Ee(()=>t.defaultCheckedKeys,G=>{a.value.setDefaultCheckedKey(G)}),Ee(()=>t.defaultExpandedKeys,G=>{a.value.setDefaultExpandedKeys(G)}),Ee(()=>t.data,G=>{a.value.setData(G)},{deep:!0}),Ee(()=>t.checkStrictly,G=>{a.value.checkStrictly=G});const f=G=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(G)},p=G=>bE(t.nodeKey,G.data),m=G=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const P=a.value.getNode(G);if(!P)return[];const j=[P.data];let J=P.parent;for(;J&&J!==o.value;)j.push(J.data),J=J.parent;return j.reverse()},y=(G,P)=>a.value.getCheckedNodes(G,P),v=G=>a.value.getCheckedKeys(G),b=()=>{const G=a.value.getCurrentNode();return G?G.data:null},w=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const G=b();return G?G[t.nodeKey]:null},_=(G,P)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(G,P)},C=(G,P)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(G,P)},x=(G,P,j)=>{a.value.setChecked(G,P,j)},T=()=>a.value.getHalfCheckedNodes(),k=()=>a.value.getHalfCheckedKeys(),N=(G,P=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");yT(a,e.emit,()=>{c(G),a.value.setUserCurrentNode(G,P)})},O=(G,P=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");yT(a,e.emit,()=>{c(),a.value.setCurrentNodeKey(G,P)})},L=G=>a.value.getNode(G),V=G=>{a.value.remove(G)},H=(G,P)=>{a.value.append(G,P)},K=(G,P)=>{a.value.insertBefore(G,P)},U=(G,P)=>{a.value.insertAfter(G,P)},R=(G,P,j)=>{c(P),e.emit("node-expand",G,P,j)},W=(G,P)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(G,P)};return At("RootTree",{ctx:e,props:t,store:a,root:o,currentNode:i,instance:Ht()}),At(Zl,void 0),{ns:s,store:a,root:o,currentNode:i,dragState:d,el$:l,dropIndicator$:u,isEmpty:h,filter:f,getNodeKey:p,getNodePath:m,getCheckedNodes:y,getCheckedKeys:v,getCurrentNode:b,getCurrentKey:w,setCheckedNodes:_,setCheckedKeys:C,setChecked:x,getHalfCheckedNodes:T,getHalfCheckedKeys:k,setCurrentNode:N,setCurrentKey:O,t:n,getNode:L,remove:V,append:H,insertBefore:K,insertAfter:U,handleNodeExpand:R,updateKeyChildren:W}}});function KEe(t,e,n,s,r,a){const o=ht("el-tree-node");return S(),A("div",{ref:"el$",class:q([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(S(!0),A(He,null,Ut(t.root.childNodes,i=>(S(),be(o,{key:t.getNodeKey(i),node:i,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(S(),A("div",{key:0,class:q(t.ns.e("empty-block"))},[oe(t.$slots,"empty",{},()=>{var i;return[I("span",{class:q(t.ns.e("empty-text"))},Me((i=t.emptyText)!=null?i:t.t("el.tree.emptyText")),3)]})],2)):ce("v-if",!0),zt(I("div",{ref:"dropIndicator$",class:q(t.ns.e("drop-indicator"))},null,2),[[gn,t.dragState.showDropIndicator]])],2)}var XEe=Xe(qEe,[["render",KEe],["__file","tree.vue"]]);const x3=Ft(XEe),YEe=(t,{attrs:e,emit:n},{select:s,tree:r,key:a})=>{const o=Fe("tree-select");return Ee(()=>t.data,()=>{t.filterable&&it(()=>{var l,u;(u=r.value)==null||u.filter((l=s.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...Qi(Jr(t),Object.keys(Mu.props)),...e,"onUpdate:modelValue":l=>n(Yt,l),valueKey:a,popperClass:D(()=>{const l=[o.e("popper")];return t.popperClass&&l.push(t.popperClass),l.join(" ")}),filterMethod:(l="")=>{var u;t.filterMethod?t.filterMethod(l):t.remoteMethod?t.remoteMethod(l):(u=r.value)==null||u.filter(l)}}},QEe=Z({extends:Xp,setup(t,e){const n=Xp.setup(t,e);delete n.selectOptionClick;const s=Ht().proxy;return it(()=>{n.select.states.cachedOptions.get(s.value)||n.select.onOptionCreate(s)}),Ee(()=>e.attrs.visible,r=>{n.states.visible=r},{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function wT(t){return t||t===0}function _E(t){return Array.isArray(t)&&t.length}function Lg(t){return Array.isArray(t)?t:wT(t)?[t]:[]}function M_(t,e,n,s,r){for(let a=0;a<t.length;a++){const o=t[a];if(e(o,a,t,r))return s?s(o,a,t,r):o;{const i=n(o);if(_E(i)){const l=M_(i,e,n,s,o);if(l)return l}}}}function xT(t,e,n,s){for(let r=0;r<t.length;r++){const a=t[r];e(a,r,t,s);const o=n(a);_E(o)&&xT(o,e,n,a)}}const ZEe=(t,{attrs:e,slots:n,emit:s},{select:r,tree:a,key:o})=>{Ee(()=>t.modelValue,()=>{t.showCheckbox&&it(()=>{const d=a.value;d&&!ja(d.getCheckedKeys(),Lg(t.modelValue))&&d.setCheckedKeys(Lg(t.modelValue))})},{immediate:!0,deep:!0});const i=D(()=>({value:o.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),l=(d,h)=>{var f;const p=i.value[d];return yn(p)?p(h,(f=a.value)==null?void 0:f.getNode(l("value",h))):h[p]},u=Lg(t.modelValue).map(d=>M_(t.data||[],h=>l("value",h)===d,h=>l("children",h),(h,f,p,m)=>m&&l("value",m))).filter(d=>wT(d)),c=D(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const d=[];return xT(t.data.concat(t.cacheData),h=>{const f=l("value",h);d.push({value:f,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),d});return{...Qi(Jr(t),Object.keys(x3.props)),...e,nodeKey:o,expandOnClickNode:D(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:D(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(u):u),renderContent:(d,{node:h,data:f,store:p})=>d(QEe,{value:l("value",f),label:l("label",f),disabled:l("disabled",f),visible:h.visible},t.renderContent?()=>t.renderContent(d,{node:h,data:f,store:p}):n.default?()=>n.default({node:h,data:f,store:p}):void 0),filterNodeMethod:(d,h,f)=>t.filterNodeMethod?t.filterNodeMethod(d,h,f):d?new RegExp(q$(d),"i").test(l("label",h)||""):!0,onNodeClick:(d,h,f)=>{var p,m,y,v;if((p=e.onNodeClick)==null||p.call(e,d,h,f),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||h.isLeaf)){if(!l("disabled",d)){const b=(m=r.value)==null?void 0:m.states.options.get(l("value",d));(y=r.value)==null||y.handleOptionSelect(b)}}else t.expandOnClickNode&&f.proxy.handleExpandIconClick();(v=r.value)==null||v.focus()}},onCheck:(d,h)=>{var f;if(!t.showCheckbox)return;const p=l("value",d),m={};xT([a.value.store.root],w=>m[w.key]=w,w=>w.childNodes);const y=h.checkedKeys,v=t.multiple?Lg(t.modelValue).filter(w=>!(w in m)&&!y.includes(w)):[],b=v.concat(y);if(t.checkStrictly)s(Yt,t.multiple?b:b.includes(p)?p:void 0);else if(t.multiple)s(Yt,v.concat(a.value.getCheckedKeys(!0)));else{const w=M_([d],x=>!_E(l("children",x))&&!l("disabled",x),x=>l("children",x)),_=w?l("value",w):void 0,C=wT(t.modelValue)&&!!M_([d],x=>l("value",x)===t.modelValue,x=>l("children",x));s(Yt,_===t.modelValue||C?void 0:_)}it(()=>{var w;const _=Lg(t.modelValue);a.value.setCheckedKeys(_),(w=e.onCheck)==null||w.call(e,d,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(f=r.value)==null||f.focus()},cacheOptions:c}};var JEe=Z({props:{data:{type:Array,default:()=>[]}},setup(t){const e=Le(z0);return Ee(()=>t.data,()=>{var n;t.data.forEach(r=>{e.states.cachedOptions.has(r.value)||e.states.cachedOptions.set(r.value,r)});const s=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];hn&&!Array.from(s).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const eIe=Z({name:"ElTreeSelect",inheritAttrs:!1,props:{...Mu.props,...x3.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:s}=e,r=B(),a=B(),o=D(()=>t.nodeKey||t.valueKey||"value"),i=YEe(t,e,{select:r,tree:a,key:o}),{cacheOptions:l,...u}=ZEe(t,e,{select:r,tree:a,key:o}),c=an({});return s(c),Et(()=>{Object.assign(c,{...Qi(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Qi(r.value,["focus","blur"])})}),()=>pt(Mu,an({...i,ref:d=>r.value=d}),{...n,default:()=>[pt(JEe,{data:l.value}),pt(x3,an({...u,ref:d=>a.value=d}))]})}});var tIe=Xe(eIe,[["__file","tree-select.vue"]]);const ij=Ft(tIe),wE=Symbol(),nIe={key:-1,level:-1,data:{}};var o2=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(o2||{}),CT=(t=>(t.ADD="add",t.DELETE="delete",t))(CT||{});const lj={type:Number,default:26},sIe=qe({data:{type:ve(Array),default:()=>hs([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:ve(Object),default:()=>hs({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:ve(Array),default:()=>hs([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:ve(Array),default:()=>hs([])},indent:{type:Number,default:16},itemSize:lj,icon:{type:Gn},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:ve([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:ve(Function)},perfMode:{type:Boolean,default:!0}}),rIe=qe({node:{type:ve(Object),default:()=>hs(nIe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:lj}),aIe=qe({node:{type:ve(Object),required:!0}}),uj="node-click",cj="node-expand",dj="node-collapse",hj="current-change",fj="check",pj="check-change",mj="node-contextmenu",oIe={[uj]:(t,e,n)=>t&&e&&n,[cj]:(t,e)=>t&&e,[dj]:(t,e)=>t&&e,[hj]:(t,e)=>t&&e,[fj]:(t,e)=>t&&e,[pj]:(t,e)=>t&&typeof e=="boolean",[mj]:(t,e,n)=>t&&e&&n},iIe={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function lIe(t,e){const n=B(new Set),s=B(new Set),{emit:r}=Ht();Ee([()=>e.value,()=>t.defaultCheckedKeys],()=>it(()=>{b(t.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:w,maxLevel:_}=e.value,C=n.value,x=new Set;for(let T=_-1;T>=1;--T){const k=w.get(T);k&&k.forEach(N=>{const O=N.children;if(O){let L=!0,V=!1;for(const H of O){const K=H.key;if(C.has(K))V=!0;else if(x.has(K)){L=!1,V=!0;break}else L=!1}L?C.add(N.key):V?(x.add(N.key),C.delete(N.key)):(C.delete(N.key),x.delete(N.key))}})}s.value=x},o=w=>n.value.has(w.key),i=w=>s.value.has(w.key),l=(w,_,C=!0)=>{const x=n.value,T=(k,N)=>{x[N?CT.ADD:CT.DELETE](k.key);const O=k.children;!t.checkStrictly&&O&&O.forEach(L=>{L.disabled||T(L,N)})};T(w,_),a(),C&&u(w,_)},u=(w,_)=>{const{checkedNodes:C,checkedKeys:x}=p(),{halfCheckedNodes:T,halfCheckedKeys:k}=m();r(fj,w.data,{checkedKeys:x,checkedNodes:C,halfCheckedKeys:k,halfCheckedNodes:T}),r(pj,w.data,_)};function c(w=!1){return p(w).checkedKeys}function d(w=!1){return p(w).checkedNodes}function h(){return m().halfCheckedKeys}function f(){return m().halfCheckedNodes}function p(w=!1){const _=[],C=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:x}=e.value;n.value.forEach(T=>{const k=x.get(T);k&&(!w||w&&k.isLeaf)&&(C.push(T),_.push(k.data))})}return{checkedKeys:C,checkedNodes:_}}function m(){const w=[],_=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:C}=e.value;s.value.forEach(x=>{const T=C.get(x);T&&(_.push(x),w.push(T.data))})}return{halfCheckedNodes:w,halfCheckedKeys:_}}function y(w){n.value.clear(),s.value.clear(),it(()=>{b(w)})}function v(w,_){if(e!=null&&e.value&&t.showCheckbox){const C=e.value.treeNodeMap.get(w);C&&l(C,_,!1)}}function b(w){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(t.showCheckbox&&_&&w)for(const C of w){const x=_.get(C);x&&!o(x)&&l(x,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:l,isChecked:o,isIndeterminate:i,getCheckedKeys:c,getCheckedNodes:d,getHalfCheckedKeys:h,getHalfCheckedNodes:f,setChecked:v,setCheckedKeys:y}}function uIe(t,e){const n=B(new Set([])),s=B(new Set([])),r=D(()=>yn(t.filterMethod));function a(i){var l;if(!r.value)return;const u=new Set,c=s.value,d=n.value,h=[],f=((l=e.value)==null?void 0:l.treeNodes)||[],p=t.filterMethod;d.clear();function m(y){y.forEach(v=>{h.push(v),p!=null&&p(i,v.data)?h.forEach(w=>{u.add(w.key)}):v.isLeaf&&d.add(v.key);const b=v.children;if(b&&m(b),!v.isLeaf){if(!u.has(v.key))d.add(v.key);else if(b){let w=!0;for(const _ of b)if(!d.has(_.key)){w=!1;break}w?c.add(v.key):c.delete(v.key)}}h.pop()})}return m(f),u}function o(i){return s.value.has(i.key)}return{hiddenExpandIconKeySet:s,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:o}}function cIe(t,e){const n=B(new Set(t.defaultExpandedKeys)),s=B(),r=Jn(),a=B();Ee(()=>t.currentNodeKey,re=>{s.value=re},{immediate:!0}),Ee(()=>t.data,re=>{ee(re)},{immediate:!0});const{isIndeterminate:o,isChecked:i,toggleCheckbox:l,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:f,setCheckedKeys:p}=lIe(t,r),{doFilter:m,hiddenNodeKeySet:y,isForceHiddenExpandIcon:v}=uIe(t,r),b=D(()=>{var re;return((re=t.props)==null?void 0:re.value)||o2.KEY}),w=D(()=>{var re;return((re=t.props)==null?void 0:re.children)||o2.CHILDREN}),_=D(()=>{var re;return((re=t.props)==null?void 0:re.disabled)||o2.DISABLED}),C=D(()=>{var re;return((re=t.props)==null?void 0:re.label)||o2.LABEL}),x=D(()=>{const re=n.value,we=y.value,Ae=[],Ue=r.value&&r.value.treeNodes||[];function at(){const ot=[];for(let Pe=Ue.length-1;Pe>=0;--Pe)ot.push(Ue[Pe]);for(;ot.length;){const Pe=ot.pop();if(Pe&&(we.has(Pe.key)||Ae.push(Pe),re.has(Pe.key))){const je=Pe.children;if(je){const dt=je.length;for(let Qe=dt-1;Qe>=0;--Qe)ot.push(je[Qe])}}}}return at(),Ae}),T=D(()=>x.value.length>0);function k(re){const we=new Map,Ae=new Map;let Ue=1;function at(Pe,je=1,dt=void 0){var Qe;const wt=[];for(const vt of Pe){const Ge=L(vt),fe={level:je,key:Ge,data:vt};fe.label=H(vt),fe.parent=dt;const _t=O(vt);fe.disabled=V(vt),fe.isLeaf=!_t||_t.length===0,_t&&_t.length&&(fe.children=at(_t,je+1,fe)),wt.push(fe),we.set(Ge,fe),Ae.has(je)||Ae.set(je,[]),(Qe=Ae.get(je))==null||Qe.push(fe)}return je>Ue&&(Ue=je),wt}const ot=at(re);return{treeNodeMap:we,levelTreeNodeMap:Ae,maxLevel:Ue,treeNodes:ot}}function N(re){const we=m(re);we&&(n.value=we)}function O(re){return re[w.value]}function L(re){return re?re[b.value]:""}function V(re){return re[_.value]}function H(re){return re[C.value]}function K(re){n.value.has(re.key)?j(re):P(re)}function U(re){n.value=new Set(re)}function R(re,we){e(uj,re.data,re,we),W(re),t.expandOnClickNode&&K(re),t.showCheckbox&&t.checkOnClickNode&&!re.disabled&&l(re,!i(re),!0)}function W(re){te(re)||(s.value=re.key,e(hj,re.data,re))}function G(re,we){l(re,we)}function P(re){const we=n.value;if(r.value&&t.accordion){const{treeNodeMap:Ae}=r.value;we.forEach(Ue=>{const at=Ae.get(Ue);re&&re.level===(at==null?void 0:at.level)&&we.delete(Ue)})}we.add(re.key),e(cj,re.data,re)}function j(re){n.value.delete(re.key),e(dj,re.data,re)}function J(re){return n.value.has(re.key)}function ne(re){return!!re.disabled}function te(re){const we=s.value;return we!==void 0&&we===re.key}function de(){var re,we;if(s.value)return(we=(re=r.value)==null?void 0:re.treeNodeMap.get(s.value))==null?void 0:we.data}function me(){return s.value}function _e(re){s.value=re}function ee(re){it(()=>r.value=k(re))}function he(re){var we;const Ae=Vn(re)?L(re):re;return(we=r.value)==null?void 0:we.treeNodeMap.get(Ae)}function le(re,we="auto"){const Ae=he(re);Ae&&a.value&&a.value.scrollToItem(x.value.indexOf(Ae),we)}function ue(re){var we;(we=a.value)==null||we.scrollTo(re)}return{tree:r,flattenTree:x,isNotEmpty:T,listRef:a,getKey:L,getChildren:O,toggleExpand:K,toggleCheckbox:l,isExpanded:J,isChecked:i,isIndeterminate:o,isDisabled:ne,isCurrent:te,isForceHiddenExpandIcon:v,handleNodeClick:R,handleNodeCheck:G,getCurrentNode:de,getCurrentKey:me,setCurrentKey:_e,getCheckedKeys:u,getCheckedNodes:c,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:f,setCheckedKeys:p,filter:N,setData:ee,getNode:he,expandNode:P,collapseNode:j,setExpandedKeys:U,scrollToNode:le,scrollTo:ue}}var dIe=Z({name:"ElTreeNodeContent",props:aIe,setup(t){const e=Le(wE),n=Fe("tree");return()=>{const s=t.node,{data:r}=s;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:s,data:r}):pt("span",{class:n.be("node","label")},[s==null?void 0:s.label])}}});const hIe=Z({name:"ElTreeNode"}),fIe=Z({...hIe,props:rIe,emits:iIe,setup(t,{emit:e}){const n=t,s=Le(wE),r=Fe("tree"),a=D(()=>{var d;return(d=s==null?void 0:s.props.indent)!=null?d:16}),o=D(()=>{var d;return(d=s==null?void 0:s.props.icon)!=null?d:TV}),i=d=>{e("click",n.node,d)},l=()=>{e("toggle",n.node)},u=d=>{e("check",n.node,d)},c=d=>{var h,f,p,m;(p=(f=(h=s==null?void 0:s.instance)==null?void 0:h.vnode)==null?void 0:f.props)!=null&&p.onNodeContextmenu&&(d.stopPropagation(),d.preventDefault()),s==null||s.ctx.emit(mj,d,(m=n.node)==null?void 0:m.data,n.node)};return(d,h)=>{var f,p,m;return S(),A("div",{ref:"node$",class:q([g(r).b("node"),g(r).is("expanded",d.expanded),g(r).is("current",d.current),g(r).is("focusable",!d.disabled),g(r).is("checked",!d.disabled&&d.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":d.expanded,"aria-disabled":d.disabled,"aria-checked":d.checked,"data-key":(f=d.node)==null?void 0:f.key,onClick:xt(i,["stop"]),onContextmenu:c},[I("div",{class:q(g(r).be("node","content")),style:yt({paddingLeft:`${(d.node.level-1)*g(a)}px`,height:d.itemSize+"px"})},[g(o)?(S(),be(g(Je),{key:0,class:q([g(r).is("leaf",!!((p=d.node)!=null&&p.isLeaf)),g(r).is("hidden",d.hiddenExpandIcon),{expanded:!((m=d.node)!=null&&m.isLeaf)&&d.expanded},g(r).be("node","expand-icon")]),onClick:xt(l,["stop"])},{default:se(()=>[(S(),be(Gt(g(o))))]),_:1},8,["class","onClick"])):ce("v-if",!0),d.showCheckbox?(S(),be(g(ha),{key:1,"model-value":d.checked,indeterminate:d.indeterminate,disabled:d.disabled,onChange:u,onClick:xt(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):ce("v-if",!0),$(g(dIe),{node:d.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick"])}}});var pIe=Xe(fIe,[["__file","tree-node.vue"]]);const mIe=Z({name:"ElTreeV2"}),gIe=Z({...mIe,props:sIe,emits:oIe,setup(t,{expose:e,emit:n}){const s=t,r=xr(),a=D(()=>s.itemSize);At(wE,{ctx:{emit:n,slots:r},props:s,instance:Ht()}),At(Zl,void 0);const{t:o}=fn(),i=Fe("tree"),{flattenTree:l,isNotEmpty:u,listRef:c,toggleExpand:d,isExpanded:h,isIndeterminate:f,isChecked:p,isDisabled:m,isCurrent:y,isForceHiddenExpandIcon:v,handleNodeClick:b,handleNodeCheck:w,toggleCheckbox:_,getCurrentNode:C,getCurrentKey:x,setCurrentKey:T,getCheckedKeys:k,getCheckedNodes:N,getHalfCheckedKeys:O,getHalfCheckedNodes:L,setChecked:V,setCheckedKeys:H,filter:K,setData:U,getNode:R,expandNode:W,collapseNode:G,setExpandedKeys:P,scrollToNode:j,scrollTo:J}=cIe(s,n);return e({toggleCheckbox:_,getCurrentNode:C,getCurrentKey:x,setCurrentKey:T,getCheckedKeys:k,getCheckedNodes:N,getHalfCheckedKeys:O,getHalfCheckedNodes:L,setChecked:V,setCheckedKeys:H,filter:K,setData:U,getNode:R,expandNode:W,collapseNode:G,setExpandedKeys:P,scrollToNode:j,scrollTo:J}),(ne,te)=>{var de;return S(),A("div",{class:q([g(i).b(),{[g(i).m("highlight-current")]:ne.highlightCurrent}]),role:"tree"},[g(u)?(S(),be(g(vW),{key:0,ref_key:"listRef",ref:c,"class-name":g(i).b("virtual-list"),data:g(l),total:g(l).length,height:ne.height,"item-size":g(a),"perf-mode":ne.perfMode},{default:se(({data:me,index:_e,style:ee})=>[(S(),be(pIe,{key:me[_e].key,style:yt(ee),node:me[_e],expanded:g(h)(me[_e]),"show-checkbox":ne.showCheckbox,checked:g(p)(me[_e]),indeterminate:g(f)(me[_e]),"item-size":g(a),disabled:g(m)(me[_e]),current:g(y)(me[_e]),"hidden-expand-icon":g(v)(me[_e]),onClick:g(b),onToggle:g(d),onCheck:g(w)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(S(),A("div",{key:1,class:q(g(i).e("empty-block"))},[I("span",{class:q(g(i).e("empty-text"))},Me((de=ne.emptyText)!=null?de:g(o)("el.tree.emptyText")),3)],2))],2)}}});var vIe=Xe(gIe,[["__file","tree.vue"]]);const yIe=Ft(vIe),gj=Symbol("uploadContextKey"),bIe="ElUpload";class _Ie extends Error{constructor(e,n,s,r){super(e),this.name="UploadAjaxError",this.status=n,this.method=s,this.url=r}}function IL(t,e,n){let s;return n.response?s=`${n.response.error||n.response}`:n.responseText?s=`${n.responseText}`:s=`fail to ${e.method} ${t} ${n.status}`,new _Ie(s,n.status,e.method,t)}function wIe(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const xIe=t=>{typeof XMLHttpRequest>"u"&&br(bIe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",a=>{const o=a;o.percent=a.total>0?a.loaded/a.total*100:0,t.onProgress(o)});const s=new FormData;if(t.data)for(const[a,o]of Object.entries(t.data))Mt(o)&&o.length?s.append(a,...o):s.append(a,o);s.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(IL(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(IL(n,t,e));t.onSuccess(wIe(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach((a,o)=>e.setRequestHeader(o,a));else for(const[a,o]of Object.entries(r))Lr(o)||e.setRequestHeader(a,String(o));return e.send(s),e},vj=["text","picture","picture-card"];let CIe=1;const ST=()=>Date.now()+CIe++,yj=qe({action:{type:String,default:"#"},headers:{type:ve(Object)},method:{type:String,default:"post"},data:{type:ve([Object,Function,Promise]),default:()=>hs({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:ve(Array),default:()=>hs([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:vj,default:"text"},httpRequest:{type:ve(Function),default:xIe},disabled:Boolean,limit:Number}),SIe=qe({...yj,beforeUpload:{type:ve(Function),default:xs},beforeRemove:{type:ve(Function)},onRemove:{type:ve(Function),default:xs},onChange:{type:ve(Function),default:xs},onPreview:{type:ve(Function),default:xs},onSuccess:{type:ve(Function),default:xs},onProgress:{type:ve(Function),default:xs},onError:{type:ve(Function),default:xs},onExceed:{type:ve(Function),default:xs},crossorigin:{type:ve(String)}}),TIe=qe({files:{type:ve(Array),default:()=>hs([])},disabled:{type:Boolean,default:!1},handlePreview:{type:ve(Function),default:xs},listType:{type:String,values:vj,default:"text"},crossorigin:{type:ve(String)}}),kIe={remove:t=>!!t},$Ie=Z({name:"ElUploadList"}),EIe=Z({...$Ie,props:TIe,emits:kIe,setup(t,{emit:e}){const n=t,{t:s}=fn(),r=Fe("upload"),a=Fe("icon"),o=Fe("list"),i=ao(),l=B(!1),u=D(()=>[r.b("list"),r.bm("list",n.listType),r.is("disabled",n.disabled)]),c=d=>{e("remove",d)};return(d,h)=>(S(),be(mz,{tag:"ul",class:q(g(u)),name:g(o).b()},{default:se(()=>[(S(!0),A(He,null,Ut(d.files,(f,p)=>(S(),A("li",{key:f.uid||f.name,class:q([g(r).be("list","item"),g(r).is(f.status),{focusing:l.value}]),tabindex:"0",onKeydown:Pn(m=>!g(i)&&c(f),["delete"]),onFocus:m=>l.value=!0,onBlur:m=>l.value=!1,onClick:m=>l.value=!1},[oe(d.$slots,"default",{file:f,index:p},()=>[d.listType==="picture"||f.status!=="uploading"&&d.listType==="picture-card"?(S(),A("img",{key:0,class:q(g(r).be("list","item-thumbnail")),src:f.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):ce("v-if",!0),f.status==="uploading"||d.listType!=="picture-card"?(S(),A("div",{key:1,class:q(g(r).be("list","item-info"))},[I("a",{class:q(g(r).be("list","item-name")),onClick:xt(m=>d.handlePreview(f),["prevent"])},[$(g(Je),{class:q(g(a).m("document"))},{default:se(()=>[$(g(gge))]),_:1},8,["class"]),I("span",{class:q(g(r).be("list","item-file-name")),title:f.name},Me(f.name),11,["title"])],10,["onClick"]),f.status==="uploading"?(S(),be(g(lW),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(f.percentage),style:yt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):ce("v-if",!0)],2)):ce("v-if",!0),I("label",{class:q(g(r).be("list","item-status-label"))},[d.listType==="text"?(S(),be(g(Je),{key:0,class:q([g(a).m("upload-success"),g(a).m("circle-check")])},{default:se(()=>[$(g(Q$))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(S(),be(g(Je),{key:1,class:q([g(a).m("upload-success"),g(a).m("check")])},{default:se(()=>[$(g(J1))]),_:1},8,["class"])):ce("v-if",!0)],2),g(i)?ce("v-if",!0):(S(),be(g(Je),{key:2,class:q(g(a).m("close")),onClick:m=>c(f)},{default:se(()=>[$(g(ol))]),_:2},1032,["class","onClick"])),ce(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),ce(" This is a bug which needs to be fixed "),ce(" TODO: Fix the incorrect navigation interaction "),g(i)?ce("v-if",!0):(S(),A("i",{key:3,class:q(g(a).m("close-tip"))},Me(g(s)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(S(),A("span",{key:4,class:q(g(r).be("list","item-actions"))},[I("span",{class:q(g(r).be("list","item-preview")),onClick:m=>d.handlePreview(f)},[$(g(Je),{class:q(g(a).m("zoom-in"))},{default:se(()=>[$(g(IV))]),_:1},8,["class"])],10,["onClick"]),g(i)?ce("v-if",!0):(S(),A("span",{key:0,class:q(g(r).be("list","item-delete")),onClick:m=>c(f)},[$(g(Je),{class:q(g(a).m("delete"))},{default:se(()=>[$(g(pge))]),_:1},8,["class"])],10,["onClick"]))],2)):ce("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),oe(d.$slots,"append")]),_:3},8,["class","name"]))}});var NL=Xe(EIe,[["__file","upload-list.vue"]]);const IIe=qe({disabled:{type:Boolean,default:!1}}),NIe={file:t=>Mt(t)},bj="ElUploadDrag",AIe=Z({name:bj}),DIe=Z({...AIe,props:IIe,emits:NIe,setup(t,{emit:e}){Le(gj)||br(bj,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=Fe("upload"),r=B(!1),a=ao(),o=l=>{if(a.value)return;r.value=!1,l.stopPropagation();const u=Array.from(l.dataTransfer.files);e("file",u)},i=()=>{a.value||(r.value=!0)};return(l,u)=>(S(),A("div",{class:q([g(s).b("dragger"),g(s).is("dragover",r.value)]),onDrop:xt(o,["prevent"]),onDragover:xt(i,["prevent"]),onDragleave:xt(c=>r.value=!1,["prevent"])},[oe(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var OIe=Xe(DIe,[["__file","upload-dragger.vue"]]);const RIe=qe({...yj,beforeUpload:{type:ve(Function),default:xs},onRemove:{type:ve(Function),default:xs},onStart:{type:ve(Function),default:xs},onSuccess:{type:ve(Function),default:xs},onProgress:{type:ve(Function),default:xs},onError:{type:ve(Function),default:xs},onExceed:{type:ve(Function),default:xs}}),LIe=Z({name:"ElUploadContent",inheritAttrs:!1}),PIe=Z({...LIe,props:RIe,setup(t,{expose:e}){const n=t,s=Fe("upload"),r=ao(),a=Jn({}),o=Jn(),i=m=>{if(m.length===0)return;const{autoUpload:y,limit:v,fileList:b,multiple:w,onStart:_,onExceed:C}=n;if(v&&b.length+m.length>v){C(m,b);return}w||(m=m.slice(0,1));for(const x of m){const T=x;T.uid=ST(),_(T),y&&l(T)}},l=async m=>{if(o.value.value="",!n.beforeUpload)return c(m);let y,v={};try{const w=n.data,_=n.beforeUpload(m);v=q7(n.data)?s3(n.data):n.data,y=await _,q7(n.data)&&ja(w,v)&&(v=s3(n.data))}catch{y=!1}if(y===!1){n.onRemove(m);return}let b=m;y instanceof Blob&&(y instanceof File?b=y:b=new File([y],m.name,{type:m.type})),c(Object.assign(b,{uid:m.uid}),v)},u=async(m,y)=>yn(m)?m(y):m,c=async(m,y)=>{const{headers:v,data:b,method:w,withCredentials:_,name:C,action:x,onProgress:T,onSuccess:k,onError:N,httpRequest:O}=n;try{y=await u(y??b,m)}catch{n.onRemove(m);return}const{uid:L}=m,V={headers:v||{},withCredentials:_,file:m,data:y,method:w,filename:C,action:x,onProgress:K=>{T(K,m)},onSuccess:K=>{k(K,m),delete a.value[L]},onError:K=>{N(K,m),delete a.value[L]}},H=O(V);a.value[L]=H,H instanceof Promise&&H.then(V.onSuccess,V.onError)},d=m=>{const y=m.target.files;y&&i(Array.from(y))},h=()=>{r.value||(o.value.value="",o.value.click())},f=()=>{h()};return e({abort:m=>{Hme(a.value).filter(m?([v])=>String(m.uid)===v:()=>!0).forEach(([v,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete a.value[v]})},upload:l}),(m,y)=>(S(),A("div",{class:q([g(s).b(),g(s).m(m.listType),g(s).is("drag",m.drag),g(s).is("disabled",g(r))]),tabindex:g(r)?"-1":"0",onClick:h,onKeydown:Pn(xt(f,["self"]),["enter","space"])},[m.drag?(S(),be(OIe,{key:0,disabled:g(r),onFile:i},{default:se(()=>[oe(m.$slots,"default")]),_:3},8,["disabled"])):oe(m.$slots,"default",{key:1}),I("input",{ref_key:"inputRef",ref:o,class:q(g(s).e("input")),name:m.name,disabled:g(r),multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:xt(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var AL=Xe(PIe,[["__file","upload-content.vue"]]);const DL="ElUpload",OL=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},MIe=(t,e)=>{const n=Pz(t,"fileList",void 0,{passive:!0}),s=f=>n.value.find(p=>p.uid===f.uid);function r(f){var p;(p=e.value)==null||p.abort(f)}function a(f=["ready","uploading","success","fail"]){n.value=n.value.filter(p=>!f.includes(p.status))}function o(f){n.value=n.value.filter(p=>p!==f)}const i=(f,p)=>{const m=s(p);m&&(console.error(f),m.status="fail",o(m),t.onError(f,m,n.value),t.onChange(m,n.value))},l=(f,p)=>{const m=s(p);m&&(t.onProgress(f,m,n.value),m.status="uploading",m.percentage=Math.round(f.percent))},u=(f,p)=>{const m=s(p);m&&(m.status="success",m.response=f,t.onSuccess(f,m,n.value),t.onChange(m,n.value))},c=f=>{Lr(f.uid)&&(f.uid=ST());const p={name:f.name,percentage:0,status:"ready",size:f.size,raw:f,uid:f.uid};if(t.listType==="picture-card"||t.listType==="picture")try{p.url=URL.createObjectURL(f)}catch(m){m.message,t.onError(m,p,n.value)}n.value=[...n.value,p],t.onChange(p,n.value)},d=async f=>{const p=f instanceof File?s(f):f;p||br(DL,"file to be removed not found");const m=y=>{r(y),o(y),t.onRemove(y,n.value),OL(y)};t.beforeRemove?await t.beforeRemove(p,n.value)!==!1&&m(p):m(p)};function h(){n.value.filter(({status:f})=>f==="ready").forEach(({raw:f})=>{var p;return f&&((p=e.value)==null?void 0:p.upload(f))})}return Ee(()=>t.listType,f=>{f!=="picture-card"&&f!=="picture"||(n.value=n.value.map(p=>{const{raw:m,url:y}=p;if(!y&&m)try{p.url=URL.createObjectURL(m)}catch(v){t.onError(v,p,n.value)}return p}))}),Ee(n,f=>{for(const p of f)p.uid||(p.uid=ST()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:a,handleError:i,handleProgress:l,handleStart:c,handleSuccess:u,handleRemove:d,submit:h,revokeFileObjectURL:OL}},FIe=Z({name:"ElUpload"}),BIe=Z({...FIe,props:SIe,setup(t,{expose:e}){const n=t,s=ao(),r=Jn(),{abort:a,submit:o,clearFiles:i,uploadFiles:l,handleStart:u,handleError:c,handleRemove:d,handleSuccess:h,handleProgress:f,revokeFileObjectURL:p}=MIe(n,r),m=D(()=>n.listType==="picture-card"),y=D(()=>({...n,fileList:l.value,onStart:u,onProgress:f,onSuccess:h,onError:c,onRemove:d}));return ts(()=>{l.value.forEach(p)}),At(gj,{accept:Nn(n,"accept")}),e({abort:a,submit:o,clearFiles:i,handleStart:u,handleRemove:d}),(v,b)=>(S(),A("div",null,[g(m)&&v.showFileList?(S(),be(NL,{key:0,disabled:g(s),"list-type":v.listType,files:g(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:g(d)},Ei({append:se(()=>[$(AL,Kt({ref_key:"uploadRef",ref:r},g(y)),{default:se(()=>[v.$slots.trigger?oe(v.$slots,"trigger",{key:0}):ce("v-if",!0),!v.$slots.trigger&&v.$slots.default?oe(v.$slots,"default",{key:1}):ce("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:se(({file:w,index:_})=>[oe(v.$slots,"file",{file:w,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ce("v-if",!0),!g(m)||g(m)&&!v.showFileList?(S(),be(AL,Kt({key:1,ref_key:"uploadRef",ref:r},g(y)),{default:se(()=>[v.$slots.trigger?oe(v.$slots,"trigger",{key:0}):ce("v-if",!0),!v.$slots.trigger&&v.$slots.default?oe(v.$slots,"default",{key:1}):ce("v-if",!0)]),_:3},16)):ce("v-if",!0),v.$slots.trigger?oe(v.$slots,"default",{key:2}):ce("v-if",!0),oe(v.$slots,"tip"),!g(m)&&v.showFileList?(S(),be(NL,{key:3,disabled:g(s),"list-type":v.listType,files:g(l),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:g(d)},Ei({_:2},[v.$slots.file?{name:"default",fn:se(({file:w,index:_})=>[oe(v.$slots,"file",{file:w,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):ce("v-if",!0)]))}});var zIe=Xe(BIe,[["__file","upload.vue"]]);const xE=Ft(zIe),VIe=qe({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:ve([String,Array]),default:"Element Plus"},font:{type:ve(Object)},gap:{type:ve(Array),default:()=>[100,100]},offset:{type:ve(Array)}});function HIe(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function UIe(t){return Object.keys(t).map(e=>`${HIe(e)}: ${t[e]};`).join(" ")}function WIe(){return window.devicePixelRatio||1}const jIe=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},_j=3;function hC(t,e,n=1){const s=document.createElement("canvas"),r=s.getContext("2d"),a=t*n,o=e*n;return s.setAttribute("width",`${a}px`),s.setAttribute("height",`${o}px`),r.save(),[r,s,a,o]}function GIe(){function t(e,n,s,r,a,o,i,l){const[u,c,d,h]=hC(r,a,s);if(e instanceof HTMLImageElement)u.drawImage(e,0,0,d,h);else{const{color:J,fontSize:ne,fontStyle:te,fontWeight:de,fontFamily:me,textAlign:_e,textBaseline:ee}=o,he=Number(ne)*s;u.font=`${te} normal ${de} ${he}px/${a}px ${me}`,u.fillStyle=J,u.textAlign=_e,u.textBaseline=ee;const le=Array.isArray(e)?e:[e];le==null||le.forEach((ue,re)=>{u.fillText(ue??"",d/2,re*(he+_j*s))})}const f=Math.PI/180*Number(n),p=Math.max(r,a),[m,y,v]=hC(p,p,s);m.translate(v/2,v/2),m.rotate(f),d>0&&h>0&&m.drawImage(c,-d/2,-h/2);function b(J,ne){const te=J*Math.cos(f)-ne*Math.sin(f),de=J*Math.sin(f)+ne*Math.cos(f);return[te,de]}let w=0,_=0,C=0,x=0;const T=d/2,k=h/2;[[0-T,0-k],[0+T,0-k],[0+T,0+k],[0-T,0+k]].forEach(([J,ne])=>{const[te,de]=b(J,ne);w=Math.min(w,te),_=Math.max(_,te),C=Math.min(C,de),x=Math.max(x,de)});const O=w+v/2,L=C+v/2,V=_-w,H=x-C,K=i*s,U=l*s,R=(V+K)*2,W=H+U,[G,P]=hC(R,W);function j(J=0,ne=0){G.drawImage(y,O,L,V,H,J,ne,V,H)}return j(),j(V+K,-H/2-U/2),j(V+K,+H/2+U/2),[P.toDataURL(),R/s,W/s]}return t}const qIe=Z({name:"ElWatermark"}),KIe=Z({...qIe,props:VIe,setup(t){const e=t,n={position:"relative"},s=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.color)!=null?L:"rgba(0,0,0,.15)"}),r=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.fontSize)!=null?L:16}),a=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.fontWeight)!=null?L:"normal"}),o=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.fontStyle)!=null?L:"normal"}),i=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.fontFamily)!=null?L:"sans-serif"}),l=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.textAlign)!=null?L:"center"}),u=D(()=>{var O,L;return(L=(O=e.font)==null?void 0:O.textBaseline)!=null?L:"hanging"}),c=D(()=>e.gap[0]),d=D(()=>e.gap[1]),h=D(()=>c.value/2),f=D(()=>d.value/2),p=D(()=>{var O,L;return(L=(O=e.offset)==null?void 0:O[0])!=null?L:h.value}),m=D(()=>{var O,L;return(L=(O=e.offset)==null?void 0:O[1])!=null?L:f.value}),y=()=>{const O={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let L=p.value-h.value,V=m.value-f.value;return L>0&&(O.left=`${L}px`,O.width=`calc(100% - ${L}px)`,L=0),V>0&&(O.top=`${V}px`,O.height=`calc(100% - ${V}px)`,V=0),O.backgroundPosition=`${L}px ${V}px`,O},v=Jn(null),b=Jn(),w=B(!1),_=()=>{b.value&&(b.value.remove(),b.value=void 0)},C=(O,L)=>{var V;v.value&&b.value&&(w.value=!0,b.value.setAttribute("style",UIe({...y(),backgroundImage:`url('${O}')`,backgroundSize:`${Math.floor(L)}px`})),(V=v.value)==null||V.append(b.value),setTimeout(()=>{w.value=!1}))},x=O=>{let L=120,V=64;const H=e.image,K=e.content,U=e.width,R=e.height;if(!H&&O.measureText){O.font=`${Number(r.value)}px ${i.value}`;const W=Array.isArray(K)?K:[K],G=W.map(P=>{const j=O.measureText(P);return[j.width,j.fontBoundingBoxAscent!==void 0?j.fontBoundingBoxAscent+j.fontBoundingBoxDescent:j.actualBoundingBoxAscent+j.actualBoundingBoxDescent]});L=Math.ceil(Math.max(...G.map(P=>P[0]))),V=Math.ceil(Math.max(...G.map(P=>P[1])))*W.length+(W.length-1)*_j}return[U??L,R??V]},T=GIe(),k=()=>{const L=document.createElement("canvas").getContext("2d"),V=e.image,H=e.content,K=e.rotate;if(L){b.value||(b.value=document.createElement("div"));const U=WIe(),[R,W]=x(L),G=P=>{const[j,J]=T(P||"",K,U,R,W,{color:s.value,fontSize:r.value,fontStyle:o.value,fontWeight:a.value,fontFamily:i.value,textAlign:l.value,textBaseline:u.value},c.value,d.value);C(j,J)};if(V){const P=new Image;P.onload=()=>{G(P)},P.onerror=()=>{G(H)},P.crossOrigin="anonymous",P.referrerPolicy="no-referrer",P.src=V}else G(H)}};return Et(()=>{k()}),Ee(()=>e,()=>{k()},{deep:!0,flush:"post"}),ts(()=>{_()}),Lz(v,O=>{w.value||O.forEach(L=>{jIe(L,b.value)&&(_(),k())})},{attributes:!0,subtree:!0,childList:!0}),(O,L)=>(S(),A("div",{ref_key:"containerRef",ref:v,style:yt([n])},[oe(O.$slots,"default")],4))}});var XIe=Xe(KIe,[["__file","watermark.vue"]]);const YIe=Ft(XIe),QIe=qe({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:ve(Object)},targetAreaClickable:{type:Boolean,default:!0}}),ZIe=(t,e,n,s,r)=>{const a=B(null),o=()=>{let d;return qt(t.value)?d=document.querySelector(t.value):yn(t.value)?d=t.value():d=t.value,d},i=()=>{const d=o();if(!d||!e.value){a.value=null;return}!JIe(d)&&e.value&&d.scrollIntoView(r.value);const{left:h,top:f,width:p,height:m}=d.getBoundingClientRect();a.value={left:h,top:f,width:p,height:m,radius:0}};Et(()=>{Ee([e,t],()=>{i()},{immediate:!0}),window.addEventListener("resize",i)}),ts(()=>{window.removeEventListener("resize",i)});const l=d=>{var h;return(h=Mt(n.value.offset)?n.value.offset[d]:n.value.offset)!=null?h:6},u=D(()=>{var d;if(!a.value)return a.value;const h=l(0),f=l(1),p=((d=n.value)==null?void 0:d.radius)||2;return{left:a.value.left-h,top:a.value.top-f,width:a.value.width+h*2,height:a.value.height+f*2,radius:p}}),c=D(()=>{const d=o();return!s.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var h,f,p,m;return window.DOMRect.fromRect({width:((h=u.value)==null?void 0:h.width)||0,height:((f=u.value)==null?void 0:f.height)||0,x:((p=u.value)==null?void 0:p.left)||0,y:((m=u.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:u,triggerTarget:c}},ww=Symbol("ElTour");function JIe(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:s,right:r,bottom:a,left:o}=t.getBoundingClientRect();return s>=0&&o>=0&&r<=e&&a<=n}const eNe=(t,e,n,s,r,a,o,i)=>{const l=B(),u=B(),c=B({}),d={x:l,y:u,placement:s,strategy:r,middlewareData:c},h=D(()=>{const v=[tH(g(a)),z1e(),H1e(),tNe()];return g(i)&&g(n)&&v.push(eH({element:g(n)})),v}),f=async()=>{if(!hn)return;const v=g(t),b=g(e);if(!v||!b)return;const w=await uH(v,b,{placement:g(s),strategy:g(r),middleware:g(h)});Bp(d).forEach(_=>{d[_].value=w[_]})},p=D(()=>{if(!g(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:g(o)};const{overflow:v}=g(c);return{position:g(r),zIndex:g(o),top:g(u)!=null?`${g(u)}px`:"",left:g(l)!=null?`${g(l)}px`:"",maxWidth:v!=null&&v.maxWidth?`${v==null?void 0:v.maxWidth}px`:""}}),m=D(()=>{if(!g(i))return{};const{arrow:v}=g(c);return{left:(v==null?void 0:v.x)!=null?`${v==null?void 0:v.x}px`:"",top:(v==null?void 0:v.y)!=null?`${v==null?void 0:v.y}px`:""}});let y;return Et(()=>{const v=g(t),b=g(e);v&&b&&(y=ove(v,b,f)),sr(()=>{f()})}),ts(()=>{y&&y()}),{update:f,contentStyle:p,arrowStyle:m}},tNe=()=>({name:"overflow",async fn(t){const e=await b5(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),nNe=Z({name:"ElTourMask",inheritAttrs:!1}),sNe=Z({...nNe,props:QIe,setup(t){const e=t,{ns:n}=Le(ww),s=D(()=>{var i,l;return(l=(i=e.pos)==null?void 0:i.radius)!=null?l:2}),r=D(()=>{const i=s.value,l=`a${i},${i} 0 0 1`;return{topRight:`${l} ${i},${i}`,bottomRight:`${l} ${-i},${i}`,bottomLeft:`${l} ${-i},${-i}`,topLeft:`${l} ${i},${-i}`}}),a=D(()=>{const i=window.innerWidth,l=window.innerHeight,u=r.value,c=`M${i},0 L0,0 L0,${l} L${i},${l} L${i},0 Z`,d=s.value;return e.pos?`${c} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${u.topRight} v${e.pos.height-d*2} ${u.bottomRight} h${-e.pos.width+d*2} ${u.bottomLeft} v${-e.pos.height+d*2} ${u.topLeft} z`:c}),o=D(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return o5(Nn(e,"visible"),{ns:n}),(i,l)=>i.visible?(S(),A("div",Kt({key:0,class:g(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:i.zIndex,pointerEvents:i.pos&&i.targetAreaClickable?"none":"auto"}},i.$attrs),[(S(),A("svg",{style:{width:"100%",height:"100%"}},[I("path",{class:q(g(n).e("hollow")),style:yt(g(o)),d:g(a)},null,14,["d"])]))],16)):ce("v-if",!0)}});var rNe=Xe(sNe,[["__file","mask.vue"]]);const aNe=["absolute","fixed"],oNe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],CE=qe({placement:{type:ve(String),values:oNe,default:"bottom"},reference:{type:ve(Object),default:null},strategy:{type:ve(String),values:aNe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),iNe={close:()=>!0},lNe=Z({name:"ElTourContent"}),uNe=Z({...lNe,props:CE,emits:iNe,setup(t,{emit:e}){const n=t,s=B(n.placement),r=B(n.strategy),a=B(null),o=B(null);Ee(()=>n.placement,()=>{s.value=n.placement});const{contentStyle:i,arrowStyle:l}=eNe(Nn(n,"reference"),a,o,s,r,Nn(n,"offset"),Nn(n,"zIndex"),Nn(n,"showArrow")),u=D(()=>s.value.split("-")[0]),{ns:c}=Le(ww),d=()=>{e("close")},h=f=>{f.detail.focusReason==="pointer"&&f.preventDefault()};return(f,p)=>(S(),A("div",{ref_key:"contentRef",ref:a,style:yt(g(i)),class:q(g(c).e("content")),"data-side":g(u),tabindex:"-1"},[$(g(iv),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:d,onFocusoutPrevented:h},{default:se(()=>[oe(f.$slots,"default")]),_:3},8,["focus-trap-el"]),f.showArrow?(S(),A("span",{key:0,ref_key:"arrowRef",ref:o,style:yt(g(l)),class:q(g(c).e("arrow"))},null,6)):ce("v-if",!0)],14,["data-side"]))}});var cNe=Xe(uNe,[["__file","content.vue"]]),dNe=Z({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let s=0;return()=>{var r,a;const o=(r=e.default)==null?void 0:r.call(e),i=[];let l=0;function u(c){Mt(c)&&c.forEach(d=>{var h;((h=(d==null?void 0:d.type)||{})==null?void 0:h.name)==="ElTourStep"&&(i.push(d),l+=1)})}return o.length&&u(zc((a=o[0])==null?void 0:a.children)),s!==l&&(s=l,n("update-total",l)),i.length?i[t.current]:null}}});const hNe=qe({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Gn},placement:CE.placement,contentStyle:{type:ve([Object])},mask:{type:ve([Boolean,Object]),default:!0},gap:{type:ve(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:ve([Boolean,Object]),default:()=>({block:"center"})},type:{type:ve(String)},appendTo:{type:ve([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),fNe={[Yt]:t=>Ms(t),"update:current":t=>Tt(t),close:t=>Tt(t),finish:()=>!0,change:t=>Tt(t)},pNe=Z({name:"ElTour"}),mNe=Z({...pNe,props:hNe,emits:fNe,setup(t,{emit:e}){const n=t,s=Fe("tour"),r=B(0),a=B(),o=Pz(n,"current",e,{passive:!0}),i=D(()=>{var N;return(N=a.value)==null?void 0:N.target}),l=D(()=>[s.b(),y.value==="primary"?s.m("primary"):""]),u=D(()=>{var N;return((N=a.value)==null?void 0:N.placement)||n.placement}),c=D(()=>{var N,O;return(O=(N=a.value)==null?void 0:N.contentStyle)!=null?O:n.contentStyle}),d=D(()=>{var N,O;return(O=(N=a.value)==null?void 0:N.mask)!=null?O:n.mask}),h=D(()=>!!d.value&&n.modelValue),f=D(()=>Ms(d.value)?void 0:d.value),p=D(()=>{var N,O;return!!i.value&&((O=(N=a.value)==null?void 0:N.showArrow)!=null?O:n.showArrow)}),m=D(()=>{var N,O;return(O=(N=a.value)==null?void 0:N.scrollIntoViewOptions)!=null?O:n.scrollIntoViewOptions}),y=D(()=>{var N,O;return(O=(N=a.value)==null?void 0:N.type)!=null?O:n.type}),{nextZIndex:v}=P0(),b=v(),w=D(()=>{var N;return(N=n.zIndex)!=null?N:b}),{mergedPosInfo:_,triggerTarget:C}=ZIe(i,Nn(n,"modelValue"),Nn(n,"gap"),d,m);Ee(()=>n.modelValue,N=>{N||(o.value=0)});const x=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",o.value))},T=N=>{r.value=N},k=xr();return At(ww,{currentStep:a,current:o,total:r,showClose:Nn(n,"showClose"),closeIcon:Nn(n,"closeIcon"),mergedType:y,ns:s,slots:k,updateModelValue(N){e("update:modelValue",N)},onClose(){e("close",o.value)},onFinish(){e("finish")},onChange(){e("change",o.value)}}),(N,O)=>(S(),A(He,null,[$(g(F0),{to:N.appendTo},{default:se(()=>{var L,V;return[I("div",Kt({class:g(l)},N.$attrs),[$(rNe,{visible:g(h),fill:(L=g(f))==null?void 0:L.color,style:yt((V=g(f))==null?void 0:V.style),pos:g(_),"z-index":g(w),"target-area-clickable":N.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),N.modelValue?(S(),be(cNe,{key:g(o),reference:g(C),placement:g(u),"show-arrow":g(p),"z-index":g(w),style:yt(g(c)),onClose:x},{default:se(()=>[$(g(dNe),{current:g(o),onUpdateTotal:T},{default:se(()=>[oe(N.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):ce("v-if",!0)],16)]}),_:3},8,["to"]),ce(" just for IDE "),ce("v-if",!0)],64))}});var gNe=Xe(mNe,[["__file","tour.vue"]]);const vNe=qe({target:{type:ve([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Gn},showArrow:{type:Boolean,default:void 0},placement:CE.placement,mask:{type:ve([Boolean,Object]),default:void 0},contentStyle:{type:ve([Object])},prevButtonProps:{type:ve(Object)},nextButtonProps:{type:ve(Object)},scrollIntoViewOptions:{type:ve([Boolean,Object]),default:void 0},type:{type:ve(String)}}),yNe={close:()=>!0},bNe=Z({name:"ElTourStep"}),_Ne=Z({...bNe,props:vNe,emits:yNe,setup(t,{emit:e}){const n=t,{Close:s}=e5,{t:r}=fn(),{currentStep:a,current:o,total:i,showClose:l,closeIcon:u,mergedType:c,ns:d,slots:h,updateModelValue:f,onClose:p,onFinish:m,onChange:y}=Le(ww);Ee(n,k=>{a.value=k},{immediate:!0});const v=D(()=>{var k;return(k=n.showClose)!=null?k:l.value}),b=D(()=>{var k,N;return(N=(k=n.closeIcon)!=null?k:u.value)!=null?N:s}),w=k=>{if(k)return Dme(k,["children","onClick"])},_=()=>{var k,N;o.value-=1,(k=n.prevButtonProps)!=null&&k.onClick&&((N=n.prevButtonProps)==null||N.onClick()),y()},C=()=>{var k;o.value>=i.value-1?x():o.value+=1,(k=n.nextButtonProps)!=null&&k.onClick&&n.nextButtonProps.onClick(),y()},x=()=>{T(),m()},T=()=>{f(!1),p(),e("close")};return(k,N)=>(S(),A(He,null,[g(v)?(S(),A("button",{key:0,"aria-label":"Close",class:q(g(d).e("closebtn")),type:"button",onClick:T},[$(g(Je),{class:q(g(d).e("close"))},{default:se(()=>[(S(),be(Gt(g(b))))]),_:1},8,["class"])],2)):ce("v-if",!0),I("header",{class:q([g(d).e("header"),{"show-close":g(l)}])},[oe(k.$slots,"header",{},()=>[I("span",{role:"heading",class:q(g(d).e("title"))},Me(k.title),3)])],2),I("div",{class:q(g(d).e("body"))},[oe(k.$slots,"default",{},()=>[I("span",null,Me(k.description),1)])],2),I("footer",{class:q(g(d).e("footer"))},[I("div",{class:q(g(d).b("indicators"))},[g(h).indicators?(S(),be(Gt(g(h).indicators),{key:0,current:g(o),total:g(i)},null,8,["current","total"])):(S(!0),A(He,{key:1},Ut(g(i),(O,L)=>(S(),A("span",{key:O,class:q([g(d).b("indicator"),L===g(o)?"is-active":""])},null,2))),128))],2),I("div",{class:q(g(d).b("buttons"))},[g(o)>0?(S(),be(g(Hn),Kt({key:0,size:"small",type:g(c)},w(k.prevButtonProps),{onClick:_}),{default:se(()=>{var O,L;return[ct(Me((L=(O=k.prevButtonProps)==null?void 0:O.children)!=null?L:g(r)("el.tour.previous")),1)]}),_:1},16,["type"])):ce("v-if",!0),g(o)<=g(i)-1?(S(),be(g(Hn),Kt({key:1,size:"small",type:g(c)==="primary"?"default":"primary"},w(k.nextButtonProps),{onClick:C}),{default:se(()=>{var O,L;return[ct(Me((L=(O=k.nextButtonProps)==null?void 0:O.children)!=null?L:g(o)===g(i)-1?g(r)("el.tour.finish"):g(r)("el.tour.next")),1)]}),_:1},16,["type"])):ce("v-if",!0)],2)],2)],64))}});var wj=Xe(_Ne,[["__file","step.vue"]]);const wNe=Ft(gNe,{TourStep:wj}),xNe=gs(wj),CNe=qe({container:{type:ve([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:ve(String),default:"default"},direction:{type:ve(String),default:"vertical"}}),SNe={change:t=>qt(t),click:(t,e)=>t instanceof MouseEvent&&(qt(e)||$s(e))},xj=Symbol("anchor"),TNe=Z({name:"ElAnchor"}),kNe=Z({...TNe,props:CNe,emits:SNe,setup(t,{expose:e,emit:n}){const s=t,r=B(""),a=B(null),o=B(null),i=B(),l={};let u=!1,c=0;const d=Fe("anchor"),h=D(()=>[d.b(),s.type==="underline"?d.m("underline"):"",d.m(s.direction)]),f=k=>{l[k.href]=k.el},p=k=>{delete l[k]},m=k=>{r.value!==k&&(r.value=k,n("change",k))};let y=null;const v=k=>{if(!i.value)return;const N=Ab(k);if(!N)return;y&&y(),u=!0;const O=HO(N,i.value),L=yS(N,O),V=O.scrollHeight-O.clientHeight,H=Math.min(L-s.offset,V);y=jme(i.value,c,H,s.duration,()=>{setTimeout(()=>{u=!1},20)})},b=k=>{k&&(m(k),v(k))},w=(k,N)=>{n("click",k,N),b(N)},_=u2e(()=>{i.value&&(c=UO(i.value));const k=C();u||$s(k)||m(k)}),C=()=>{if(!i.value)return;const k=UO(i.value),N=[];for(const O of Object.keys(l)){const L=Ab(O);if(!L)continue;const V=HO(L,i.value),H=yS(L,V);N.push({top:H-s.offset-s.bound,href:O})}N.sort((O,L)=>O.top-L.top);for(let O=0;O<N.length;O++){const L=N[O],V=N[O+1];if(O===0&&k===0)return"";if(L.top<=k&&(!V||V.top>k))return L.href}},x=()=>{const k=Ab(s.container);!k||q4(k)?i.value=window:i.value=k};Fn(i,"scroll",_);const T=D(()=>{if(!a.value||!o.value||!r.value)return{};const k=l[r.value];if(!k)return{};const N=a.value.getBoundingClientRect(),O=o.value.getBoundingClientRect(),L=k.getBoundingClientRect();return s.direction==="horizontal"?{left:`${L.left-N.left}px`,width:`${L.width}px`,opacity:1}:{top:`${L.top-N.top+(L.height-O.height)/2}px`,opacity:1}});return Et(()=>{x();const k=decodeURIComponent(window.location.hash);Ab(k)?b(k):_()}),Ee(()=>s.container,()=>{x()}),At(xj,{ns:d,direction:s.direction,currentAnchor:r,addLink:f,removeLink:p,handleClick:w}),e({scrollTo:b}),(k,N)=>(S(),A("div",{ref_key:"anchorRef",ref:a,class:q(g(h))},[k.marker?(S(),A("div",{key:0,ref_key:"markerRef",ref:o,class:q(g(d).e("marker")),style:yt(g(T))},null,6)):ce("v-if",!0),I("div",{class:q(g(d).e("list"))},[oe(k.$slots,"default")],2)],2))}});var $Ne=Xe(kNe,[["__file","anchor.vue"]]);const ENe=qe({title:String,href:String}),INe=Z({name:"ElAnchorLink"}),NNe=Z({...INe,props:ENe,setup(t){const e=t,n=B(null),{ns:s,direction:r,currentAnchor:a,addLink:o,removeLink:i,handleClick:l}=Le(xj),u=D(()=>[s.e("link"),s.is("active",a.value===e.href)]),c=d=>{l(d,e.href)};return Ee(()=>e.href,(d,h)=>{it(()=>{h&&i(h),d&&o({href:d,el:n.value})})}),Et(()=>{const{href:d}=e;d&&o({href:d,el:n.value})}),ts(()=>{const{href:d}=e;d&&i(d)}),(d,h)=>(S(),A("div",{class:q(g(s).e("item"))},[I("a",{ref_key:"linkRef",ref:n,class:q(g(u)),href:d.href,onClick:c},[oe(d.$slots,"default",{},()=>[ct(Me(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&g(r)==="vertical"?(S(),A("div",{key:0,class:q(g(s).e("list"))},[oe(d.$slots,"sub-link")],2)):ce("v-if",!0)],2))}});var Cj=Xe(NNe,[["__file","anchor-link.vue"]]);const ANe=Ft($Ne,{AnchorLink:Cj}),DNe=gs(Cj),ONe=qe({options:{type:ve(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:_r,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...sa(["ariaLabel"])}),RNe={[Yt]:t=>qt(t)||Tt(t)||Ms(t),[ns]:t=>qt(t)||Tt(t)||Ms(t)},LNe=Z({name:"ElSegmented"}),PNe=Z({...LNe,props:ONe,emits:RNe,setup(t,{emit:e}){const n=t,s=Fe("segmented"),r=pa(),a=or(),o=ao(),{formItem:i}=Na(),{inputId:l,isLabeledByFormItem:u}=ml(n,{formItemContext:i}),c=B(null),d=Vce(),h=an({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),f=N=>{const O=p(N);e(Yt,O),e(ns,O)},p=N=>Vn(N)?N.value:N,m=N=>Vn(N)?N.label:N,y=N=>!!(o.value||Vn(N)&&N.disabled),v=N=>n.modelValue===p(N),b=N=>n.options.find(O=>p(O)===N),w=N=>[s.e("item"),s.is("selected",v(N)),s.is("disabled",y(N))],_=()=>{if(!c.value)return;const N=c.value.querySelector(".is-selected"),O=c.value.querySelector(".is-selected input");if(!N||!O){h.width=0,h.translateX=0,h.disabled=!1,h.focusVisible=!1;return}const L=N.getBoundingClientRect();h.isInit=!0,h.width=L.width,h.translateX=N.offsetLeft,h.disabled=y(b(n.modelValue));try{h.focusVisible=O.matches(":focus-visible")}catch{}},C=D(()=>[s.b(),s.m(a.value),s.is("block",n.block)]),x=D(()=>({width:`${h.width}px`,transform:`translateX(${h.translateX}px)`,display:h.isInit?"block":"none"})),T=D(()=>[s.e("item-selected"),s.is("disabled",h.disabled),s.is("focus-visible",h.focusVisible)]),k=D(()=>n.name||r.value);return ds(c,_),Ee(d,_),Ee(()=>n.modelValue,()=>{var N;_(),n.validateEvent&&((N=i==null?void 0:i.validate)==null||N.call(i,"change").catch(O=>void 0))},{flush:"post"}),(N,O)=>(S(),A("div",{id:g(l),ref_key:"segmentedRef",ref:c,class:q(g(C)),role:"radiogroup","aria-label":g(u)?void 0:N.ariaLabel||"segmented","aria-labelledby":g(u)?g(i).labelId:void 0},[I("div",{class:q(g(s).e("group"))},[I("div",{style:yt(g(x)),class:q(g(T))},null,6),(S(!0),A(He,null,Ut(N.options,(L,V)=>(S(),A("label",{key:V,class:q(w(L))},[I("input",{class:q(g(s).e("item-input")),type:"radio",name:g(k),disabled:y(L),checked:v(L),onChange:H=>f(L)},null,42,["name","disabled","checked","onChange"]),I("div",{class:q(g(s).e("item-label"))},[oe(N.$slots,"default",{item:L},()=>[ct(Me(m(L)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"]))}});var MNe=Xe(PNe,[["__file","segmented.vue"]]);const FNe=Ft(MNe),BNe=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},zNe=(t,e,n)=>{const{selectionEnd:s}=t;if(s===null)return;const r=t.value,a=_a(e);let o=-1,i;for(let l=s-1;l>=0;--l){const u=r[l];if(u===n||u===`
`||u==="\r"){o=l;continue}if(a.includes(u)){const c=o===-1?s:o;i={pattern:r.slice(l+1,c),start:l+1,end:c,prefix:u,prefixIndex:l,splitIndex:o,selectionEnd:s};break}}return i},VNe=(t,e={debug:!1,useSelectionEnd:!1})=>{const n=t.selectionStart!==null?t.selectionStart:0,s=t.selectionEnd!==null?t.selectionEnd:0,r=e.useSelectionEnd?s:n,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const h=document.querySelector("#input-textarea-caret-position-mirror-div");h!=null&&h.parentNode&&h.parentNode.removeChild(h)}const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);const i=o.style,l=window.getComputedStyle(t),u=t.nodeName==="INPUT";i.whiteSpace=u?"nowrap":"pre-wrap",u||(i.wordWrap="break-word"),i.position="absolute",e.debug||(i.visibility="hidden"),a.forEach(h=>{if(u&&h==="lineHeight")if(l.boxSizing==="border-box"){const f=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),m=p+Number.parseInt(l.lineHeight);f>m?i.lineHeight=`${f-p}px`:f===m?i.lineHeight=l.lineHeight:i.lineHeight="0"}else i.lineHeight=l.height;else i[h]=l[h]}),N$()?t.scrollHeight>Number.parseInt(l.height)&&(i.overflowY="scroll"):i.overflow="hidden",o.textContent=t.value.slice(0,Math.max(0,r)),u&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g,""));const c=document.createElement("span");c.textContent=t.value.slice(Math.max(0,r))||".",c.style.position="relative",c.style.left=`${-t.scrollLeft}px`,c.style.top=`${-t.scrollTop}px`,o.appendChild(c);const d={top:c.offsetTop+Number.parseInt(l.borderTopWidth),left:c.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?c.style.backgroundColor="#aaa":document.body.removeChild(o),d.left>=t.clientWidth&&(d.left=t.clientWidth),d},HNe=qe({...k5,options:{type:ve(Array),default:()=>[]},prefix:{type:ve([String,Array]),default:"@",validator:t=>qt(t)?t.length===1:t.every(e=>qt(e)&&e.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:ve([Boolean,Function]),default:()=>BNe,validator:t=>t===!1?!0:yn(t)},placement:{type:ve(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:ve(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:ve(Object),default:()=>({})}}),UNe={[Yt]:t=>qt(t),search:(t,e)=>qt(t)&&qt(e),select:(t,e)=>qt(t.value)&&qt(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},WNe=qe({options:{type:ve(Array),default:()=>[]},loading:Boolean,disabled:Boolean}),jNe={select:t=>qt(t.value)},GNe=Z({name:"ElMentionDropdown"}),qNe=Z({...GNe,props:WNe,emits:jNe,setup(t,{expose:e,emit:n}){const s=t,r=Fe("mention"),{t:a}=fn(),o=B(-1),i=B(),l=B(),u=B(),c=(w,_)=>[r.be("dropdown","item"),r.is("hovering",o.value===_),r.is("disabled",w.disabled||s.disabled)],d=w=>{w.disabled||s.disabled||n("select",w)},h=w=>{o.value=w},f=D(()=>s.disabled||s.options.every(w=>w.disabled)),p=D(()=>s.options[o.value]),m=()=>{p.value&&n("select",p.value)},y=w=>{const{options:_}=s;if(_.length===0||f.value)return;w==="next"?(o.value++,o.value===_.length&&(o.value=0)):w==="prev"&&(o.value--,o.value<0&&(o.value=_.length-1));const C=_[o.value];if(C.disabled){y(w);return}it(()=>v(C))},v=w=>{var _,C,x,T;const{options:k}=s,N=k.findIndex(L=>L.value===w.value),O=(_=l.value)==null?void 0:_[N];if(O){const L=(x=(C=u.value)==null?void 0:C.querySelector)==null?void 0:x.call(C,`.${r.be("dropdown","wrap")}`);L&&X$(L,O)}(T=i.value)==null||T.handleScroll()};return Ee(()=>s.options,()=>{f.value||s.options.length===0?o.value=-1:o.value=0},{immediate:!0}),e({navigateOptions:y,selectHoverOption:m,hoverOption:p}),(w,_)=>(S(),A("div",{ref_key:"dropdownRef",ref:u,class:q(g(r).b("dropdown"))},[w.$slots.header?(S(),A("div",{key:0,class:q(g(r).be("dropdown","header"))},[oe(w.$slots,"header")],2)):ce("v-if",!0),zt($(g(vr),{ref_key:"scrollbarRef",ref:i,tag:"ul","wrap-class":g(r).be("dropdown","wrap"),"view-class":g(r).be("dropdown","list")},{default:se(()=>[(S(!0),A(He,null,Ut(w.options,(C,x)=>(S(),A("li",{ref_for:!0,ref_key:"optionRefs",ref:l,key:C.value,class:q(c(C,x)),onMouseenter:T=>h(x),onClick:xt(T=>d(C),["stop"])},[oe(w.$slots,"label",{item:C,index:x},()=>{var T;return[I("span",null,Me((T=C.label)!=null?T:C.value),1)]})],42,["onMouseenter","onClick"]))),128))]),_:3},8,["wrap-class","view-class"]),[[gn,w.options.length>0&&!w.loading]]),w.loading?(S(),A("div",{key:1,class:q(g(r).be("dropdown","loading"))},[oe(w.$slots,"loading",{},()=>[ct(Me(g(a)("el.mention.loading")),1)])],2)):ce("v-if",!0),w.$slots.footer?(S(),A("div",{key:2,class:q(g(r).be("dropdown","footer"))},[oe(w.$slots,"footer")],2)):ce("v-if",!0)],2))}});var KNe=Xe(qNe,[["__file","mention-dropdown.vue"]]);const XNe=Z({name:"ElMention"}),YNe=Z({...XNe,props:HNe,emits:UNe,setup(t,{expose:e,emit:n}){const s=t,r=D(()=>Qi(s,Object.keys(k5))),a=Fe("mention"),o=B(),i=B(),l=B(),u=B(!1),c=B(),d=B(),h=D(()=>s.showArrow?s.placement:`${s.placement}-start`),f=D(()=>s.showArrow?["bottom","top"]:["bottom-start","top-start"]),p=D(()=>{const{filterOption:k,options:N}=s;return!d.value||!k?N:N.filter(O=>k(d.value.pattern,O))}),m=k=>{n("update:modelValue",k),C()},y=k=>{var N,O,L,V;if("key"in k&&!((N=o.value)!=null&&N.isComposing)){if(["ArrowLeft","ArrowRight"].includes(k.key))C();else if(["ArrowUp","ArrowDown"].includes(k.key)){if(!u.value)return;k.preventDefault();const H=k.key==="ArrowUp"?"prev":"next";(O=l.value)==null||O.navigateOptions(H)}else if(["Enter"].includes(k.key)){if(!u.value)return;k.preventDefault(),(L=l.value)!=null&&L.hoverOption?(V=l.value)==null||V.selectHoverOption():u.value=!1}else if(["Backspace"].includes(k.key)&&s.whole&&d.value){const{splitIndex:H,selectionEnd:K,pattern:U,prefixIndex:R,prefix:W}=d.value,G=_();if(!G)return;const P=G.value,j=s.options.find(ne=>ne.value===U);if((yn(s.checkIsWhole)?s.checkIsWhole(U,W):j)&&H!==-1&&H+1===K){k.preventDefault();const ne=P.slice(0,R)+P.slice(H+1);n(Yt,ne);const te=R;it(()=>{G.selectionStart=te,G.selectionEnd=te,T()})}}}},{wrapperRef:v}=av(o,{afterFocus(){C()},beforeBlur(k){var N;return(N=i.value)==null?void 0:N.isFocusInsideContent(k)},afterBlur(){u.value=!1}}),b=()=>{C()},w=k=>{if(!d.value)return;const N=_();if(!N)return;const O=N.value,{split:L}=s,V=O.slice(d.value.end),H=V.startsWith(L),K=`${k.value}${H?"":L}`,U=O.slice(0,d.value.start)+K+V;n(Yt,U),n("select",k,d.value.prefix);const R=d.value.start+K.length+(H?1:0);it(()=>{N.selectionStart=R,N.selectionEnd=R,N.focus(),T()})},_=()=>{var k,N;return s.type==="textarea"?(k=o.value)==null?void 0:k.textarea:(N=o.value)==null?void 0:N.input},C=()=>{setTimeout(()=>{x(),T(),it(()=>{var k;return(k=i.value)==null?void 0:k.updatePopper()})},0)},x=()=>{const k=_();if(!k)return;const N=VNe(k),O=k.getBoundingClientRect(),L=o.value.$el.getBoundingClientRect();c.value={position:"absolute",width:0,height:`${N.height}px`,left:`${N.left+O.left-L.left}px`,top:`${N.top+O.top-L.top}px`}},T=()=>{const k=_();if(document.activeElement!==k){u.value=!1;return}const{prefix:N,split:O}=s;if(d.value=zNe(k,N,O),d.value&&d.value.splitIndex===-1){u.value=!0,n("search",d.value.pattern,d.value.prefix);return}u.value=!1};return e({input:o,tooltip:i}),(k,N)=>(S(),A("div",{ref_key:"wrapperRef",ref:v,class:q(g(a).b())},[$(g(Gs),Kt(Kt(g(r),k.$attrs),{ref_key:"elInputRef",ref:o,"model-value":k.modelValue,onInput:m,onKeydown:y,onMousedown:b}),Ei({_:2},[Ut(k.$slots,(O,L)=>({name:L,fn:se(V=>[oe(k.$slots,L,vi(Eh(V)))])}))]),1040,["model-value"]),$(g(ys),{ref_key:"tooltipRef",ref:i,visible:u.value&&(!!g(p).length||k.loading),"popper-class":[g(a).e("popper"),k.popperClass],"popper-options":k.popperOptions,placement:g(h),"fallback-placements":g(f),effect:"light",pure:"",offset:k.offset,"show-arrow":k.showArrow},{default:se(()=>[I("div",{style:yt(c.value)},null,4)]),content:se(()=>{var O;return[$(KNe,{ref_key:"dropdownRef",ref:l,options:g(p),disabled:k.disabled,loading:k.loading,onSelect:w,onClick:xt((O=o.value)==null?void 0:O.focus,["stop"])},Ei({_:2},[Ut(k.$slots,(L,V)=>({name:V,fn:se(H=>[oe(k.$slots,V,vi(Eh(H)))])}))]),1032,["options","disabled","loading","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var QNe=Xe(YNe,[["__file","mention.vue"]]);const ZNe=Ft(QNe);var JNe=[kve,Mve,e_e,x5e,o_e,f_e,IH,T_e,k_e,Hn,PH,B3e,W3e,n4e,s4e,yU,vU,iwe,ha,v4e,iw,uw,Owe,Rwe,cw,A_,yve,M5,g6e,v6e,y6e,b6e,Tp,_xe,wxe,HU,d3,j5,h3,ih,f3,fw,T5,rw,Je,mw,pw,Gs,Kp,QU,Y5,gw,xCe,Q5,ECe,aW,oW,eE,kH,lW,lw,I4e,R5,VSe,GSe,P5,vr,Mu,Xp,JCe,ETe,PTe,MTe,cke,mke,$W,kke,Lke,Pke,dT,lE,Zi,w5e,P5e,M5e,Uc,H5e,b3e,ZW,Z5e,J5e,ys,SEe,MEe,x3,ij,yIe,xE,YIe,wNe,xNe,ANe,DNe,FNe,ZNe];const fi="ElInfiniteScroll",e9e=50,t9e=200,n9e=0,s9e={delay:{type:Number,default:t9e},distance:{type:Number,default:n9e},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},SE=(t,e)=>Object.entries(s9e).reduce((n,[s,r])=>{var a,o;const{type:i,default:l}=r,u=t.getAttribute(`infinite-scroll-${s}`);let c=(o=(a=e[u])!=null?a:u)!=null?o:l;return c=c==="false"?!1:c,c=i(c),n[s]=Number.isNaN(c)?l:c,n},{}),Sj=t=>{const{observer:e}=t[fi];e&&(e.disconnect(),delete t[fi].observer)},r9e=(t,e)=>{const{container:n,containerEl:s,instance:r,observer:a,lastScrollTop:o}=t[fi],{disabled:i,distance:l}=SE(t,r),{clientHeight:u,scrollHeight:c,scrollTop:d}=s,h=d-o;if(t[fi].lastScrollTop=d,a||i||h<0)return;let f=!1;if(n===t)f=c-(u+d)<=l;else{const{clientTop:p,scrollHeight:m}=t,y=yS(t,s);f=d+u>=y+p+m-l}f&&e.call(r)};function fC(t,e){const{containerEl:n,instance:s}=t[fi],{disabled:r}=SE(t,s);r||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(s):Sj(t))}const a9e={async mounted(t,e){const{instance:n,value:s}=e;yn(s)||br(fi,"'v-infinite-scroll' binding value must be a function"),await it();const{delay:r,immediate:a}=SE(t,n),o=K$(t,!0),i=o===window?document.documentElement:o,l=mh(r9e.bind(null,t,s),r);if(o){if(t[fi]={instance:n,container:o,containerEl:i,delay:r,cb:s,onScroll:l,lastScrollTop:i.scrollTop},a){const u=new MutationObserver(mh(fC.bind(null,t,s),e9e));t[fi].observer=u,u.observe(t,{childList:!0,subtree:!0}),fC(t,s)}o.addEventListener("scroll",l)}},unmounted(t){if(!t[fi])return;const{container:e,onScroll:n}=t[fi];e==null||e.removeEventListener("scroll",n),Sj(t)},async updated(t){if(!t[fi])await it();else{const{containerEl:e,cb:n,observer:s}=t[fi];e.clientHeight&&s&&fC(t,n)}}},TT=a9e;TT.install=t=>{t.directive("InfiniteScroll",TT)};const o9e=TT;function i9e(t){let e;const n=B(!1),s=an({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(h){s.text=h}function a(){const h=s.parent,f=d.ns;if(!h.vLoadingAddClassList){let p=h.getAttribute("loading-number");p=Number.parseInt(p)-1,p?h.setAttribute("loading-number",p.toString()):(ka(h,f.bm("parent","relative")),h.removeAttribute("loading-number")),ka(h,f.bm("parent","hidden"))}o(),c.unmount()}function o(){var h,f;(f=(h=d.$el)==null?void 0:h.parentNode)==null||f.removeChild(d.$el)}function i(){var h;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(l,400),s.visible=!1,(h=t.closed)==null||h.call(t))}function l(){if(!n.value)return;const h=s.parent;n.value=!1,h.vLoadingAddClassList=void 0,a()}const u=Z({name:"ElLoading",setup(h,{expose:f}){const{ns:p,zIndex:m}=sw("loading");return f({ns:p,zIndex:m}),()=>{const y=s.spinner||s.svg,v=pt("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[pt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=s.text?pt("p",{class:p.b("text")},[s.text]):void 0;return pt(ar,{name:p.b("fade"),onAfterLeave:l},{default:se(()=>[zt($("div",{style:{backgroundColor:s.background||""},class:[p.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[pt("div",{class:p.b("spinner")},[v,b])]),[[gn,s.visible]])])})}}}),c=oae(u),d=c.mount(document.createElement("div"));return{...Jr(s),setText:r,removeElLoadingChild:o,close:i,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let Gb;const kT=function(t={}){if(!hn)return;const e=l9e(t);if(e.fullscreen&&Gb)return Gb;const n=i9e({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(Gb=void 0)}});u9e(e,e.parent,n),RL(e,e.parent,n),e.parent.vLoadingAddClassList=()=>RL(e,e.parent,n);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(n.$el),it(()=>n.visible.value=e.visible),e.fullscreen&&(Gb=n),n},l9e=t=>{var e,n,s,r;let a;return qt(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(s=t.lock)!=null?s:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,beforeClose:t.beforeClose,closed:t.closed,target:a}},u9e=async(t,e,n)=>{const{nextZIndex:s}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(t.fullscreen)n.originalPosition.value=Oc(document.body,"position"),n.originalOverflow.value=Oc(document.body,"overflow"),r.zIndex=s();else if(t.parent===document.body){n.originalPosition.value=Oc(document.body,"position"),await it();for(const a of["top","left"]){const o=a==="top"?"scrollTop":"scrollLeft";r[a]=`${t.target.getBoundingClientRect()[a]+document.body[o]+document.documentElement[o]-Number.parseInt(Oc(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])r[a]=`${t.target.getBoundingClientRect()[a]}px`}else n.originalPosition.value=Oc(e,"position");for(const[a,o]of Object.entries(r))n.$el.style[a]=o},RL=(t,e,n)=>{const s=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?ka(e,s.bm("parent","relative")):yi(e,s.bm("parent","relative")),t.fullscreen&&t.lock?yi(e,s.bm("parent","hidden")):ka(e,s.bm("parent","hidden"))},F_=Symbol("ElLoading"),LL=(t,e)=>{var n,s,r,a;const o=e.instance,i=h=>Vn(e.value)?e.value[h]:void 0,l=h=>{const f=qt(h)&&(o==null?void 0:o[h])||h;return f&&B(f)},u=h=>l(i(h)||t.getAttribute(`element-loading-${iae(h)}`)),c=(n=i("fullscreen"))!=null?n:e.modifiers.fullscreen,d={text:u("text"),svg:u("svg"),svgViewBox:u("svgViewBox"),spinner:u("spinner"),background:u("background"),customClass:u("customClass"),fullscreen:c,target:(s=i("target"))!=null?s:c?void 0:t,body:(r=i("body"))!=null?r:e.modifiers.body,lock:(a=i("lock"))!=null?a:e.modifiers.lock};t[F_]={options:d,instance:kT(d)}},c9e=(t,e)=>{for(const n of Object.keys(e))ms(e[n])&&(e[n].value=t[n])},PL={mounted(t,e){e.value&&LL(t,e)},updated(t,e){const n=t[F_];e.oldValue!==e.value&&(e.value&&!e.oldValue?LL(t,e):e.value&&e.oldValue?Vn(e.value)&&c9e(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[F_])==null||e.instance.close(),t[F_]=null}},d9e={install(t){t.directive("loading",PL),t.config.globalProperties.$loading=kT},directive:PL,service:kT},Tj=["success","info","warning","error"],va=hs({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:hn?document.body:void 0}),h9e=qe({customClass:{type:String,default:va.customClass},center:{type:Boolean,default:va.center},dangerouslyUseHTMLString:{type:Boolean,default:va.dangerouslyUseHTMLString},duration:{type:Number,default:va.duration},icon:{type:Gn,default:va.icon},id:{type:String,default:va.id},message:{type:ve([String,Object,Function]),default:va.message},onClose:{type:ve(Function),default:va.onClose},showClose:{type:Boolean,default:va.showClose},type:{type:String,values:Tj,default:va.type},plain:{type:Boolean,default:va.plain},offset:{type:Number,default:va.offset},zIndex:{type:Number,default:va.zIndex},grouping:{type:Boolean,default:va.grouping},repeatNum:{type:Number,default:va.repeatNum}}),f9e={destroy:()=>!0},Ji=bz([]),p9e=t=>{const e=Ji.findIndex(r=>r.id===t),n=Ji[e];let s;return e>0&&(s=Ji[e-1]),{current:n,prev:s}},m9e=t=>{const{prev:e}=p9e(t);return e?e.vm.exposed.bottom.value:0},g9e=(t,e)=>Ji.findIndex(s=>s.id===t)>0?16:e,v9e=Z({name:"ElMessage"}),y9e=Z({...v9e,props:h9e,emits:f9e,setup(t,{expose:e}){const n=t,{Close:s}=t5,{ns:r,zIndex:a}=sw("message"),{currentZIndex:o,nextZIndex:i}=a,l=B(),u=B(!1),c=B(0);let d;const h=D(()=>n.type?n.type==="error"?"danger":n.type:"info"),f=D(()=>{const T=n.type;return{[r.bm("icon",T)]:T&&Jc[T]}}),p=D(()=>n.icon||Jc[n.type]||""),m=D(()=>m9e(n.id)),y=D(()=>g9e(n.id,n.offset)+m.value),v=D(()=>c.value+y.value),b=D(()=>({top:`${y.value}px`,zIndex:o.value}));function w(){n.duration!==0&&({stop:d}=Ih(()=>{C()},n.duration))}function _(){d==null||d()}function C(){u.value=!1}function x({code:T}){T===gt.esc&&C()}return Et(()=>{w(),i(),u.value=!0}),Ee(()=>n.repeatNum,()=>{_(),w()}),Fn(document,"keydown",x),ds(l,()=>{c.value=l.value.getBoundingClientRect().height}),e({visible:u,bottom:v,close:C}),(T,k)=>(S(),be(ar,{name:g(r).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:N=>T.$emit("destroy"),persisted:""},{default:se(()=>[zt(I("div",{id:T.id,ref_key:"messageRef",ref:l,class:q([g(r).b(),{[g(r).m(T.type)]:T.type},g(r).is("center",T.center),g(r).is("closable",T.showClose),g(r).is("plain",T.plain),T.customClass]),style:yt(g(b)),role:"alert",onMouseenter:_,onMouseleave:w},[T.repeatNum>1?(S(),be(g(IH),{key:0,value:T.repeatNum,type:g(h),class:q(g(r).e("badge"))},null,8,["value","type","class"])):ce("v-if",!0),g(p)?(S(),be(g(Je),{key:1,class:q([g(r).e("icon"),g(f)])},{default:se(()=>[(S(),be(Gt(g(p))))]),_:1},8,["class"])):ce("v-if",!0),oe(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(S(),A(He,{key:1},[ce(" Caution here, message could've been compromised, never use user's input as message "),I("p",{class:q(g(r).e("content")),innerHTML:T.message},null,10,["innerHTML"])],2112)):(S(),A("p",{key:0,class:q(g(r).e("content"))},Me(T.message),3))]),T.showClose?(S(),be(g(Je),{key:2,class:q(g(r).e("closeBtn")),onClick:xt(C,["stop"])},{default:se(()=>[$(g(s))]),_:1},8,["class","onClick"])):ce("v-if",!0)],46,["id"]),[[gn,u.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var b9e=Xe(y9e,[["__file","message.vue"]]);let _9e=1;const kj=t=>{const e=!t||qt(t)||An(t)||yn(t)?{message:t}:t,n={...va,...e};if(!n.appendTo)n.appendTo=document.body;else if(qt(n.appendTo)){let s=document.querySelector(n.appendTo);qo(s)||(s=document.body),n.appendTo=s}return n},w9e=t=>{const e=Ji.indexOf(t);if(e===-1)return;Ji.splice(e,1);const{handler:n}=t;n.close()},x9e=({appendTo:t,...e},n)=>{const s=`message_${_9e++}`,r=e.onClose,a=document.createElement("div"),o={...e,id:s,onClose:()=>{r==null||r(),w9e(c)},onDestroy:()=>{Ta(null,a)}},i=$(b9e,o,yn(o.message)||An(o.message)?{default:yn(o.message)?o.message:()=>o.message}:null);i.appContext=n||Zp._context,Ta(i,a),t.appendChild(a.firstElementChild);const l=i.component,c={id:s,vnode:i,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:i.component.props};return c},Zp=(t={},e)=>{if(!hn)return{close:()=>{}};if(Tt(NS.max)&&Ji.length>=NS.max)return{close:()=>{}};const n=kj(t);if(n.grouping&&Ji.length){const r=Ji.find(({vnode:a})=>{var o;return((o=a.props)==null?void 0:o.message)===n.message});if(r)return r.props.repeatNum+=1,r.props.type=n.type,r.handler}const s=x9e(n,e);return Ji.push(s),s.handler};Tj.forEach(t=>{Zp[t]=(e={},n)=>{const s=kj(e);return Zp({...s,type:t},n)}});function C9e(t){for(const e of Ji)(!t||t===e.props.type)&&e.handler.close()}Zp.closeAll=C9e;Zp._context=null;const gi=AV(Zp,"$message"),S9e=Z({name:"ElMessageBox",directives:{TrapFocus:r3e},components:{ElButton:Hn,ElFocusTrap:iv,ElInput:Gs,ElOverlay:W5,ElIcon:Je,...t5},inheritAttrs:!1,props:{buttonSize:{type:String,validator:DV},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:s,ns:r,size:a}=sw("message-box",D(()=>t.buttonSize)),{t:o}=n,{nextZIndex:i}=s,l=B(!1),u=an({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:pi(Xl),cancelButtonLoadingIcon:pi(Xl),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:i()}),c=D(()=>{const R=u.type;return{[r.bm("icon",R)]:R&&Jc[R]}}),d=pa(),h=pa(),f=D(()=>u.icon||Jc[u.type]||""),p=D(()=>!!u.message),m=B(),y=B(),v=B(),b=B(),w=B(),_=D(()=>u.confirmButtonClass);Ee(()=>u.inputValue,async R=>{await it(),t.boxType==="prompt"&&R!==null&&V()},{immediate:!0}),Ee(()=>l.value,R=>{var W,G;R&&(t.boxType!=="prompt"&&(u.autofocus?v.value=(G=(W=w.value)==null?void 0:W.$el)!=null?G:m.value:v.value=m.value),u.zIndex=i()),t.boxType==="prompt"&&(R?it().then(()=>{var P;b.value&&b.value.$el&&(u.autofocus?v.value=(P=H())!=null?P:m.value:v.value=m.value)}):(u.editorErrorMessage="",u.validateError=!1))});const C=D(()=>t.draggable),x=D(()=>t.overflow);OV(m,y,C,x),Et(async()=>{await it(),t.closeOnHashChange&&window.addEventListener("hashchange",T)}),ts(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",T)});function T(){l.value&&(l.value=!1,it(()=>{u.action&&e("action",u.action)}))}const k=()=>{t.closeOnClickModal&&L(u.distinguishCancelAndClose?"close":"cancel")},N=m5(k),O=R=>{if(u.inputType!=="textarea")return R.preventDefault(),L("confirm")},L=R=>{var W;t.boxType==="prompt"&&R==="confirm"&&!V()||(u.action=R,u.beforeClose?(W=u.beforeClose)==null||W.call(u,R,u,T):T())},V=()=>{if(t.boxType==="prompt"){const R=u.inputPattern;if(R&&!R.test(u.inputValue||""))return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;const W=u.inputValidator;if(typeof W=="function"){const G=W(u.inputValue);if(G===!1)return u.editorErrorMessage=u.inputErrorMessage||o("el.messagebox.error"),u.validateError=!0,!1;if(typeof G=="string")return u.editorErrorMessage=G,u.validateError=!0,!1}}return u.editorErrorMessage="",u.validateError=!1,!0},H=()=>{const R=b.value.$refs;return R.input||R.textarea},K=()=>{L("close")},U=()=>{t.closeOnPressEscape&&K()};return t.lockScroll&&o5(l),{...Jr(u),ns:r,overlayEvent:N,visible:l,hasMessage:p,typeClass:c,contentId:d,inputId:h,btnSize:a,iconComponent:f,confirmButtonClasses:_,rootRef:m,focusStartRef:v,headerRef:y,inputRef:b,confirmRef:w,doClose:T,handleClose:K,onCloseRequested:U,handleWrapperClick:k,handleInputEnter:O,handleAction:L,t:o}}});function T9e(t,e,n,s,r,a){const o=ht("el-icon"),i=ht("close"),l=ht("el-input"),u=ht("el-button"),c=ht("el-focus-trap"),d=ht("el-overlay");return S(),be(ar,{name:"fade-in-linear",onAfterLeave:h=>t.$emit("vanish"),persisted:""},{default:se(()=>[zt($(d,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:se(()=>[I("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:q(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[$(c,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:se(()=>[I("div",{ref:"rootRef",class:q([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:yt(t.customStyle),tabindex:"-1",onClick:xt(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(S(),A("div",{key:0,ref:"headerRef",class:q([t.ns.e("header"),{"show-close":t.showClose}])},[I("div",{class:q(t.ns.e("title"))},[t.iconComponent&&t.center?(S(),be(o,{key:0,class:q([t.ns.e("status"),t.typeClass])},{default:se(()=>[(S(),be(Gt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),I("span",null,Me(t.title),1)],2),t.showClose?(S(),A("button",{key:0,type:"button",class:q(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:Pn(xt(h=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[$(o,{class:q(t.ns.e("close"))},{default:se(()=>[$(i)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):ce("v-if",!0)],2)):ce("v-if",!0),I("div",{id:t.contentId,class:q(t.ns.e("content"))},[I("div",{class:q(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(S(),be(o,{key:0,class:q([t.ns.e("status"),t.typeClass])},{default:se(()=>[(S(),be(Gt(t.iconComponent)))]),_:1},8,["class"])):ce("v-if",!0),t.hasMessage?(S(),A("div",{key:1,class:q(t.ns.e("message"))},[oe(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(S(),be(Gt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(S(),be(Gt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:se(()=>[ct(Me(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):ce("v-if",!0)],2),zt(I("div",{class:q(t.ns.e("input"))},[$(l,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":h=>t.inputValue=h,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:q({invalid:t.validateError}),onKeydown:Pn(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),I("div",{class:q(t.ns.e("errormsg")),style:yt({visibility:t.editorErrorMessage?"visible":"hidden"})},Me(t.editorErrorMessage),7)],2),[[gn,t.showInput]])],10,["id"]),I("div",{class:q(t.ns.e("btns"))},[t.showCancelButton?(S(),be(u,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:q([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:h=>t.handleAction("cancel"),onKeydown:Pn(xt(h=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:se(()=>[ct(Me(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):ce("v-if",!0),zt($(u,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:q([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:h=>t.handleAction("confirm"),onKeydown:Pn(xt(h=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:se(()=>[ct(Me(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[gn,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[gn,t.visible]])]),_:3},8,["onAfterLeave"])}var k9e=Xe(S9e,[["render",T9e],["__file","index.vue"]]);const h1=new Map,$9e=t=>{let e=document.body;return t.appendTo&&(qt(t.appendTo)&&(e=document.querySelector(t.appendTo)),qo(t.appendTo)&&(e=t.appendTo),qo(e)||(e=document.body)),e},E9e=(t,e,n=null)=>{const s=$(k9e,t,yn(t.message)||An(t.message)?{default:yn(t.message)?t.message:()=>t.message}:null);return s.appContext=n,Ta(s,e),$9e(t).appendChild(e.firstElementChild),s.component},I9e=()=>document.createElement("div"),N9e=(t,e)=>{const n=I9e();t.onVanish=()=>{Ta(null,n),h1.delete(r)},t.onAction=a=>{const o=h1.get(r);let i;t.showInput?i={value:r.inputValue,action:a}:i=a,t.callback?t.callback(i,s.proxy):a==="cancel"||a==="close"?t.distinguishCancelAndClose&&a!=="cancel"?o.reject("close"):o.reject("cancel"):o.resolve(i)};const s=E9e(t,n,e),r=s.proxy;for(const a in t)fa(t,a)&&!fa(r.$props,a)&&(r[a]=t[a]);return r.visible=!0,r};function V0(t,e=null){if(!hn)return Promise.reject();let n;return qt(t)||An(t)?t={message:t}:n=t.callback,new Promise((s,r)=>{const a=N9e(t,e??V0._context);h1.set(a,{options:t,callback:n,resolve:s,reject:r})})}const A9e=["alert","confirm","prompt"],D9e={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};A9e.forEach(t=>{V0[t]=O9e(t)});function O9e(t){return(e,n,s,r)=>{let a="";return Vn(n)?(s=n,a=""):$s(n)?a="":a=n,V0(Object.assign({title:a,message:e,type:"",...D9e[t]},s,{boxType:t}),r)}}V0.close=()=>{h1.forEach((t,e)=>{e.doClose()}),h1.clear()};V0._context=null;const Ec=V0;Ec.install=t=>{Ec._context=t._context,t.config.globalProperties.$msgbox=Ec,t.config.globalProperties.$messageBox=Ec,t.config.globalProperties.$alert=Ec.alert,t.config.globalProperties.$confirm=Ec.confirm,t.config.globalProperties.$prompt=Ec.prompt};const TE=Ec,$j=["success","info","warning","error"],R9e=qe({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Gn},id:{type:String,default:""},message:{type:ve([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:ve(Function),default:()=>{}},onClose:{type:ve(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...$j,""],default:""},zIndex:Number}),L9e={destroy:()=>!0},P9e=Z({name:"ElNotification"}),M9e=Z({...P9e,props:R9e,emits:L9e,setup(t,{expose:e}){const n=t,{ns:s,zIndex:r}=sw("notification"),{nextZIndex:a,currentZIndex:o}=r,{Close:i}=e5,l=B(!1);let u;const c=D(()=>{const w=n.type;return w&&Jc[n.type]?s.m(w):""}),d=D(()=>n.type&&Jc[n.type]||n.icon),h=D(()=>n.position.endsWith("right")?"right":"left"),f=D(()=>n.position.startsWith("top")?"top":"bottom"),p=D(()=>{var w;return{[f.value]:`${n.offset}px`,zIndex:(w=n.zIndex)!=null?w:o.value}});function m(){n.duration>0&&({stop:u}=Ih(()=>{l.value&&v()},n.duration))}function y(){u==null||u()}function v(){l.value=!1}function b({code:w}){w===gt.delete||w===gt.backspace?y():w===gt.esc?l.value&&v():m()}return Et(()=>{m(),a(),l.value=!0}),Fn(document,"keydown",b),e({visible:l,close:v}),(w,_)=>(S(),be(ar,{name:g(s).b("fade"),onBeforeLeave:w.onClose,onAfterLeave:C=>w.$emit("destroy"),persisted:""},{default:se(()=>[zt(I("div",{id:w.id,class:q([g(s).b(),w.customClass,g(h)]),style:yt(g(p)),role:"alert",onMouseenter:y,onMouseleave:m,onClick:w.onClick},[g(d)?(S(),be(g(Je),{key:0,class:q([g(s).e("icon"),g(c)])},{default:se(()=>[(S(),be(Gt(g(d))))]),_:1},8,["class"])):ce("v-if",!0),I("div",{class:q(g(s).e("group"))},[I("h2",{class:q(g(s).e("title")),textContent:Me(w.title)},null,10,["textContent"]),zt(I("div",{class:q(g(s).e("content")),style:yt(w.title?void 0:{margin:0})},[oe(w.$slots,"default",{},()=>[w.dangerouslyUseHTMLString?(S(),A(He,{key:1},[ce(" Caution here, message could've been compromised, never use user's input as message "),I("p",{innerHTML:w.message},null,8,["innerHTML"])],2112)):(S(),A("p",{key:0},Me(w.message),1))])],6),[[gn,w.message]]),w.showClose?(S(),be(g(Je),{key:0,class:q(g(s).e("closeBtn")),onClick:xt(v,["stop"])},{default:se(()=>[$(g(i))]),_:1},8,["class","onClick"])):ce("v-if",!0)],2)],46,["id","onClick"]),[[gn,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var F9e=Xe(M9e,[["__file","notification.vue"]]);const C3={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},$T=16;let B9e=1;const Jp=function(t={},e=null){if(!hn)return{close:()=>{}};(typeof t=="string"||An(t))&&(t={message:t});const n=t.position||"top-right";let s=t.offset||0;C3[n].forEach(({vm:c})=>{var d;s+=(((d=c.el)==null?void 0:d.offsetHeight)||0)+$T}),s+=$T;const r=`notification_${B9e++}`,a=t.onClose,o={...t,offset:s,id:r,onClose:()=>{z9e(r,n,a)}};let i=document.body;qo(t.appendTo)?i=t.appendTo:qt(t.appendTo)&&(i=document.querySelector(t.appendTo)),qo(i)||(i=document.body);const l=document.createElement("div"),u=$(F9e,o,An(o.message)?{default:()=>o.message}:null);return u.appContext=e??Jp._context,u.props.onDestroy=()=>{Ta(null,l)},Ta(u,l),C3[n].push({vm:u}),i.appendChild(l.firstElementChild),{close:()=>{u.component.exposed.visible.value=!1}}};$j.forEach(t=>{Jp[t]=(e={})=>((typeof e=="string"||An(e))&&(e={message:e}),Jp({...e,type:t}))});function z9e(t,e,n){const s=C3[e],r=s.findIndex(({vm:u})=>{var c;return((c=u.component)==null?void 0:c.props.id)===t});if(r===-1)return;const{vm:a}=s[r];if(!a)return;n==null||n(a);const o=a.el.offsetHeight,i=e.split("-")[0];s.splice(r,1);const l=s.length;if(!(l<1))for(let u=r;u<l;u++){const{el:c,component:d}=s[u].vm,h=Number.parseInt(c.style[i],10)-o-$T;d.props.offset=h}}function V9e(){for(const t of Object.values(C3))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}Jp.closeAll=V9e;Jp._context=null;const H9e=AV(Jp,"$notify");var U9e=[o9e,d9e,gi,TE,H9e,iW],W9e=_ve([...JNe,...U9e]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const cp=typeof window<"u";function j9e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Us=Object.assign;function pC(t,e){const n={};for(const s in e){const r=e[s];n[s]=il(r)?r.map(t):t(r)}return n}const A2=()=>{},il=Array.isArray,G9e=/\/$/,q9e=t=>t.replace(G9e,"");function mC(t,e,n="/"){let s,r={},a="",o="";const i=e.indexOf("#");let l=e.indexOf("?");return i<l&&i>=0&&(l=-1),l>-1&&(s=e.slice(0,l),a=e.slice(l+1,i>-1?i:e.length),r=t(a)),i>-1&&(s=s||e.slice(0,i),o=e.slice(i,e.length)),s=Q9e(s??e,n),{fullPath:s+(a&&"?")+a+o,path:s,query:r,hash:o}}function K9e(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function X9e(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&e0(e.matched[s],n.matched[r])&&Ej(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function e0(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ej(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Y9e(t[n],e[n]))return!1;return!0}function Y9e(t,e){return il(t)?ML(t,e):il(e)?ML(e,t):t===e}function ML(t,e){return il(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function Q9e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let a=n.length-1,o,i;for(o=0;o<s.length;o++)if(i=s[o],i!==".")if(i==="..")a>1&&a--;else break;return n.slice(0,a).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var f1;(function(t){t.pop="pop",t.push="push"})(f1||(f1={}));var S3;(function(t){t.back="back",t.forward="forward",t.unknown=""})(S3||(S3={}));const gC="";function Z9e(t){if(!t)if(cp){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),q9e(t)}const J9e=/^[^#]+#/;function eAe(t,e){return t.replace(J9e,"#")+e}function tAe(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const nAe=()=>({left:window.pageXOffset,top:window.pageYOffset});function sAe(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=tAe(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function FL(t,e){return(history.state?history.state.position-e:-1)+t}const ET=new Map;function rAe(t,e){ET.set(t,e)}function aAe(t){const e=ET.get(t);return ET.delete(t),e}function oAe(t=""){let e=[],n=[gC],s=0;t=Z9e(t);function r(i){s++,s!==n.length&&n.splice(s),n.push(i)}function a(i,l,{direction:u,delta:c}){const d={direction:u,delta:c,type:f1.pop};for(const h of e)h(i,l,d)}const o={location:gC,state:{},base:t,createHref:eAe.bind(null,t),replace(i){n.splice(s--,1),r(i)},push(i,l){r(i)},listen(i){return e.push(i),()=>{const l=e.indexOf(i);l>-1&&e.splice(l,1)}},destroy(){e=[],n=[gC],s=0},go(i,l=!0){const u=this.location,c=i<0?S3.back:S3.forward;s=Math.max(0,Math.min(s+i,n.length-1)),l&&a(this.location,u,{direction:c,delta:i})}};return Object.defineProperty(o,"location",{enumerable:!0,get:()=>n[s]}),o}function iAe(t){return typeof t=="string"||t&&typeof t=="object"}function Ij(t){return typeof t=="string"||typeof t=="symbol"}const bc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Nj=Symbol("");var BL;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(BL||(BL={}));function t0(t,e){return Us(new Error,{type:t,[Nj]:!0},e)}function gu(t,e){return t instanceof Error&&Nj in t&&(e==null||!!(t.type&e))}const zL="[^/]+?",lAe={sensitive:!1,strict:!1,start:!0,end:!0},uAe=/[.+*?^${}()[\]/\\]/g;function cAe(t,e){const n=Us({},lAe,e),s=[];let r=n.start?"^":"";const a=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const h=u[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(r+="/"),r+=h.value.replace(uAe,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:y,regexp:v}=h;a.push({name:p,repeatable:m,optional:y});const b=v||zL;if(b!==zL){f+=10;try{new RegExp(`(${b})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${b}): `+_.message)}}let w=m?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(w=y&&u.length<2?`(?:/${w})`:"/"+w),y&&(w+="?"),r+=w,f+=20,y&&(f+=-8),m&&(f+=-20),b===".*"&&(f+=-50)}c.push(f)}s.push(c)}if(n.strict&&n.end){const u=s.length-1;s[u][s[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function i(u){const c=u.match(o),d={};if(!c)return null;for(let h=1;h<c.length;h++){const f=c[h]||"",p=a[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(u){let c="",d=!1;for(const h of t){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const f of h)if(f.type===0)c+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:y}=f,v=p in u?u[p]:"";if(il(v)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const b=il(v)?v.join("/"):v;if(!b)if(y)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=b}}return c||"/"}return{re:o,score:s,keys:a,parse:i,stringify:l}}function dAe(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function hAe(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const a=dAe(s[n],r[n]);if(a)return a;n++}if(Math.abs(r.length-s.length)===1){if(VL(s))return 1;if(VL(r))return-1}return r.length-s.length}function VL(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const fAe={type:0,value:""},pAe=/[a-zA-Z0-9_]/;function mAe(t){if(!t)return[[]];if(t==="/")return[[fAe]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${u}": ${f}`)}let n=0,s=n;const r=[];let a;function o(){a&&r.push(a),a=[]}let i=0,l,u="",c="";function d(){u&&(n===0?a.push({type:0,value:u}):n===1||n===2||n===3?(a.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;i<t.length;){if(l=t[i++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:l==="("?n=2:pAe.test(l)?h():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&i--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&i--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),r}function gAe(t,e,n){const s=cAe(mAe(t.path),n),r=Us(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function vAe(t,e){const n=[],s=new Map;e=WL({strict:!1,end:!0,sensitive:!1},e);function r(c){return s.get(c)}function a(c,d,h){const f=!h,p=yAe(c);p.aliasOf=h&&h.record;const m=WL(e,c),y=[p];if("alias"in c){const w=typeof c.alias=="string"?[c.alias]:c.alias;for(const _ of w)y.push(Us({},p,{components:h?h.record.components:p.components,path:_,aliasOf:h?h.record:p}))}let v,b;for(const w of y){const{path:_}=w;if(d&&_[0]!=="/"){const C=d.record.path,x=C[C.length-1]==="/"?"":"/";w.path=d.record.path+(_&&x+_)}if(v=gAe(w,d,m),h?h.alias.push(v):(b=b||v,b!==v&&b.alias.push(v),f&&c.name&&!UL(v)&&o(c.name)),p.children){const C=p.children;for(let x=0;x<C.length;x++)a(C[x],v,h&&h.children[x])}h=h||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return b?()=>{o(b)}:A2}function o(c){if(Ij(c)){const d=s.get(c);d&&(s.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&s.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function i(){return n}function l(c){let d=0;for(;d<n.length&&hAe(c,n[d])>=0&&(c.record.path!==n[d].record.path||!Aj(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!UL(c)&&s.set(c.record.name,c)}function u(c,d){let h,f={},p,m;if("name"in c&&c.name){if(h=s.get(c.name),!h)throw t0(1,{location:c});m=h.record.name,f=Us(HL(d.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),c.params&&HL(c.params,h.keys.map(b=>b.name))),p=h.stringify(f)}else if("path"in c)p=c.path,h=n.find(b=>b.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?s.get(d.name):n.find(b=>b.re.test(d.path)),!h)throw t0(1,{location:c,currentLocation:d});m=h.record.name,f=Us({},d.params,c.params),p=h.stringify(f)}const y=[];let v=h;for(;v;)y.unshift(v.record),v=v.parent;return{name:m,path:p,params:f,matched:y,meta:_Ae(y)}}return t.forEach(c=>a(c)),{addRoute:a,resolve:u,removeRoute:o,getRoutes:i,getRecordMatcher:r}}function HL(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function yAe(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:bAe(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function bAe(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="object"?n[s]:n;return e}function UL(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _Ae(t){return t.reduce((e,n)=>Us(e,n.meta),{})}function WL(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Aj(t,e){return e.children.some(n=>n===t||Aj(t,n))}const Dj=/#/g,wAe=/&/g,xAe=/\//g,CAe=/=/g,SAe=/\?/g,Oj=/\+/g,TAe=/%5B/g,kAe=/%5D/g,Rj=/%5E/g,$Ae=/%60/g,Lj=/%7B/g,EAe=/%7C/g,Pj=/%7D/g,IAe=/%20/g;function kE(t){return encodeURI(""+t).replace(EAe,"|").replace(TAe,"[").replace(kAe,"]")}function NAe(t){return kE(t).replace(Lj,"{").replace(Pj,"}").replace(Rj,"^")}function IT(t){return kE(t).replace(Oj,"%2B").replace(IAe,"+").replace(Dj,"%23").replace(wAe,"%26").replace($Ae,"`").replace(Lj,"{").replace(Pj,"}").replace(Rj,"^")}function AAe(t){return IT(t).replace(CAe,"%3D")}function DAe(t){return kE(t).replace(Dj,"%23").replace(SAe,"%3F")}function OAe(t){return t==null?"":DAe(t).replace(xAe,"%2F")}function T3(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function RAe(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const a=s[r].replace(Oj," "),o=a.indexOf("="),i=T3(o<0?a:a.slice(0,o)),l=o<0?null:T3(a.slice(o+1));if(i in e){let u=e[i];il(u)||(u=e[i]=[u]),u.push(l)}else e[i]=l}return e}function jL(t){let e="";for(let n in t){const s=t[n];if(n=AAe(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(il(s)?s.map(a=>a&&IT(a)):[s&&IT(s)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+n,a!=null&&(e+="="+a))})}return e}function LAe(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=il(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const PAe=Symbol(""),GL=Symbol(""),$E=Symbol(""),Mj=Symbol(""),NT=Symbol("");function Pg(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Nc(t,e,n,s,r){const a=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,i)=>{const l=d=>{d===!1?i(t0(4,{from:n,to:e})):d instanceof Error?i(d):iAe(d)?i(t0(2,{from:e,to:d})):(a&&s.enterCallbacks[r]===a&&typeof d=="function"&&a.push(d),o())},u=t.call(s&&s.instances[r],e,n,l);let c=Promise.resolve(u);t.length<3&&(c=c.then(l)),c.catch(d=>i(d))})}function vC(t,e,n,s){const r=[];for(const a of t)for(const o in a.components){let i=a.components[o];if(!(e!=="beforeRouteEnter"&&!a.instances[o]))if(MAe(i)){const u=(i.__vccOpts||i)[e];u&&r.push(Nc(u,n,s,a,o))}else{let l=i();r.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${a.path}"`));const c=j9e(u)?u.default:u;a.components[o]=c;const h=(c.__vccOpts||c)[e];return h&&Nc(h,n,s,a,o)()}))}}return r}function MAe(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qL(t){const e=Le($E),n=Le(Mj),s=D(()=>e.resolve(g(t.to))),r=D(()=>{const{matched:l}=s.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const h=d.findIndex(e0.bind(null,c));if(h>-1)return h;const f=KL(l[u-2]);return u>1&&KL(c)===f&&d[d.length-1].path!==f?d.findIndex(e0.bind(null,l[u-2])):h}),a=D(()=>r.value>-1&&VAe(n.params,s.value.params)),o=D(()=>r.value>-1&&r.value===n.matched.length-1&&Ej(n.params,s.value.params));function i(l={}){return zAe(l)?e[g(t.replace)?"replace":"push"](g(t.to)).catch(A2):Promise.resolve()}return{route:s,href:D(()=>s.value.href),isActive:a,isExactActive:o,navigate:i}}const FAe=Z({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qL,setup(t,{slots:e}){const n=an(qL(t)),{options:s}=Le($E),r=D(()=>({[XL(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[XL(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const a=e.default&&e.default(n);return t.custom?a:pt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},a)}}}),BAe=FAe;function zAe(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function VAe(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!il(r)||r.length!==s.length||s.some((a,o)=>a!==r[o]))return!1}return!0}function KL(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const XL=(t,e,n)=>t??e??n,HAe=Z({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Le(NT),r=D(()=>t.route||s.value),a=Le(GL,0),o=D(()=>{let u=g(a);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),i=D(()=>r.value.matched[o.value]);At(GL,D(()=>o.value+1)),At(PAe,i),At(NT,r);const l=B();return Ee(()=>[l.value,i.value,t.name],([u,c,d],[h,f,p])=>{c&&(c.instances[d]=u,f&&f!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=f.leaveGuards),c.updateGuards.size||(c.updateGuards=f.updateGuards))),u&&c&&(!f||!e0(c,f)||!h)&&(c.enterCallbacks[d]||[]).forEach(m=>m(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,d=i.value,h=d&&d.components[c];if(!h)return YL(n.default,{Component:h,route:u});const f=d.props[c],p=f?f===!0?u.params:typeof f=="function"?f(u):f:null,y=pt(h,Us({},p,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return YL(n.default,{Component:y,route:u})||y}}});function YL(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const UAe=HAe;function WAe(t){const e=vAe(t.routes,t),n=t.parseQuery||RAe,s=t.stringifyQuery||jL,r=t.history,a=Pg(),o=Pg(),i=Pg(),l=Jn(bc);let u=bc;cp&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=pC.bind(null,ee=>""+ee),d=pC.bind(null,OAe),h=pC.bind(null,T3);function f(ee,he){let le,ue;return Ij(ee)?(le=e.getRecordMatcher(ee),ue=he):ue=ee,e.addRoute(ue,le)}function p(ee){const he=e.getRecordMatcher(ee);he&&e.removeRoute(he)}function m(){return e.getRoutes().map(ee=>ee.record)}function y(ee){return!!e.getRecordMatcher(ee)}function v(ee,he){if(he=Us({},he||l.value),typeof ee=="string"){const Ue=mC(n,ee,he.path),at=e.resolve({path:Ue.path},he),ot=r.createHref(Ue.fullPath);return Us(Ue,at,{params:h(at.params),hash:T3(Ue.hash),redirectedFrom:void 0,href:ot})}let le;if("path"in ee)le=Us({},ee,{path:mC(n,ee.path,he.path).path});else{const Ue=Us({},ee.params);for(const at in Ue)Ue[at]==null&&delete Ue[at];le=Us({},ee,{params:d(Ue)}),he.params=d(he.params)}const ue=e.resolve(le,he),re=ee.hash||"";ue.params=c(h(ue.params));const we=K9e(s,Us({},ee,{hash:NAe(re),path:ue.path})),Ae=r.createHref(we);return Us({fullPath:we,hash:re,query:s===jL?LAe(ee.query):ee.query||{}},ue,{redirectedFrom:void 0,href:Ae})}function b(ee){return typeof ee=="string"?mC(n,ee,l.value.path):Us({},ee)}function w(ee,he){if(u!==ee)return t0(8,{from:he,to:ee})}function _(ee){return T(ee)}function C(ee){return _(Us(b(ee),{replace:!0}))}function x(ee){const he=ee.matched[ee.matched.length-1];if(he&&he.redirect){const{redirect:le}=he;let ue=typeof le=="function"?le(ee):le;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=b(ue):{path:ue},ue.params={}),Us({query:ee.query,hash:ee.hash,params:"path"in ue?{}:ee.params},ue)}}function T(ee,he){const le=u=v(ee),ue=l.value,re=ee.state,we=ee.force,Ae=ee.replace===!0,Ue=x(le);if(Ue)return T(Us(b(Ue),{state:typeof Ue=="object"?Us({},re,Ue.state):re,force:we,replace:Ae}),he||le);const at=le;at.redirectedFrom=he;let ot;return!we&&X9e(s,ue,le)&&(ot=t0(16,{to:at,from:ue}),J(ue,ue,!0,!1)),(ot?Promise.resolve(ot):O(at,ue)).catch(Pe=>gu(Pe)?gu(Pe,2)?Pe:j(Pe):G(Pe,at,ue)).then(Pe=>{if(Pe){if(gu(Pe,2))return T(Us({replace:Ae},b(Pe.to),{state:typeof Pe.to=="object"?Us({},re,Pe.to.state):re,force:we}),he||at)}else Pe=V(at,ue,!0,Ae,re);return L(at,ue,Pe),Pe})}function k(ee,he){const le=w(ee,he);return le?Promise.reject(le):Promise.resolve()}function N(ee){const he=de.values().next().value;return he&&typeof he.runWithContext=="function"?he.runWithContext(ee):ee()}function O(ee,he){let le;const[ue,re,we]=jAe(ee,he);le=vC(ue.reverse(),"beforeRouteLeave",ee,he);for(const Ue of ue)Ue.leaveGuards.forEach(at=>{le.push(Nc(at,ee,he))});const Ae=k.bind(null,ee,he);return le.push(Ae),_e(le).then(()=>{le=[];for(const Ue of a.list())le.push(Nc(Ue,ee,he));return le.push(Ae),_e(le)}).then(()=>{le=vC(re,"beforeRouteUpdate",ee,he);for(const Ue of re)Ue.updateGuards.forEach(at=>{le.push(Nc(at,ee,he))});return le.push(Ae),_e(le)}).then(()=>{le=[];for(const Ue of we)if(Ue.beforeEnter)if(il(Ue.beforeEnter))for(const at of Ue.beforeEnter)le.push(Nc(at,ee,he));else le.push(Nc(Ue.beforeEnter,ee,he));return le.push(Ae),_e(le)}).then(()=>(ee.matched.forEach(Ue=>Ue.enterCallbacks={}),le=vC(we,"beforeRouteEnter",ee,he),le.push(Ae),_e(le))).then(()=>{le=[];for(const Ue of o.list())le.push(Nc(Ue,ee,he));return le.push(Ae),_e(le)}).catch(Ue=>gu(Ue,8)?Ue:Promise.reject(Ue))}function L(ee,he,le){i.list().forEach(ue=>N(()=>ue(ee,he,le)))}function V(ee,he,le,ue,re){const we=w(ee,he);if(we)return we;const Ae=he===bc,Ue=cp?history.state:{};le&&(ue||Ae?r.replace(ee.fullPath,Us({scroll:Ae&&Ue&&Ue.scroll},re)):r.push(ee.fullPath,re)),l.value=ee,J(ee,he,le,Ae),j()}let H;function K(){H||(H=r.listen((ee,he,le)=>{if(!me.listening)return;const ue=v(ee),re=x(ue);if(re){T(Us(re,{replace:!0}),ue).catch(A2);return}u=ue;const we=l.value;cp&&rAe(FL(we.fullPath,le.delta),nAe()),O(ue,we).catch(Ae=>gu(Ae,12)?Ae:gu(Ae,2)?(T(Ae.to,ue).then(Ue=>{gu(Ue,20)&&!le.delta&&le.type===f1.pop&&r.go(-1,!1)}).catch(A2),Promise.reject()):(le.delta&&r.go(-le.delta,!1),G(Ae,ue,we))).then(Ae=>{Ae=Ae||V(ue,we,!1),Ae&&(le.delta&&!gu(Ae,8)?r.go(-le.delta,!1):le.type===f1.pop&&gu(Ae,20)&&r.go(-1,!1)),L(ue,we,Ae)}).catch(A2)}))}let U=Pg(),R=Pg(),W;function G(ee,he,le){j(ee);const ue=R.list();return ue.length?ue.forEach(re=>re(ee,he,le)):console.error(ee),Promise.reject(ee)}function P(){return W&&l.value!==bc?Promise.resolve():new Promise((ee,he)=>{U.add([ee,he])})}function j(ee){return W||(W=!ee,K(),U.list().forEach(([he,le])=>ee?le(ee):he()),U.reset()),ee}function J(ee,he,le,ue){const{scrollBehavior:re}=t;if(!cp||!re)return Promise.resolve();const we=!le&&aAe(FL(ee.fullPath,0))||(ue||!le)&&history.state&&history.state.scroll||null;return it().then(()=>re(ee,he,we)).then(Ae=>Ae&&sAe(Ae)).catch(Ae=>G(Ae,ee,he))}const ne=ee=>r.go(ee);let te;const de=new Set,me={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,hasRoute:y,getRoutes:m,resolve:v,options:t,push:_,replace:C,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:a.add,beforeResolve:o.add,afterEach:i.add,onError:R.add,isReady:P,install(ee){const he=this;ee.component("RouterLink",BAe),ee.component("RouterView",UAe),ee.config.globalProperties.$router=he,Object.defineProperty(ee.config.globalProperties,"$route",{enumerable:!0,get:()=>g(l)}),cp&&!te&&l.value===bc&&(te=!0,_(r.location).catch(re=>{}));const le={};for(const re in bc)Object.defineProperty(le,re,{get:()=>l.value[re],enumerable:!0});ee.provide($E,he),ee.provide(Mj,bz(le)),ee.provide(NT,l);const ue=ee.unmount;de.add(ee),ee.unmount=function(){de.delete(ee),de.size<1&&(u=bc,H&&H(),H=null,l.value=bc,te=!1,W=!1),ue()}}};function _e(ee){return ee.reduce((he,le)=>he.then(()=>N(le)),Promise.resolve())}return me}function jAe(t,e){const n=[],s=[],r=[],a=Math.max(e.matched.length,t.matched.length);for(let o=0;o<a;o++){const i=e.matched[o];i&&(t.matched.find(u=>e0(u,i))?s.push(i):n.push(i));const l=t.matched[o];l&&(e.matched.find(u=>e0(u,l))||r.push(l))}return[n,s,r]}/*! Element Plus v2.8.0 */var GAe={name:"zh-cn",el:{breadcrumb:{label:""},colorpicker:{confirm:"",clear:"",defaultLabel:"",description:" {color} Enter ",alphaLabel:""},datepicker:{now:"",today:"",cancel:"",clear:"",confirm:"",dateTablePrompt:" Enter ",monthTablePrompt:" Enter ",yearTablePrompt:" Enter ",selectedDate:"",selectDate:"",selectTime:"",startDate:"",startTime:"",endDate:"",endTime:"",prevYear:"",nextYear:"",prevMonth:"",nextMonth:"",year:"",month1:"1 ",month2:"2 ",month3:"3 ",month4:"4 ",month5:"5 ",month6:"6 ",month7:"7 ",month8:"8 ",month9:"9 ",month10:"10 ",month11:"11 ",month12:"12 ",weeks:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},weeksFull:{sun:"",mon:"",tue:"",wed:"",thu:"",fri:"",sat:""},months:{jan:"",feb:"",mar:"",apr:"",may:"",jun:"",jul:"",aug:"",sep:"",oct:"",nov:"",dec:""}},inputNumber:{decrease:"",increase:""},select:{loading:"",noMatch:"",noData:"",placeholder:""},dropdown:{toggleDropdown:""},mention:{loading:""},cascader:{noMatch:"",loading:"",placeholder:"",noData:""},pagination:{goto:"",pagesize:"/",total:" {total} ",pageClassifier:"",page:"",prev:"",next:"",currentPage:" {pager} ",prevPages:" {pager} ",nextPages:" {pager} ",deprecationWarning:" el-pagination "},dialog:{close:""},drawer:{close:""},messagebox:{title:"",confirm:"",cancel:"",error:"!",close:""},upload:{deleteTip:" delete ",delete:"",preview:"",continue:""},slider:{defaultLabel:" {min}  {max}",defaultRangeStartLabel:"",defaultRangeEndLabel:""},table:{emptyText:"",confirmFilter:"",resetFilter:"",clearFilter:"",sumText:""},tour:{next:"",previous:"",finish:""},tree:{emptyText:""},transfer:{noMatch:"",noData:"",titles:[" 1"," 2"],filterPlaceholder:"",noCheckedFormat:" {total} ",hasCheckedFormat:" {checked}/{total} "},image:{error:""},pageHeader:{title:""},popconfirm:{confirmButtonText:"",cancelButtonText:""},carousel:{leftArrow:"",rightArrow:"",indicator:" {index}"}}};/*! Element Plus Icons Vue v2.1.0 */var qAe={name:"AddLocation"},ge=(t,e)=>{let n=t.__vccOpts||t;for(let[s,r]of e)n[s]=r;return n},KAe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XAe=I("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),YAe=I("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),QAe=I("path",{fill:"currentColor",d:"M544 384h96a32 32 0 1 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96z"},null,-1),ZAe=[XAe,YAe,QAe];function JAe(t,e,n,s,r,a){return S(),A("svg",KAe,ZAe)}var eDe=ge(qAe,[["render",JAe],["__file","add-location.vue"]]),tDe={name:"Aim"},nDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sDe=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),rDe=I("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32zm0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32zM96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zm576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32z"},null,-1),aDe=[sDe,rDe];function oDe(t,e,n,s,r,a){return S(),A("svg",nDe,aDe)}var iDe=ge(tDe,[["render",oDe],["__file","aim.vue"]]),lDe={name:"AlarmClock"},uDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cDe=I("path",{fill:"currentColor",d:"M512 832a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),dDe=I("path",{fill:"currentColor",d:"m292.288 824.576 55.424 32-48 83.136a32 32 0 1 1-55.424-32l48-83.136zm439.424 0-55.424 32 48 83.136a32 32 0 1 0 55.424-32l-48-83.136zM512 512h160a32 32 0 1 1 0 64H480a32 32 0 0 1-32-32V320a32 32 0 0 1 64 0v192zM90.496 312.256A160 160 0 0 1 312.32 90.496l-46.848 46.848a96 96 0 0 0-128 128L90.56 312.256zm835.264 0A160 160 0 0 0 704 90.496l46.848 46.848a96 96 0 0 1 128 128l46.912 46.912z"},null,-1),hDe=[cDe,dDe];function fDe(t,e,n,s,r,a){return S(),A("svg",uDe,hDe)}var pDe=ge(lDe,[["render",fDe],["__file","alarm-clock.vue"]]),mDe={name:"Apple"},gDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vDe=I("path",{fill:"currentColor",d:"M599.872 203.776a189.44 189.44 0 0 1 64.384-4.672l2.624.128c31.168 1.024 51.2 4.096 79.488 16.32 37.632 16.128 74.496 45.056 111.488 89.344 96.384 115.264 82.752 372.8-34.752 521.728-7.68 9.728-32 41.6-30.72 39.936a426.624 426.624 0 0 1-30.08 35.776c-31.232 32.576-65.28 49.216-110.08 50.048-31.36.64-53.568-5.312-84.288-18.752l-6.528-2.88c-20.992-9.216-30.592-11.904-47.296-11.904-18.112 0-28.608 2.88-51.136 12.672l-6.464 2.816c-28.416 12.224-48.32 18.048-76.16 19.2-74.112 2.752-116.928-38.08-180.672-132.16-96.64-142.08-132.608-349.312-55.04-486.4 46.272-81.92 129.92-133.632 220.672-135.04 32.832-.576 60.288 6.848 99.648 22.72 27.136 10.88 34.752 13.76 37.376 14.272 16.256-20.16 27.776-36.992 34.56-50.24 13.568-26.304 27.2-59.968 40.704-100.8a32 32 0 1 1 60.8 20.224c-12.608 37.888-25.408 70.4-38.528 97.664zm-51.52 78.08c-14.528 17.792-31.808 37.376-51.904 58.816a32 32 0 1 1-46.72-43.776l12.288-13.248c-28.032-11.2-61.248-26.688-95.68-26.112-70.4 1.088-135.296 41.6-171.648 105.792C121.6 492.608 176 684.16 247.296 788.992c34.816 51.328 76.352 108.992 130.944 106.944 52.48-2.112 72.32-34.688 135.872-34.688 63.552 0 81.28 34.688 136.96 33.536 56.448-1.088 75.776-39.04 126.848-103.872 107.904-136.768 107.904-362.752 35.776-449.088-72.192-86.272-124.672-84.096-151.68-85.12-41.472-4.288-81.6 12.544-113.664 25.152z"},null,-1),yDe=[vDe];function bDe(t,e,n,s,r,a){return S(),A("svg",gDe,yDe)}var _De=ge(mDe,[["render",bDe],["__file","apple.vue"]]),wDe={name:"ArrowDownBold"},xDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},CDe=I("path",{fill:"currentColor",d:"M104.704 338.752a64 64 0 0 1 90.496 0l316.8 316.8 316.8-316.8a64 64 0 0 1 90.496 90.496L557.248 791.296a64 64 0 0 1-90.496 0L104.704 429.248a64 64 0 0 1 0-90.496z"},null,-1),SDe=[CDe];function TDe(t,e,n,s,r,a){return S(),A("svg",xDe,SDe)}var kDe=ge(wDe,[["render",TDe],["__file","arrow-down-bold.vue"]]),$De={name:"ArrowDown"},EDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IDe=I("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),NDe=[IDe];function ADe(t,e,n,s,r,a){return S(),A("svg",EDe,NDe)}var DDe=ge($De,[["render",ADe],["__file","arrow-down.vue"]]),ODe={name:"ArrowLeftBold"},RDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LDe=I("path",{fill:"currentColor",d:"M685.248 104.704a64 64 0 0 1 0 90.496L368.448 512l316.8 316.8a64 64 0 0 1-90.496 90.496L232.704 557.248a64 64 0 0 1 0-90.496l362.048-362.048a64 64 0 0 1 90.496 0z"},null,-1),PDe=[LDe];function MDe(t,e,n,s,r,a){return S(),A("svg",RDe,PDe)}var FDe=ge(ODe,[["render",MDe],["__file","arrow-left-bold.vue"]]),BDe={name:"ArrowLeft"},zDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VDe=I("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1),HDe=[VDe];function UDe(t,e,n,s,r,a){return S(),A("svg",zDe,HDe)}var WDe=ge(BDe,[["render",UDe],["__file","arrow-left.vue"]]),jDe={name:"ArrowRightBold"},GDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qDe=I("path",{fill:"currentColor",d:"M338.752 104.704a64 64 0 0 0 0 90.496l316.8 316.8-316.8 316.8a64 64 0 0 0 90.496 90.496l362.048-362.048a64 64 0 0 0 0-90.496L429.248 104.704a64 64 0 0 0-90.496 0z"},null,-1),KDe=[qDe];function XDe(t,e,n,s,r,a){return S(),A("svg",GDe,KDe)}var YDe=ge(jDe,[["render",XDe],["__file","arrow-right-bold.vue"]]),QDe={name:"ArrowRight"},ZDe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},JDe=I("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1),e7e=[JDe];function t7e(t,e,n,s,r,a){return S(),A("svg",ZDe,e7e)}var n7e=ge(QDe,[["render",t7e],["__file","arrow-right.vue"]]),s7e={name:"ArrowUpBold"},r7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},a7e=I("path",{fill:"currentColor",d:"M104.704 685.248a64 64 0 0 0 90.496 0l316.8-316.8 316.8 316.8a64 64 0 0 0 90.496-90.496L557.248 232.704a64 64 0 0 0-90.496 0L104.704 594.752a64 64 0 0 0 0 90.496z"},null,-1),o7e=[a7e];function i7e(t,e,n,s,r,a){return S(),A("svg",r7e,o7e)}var l7e=ge(s7e,[["render",i7e],["__file","arrow-up-bold.vue"]]),u7e={name:"ArrowUp"},c7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},d7e=I("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1),h7e=[d7e];function f7e(t,e,n,s,r,a){return S(),A("svg",c7e,h7e)}var p7e=ge(u7e,[["render",f7e],["__file","arrow-up.vue"]]),m7e={name:"Avatar"},g7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},v7e=I("path",{fill:"currentColor",d:"M628.736 528.896A416 416 0 0 1 928 928H96a415.872 415.872 0 0 1 299.264-399.104L512 704l116.736-175.104zM720 304a208 208 0 1 1-416 0 208 208 0 0 1 416 0z"},null,-1),y7e=[v7e];function b7e(t,e,n,s,r,a){return S(),A("svg",g7e,y7e)}var _7e=ge(m7e,[["render",b7e],["__file","avatar.vue"]]),w7e={name:"Back"},x7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},C7e=I("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),S7e=I("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1),T7e=[C7e,S7e];function k7e(t,e,n,s,r,a){return S(),A("svg",x7e,T7e)}var $7e=ge(w7e,[["render",k7e],["__file","back.vue"]]),E7e={name:"Baseball"},I7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},N7e=I("path",{fill:"currentColor",d:"M195.2 828.8a448 448 0 1 1 633.6-633.6 448 448 0 0 1-633.6 633.6zm45.248-45.248a384 384 0 1 0 543.104-543.104 384 384 0 0 0-543.104 543.104z"},null,-1),A7e=I("path",{fill:"currentColor",d:"M497.472 96.896c22.784 4.672 44.416 9.472 64.896 14.528a256.128 256.128 0 0 0 350.208 350.208c5.056 20.48 9.856 42.112 14.528 64.896A320.128 320.128 0 0 1 497.472 96.896zM108.48 491.904a320.128 320.128 0 0 1 423.616 423.68c-23.04-3.648-44.992-7.424-65.728-11.52a256.128 256.128 0 0 0-346.496-346.432 1736.64 1736.64 0 0 1-11.392-65.728z"},null,-1),D7e=[N7e,A7e];function O7e(t,e,n,s,r,a){return S(),A("svg",I7e,D7e)}var R7e=ge(E7e,[["render",O7e],["__file","baseball.vue"]]),L7e={name:"Basketball"},P7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},M7e=I("path",{fill:"currentColor",d:"M778.752 788.224a382.464 382.464 0 0 0 116.032-245.632 256.512 256.512 0 0 0-241.728-13.952 762.88 762.88 0 0 1 125.696 259.584zm-55.04 44.224a699.648 699.648 0 0 0-125.056-269.632 256.128 256.128 0 0 0-56.064 331.968 382.72 382.72 0 0 0 181.12-62.336zm-254.08 61.248A320.128 320.128 0 0 1 557.76 513.6a715.84 715.84 0 0 0-48.192-48.128 320.128 320.128 0 0 1-379.264 88.384 382.4 382.4 0 0 0 110.144 229.696 382.4 382.4 0 0 0 229.184 110.08zM129.28 481.088a256.128 256.128 0 0 0 331.072-56.448 699.648 699.648 0 0 0-268.8-124.352 382.656 382.656 0 0 0-62.272 180.8zm106.56-235.84a762.88 762.88 0 0 1 258.688 125.056 256.512 256.512 0 0 0-13.44-241.088A382.464 382.464 0 0 0 235.84 245.248zm318.08-114.944c40.576 89.536 37.76 193.92-8.448 281.344a779.84 779.84 0 0 1 66.176 66.112 320.832 320.832 0 0 1 282.112-8.128 382.4 382.4 0 0 0-110.144-229.12 382.4 382.4 0 0 0-229.632-110.208zM828.8 828.8a448 448 0 1 1-633.6-633.6 448 448 0 0 1 633.6 633.6z"},null,-1),F7e=[M7e];function B7e(t,e,n,s,r,a){return S(),A("svg",P7e,F7e)}var z7e=ge(L7e,[["render",B7e],["__file","basketball.vue"]]),V7e={name:"BellFilled"},H7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},U7e=I("path",{fill:"currentColor",d:"M640 832a128 128 0 0 1-256 0h256zm192-64H134.4a38.4 38.4 0 0 1 0-76.8H192V448c0-154.88 110.08-284.16 256.32-313.6a64 64 0 1 1 127.36 0A320.128 320.128 0 0 1 832 448v243.2h57.6a38.4 38.4 0 0 1 0 76.8H832z"},null,-1),W7e=[U7e];function j7e(t,e,n,s,r,a){return S(),A("svg",H7e,W7e)}var G7e=ge(V7e,[["render",j7e],["__file","bell-filled.vue"]]),q7e={name:"Bell"},K7e={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},X7e=I("path",{fill:"currentColor",d:"M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64z"},null,-1),Y7e=I("path",{fill:"currentColor",d:"M256 768h512V448a256 256 0 1 0-512 0v320zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320z"},null,-1),Q7e=I("path",{fill:"currentColor",d:"M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm352 128h128a64 64 0 0 1-128 0z"},null,-1),Z7e=[X7e,Y7e,Q7e];function J7e(t,e,n,s,r,a){return S(),A("svg",K7e,Z7e)}var eOe=ge(q7e,[["render",J7e],["__file","bell.vue"]]),tOe={name:"Bicycle"},nOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sOe=lae('<path fill="currentColor" d="M256 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M288 672h320q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"></path><path fill="currentColor" d="M768 832a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"></path><path fill="currentColor" d="M480 192a32 32 0 0 1 0-64h160a32 32 0 0 1 31.04 24.256l96 384a32 32 0 0 1-62.08 15.488L615.04 192H480zM96 384a32 32 0 0 1 0-64h128a32 32 0 0 1 30.336 21.888l64 192a32 32 0 1 1-60.672 20.224L200.96 384H96z"></path><path fill="currentColor" d="m373.376 599.808-42.752-47.616 320-288 42.752 47.616z"></path>',5),rOe=[sOe];function aOe(t,e,n,s,r,a){return S(),A("svg",nOe,rOe)}var oOe=ge(tOe,[["render",aOe],["__file","bicycle.vue"]]),iOe={name:"BottomLeft"},lOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uOe=I("path",{fill:"currentColor",d:"M256 768h416a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V352a32 32 0 0 1 64 0v416z"},null,-1),cOe=I("path",{fill:"currentColor",d:"M246.656 822.656a32 32 0 0 1-45.312-45.312l544-544a32 32 0 0 1 45.312 45.312l-544 544z"},null,-1),dOe=[uOe,cOe];function hOe(t,e,n,s,r,a){return S(),A("svg",lOe,dOe)}var fOe=ge(iOe,[["render",hOe],["__file","bottom-left.vue"]]),pOe={name:"BottomRight"},mOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gOe=I("path",{fill:"currentColor",d:"M352 768a32 32 0 1 0 0 64h448a32 32 0 0 0 32-32V352a32 32 0 0 0-64 0v416H352z"},null,-1),vOe=I("path",{fill:"currentColor",d:"M777.344 822.656a32 32 0 0 0 45.312-45.312l-544-544a32 32 0 0 0-45.312 45.312l544 544z"},null,-1),yOe=[gOe,vOe];function bOe(t,e,n,s,r,a){return S(),A("svg",mOe,yOe)}var _Oe=ge(pOe,[["render",bOe],["__file","bottom-right.vue"]]),wOe={name:"Bottom"},xOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},COe=I("path",{fill:"currentColor",d:"M544 805.888V168a32 32 0 1 0-64 0v637.888L246.656 557.952a30.72 30.72 0 0 0-45.312 0 35.52 35.52 0 0 0 0 48.064l288 306.048a30.72 30.72 0 0 0 45.312 0l288-306.048a35.52 35.52 0 0 0 0-48 30.72 30.72 0 0 0-45.312 0L544 805.824z"},null,-1),SOe=[COe];function TOe(t,e,n,s,r,a){return S(),A("svg",xOe,SOe)}var kOe=ge(wOe,[["render",TOe],["__file","bottom.vue"]]),$Oe={name:"Bowl"},EOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IOe=I("path",{fill:"currentColor",d:"M714.432 704a351.744 351.744 0 0 0 148.16-256H161.408a351.744 351.744 0 0 0 148.16 256h404.864zM288 766.592A415.68 415.68 0 0 1 96 416a32 32 0 0 1 32-32h768a32 32 0 0 1 32 32 415.68 415.68 0 0 1-192 350.592V832a64 64 0 0 1-64 64H352a64 64 0 0 1-64-64v-65.408zM493.248 320h-90.496l254.4-254.4a32 32 0 1 1 45.248 45.248L493.248 320zm187.328 0h-128l269.696-155.712a32 32 0 0 1 32 55.424L680.576 320zM352 768v64h320v-64H352z"},null,-1),NOe=[IOe];function AOe(t,e,n,s,r,a){return S(),A("svg",EOe,NOe)}var DOe=ge($Oe,[["render",AOe],["__file","bowl.vue"]]),OOe={name:"Box"},ROe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LOe=I("path",{fill:"currentColor",d:"M317.056 128 128 344.064V896h768V344.064L706.944 128H317.056zm-14.528-64h418.944a32 32 0 0 1 24.064 10.88l206.528 236.096A32 32 0 0 1 960 332.032V928a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V332.032a32 32 0 0 1 7.936-21.12L278.4 75.008A32 32 0 0 1 302.528 64z"},null,-1),POe=I("path",{fill:"currentColor",d:"M64 320h896v64H64z"},null,-1),MOe=I("path",{fill:"currentColor",d:"M448 327.872V640h128V327.872L526.08 128h-28.16L448 327.872zM448 64h128l64 256v352a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V320l64-256z"},null,-1),FOe=[LOe,POe,MOe];function BOe(t,e,n,s,r,a){return S(),A("svg",ROe,FOe)}var zOe=ge(OOe,[["render",BOe],["__file","box.vue"]]),VOe={name:"Briefcase"},HOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UOe=I("path",{fill:"currentColor",d:"M320 320V128h384v192h192v192H128V320h192zM128 576h768v320H128V576zm256-256h256.064V192H384v128z"},null,-1),WOe=[UOe];function jOe(t,e,n,s,r,a){return S(),A("svg",HOe,WOe)}var GOe=ge(VOe,[["render",jOe],["__file","briefcase.vue"]]),qOe={name:"BrushFilled"},KOe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XOe=I("path",{fill:"currentColor",d:"M608 704v160a96 96 0 0 1-192 0V704h-96a128 128 0 0 1-128-128h640a128 128 0 0 1-128 128h-96zM192 512V128.064h640V512H192z"},null,-1),YOe=[XOe];function QOe(t,e,n,s,r,a){return S(),A("svg",KOe,YOe)}var ZOe=ge(qOe,[["render",QOe],["__file","brush-filled.vue"]]),JOe={name:"Brush"},eRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tRe=I("path",{fill:"currentColor",d:"M896 448H128v192a64 64 0 0 0 64 64h192v192h256V704h192a64 64 0 0 0 64-64V448zm-770.752-64c0-47.552 5.248-90.24 15.552-128 14.72-54.016 42.496-107.392 83.2-160h417.28l-15.36 70.336L736 96h211.2c-24.832 42.88-41.92 96.256-51.2 160a663.872 663.872 0 0 0-6.144 128H960v256a128 128 0 0 1-128 128H704v160a32 32 0 0 1-32 32H352a32 32 0 0 1-32-32V768H192A128 128 0 0 1 64 640V384h61.248zm64 0h636.544c-2.048-45.824.256-91.584 6.848-137.216 4.48-30.848 10.688-59.776 18.688-86.784h-96.64l-221.12 141.248L561.92 160H256.512c-25.856 37.888-43.776 75.456-53.952 112.832-8.768 32.064-13.248 69.12-13.312 111.168z"},null,-1),nRe=[tRe];function sRe(t,e,n,s,r,a){return S(),A("svg",eRe,nRe)}var rRe=ge(JOe,[["render",sRe],["__file","brush.vue"]]),aRe={name:"Burger"},oRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iRe=I("path",{fill:"currentColor",d:"M160 512a32 32 0 0 0-32 32v64a32 32 0 0 0 30.08 32H864a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H160zm736-58.56A96 96 0 0 1 960 544v64a96 96 0 0 1-51.968 85.312L855.36 833.6a96 96 0 0 1-89.856 62.272H258.496A96 96 0 0 1 168.64 833.6l-52.608-140.224A96 96 0 0 1 64 608v-64a96 96 0 0 1 64-90.56V448a384 384 0 1 1 768 5.44zM832 448a320 320 0 0 0-640 0h640zM512 704H188.352l40.192 107.136a32 32 0 0 0 29.952 20.736h507.008a32 32 0 0 0 29.952-20.736L835.648 704H512z"},null,-1),lRe=[iRe];function uRe(t,e,n,s,r,a){return S(),A("svg",oRe,lRe)}var cRe=ge(aRe,[["render",uRe],["__file","burger.vue"]]),dRe={name:"Calendar"},hRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fRe=I("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64H128zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0v32zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64zm0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64z"},null,-1),pRe=[fRe];function mRe(t,e,n,s,r,a){return S(),A("svg",hRe,pRe)}var gRe=ge(dRe,[["render",mRe],["__file","calendar.vue"]]),vRe={name:"CameraFilled"},yRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bRe=I("path",{fill:"currentColor",d:"M160 224a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h704a64 64 0 0 0 64-64V288a64 64 0 0 0-64-64H748.416l-46.464-92.672A64 64 0 0 0 644.736 96H379.328a64 64 0 0 0-57.216 35.392L275.776 224H160zm352 435.2a115.2 115.2 0 1 0 0-230.4 115.2 115.2 0 0 0 0 230.4zm0 140.8a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),_Re=[bRe];function wRe(t,e,n,s,r,a){return S(),A("svg",yRe,_Re)}var xRe=ge(vRe,[["render",wRe],["__file","camera-filled.vue"]]),CRe={name:"Camera"},SRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},TRe=I("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1),kRe=[TRe];function $Re(t,e,n,s,r,a){return S(),A("svg",SRe,kRe)}var ERe=ge(CRe,[["render",$Re],["__file","camera.vue"]]),IRe={name:"CaretBottom"},NRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ARe=I("path",{fill:"currentColor",d:"m192 384 320 384 320-384z"},null,-1),DRe=[ARe];function ORe(t,e,n,s,r,a){return S(),A("svg",NRe,DRe)}var RRe=ge(IRe,[["render",ORe],["__file","caret-bottom.vue"]]),LRe={name:"CaretLeft"},PRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},MRe=I("path",{fill:"currentColor",d:"M672 192 288 511.936 672 832z"},null,-1),FRe=[MRe];function BRe(t,e,n,s,r,a){return S(),A("svg",PRe,FRe)}var zRe=ge(LRe,[["render",BRe],["__file","caret-left.vue"]]),VRe={name:"CaretRight"},HRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},URe=I("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null,-1),WRe=[URe];function jRe(t,e,n,s,r,a){return S(),A("svg",HRe,WRe)}var GRe=ge(VRe,[["render",jRe],["__file","caret-right.vue"]]),qRe={name:"CaretTop"},KRe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XRe=I("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"},null,-1),YRe=[XRe];function QRe(t,e,n,s,r,a){return S(),A("svg",KRe,YRe)}var ZRe=ge(qRe,[["render",QRe],["__file","caret-top.vue"]]),JRe={name:"Cellphone"},eLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tLe=I("path",{fill:"currentColor",d:"M256 128a64 64 0 0 0-64 64v640a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H256zm0-64h512a128 128 0 0 1 128 128v640a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V192A128 128 0 0 1 256 64zm128 128h256a32 32 0 1 1 0 64H384a32 32 0 0 1 0-64zm128 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),nLe=[tLe];function sLe(t,e,n,s,r,a){return S(),A("svg",eLe,nLe)}var rLe=ge(JRe,[["render",sLe],["__file","cellphone.vue"]]),aLe={name:"ChatDotRound"},oLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iLe=I("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),lLe=I("path",{fill:"currentColor",d:"M512 563.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),uLe=[iLe,lLe];function cLe(t,e,n,s,r,a){return S(),A("svg",oLe,uLe)}var dLe=ge(aLe,[["render",cLe],["__file","chat-dot-round.vue"]]),hLe={name:"ChatDotSquare"},fLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pLe=I("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),mLe=I("path",{fill:"currentColor",d:"M512 499.2a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm192 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4zm-384 0a51.2 51.2 0 1 1 0-102.4 51.2 51.2 0 0 1 0 102.4z"},null,-1),gLe=[pLe,mLe];function vLe(t,e,n,s,r,a){return S(),A("svg",fLe,gLe)}var yLe=ge(hLe,[["render",vLe],["__file","chat-dot-square.vue"]]),bLe={name:"ChatLineRound"},_Le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wLe=I("path",{fill:"currentColor",d:"m174.72 855.68 135.296-45.12 23.68 11.84C388.096 849.536 448.576 864 512 864c211.84 0 384-166.784 384-352S723.84 160 512 160 128 326.784 128 512c0 69.12 24.96 139.264 70.848 199.232l22.08 28.8-46.272 115.584zm-45.248 82.56A32 32 0 0 1 89.6 896l58.368-145.92C94.72 680.32 64 596.864 64 512 64 299.904 256 96 512 96s448 203.904 448 416-192 416-448 416a461.056 461.056 0 0 1-206.912-48.384l-175.616 58.56z"},null,-1),xLe=I("path",{fill:"currentColor",d:"M352 576h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm32-192h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),CLe=[wLe,xLe];function SLe(t,e,n,s,r,a){return S(),A("svg",_Le,CLe)}var TLe=ge(bLe,[["render",SLe],["__file","chat-line-round.vue"]]),kLe={name:"ChatLineSquare"},$Le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ELe=I("path",{fill:"currentColor",d:"M160 826.88 273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),ILe=I("path",{fill:"currentColor",d:"M352 512h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm0-192h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),NLe=[ELe,ILe];function ALe(t,e,n,s,r,a){return S(),A("svg",$Le,NLe)}var DLe=ge(kLe,[["render",ALe],["__file","chat-line-square.vue"]]),OLe={name:"ChatRound"},RLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LLe=I("path",{fill:"currentColor",d:"m174.72 855.68 130.048-43.392 23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352 0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"},null,-1),PLe=[LLe];function MLe(t,e,n,s,r,a){return S(),A("svg",RLe,PLe)}var FLe=ge(OLe,[["render",MLe],["__file","chat-round.vue"]]),BLe={name:"ChatSquare"},zLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VLe=I("path",{fill:"currentColor",d:"M273.536 736H800a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H224a64 64 0 0 0-64 64v570.88L273.536 736zM296 800 147.968 918.4A32 32 0 0 1 96 893.44V256a128 128 0 0 1 128-128h576a128 128 0 0 1 128 128v416a128 128 0 0 1-128 128H296z"},null,-1),HLe=[VLe];function ULe(t,e,n,s,r,a){return S(),A("svg",zLe,HLe)}var WLe=ge(BLe,[["render",ULe],["__file","chat-square.vue"]]),jLe={name:"Check"},GLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qLe=I("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"},null,-1),KLe=[qLe];function XLe(t,e,n,s,r,a){return S(),A("svg",GLe,KLe)}var YLe=ge(jLe,[["render",XLe],["__file","check.vue"]]),QLe={name:"Checked"},ZLe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},JLe=I("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160.064v64H704v-64zM311.616 537.28l-45.312 45.248L447.36 763.52l316.8-316.8-45.312-45.184L447.36 673.024 311.616 537.28zM384 192V96h256v96H384z"},null,-1),ePe=[JLe];function tPe(t,e,n,s,r,a){return S(),A("svg",ZLe,ePe)}var nPe=ge(QLe,[["render",tPe],["__file","checked.vue"]]),sPe={name:"Cherry"},rPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aPe=I("path",{fill:"currentColor",d:"M261.056 449.6c13.824-69.696 34.88-128.96 63.36-177.728 23.744-40.832 61.12-88.64 112.256-143.872H320a32 32 0 0 1 0-64h384a32 32 0 1 1 0 64H554.752c14.912 39.168 41.344 86.592 79.552 141.76 47.36 68.48 84.8 106.752 106.304 114.304a224 224 0 1 1-84.992 14.784c-22.656-22.912-47.04-53.76-73.92-92.608-38.848-56.128-67.008-105.792-84.352-149.312-55.296 58.24-94.528 107.52-117.76 147.2-23.168 39.744-41.088 88.768-53.568 147.072a224.064 224.064 0 1 1-64.96-1.6zM288 832a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm448-64a160 160 0 1 0 0-320 160 160 0 0 0 0 320z"},null,-1),oPe=[aPe];function iPe(t,e,n,s,r,a){return S(),A("svg",rPe,oPe)}var lPe=ge(sPe,[["render",iPe],["__file","cherry.vue"]]),uPe={name:"Chicken"},cPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dPe=I("path",{fill:"currentColor",d:"M349.952 716.992 478.72 588.16a106.688 106.688 0 0 1-26.176-19.072 106.688 106.688 0 0 1-19.072-26.176L304.704 671.744c.768 3.072 1.472 6.144 2.048 9.216l2.048 31.936 31.872 1.984c3.136.64 6.208 1.28 9.28 2.112zm57.344 33.152a128 128 0 1 1-216.32 114.432l-1.92-32-32-1.92a128 128 0 1 1 114.432-216.32L416.64 469.248c-2.432-101.44 58.112-239.104 149.056-330.048 107.328-107.328 231.296-85.504 316.8 0 85.44 85.44 107.328 209.408 0 316.8-91.008 90.88-228.672 151.424-330.112 149.056L407.296 750.08zm90.496-226.304c49.536 49.536 233.344-7.04 339.392-113.088 78.208-78.208 63.232-163.072 0-226.304-63.168-63.232-148.032-78.208-226.24 0C504.896 290.496 448.32 474.368 497.792 523.84zM244.864 708.928a64 64 0 1 0-59.84 59.84l56.32-3.52 3.52-56.32zm8.064 127.68a64 64 0 1 0 59.84-59.84l-56.32 3.52-3.52 56.32z"},null,-1),hPe=[dPe];function fPe(t,e,n,s,r,a){return S(),A("svg",cPe,hPe)}var pPe=ge(uPe,[["render",fPe],["__file","chicken.vue"]]),mPe={name:"ChromeFilled"},gPe={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},vPe=I("path",{fill:"currentColor",d:"M938.67 512.01c0-44.59-6.82-87.6-19.54-128H682.67a212.372 212.372 0 0 1 42.67 128c.06 38.71-10.45 76.7-30.42 109.87l-182.91 316.8c235.65-.01 426.66-191.02 426.66-426.67z"},null,-1),yPe=I("path",{fill:"currentColor",d:"M576.79 401.63a127.92 127.92 0 0 0-63.56-17.6c-22.36-.22-44.39 5.43-63.89 16.38s-35.79 26.82-47.25 46.02a128.005 128.005 0 0 0-2.16 127.44l1.24 2.13a127.906 127.906 0 0 0 46.36 46.61 127.907 127.907 0 0 0 63.38 17.44c22.29.2 44.24-5.43 63.68-16.33a127.94 127.94 0 0 0 47.16-45.79v-.01l1.11-1.92a127.984 127.984 0 0 0 .29-127.46 127.957 127.957 0 0 0-46.36-46.91z"},null,-1),bPe=I("path",{fill:"currentColor",d:"M394.45 333.96A213.336 213.336 0 0 1 512 298.67h369.58A426.503 426.503 0 0 0 512 85.34a425.598 425.598 0 0 0-171.74 35.98 425.644 425.644 0 0 0-142.62 102.22l118.14 204.63a213.397 213.397 0 0 1 78.67-94.21zm117.56 604.72H512zm-97.25-236.73a213.284 213.284 0 0 1-89.54-86.81L142.48 298.6c-36.35 62.81-57.13 135.68-57.13 213.42 0 203.81 142.93 374.22 333.95 416.55h.04l118.19-204.71a213.315 213.315 0 0 1-122.77-21.91z"},null,-1),_Pe=[vPe,yPe,bPe];function wPe(t,e,n,s,r,a){return S(),A("svg",gPe,_Pe)}var xPe=ge(mPe,[["render",wPe],["__file","chrome-filled.vue"]]),CPe={name:"CircleCheckFilled"},SPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},TPe=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),kPe=[TPe];function $Pe(t,e,n,s,r,a){return S(),A("svg",SPe,kPe)}var EPe=ge(CPe,[["render",$Pe],["__file","circle-check-filled.vue"]]),IPe={name:"CircleCheck"},NPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},APe=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),DPe=I("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),OPe=[APe,DPe];function RPe(t,e,n,s,r,a){return S(),A("svg",NPe,OPe)}var LPe=ge(IPe,[["render",RPe],["__file","circle-check.vue"]]),PPe={name:"CircleCloseFilled"},MPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},FPe=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),BPe=[FPe];function zPe(t,e,n,s,r,a){return S(),A("svg",MPe,BPe)}var VPe=ge(PPe,[["render",zPe],["__file","circle-close-filled.vue"]]),HPe={name:"CircleClose"},UPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WPe=I("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),jPe=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),GPe=[WPe,jPe];function qPe(t,e,n,s,r,a){return S(),A("svg",UPe,GPe)}var KPe=ge(HPe,[["render",qPe],["__file","circle-close.vue"]]),XPe={name:"CirclePlusFilled"},YPe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QPe=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-38.4 409.6H326.4a38.4 38.4 0 1 0 0 76.8h147.2v147.2a38.4 38.4 0 0 0 76.8 0V550.4h147.2a38.4 38.4 0 0 0 0-76.8H550.4V326.4a38.4 38.4 0 1 0-76.8 0v147.2z"},null,-1),ZPe=[QPe];function JPe(t,e,n,s,r,a){return S(),A("svg",YPe,ZPe)}var eMe=ge(XPe,[["render",JPe],["__file","circle-plus-filled.vue"]]),tMe={name:"CirclePlus"},nMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sMe=I("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),rMe=I("path",{fill:"currentColor",d:"M480 672V352a32 32 0 1 1 64 0v320a32 32 0 0 1-64 0z"},null,-1),aMe=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),oMe=[sMe,rMe,aMe];function iMe(t,e,n,s,r,a){return S(),A("svg",nMe,oMe)}var lMe=ge(tMe,[["render",iMe],["__file","circle-plus.vue"]]),uMe={name:"Clock"},cMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dMe=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),hMe=I("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),fMe=I("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32z"},null,-1),pMe=[dMe,hMe,fMe];function mMe(t,e,n,s,r,a){return S(),A("svg",cMe,pMe)}var gMe=ge(uMe,[["render",mMe],["__file","clock.vue"]]),vMe={name:"CloseBold"},yMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bMe=I("path",{fill:"currentColor",d:"M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"},null,-1),_Me=[bMe];function wMe(t,e,n,s,r,a){return S(),A("svg",yMe,_Me)}var xMe=ge(vMe,[["render",wMe],["__file","close-bold.vue"]]),CMe={name:"Close"},SMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},TMe=I("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),kMe=[TMe];function $Me(t,e,n,s,r,a){return S(),A("svg",SMe,kMe)}var EMe=ge(CMe,[["render",$Me],["__file","close.vue"]]),IMe={name:"Cloudy"},NMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AMe=I("path",{fill:"currentColor",d:"M598.4 831.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 831.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 381.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),DMe=[AMe];function OMe(t,e,n,s,r,a){return S(),A("svg",NMe,DMe)}var RMe=ge(IMe,[["render",OMe],["__file","cloudy.vue"]]),LMe={name:"CoffeeCup"},PMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},MMe=I("path",{fill:"currentColor",d:"M768 192a192 192 0 1 1-8 383.808A256.128 256.128 0 0 1 512 768H320A256 256 0 0 1 64 512V160a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v32zm0 64v256a128 128 0 1 0 0-256zM96 832h640a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-640v320a192 192 0 0 0 192 192h192a192 192 0 0 0 192-192V192H128z"},null,-1),FMe=[MMe];function BMe(t,e,n,s,r,a){return S(),A("svg",PMe,FMe)}var zMe=ge(LMe,[["render",BMe],["__file","coffee-cup.vue"]]),VMe={name:"Coffee"},HMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UMe=I("path",{fill:"currentColor",d:"M822.592 192h14.272a32 32 0 0 1 31.616 26.752l21.312 128A32 32 0 0 1 858.24 384h-49.344l-39.04 546.304A32 32 0 0 1 737.92 960H285.824a32 32 0 0 1-32-29.696L214.912 384H165.76a32 32 0 0 1-31.552-37.248l21.312-128A32 32 0 0 1 187.136 192h14.016l-6.72-93.696A32 32 0 0 1 226.368 64h571.008a32 32 0 0 1 31.936 34.304L822.592 192zm-64.128 0 4.544-64H260.736l4.544 64h493.184zm-548.16 128H820.48l-10.688-64H214.208l-10.688 64h6.784zm68.736 64 36.544 512H708.16l36.544-512H279.04z"},null,-1),WMe=[UMe];function jMe(t,e,n,s,r,a){return S(),A("svg",HMe,WMe)}var GMe=ge(VMe,[["render",jMe],["__file","coffee.vue"]]),qMe={name:"Coin"},KMe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XMe=I("path",{fill:"currentColor",d:"m161.92 580.736 29.888 58.88C171.328 659.776 160 681.728 160 704c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 615.808 928 657.664 928 704c0 129.728-188.544 224-416 224S96 833.728 96 704c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),YMe=I("path",{fill:"currentColor",d:"m161.92 388.736 29.888 58.88C171.328 467.84 160 489.792 160 512c0 82.304 155.328 160 352 160s352-77.696 352-160c0-22.272-11.392-44.16-31.808-64.32l30.464-58.432C903.936 423.808 928 465.664 928 512c0 129.728-188.544 224-416 224S96 641.728 96 512c0-46.592 24.32-88.576 65.92-123.264z"},null,-1),QMe=I("path",{fill:"currentColor",d:"M512 544c-227.456 0-416-94.272-416-224S284.544 96 512 96s416 94.272 416 224-188.544 224-416 224zm0-64c196.672 0 352-77.696 352-160S708.672 160 512 160s-352 77.696-352 160 155.328 160 352 160z"},null,-1),ZMe=[XMe,YMe,QMe];function JMe(t,e,n,s,r,a){return S(),A("svg",KMe,ZMe)}var eFe=ge(qMe,[["render",JMe],["__file","coin.vue"]]),tFe={name:"ColdDrink"},nFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sFe=I("path",{fill:"currentColor",d:"M768 64a192 192 0 1 1-69.952 370.88L480 725.376V896h96a32 32 0 1 1 0 64H320a32 32 0 1 1 0-64h96V725.376L76.8 273.536a64 64 0 0 1-12.8-38.4v-10.688a32 32 0 0 1 32-32h71.808l-65.536-83.84a32 32 0 0 1 50.432-39.424l96.256 123.264h337.728A192.064 192.064 0 0 1 768 64zM656.896 192.448H800a32 32 0 0 1 32 32v10.624a64 64 0 0 1-12.8 38.4l-80.448 107.2a128 128 0 1 0-81.92-188.16v-.064zm-357.888 64 129.472 165.76a32 32 0 0 1-50.432 39.36l-160.256-205.12H144l304 404.928 304-404.928H299.008z"},null,-1),rFe=[sFe];function aFe(t,e,n,s,r,a){return S(),A("svg",nFe,rFe)}var oFe=ge(tFe,[["render",aFe],["__file","cold-drink.vue"]]),iFe={name:"CollectionTag"},lFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uFe=I("path",{fill:"currentColor",d:"M256 128v698.88l196.032-156.864a96 96 0 0 1 119.936 0L768 826.816V128H256zm-32-64h576a32 32 0 0 1 32 32v797.44a32 32 0 0 1-51.968 24.96L531.968 720a32 32 0 0 0-39.936 0L243.968 918.4A32 32 0 0 1 192 893.44V96a32 32 0 0 1 32-32z"},null,-1),cFe=[uFe];function dFe(t,e,n,s,r,a){return S(),A("svg",lFe,cFe)}var hFe=ge(iFe,[["render",dFe],["__file","collection-tag.vue"]]),fFe={name:"Collection"},pFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mFe=I("path",{fill:"currentColor",d:"M192 736h640V128H256a64 64 0 0 0-64 64v544zm64-672h608a32 32 0 0 1 32 32v672a32 32 0 0 1-32 32H160l-32 57.536V192A128 128 0 0 1 256 64z"},null,-1),gFe=I("path",{fill:"currentColor",d:"M240 800a48 48 0 1 0 0 96h592v-96H240zm0-64h656v160a64 64 0 0 1-64 64H240a112 112 0 0 1 0-224zm144-608v250.88l96-76.8 96 76.8V128H384zm-64-64h320v381.44a32 32 0 0 1-51.968 24.96L480 384l-108.032 86.4A32 32 0 0 1 320 445.44V64z"},null,-1),vFe=[mFe,gFe];function yFe(t,e,n,s,r,a){return S(),A("svg",pFe,vFe)}var bFe=ge(fFe,[["render",yFe],["__file","collection.vue"]]),_Fe={name:"Comment"},wFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xFe=I("path",{fill:"currentColor",d:"M736 504a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zm-224 0a56 56 0 1 1 0-112 56 56 0 0 1 0 112zM128 128v640h192v160l224-160h352V128H128z"},null,-1),CFe=[xFe];function SFe(t,e,n,s,r,a){return S(),A("svg",wFe,CFe)}var TFe=ge(_Fe,[["render",SFe],["__file","comment.vue"]]),kFe={name:"Compass"},$Fe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EFe=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),IFe=I("path",{fill:"currentColor",d:"M725.888 315.008C676.48 428.672 624 513.28 568.576 568.64c-55.424 55.424-139.968 107.904-253.568 157.312a12.8 12.8 0 0 1-16.896-16.832c49.536-113.728 102.016-198.272 157.312-253.632 55.36-55.296 139.904-107.776 253.632-157.312a12.8 12.8 0 0 1 16.832 16.832z"},null,-1),NFe=[EFe,IFe];function AFe(t,e,n,s,r,a){return S(),A("svg",$Fe,NFe)}var DFe=ge(kFe,[["render",AFe],["__file","compass.vue"]]),OFe={name:"Connection"},RFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LFe=I("path",{fill:"currentColor",d:"M640 384v64H448a128 128 0 0 0-128 128v128a128 128 0 0 0 128 128h320a128 128 0 0 0 128-128V576a128 128 0 0 0-64-110.848V394.88c74.56 26.368 128 97.472 128 181.056v128a192 192 0 0 1-192 192H448a192 192 0 0 1-192-192V576a192 192 0 0 1 192-192h192z"},null,-1),PFe=I("path",{fill:"currentColor",d:"M384 640v-64h192a128 128 0 0 0 128-128V320a128 128 0 0 0-128-128H256a128 128 0 0 0-128 128v128a128 128 0 0 0 64 110.848v70.272A192.064 192.064 0 0 1 64 448V320a192 192 0 0 1 192-192h320a192 192 0 0 1 192 192v128a192 192 0 0 1-192 192H384z"},null,-1),MFe=[LFe,PFe];function FFe(t,e,n,s,r,a){return S(),A("svg",RFe,MFe)}var BFe=ge(OFe,[["render",FFe],["__file","connection.vue"]]),zFe={name:"Coordinate"},VFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},HFe=I("path",{fill:"currentColor",d:"M480 512h64v320h-64z"},null,-1),UFe=I("path",{fill:"currentColor",d:"M192 896h640a64 64 0 0 0-64-64H256a64 64 0 0 0-64 64zm64-128h512a128 128 0 0 1 128 128v64H128v-64a128 128 0 0 1 128-128zm256-256a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),WFe=[HFe,UFe];function jFe(t,e,n,s,r,a){return S(),A("svg",VFe,WFe)}var GFe=ge(zFe,[["render",jFe],["__file","coordinate.vue"]]),qFe={name:"CopyDocument"},KFe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XFe=I("path",{fill:"currentColor",d:"M768 832a128 128 0 0 1-128 128H192A128 128 0 0 1 64 832V384a128 128 0 0 1 128-128v64a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64h64z"},null,-1),YFe=I("path",{fill:"currentColor",d:"M384 128a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V192a64 64 0 0 0-64-64H384zm0-64h448a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H384a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64z"},null,-1),QFe=[XFe,YFe];function ZFe(t,e,n,s,r,a){return S(),A("svg",KFe,QFe)}var JFe=ge(qFe,[["render",ZFe],["__file","copy-document.vue"]]),eBe={name:"Cpu"},tBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nBe=I("path",{fill:"currentColor",d:"M320 256a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h384a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H320zm0-64h384a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H320a128 128 0 0 1-128-128V320a128 128 0 0 1 128-128z"},null,-1),sBe=I("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm-320 0a32 32 0 0 1 32 32v128h-64V96a32 32 0 0 1 32-32zm160 896a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm160 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zm-320 0a32 32 0 0 1-32-32V800h64v128a32 32 0 0 1-32 32zM64 512a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0-160a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm0 320a32 32 0 0 1 32-32h128v64H96a32 32 0 0 1-32-32zm896-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0-160a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32zm0 320a32 32 0 0 1-32 32H800v-64h128a32 32 0 0 1 32 32z"},null,-1),rBe=[nBe,sBe];function aBe(t,e,n,s,r,a){return S(),A("svg",tBe,rBe)}var oBe=ge(eBe,[["render",aBe],["__file","cpu.vue"]]),iBe={name:"CreditCard"},lBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uBe=I("path",{fill:"currentColor",d:"M896 324.096c0-42.368-2.496-55.296-9.536-68.48a52.352 52.352 0 0 0-22.144-22.08c-13.12-7.04-26.048-9.536-68.416-9.536H228.096c-42.368 0-55.296 2.496-68.48 9.536a52.352 52.352 0 0 0-22.08 22.144c-7.04 13.12-9.536 26.048-9.536 68.416v375.808c0 42.368 2.496 55.296 9.536 68.48a52.352 52.352 0 0 0 22.144 22.08c13.12 7.04 26.048 9.536 68.416 9.536h567.808c42.368 0 55.296-2.496 68.48-9.536a52.352 52.352 0 0 0 22.08-22.144c7.04-13.12 9.536-26.048 9.536-68.416V324.096zm64 0v375.808c0 57.088-5.952 77.76-17.088 98.56-11.136 20.928-27.52 37.312-48.384 48.448-20.864 11.136-41.6 17.088-98.56 17.088H228.032c-57.088 0-77.76-5.952-98.56-17.088a116.288 116.288 0 0 1-48.448-48.384c-11.136-20.864-17.088-41.6-17.088-98.56V324.032c0-57.088 5.952-77.76 17.088-98.56 11.136-20.928 27.52-37.312 48.384-48.448 20.864-11.136 41.6-17.088 98.56-17.088H795.84c57.088 0 77.76 5.952 98.56 17.088 20.928 11.136 37.312 27.52 48.448 48.384 11.136 20.864 17.088 41.6 17.088 98.56z"},null,-1),cBe=I("path",{fill:"currentColor",d:"M64 320h896v64H64v-64zm0 128h896v64H64v-64zm128 192h256v64H192z"},null,-1),dBe=[uBe,cBe];function hBe(t,e,n,s,r,a){return S(),A("svg",lBe,dBe)}var fBe=ge(iBe,[["render",hBe],["__file","credit-card.vue"]]),pBe={name:"Crop"},mBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gBe=I("path",{fill:"currentColor",d:"M256 768h672a32 32 0 1 1 0 64H224a32 32 0 0 1-32-32V96a32 32 0 0 1 64 0v672z"},null,-1),vBe=I("path",{fill:"currentColor",d:"M832 224v704a32 32 0 1 1-64 0V256H96a32 32 0 0 1 0-64h704a32 32 0 0 1 32 32z"},null,-1),yBe=[gBe,vBe];function bBe(t,e,n,s,r,a){return S(),A("svg",mBe,yBe)}var _Be=ge(pBe,[["render",bBe],["__file","crop.vue"]]),wBe={name:"DArrowLeft"},xBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},CBe=I("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1),SBe=[CBe];function TBe(t,e,n,s,r,a){return S(),A("svg",xBe,SBe)}var kBe=ge(wBe,[["render",TBe],["__file","d-arrow-left.vue"]]),$Be={name:"DArrowRight"},EBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IBe=I("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1),NBe=[IBe];function ABe(t,e,n,s,r,a){return S(),A("svg",EBe,NBe)}var DBe=ge($Be,[["render",ABe],["__file","d-arrow-right.vue"]]),OBe={name:"DCaret"},RBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LBe=I("path",{fill:"currentColor",d:"m512 128 288 320H224l288-320zM224 576h576L512 896 224 576z"},null,-1),PBe=[LBe];function MBe(t,e,n,s,r,a){return S(),A("svg",RBe,PBe)}var FBe=ge(OBe,[["render",MBe],["__file","d-caret.vue"]]),BBe={name:"DataAnalysis"},zBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VBe=I("path",{fill:"currentColor",d:"m665.216 768 110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216zM832 192H192v512h640V192zM352 448a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0v-64a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v128a32 32 0 0 1-64 0V416a32 32 0 0 1 32-32zm160-64a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V352a32 32 0 0 1 32-32z"},null,-1),HBe=[VBe];function UBe(t,e,n,s,r,a){return S(),A("svg",zBe,HBe)}var WBe=ge(BBe,[["render",UBe],["__file","data-analysis.vue"]]),jBe={name:"DataBoard"},GBe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qBe=I("path",{fill:"currentColor",d:"M32 128h960v64H32z"},null,-1),KBe=I("path",{fill:"currentColor",d:"M192 192v512h640V192H192zm-64-64h768v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V128z"},null,-1),XBe=I("path",{fill:"currentColor",d:"M322.176 960H248.32l144.64-250.56 55.424 32L322.176 960zm453.888 0h-73.856L576 741.44l55.424-32L776.064 960z"},null,-1),YBe=[qBe,KBe,XBe];function QBe(t,e,n,s,r,a){return S(),A("svg",GBe,YBe)}var ZBe=ge(jBe,[["render",QBe],["__file","data-board.vue"]]),JBe={name:"DataLine"},eze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tze=I("path",{fill:"currentColor",d:"M359.168 768H160a32 32 0 0 1-32-32V192H64a32 32 0 0 1 0-64h896a32 32 0 1 1 0 64h-64v544a32 32 0 0 1-32 32H665.216l110.848 192h-73.856L591.36 768H433.024L322.176 960H248.32l110.848-192zM832 192H192v512h640V192zM342.656 534.656a32 32 0 1 1-45.312-45.312L444.992 341.76l125.44 94.08L679.04 300.032a32 32 0 1 1 49.92 39.936L581.632 524.224 451.008 426.24 342.656 534.592z"},null,-1),nze=[tze];function sze(t,e,n,s,r,a){return S(),A("svg",eze,nze)}var rze=ge(JBe,[["render",sze],["__file","data-line.vue"]]),aze={name:"DeleteFilled"},oze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ize=I("path",{fill:"currentColor",d:"M352 192V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64H96a32 32 0 0 1 0-64h256zm64 0h192v-64H416v64zM192 960a32 32 0 0 1-32-32V256h704v672a32 32 0 0 1-32 32H192zm224-192a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32zm192 0a32 32 0 0 0 32-32V416a32 32 0 0 0-64 0v320a32 32 0 0 0 32 32z"},null,-1),lze=[ize];function uze(t,e,n,s,r,a){return S(),A("svg",oze,lze)}var cze=ge(aze,[["render",uze],["__file","delete-filled.vue"]]),dze={name:"DeleteLocation"},hze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fze=I("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),pze=I("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),mze=I("path",{fill:"currentColor",d:"M384 384h256q32 0 32 32t-32 32H384q-32 0-32-32t32-32z"},null,-1),gze=[fze,pze,mze];function vze(t,e,n,s,r,a){return S(),A("svg",hze,gze)}var yze=ge(dze,[["render",vze],["__file","delete-location.vue"]]),bze={name:"Delete"},_ze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wze=I("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1),xze=[wze];function Cze(t,e,n,s,r,a){return S(),A("svg",_ze,xze)}var Sze=ge(bze,[["render",Cze],["__file","delete.vue"]]),Tze={name:"Dessert"},kze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$ze=I("path",{fill:"currentColor",d:"M128 416v-48a144 144 0 0 1 168.64-141.888 224.128 224.128 0 0 1 430.72 0A144 144 0 0 1 896 368v48a384 384 0 0 1-352 382.72V896h-64v-97.28A384 384 0 0 1 128 416zm287.104-32.064h193.792a143.808 143.808 0 0 1 58.88-132.736 160.064 160.064 0 0 0-311.552 0 143.808 143.808 0 0 1 58.88 132.8zm-72.896 0a72 72 0 1 0-140.48 0h140.48zm339.584 0h140.416a72 72 0 1 0-140.48 0zM512 736a320 320 0 0 0 318.4-288.064H193.6A320 320 0 0 0 512 736zM384 896.064h256a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64z"},null,-1),Eze=[$ze];function Ize(t,e,n,s,r,a){return S(),A("svg",kze,Eze)}var Nze=ge(Tze,[["render",Ize],["__file","dessert.vue"]]),Aze={name:"Discount"},Dze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Oze=I("path",{fill:"currentColor",d:"M224 704h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336V704zm0 64v128h576V768H224zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),Rze=I("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),Lze=[Oze,Rze];function Pze(t,e,n,s,r,a){return S(),A("svg",Dze,Lze)}var Mze=ge(Aze,[["render",Pze],["__file","discount.vue"]]),Fze={name:"DishDot"},Bze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zze=I("path",{fill:"currentColor",d:"m384.064 274.56.064-50.688A128 128 0 0 1 512.128 96c70.528 0 127.68 57.152 127.68 127.68v50.752A448.192 448.192 0 0 1 955.392 768H68.544A448.192 448.192 0 0 1 384 274.56zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64zm32-128h768a384 384 0 1 0-768 0zm447.808-448v-32.32a63.68 63.68 0 0 0-63.68-63.68 64 64 0 0 0-64 63.936V256h127.68z"},null,-1),Vze=[zze];function Hze(t,e,n,s,r,a){return S(),A("svg",Bze,Vze)}var Uze=ge(Fze,[["render",Hze],["__file","dish-dot.vue"]]),Wze={name:"Dish"},jze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Gze=I("path",{fill:"currentColor",d:"M480 257.152V192h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96v65.152A448 448 0 0 1 955.52 768H68.48A448 448 0 0 1 480 257.152zM128 704h768a384 384 0 1 0-768 0zM96 832h832a32 32 0 1 1 0 64H96a32 32 0 1 1 0-64z"},null,-1),qze=[Gze];function Kze(t,e,n,s,r,a){return S(),A("svg",jze,qze)}var Xze=ge(Wze,[["render",Kze],["__file","dish.vue"]]),Yze={name:"DocumentAdd"},Qze={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zze=I("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm320 512V448h64v128h128v64H544v128h-64V640H352v-64h128z"},null,-1),Jze=[Zze];function eVe(t,e,n,s,r,a){return S(),A("svg",Qze,Jze)}var tVe=ge(Yze,[["render",eVe],["__file","document-add.vue"]]),nVe={name:"DocumentChecked"},sVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rVe=I("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm318.4 582.144 180.992-180.992L704.64 510.4 478.4 736.64 320 578.304l45.248-45.312L478.4 646.144z"},null,-1),aVe=[rVe];function oVe(t,e,n,s,r,a){return S(),A("svg",sVe,aVe)}var iVe=ge(nVe,[["render",oVe],["__file","document-checked.vue"]]),lVe={name:"DocumentCopy"},uVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cVe=I("path",{fill:"currentColor",d:"M128 320v576h576V320H128zm-32-64h640a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32zM960 96v704a32 32 0 0 1-32 32h-96v-64h64V128H384v64h-64V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32zM256 672h320v64H256v-64zm0-192h320v64H256v-64z"},null,-1),dVe=[cVe];function hVe(t,e,n,s,r,a){return S(),A("svg",uVe,dVe)}var fVe=ge(lVe,[["render",hVe],["__file","document-copy.vue"]]),pVe={name:"DocumentDelete"},mVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gVe=I("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm308.992 546.304-90.496-90.624 45.248-45.248 90.56 90.496 90.496-90.432 45.248 45.248-90.496 90.56 90.496 90.496-45.248 45.248-90.496-90.496-90.56 90.496-45.248-45.248 90.496-90.496z"},null,-1),vVe=[gVe];function yVe(t,e,n,s,r,a){return S(),A("svg",mVe,vVe)}var bVe=ge(pVe,[["render",yVe],["__file","document-delete.vue"]]),_Ve={name:"DocumentRemove"},wVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xVe=I("path",{fill:"currentColor",d:"M805.504 320 640 154.496V320h165.504zM832 384H576V128H192v768h640V384zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm192 512h320v64H352v-64z"},null,-1),CVe=[xVe];function SVe(t,e,n,s,r,a){return S(),A("svg",wVe,CVe)}var TVe=ge(_Ve,[["render",SVe],["__file","document-remove.vue"]]),kVe={name:"Document"},$Ve={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EVe=I("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640V384zm-26.496-64L640 154.496V320h165.504zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h160v64H320v-64zm0 384h384v64H320v-64z"},null,-1),IVe=[EVe];function NVe(t,e,n,s,r,a){return S(),A("svg",$Ve,IVe)}var AVe=ge(kVe,[["render",NVe],["__file","document.vue"]]),DVe={name:"Download"},OVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RVe=I("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-253.696 236.288-236.352 45.248 45.248L508.8 704 192 387.2l45.248-45.248L480 584.704V128h64v450.304z"},null,-1),LVe=[RVe];function PVe(t,e,n,s,r,a){return S(),A("svg",OVe,LVe)}var MVe=ge(DVe,[["render",PVe],["__file","download.vue"]]),FVe={name:"Drizzling"},BVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zVe=I("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM288 800h64v64h-64v-64zm192 0h64v64h-64v-64zm-96 96h64v64h-64v-64zm192 0h64v64h-64v-64zm96-96h64v64h-64v-64z"},null,-1),VVe=[zVe];function HVe(t,e,n,s,r,a){return S(),A("svg",BVe,VVe)}var UVe=ge(FVe,[["render",HVe],["__file","drizzling.vue"]]),WVe={name:"EditPen"},jVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},GVe=I("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z"},null,-1),qVe=[GVe];function KVe(t,e,n,s,r,a){return S(),A("svg",jVe,qVe)}var XVe=ge(WVe,[["render",KVe],["__file","edit-pen.vue"]]),YVe={name:"Edit"},QVe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZVe=I("path",{fill:"currentColor",d:"M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"},null,-1),JVe=I("path",{fill:"currentColor",d:"m469.952 554.24 52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"},null,-1),eHe=[ZVe,JVe];function tHe(t,e,n,s,r,a){return S(),A("svg",QVe,eHe)}var nHe=ge(YVe,[["render",tHe],["__file","edit.vue"]]),sHe={name:"ElemeFilled"},rHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aHe=I("path",{fill:"currentColor",d:"M176 64h672c61.824 0 112 50.176 112 112v672a112 112 0 0 1-112 112H176A112 112 0 0 1 64 848V176c0-61.824 50.176-112 112-112zm150.528 173.568c-152.896 99.968-196.544 304.064-97.408 456.96a330.688 330.688 0 0 0 456.96 96.64c9.216-5.888 17.6-11.776 25.152-18.56a18.24 18.24 0 0 0 4.224-24.32L700.352 724.8a47.552 47.552 0 0 0-65.536-14.272A234.56 234.56 0 0 1 310.592 641.6C240 533.248 271.104 387.968 379.456 316.48a234.304 234.304 0 0 1 276.352 15.168c1.664.832 2.56 2.56 3.392 4.224 5.888 8.384 3.328 19.328-5.12 25.216L456.832 489.6a47.552 47.552 0 0 0-14.336 65.472l16 24.384c5.888 8.384 16.768 10.88 25.216 5.056l308.224-199.936a19.584 19.584 0 0 0 6.72-23.488v-.896c-4.992-9.216-10.048-17.6-15.104-26.88-99.968-151.168-304.064-194.88-456.96-95.744zM786.88 504.704l-62.208 40.32c-8.32 5.888-10.88 16.768-4.992 25.216L760 632.32c5.888 8.448 16.768 11.008 25.152 5.12l31.104-20.16a55.36 55.36 0 0 0 16-76.48l-20.224-31.04a19.52 19.52 0 0 0-25.152-5.12z"},null,-1),oHe=[aHe];function iHe(t,e,n,s,r,a){return S(),A("svg",rHe,oHe)}var lHe=ge(sHe,[["render",iHe],["__file","eleme-filled.vue"]]),uHe={name:"Eleme"},cHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dHe=I("path",{fill:"currentColor",d:"M300.032 188.8c174.72-113.28 408-63.36 522.24 109.44 5.76 10.56 11.52 20.16 17.28 30.72v.96a22.4 22.4 0 0 1-7.68 26.88l-352.32 228.48c-9.6 6.72-22.08 3.84-28.8-5.76l-18.24-27.84a54.336 54.336 0 0 1 16.32-74.88l225.6-146.88c9.6-6.72 12.48-19.2 5.76-28.8-.96-1.92-1.92-3.84-3.84-4.8a267.84 267.84 0 0 0-315.84-17.28c-123.84 81.6-159.36 247.68-78.72 371.52a268.096 268.096 0 0 0 370.56 78.72 54.336 54.336 0 0 1 74.88 16.32l17.28 26.88c5.76 9.6 3.84 21.12-4.8 27.84-8.64 7.68-18.24 14.4-28.8 21.12a377.92 377.92 0 0 1-522.24-110.4c-113.28-174.72-63.36-408 111.36-522.24zm526.08 305.28a22.336 22.336 0 0 1 28.8 5.76l23.04 35.52a63.232 63.232 0 0 1-18.24 87.36l-35.52 23.04c-9.6 6.72-22.08 3.84-28.8-5.76l-46.08-71.04c-6.72-9.6-3.84-22.08 5.76-28.8l71.04-46.08z"},null,-1),hHe=[dHe];function fHe(t,e,n,s,r,a){return S(),A("svg",cHe,hHe)}var pHe=ge(uHe,[["render",fHe],["__file","eleme.vue"]]),mHe={name:"ElementPlus"},gHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vHe=I("path",{fill:"currentColor",d:"M839.7 734.7c0 33.3-17.9 41-17.9 41S519.7 949.8 499.2 960c-10.2 5.1-20.5 5.1-30.7 0 0 0-314.9-184.3-325.1-192-5.1-5.1-10.2-12.8-12.8-20.5V368.6c0-17.9 20.5-28.2 20.5-28.2L466 158.6c12.8-5.1 25.6-5.1 38.4 0 0 0 279 161.3 309.8 179.2 17.9 7.7 28.2 25.6 25.6 46.1-.1-5-.1 317.5-.1 350.8zM714.2 371.2c-64-35.8-217.6-125.4-217.6-125.4-7.7-5.1-20.5-5.1-30.7 0L217.6 389.1s-17.9 10.2-17.9 23v297c0 5.1 5.1 12.8 7.7 17.9 7.7 5.1 256 148.5 256 148.5 7.7 5.1 17.9 5.1 25.6 0 15.4-7.7 250.9-145.9 250.9-145.9s12.8-5.1 12.8-30.7v-74.2l-276.5 169v-64c0-17.9 7.7-30.7 20.5-46.1L745 535c5.1-7.7 10.2-20.5 10.2-30.7v-66.6l-279 169v-69.1c0-15.4 5.1-30.7 17.9-38.4l220.1-128zM919 135.7c0-5.1-5.1-7.7-7.7-7.7h-58.9V66.6c0-5.1-5.1-5.1-10.2-5.1l-30.7 5.1c-5.1 0-5.1 2.6-5.1 5.1V128h-56.3c-5.1 0-5.1 5.1-7.7 5.1v38.4h69.1v64c0 5.1 5.1 5.1 10.2 5.1l30.7-5.1c5.1 0 5.1-2.6 5.1-5.1v-56.3h64l-2.5-38.4z"},null,-1),yHe=[vHe];function bHe(t,e,n,s,r,a){return S(),A("svg",gHe,yHe)}var _He=ge(mHe,[["render",bHe],["__file","element-plus.vue"]]),wHe={name:"Expand"},xHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},CHe=I("path",{fill:"currentColor",d:"M128 192h768v128H128V192zm0 256h512v128H128V448zm0 256h768v128H128V704zm576-352 192 160-192 128V352z"},null,-1),SHe=[CHe];function THe(t,e,n,s,r,a){return S(),A("svg",xHe,SHe)}var kHe=ge(wHe,[["render",THe],["__file","expand.vue"]]),$He={name:"Failed"},EHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IHe=I("path",{fill:"currentColor",d:"m557.248 608 135.744-135.744-45.248-45.248-135.68 135.744-135.808-135.68-45.248 45.184L466.752 608l-135.68 135.68 45.184 45.312L512 653.248l135.744 135.744 45.248-45.248L557.312 608zM704 192h160v736H160V192h160v64h384v-64zm-320 0V96h256v96H384z"},null,-1),NHe=[IHe];function AHe(t,e,n,s,r,a){return S(),A("svg",EHe,NHe)}var DHe=ge($He,[["render",AHe],["__file","failed.vue"]]),OHe={name:"Female"},RHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LHe=I("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),PHe=I("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32z"},null,-1),MHe=I("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),FHe=[LHe,PHe,MHe];function BHe(t,e,n,s,r,a){return S(),A("svg",RHe,FHe)}var zHe=ge(OHe,[["render",BHe],["__file","female.vue"]]),VHe={name:"Files"},HHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UHe=I("path",{fill:"currentColor",d:"M128 384v448h768V384H128zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32zm64-128h704v64H160zm96-128h512v64H256z"},null,-1),WHe=[UHe];function jHe(t,e,n,s,r,a){return S(),A("svg",HHe,WHe)}var GHe=ge(VHe,[["render",jHe],["__file","files.vue"]]),qHe={name:"Film"},KHe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XHe=I("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),YHe=I("path",{fill:"currentColor",d:"M320 288V128h64v352h256V128h64v160h160v64H704v128h160v64H704v128h160v64H704v160h-64V544H384v352h-64V736H128v-64h192V544H128v-64h192V352H128v-64h192z"},null,-1),QHe=[XHe,YHe];function ZHe(t,e,n,s,r,a){return S(),A("svg",KHe,QHe)}var JHe=ge(qHe,[["render",ZHe],["__file","film.vue"]]),eUe={name:"Filter"},tUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nUe=I("path",{fill:"currentColor",d:"M384 523.392V928a32 32 0 0 0 46.336 28.608l192-96A32 32 0 0 0 640 832V523.392l280.768-343.104a32 32 0 1 0-49.536-40.576l-288 352A32 32 0 0 0 576 512v300.224l-128 64V512a32 32 0 0 0-7.232-20.288L195.52 192H704a32 32 0 1 0 0-64H128a32 32 0 0 0-24.768 52.288L384 523.392z"},null,-1),sUe=[nUe];function rUe(t,e,n,s,r,a){return S(),A("svg",tUe,sUe)}var aUe=ge(eUe,[["render",rUe],["__file","filter.vue"]]),oUe={name:"Finished"},iUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lUe=I("path",{fill:"currentColor",d:"M280.768 753.728 691.456 167.04a32 32 0 1 1 52.416 36.672L314.24 817.472a32 32 0 0 1-45.44 7.296l-230.4-172.8a32 32 0 0 1 38.4-51.2l203.968 152.96zM736 448a32 32 0 1 1 0-64h192a32 32 0 1 1 0 64H736zM608 640a32 32 0 0 1 0-64h319.936a32 32 0 1 1 0 64H608zM480 832a32 32 0 1 1 0-64h447.936a32 32 0 1 1 0 64H480z"},null,-1),uUe=[lUe];function cUe(t,e,n,s,r,a){return S(),A("svg",iUe,uUe)}var dUe=ge(oUe,[["render",cUe],["__file","finished.vue"]]),hUe={name:"FirstAidKit"},fUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pUe=I("path",{fill:"currentColor",d:"M192 256a64 64 0 0 0-64 64v448a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V320a64 64 0 0 0-64-64H192zm0-64h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),mUe=I("path",{fill:"currentColor",d:"M544 512h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96v-96a32 32 0 0 1 64 0v96zM352 128v64h320v-64H352zm-32-64h384a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32H320a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),gUe=[pUe,mUe];function vUe(t,e,n,s,r,a){return S(),A("svg",fUe,gUe)}var yUe=ge(hUe,[["render",vUe],["__file","first-aid-kit.vue"]]),bUe={name:"Flag"},_Ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wUe=I("path",{fill:"currentColor",d:"M288 128h608L736 384l160 256H288v320h-96V64h96v64z"},null,-1),xUe=[wUe];function CUe(t,e,n,s,r,a){return S(),A("svg",_Ue,xUe)}var SUe=ge(bUe,[["render",CUe],["__file","flag.vue"]]),TUe={name:"Fold"},kUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$Ue=I("path",{fill:"currentColor",d:"M896 192H128v128h768V192zm0 256H384v128h512V448zm0 256H128v128h768V704zM320 384 128 512l192 128V384z"},null,-1),EUe=[$Ue];function IUe(t,e,n,s,r,a){return S(),A("svg",kUe,EUe)}var NUe=ge(TUe,[["render",IUe],["__file","fold.vue"]]),AUe={name:"FolderAdd"},DUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},OUe=I("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm384 416V416h64v128h128v64H544v128h-64V608H352v-64h128z"},null,-1),RUe=[OUe];function LUe(t,e,n,s,r,a){return S(),A("svg",DUe,RUe)}var PUe=ge(AUe,[["render",LUe],["__file","folder-add.vue"]]),MUe={name:"FolderChecked"},FUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BUe=I("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm414.08 502.144 180.992-180.992L736.32 494.4 510.08 720.64l-158.4-158.336 45.248-45.312L510.08 630.144z"},null,-1),zUe=[BUe];function VUe(t,e,n,s,r,a){return S(),A("svg",FUe,zUe)}var HUe=ge(MUe,[["render",VUe],["__file","folder-checked.vue"]]),UUe={name:"FolderDelete"},WUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jUe=I("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm370.752 448-90.496-90.496 45.248-45.248L512 530.752l90.496-90.496 45.248 45.248L557.248 576l90.496 90.496-45.248 45.248L512 621.248l-90.496 90.496-45.248-45.248L466.752 576z"},null,-1),GUe=[jUe];function qUe(t,e,n,s,r,a){return S(),A("svg",WUe,GUe)}var KUe=ge(UUe,[["render",qUe],["__file","folder-delete.vue"]]),XUe={name:"FolderOpened"},YUe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QUe=I("path",{fill:"currentColor",d:"M878.08 448H241.92l-96 384h636.16l96-384zM832 384v-64H485.76L357.504 192H128v448l57.92-231.744A32 32 0 0 1 216.96 384H832zm-24.96 512H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h287.872l128.384 128H864a32 32 0 0 1 32 32v96h23.04a32 32 0 0 1 31.04 39.744l-112 448A32 32 0 0 1 807.04 896z"},null,-1),ZUe=[QUe];function JUe(t,e,n,s,r,a){return S(),A("svg",YUe,ZUe)}var eWe=ge(XUe,[["render",JUe],["__file","folder-opened.vue"]]),tWe={name:"FolderRemove"},nWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sWe=I("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32zm256 416h320v64H352v-64z"},null,-1),rWe=[sWe];function aWe(t,e,n,s,r,a){return S(),A("svg",nWe,rWe)}var oWe=ge(tWe,[["render",aWe],["__file","folder-remove.vue"]]),iWe={name:"Folder"},lWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uWe=I("path",{fill:"currentColor",d:"M128 192v640h768V320H485.76L357.504 192H128zm-32-64h287.872l128.384 128H928a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32z"},null,-1),cWe=[uWe];function dWe(t,e,n,s,r,a){return S(),A("svg",lWe,cWe)}var hWe=ge(iWe,[["render",dWe],["__file","folder.vue"]]),fWe={name:"Food"},pWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mWe=I("path",{fill:"currentColor",d:"M128 352.576V352a288 288 0 0 1 491.072-204.224 192 192 0 0 1 274.24 204.48 64 64 0 0 1 57.216 74.24C921.6 600.512 850.048 710.656 736 756.992V800a96 96 0 0 1-96 96H384a96 96 0 0 1-96-96v-43.008c-114.048-46.336-185.6-156.48-214.528-330.496A64 64 0 0 1 128 352.64zm64-.576h64a160 160 0 0 1 320 0h64a224 224 0 0 0-448 0zm128 0h192a96 96 0 0 0-192 0zm439.424 0h68.544A128.256 128.256 0 0 0 704 192c-15.36 0-29.952 2.688-43.52 7.616 11.328 18.176 20.672 37.76 27.84 58.304A64.128 64.128 0 0 1 759.424 352zM672 768H352v32a32 32 0 0 0 32 32h256a32 32 0 0 0 32-32v-32zm-342.528-64h365.056c101.504-32.64 165.76-124.928 192.896-288H136.576c27.136 163.072 91.392 255.36 192.896 288z"},null,-1),gWe=[mWe];function vWe(t,e,n,s,r,a){return S(),A("svg",pWe,gWe)}var yWe=ge(fWe,[["render",vWe],["__file","food.vue"]]),bWe={name:"Football"},_We={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wWe=I("path",{fill:"currentColor",d:"M512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-64a384 384 0 1 0 0-768 384 384 0 0 0 0 768z"},null,-1),xWe=I("path",{fill:"currentColor",d:"M186.816 268.288c16-16.384 31.616-31.744 46.976-46.08 17.472 30.656 39.808 58.112 65.984 81.28l-32.512 56.448a385.984 385.984 0 0 1-80.448-91.648zm653.696-5.312a385.92 385.92 0 0 1-83.776 96.96l-32.512-56.384a322.923 322.923 0 0 0 68.48-85.76c15.552 14.08 31.488 29.12 47.808 45.184zM465.984 445.248l11.136-63.104a323.584 323.584 0 0 0 69.76 0l11.136 63.104a387.968 387.968 0 0 1-92.032 0zm-62.72-12.8A381.824 381.824 0 0 1 320 396.544l32-55.424a319.885 319.885 0 0 0 62.464 27.712l-11.2 63.488zm300.8-35.84a381.824 381.824 0 0 1-83.328 35.84l-11.2-63.552A319.885 319.885 0 0 0 672 341.184l32 55.424zm-520.768 364.8a385.92 385.92 0 0 1 83.968-97.28l32.512 56.32c-26.88 23.936-49.856 52.352-67.52 84.032-16-13.44-32.32-27.712-48.96-43.072zm657.536.128a1442.759 1442.759 0 0 1-49.024 43.072 321.408 321.408 0 0 0-67.584-84.16l32.512-56.32c33.216 27.456 61.696 60.352 84.096 97.408zM465.92 578.752a387.968 387.968 0 0 1 92.032 0l-11.136 63.104a323.584 323.584 0 0 0-69.76 0l-11.136-63.104zm-62.72 12.8 11.2 63.552a319.885 319.885 0 0 0-62.464 27.712L320 627.392a381.824 381.824 0 0 1 83.264-35.84zm300.8 35.84-32 55.424a318.272 318.272 0 0 0-62.528-27.712l11.2-63.488c29.44 8.64 57.28 20.736 83.264 35.776z"},null,-1),CWe=[wWe,xWe];function SWe(t,e,n,s,r,a){return S(),A("svg",_We,CWe)}var TWe=ge(bWe,[["render",SWe],["__file","football.vue"]]),kWe={name:"ForkSpoon"},$We={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EWe=I("path",{fill:"currentColor",d:"M256 410.304V96a32 32 0 0 1 64 0v314.304a96 96 0 0 0 64-90.56V96a32 32 0 0 1 64 0v223.744a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.544a160 160 0 0 1-128-156.8V96a32 32 0 0 1 64 0v223.744a96 96 0 0 0 64 90.56zM672 572.48C581.184 552.128 512 446.848 512 320c0-141.44 85.952-256 192-256s192 114.56 192 256c0 126.848-69.184 232.128-160 252.48V928a32 32 0 1 1-64 0V572.48zM704 512c66.048 0 128-82.56 128-192s-61.952-192-128-192-128 82.56-128 192 61.952 192 128 192z"},null,-1),IWe=[EWe];function NWe(t,e,n,s,r,a){return S(),A("svg",$We,IWe)}var AWe=ge(kWe,[["render",NWe],["__file","fork-spoon.vue"]]),DWe={name:"Fries"},OWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RWe=I("path",{fill:"currentColor",d:"M608 224v-64a32 32 0 0 0-64 0v336h26.88A64 64 0 0 0 608 484.096V224zm101.12 160A64 64 0 0 0 672 395.904V384h64V224a32 32 0 1 0-64 0v160h37.12zm74.88 0a92.928 92.928 0 0 1 91.328 110.08l-60.672 323.584A96 96 0 0 1 720.32 896H303.68a96 96 0 0 1-94.336-78.336L148.672 494.08A92.928 92.928 0 0 1 240 384h-16V224a96 96 0 0 1 188.608-25.28A95.744 95.744 0 0 1 480 197.44V160a96 96 0 0 1 188.608-25.28A96 96 0 0 1 800 224v160h-16zM670.784 512a128 128 0 0 1-99.904 48H453.12a128 128 0 0 1-99.84-48H352v-1.536a128.128 128.128 0 0 1-9.984-14.976L314.88 448H240a28.928 28.928 0 0 0-28.48 34.304L241.088 640h541.824l29.568-157.696A28.928 28.928 0 0 0 784 448h-74.88l-27.136 47.488A132.405 132.405 0 0 1 672 510.464V512h-1.216zM480 288a32 32 0 0 0-64 0v196.096A64 64 0 0 0 453.12 496H480V288zm-128 96V224a32 32 0 0 0-64 0v160h64-37.12A64 64 0 0 1 352 395.904zm-98.88 320 19.072 101.888A32 32 0 0 0 303.68 832h416.64a32 32 0 0 0 31.488-26.112L770.88 704H253.12z"},null,-1),LWe=[RWe];function PWe(t,e,n,s,r,a){return S(),A("svg",OWe,LWe)}var MWe=ge(DWe,[["render",PWe],["__file","fries.vue"]]),FWe={name:"FullScreen"},BWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zWe=I("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1),VWe=[zWe];function HWe(t,e,n,s,r,a){return S(),A("svg",BWe,VWe)}var UWe=ge(FWe,[["render",HWe],["__file","full-screen.vue"]]),WWe={name:"GobletFull"},jWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},GWe=I("path",{fill:"currentColor",d:"M256 320h512c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320zm503.936 64H264.064a256.128 256.128 0 0 0 495.872 0zM544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4z"},null,-1),qWe=[GWe];function KWe(t,e,n,s,r,a){return S(),A("svg",jWe,qWe)}var XWe=ge(WWe,[["render",KWe],["__file","goblet-full.vue"]]),YWe={name:"GobletSquareFull"},QWe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZWe=I("path",{fill:"currentColor",d:"M256 270.912c10.048 6.72 22.464 14.912 28.992 18.624a220.16 220.16 0 0 0 114.752 30.72c30.592 0 49.408-9.472 91.072-41.152l.64-.448c52.928-40.32 82.368-55.04 132.288-54.656 55.552.448 99.584 20.8 142.72 57.408l1.536 1.28V128H256v142.912zm.96 76.288C266.368 482.176 346.88 575.872 512 576c157.44.064 237.952-85.056 253.248-209.984a952.32 952.32 0 0 1-40.192-35.712c-32.704-27.776-63.36-41.92-101.888-42.24-31.552-.256-50.624 9.28-93.12 41.6l-.576.448c-52.096 39.616-81.024 54.208-129.792 54.208-54.784 0-100.48-13.376-142.784-37.056zM480 638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848z"},null,-1),JWe=[ZWe];function eje(t,e,n,s,r,a){return S(),A("svg",QWe,JWe)}var tje=ge(YWe,[["render",eje],["__file","goblet-square-full.vue"]]),nje={name:"GobletSquare"},sje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rje=I("path",{fill:"currentColor",d:"M544 638.912V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.848C250.624 623.424 192 442.496 192 319.68V96a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v224c0 122.816-58.624 303.68-288 318.912zM256 319.68c0 149.568 80 256.192 256 256.256C688.128 576 768 469.568 768 320V128H256v191.68z"},null,-1),aje=[rje];function oje(t,e,n,s,r,a){return S(),A("svg",sje,aje)}var ije=ge(nje,[["render",oje],["__file","goblet-square.vue"]]),lje={name:"Goblet"},uje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cje=I("path",{fill:"currentColor",d:"M544 638.4V896h96a32 32 0 1 1 0 64H384a32 32 0 1 1 0-64h96V638.4A320 320 0 0 1 192 320c0-85.632 21.312-170.944 64-256h512c42.688 64.32 64 149.632 64 256a320 320 0 0 1-288 318.4zM256 320a256 256 0 1 0 512 0c0-78.592-12.608-142.4-36.928-192h-434.24C269.504 192.384 256 256.256 256 320z"},null,-1),dje=[cje];function hje(t,e,n,s,r,a){return S(),A("svg",uje,dje)}var fje=ge(lje,[["render",hje],["__file","goblet.vue"]]),pje={name:"GoldMedal"},mje={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},gje=I("path",{fill:"currentColor",d:"m772.13 452.84 53.86-351.81c1.32-10.01-1.17-18.68-7.49-26.02S804.35 64 795.01 64H228.99v-.01h-.06c-9.33 0-17.15 3.67-23.49 11.01s-8.83 16.01-7.49 26.02l53.87 351.89C213.54 505.73 193.59 568.09 192 640c2 90.67 33.17 166.17 93.5 226.5S421.33 957.99 512 960c90.67-2 166.17-33.17 226.5-93.5 60.33-60.34 91.49-135.83 93.5-226.5-1.59-71.94-21.56-134.32-59.87-187.16zM640.01 128h117.02l-39.01 254.02c-20.75-10.64-40.74-19.73-59.94-27.28-5.92-3-11.95-5.8-18.08-8.41V128h.01zM576 128v198.76c-13.18-2.58-26.74-4.43-40.67-5.55-8.07-.8-15.85-1.2-23.33-1.2-10.54 0-21.09.66-31.64 1.96a359.844 359.844 0 0 0-32.36 4.79V128h128zm-192 0h.04v218.3c-6.22 2.66-12.34 5.5-18.36 8.56-19.13 7.54-39.02 16.6-59.66 27.16L267.01 128H384zm308.99 692.99c-48 48-108.33 73-180.99 75.01-72.66-2.01-132.99-27.01-180.99-75.01S258.01 712.66 256 640c2.01-72.66 27.01-132.99 75.01-180.99 19.67-19.67 41.41-35.47 65.22-47.41 38.33-15.04 71.15-23.92 98.44-26.65 5.07-.41 10.2-.7 15.39-.88.63-.01 1.28-.03 1.91-.03.66 0 1.35.03 2.02.04 5.11.17 10.15.46 15.13.86 27.4 2.71 60.37 11.65 98.91 26.79 23.71 11.93 45.36 27.69 64.96 47.29 48 48 73 108.33 75.01 180.99-2.01 72.65-27.01 132.98-75.01 180.98z"},null,-1),vje=I("path",{fill:"currentColor",d:"M544 480H416v64h64v192h-64v64h192v-64h-64z"},null,-1),yje=[gje,vje];function bje(t,e,n,s,r,a){return S(),A("svg",mje,yje)}var _je=ge(pje,[["render",bje],["__file","gold-medal.vue"]]),wje={name:"GoodsFilled"},xje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Cje=I("path",{fill:"currentColor",d:"M192 352h640l64 544H128l64-544zm128 224h64V448h-64v128zm320 0h64V448h-64v128zM384 288h-64a192 192 0 1 1 384 0h-64a128 128 0 1 0-256 0z"},null,-1),Sje=[Cje];function Tje(t,e,n,s,r,a){return S(),A("svg",xje,Sje)}var kje=ge(wje,[["render",Tje],["__file","goods-filled.vue"]]),$je={name:"Goods"},Eje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ije=I("path",{fill:"currentColor",d:"M320 288v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4h131.072a32 32 0 0 1 31.808 28.8l57.6 576a32 32 0 0 1-31.808 35.2H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320zm64 0h256v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4zm-64 64H217.92l-51.2 512h690.56l-51.264-512H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96z"},null,-1),Nje=[Ije];function Aje(t,e,n,s,r,a){return S(),A("svg",Eje,Nje)}var Dje=ge($je,[["render",Aje],["__file","goods.vue"]]),Oje={name:"Grape"},Rje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lje=I("path",{fill:"currentColor",d:"M544 195.2a160 160 0 0 1 96 60.8 160 160 0 1 1 146.24 254.976 160 160 0 0 1-128 224 160 160 0 1 1-292.48 0 160 160 0 0 1-128-224A160 160 0 1 1 384 256a160 160 0 0 1 96-60.8V128h-64a32 32 0 0 1 0-64h192a32 32 0 0 1 0 64h-64v67.2zM512 448a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm-256 0a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128 224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm128-224a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),Pje=[Lje];function Mje(t,e,n,s,r,a){return S(),A("svg",Rje,Pje)}var Fje=ge(Oje,[["render",Mje],["__file","grape.vue"]]),Bje={name:"Grid"},zje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vje=I("path",{fill:"currentColor",d:"M640 384v256H384V384h256zm64 0h192v256H704V384zm-64 512H384V704h256v192zm64 0V704h192v192H704zm-64-768v192H384V128h256zm64 0h192v192H704V128zM320 384v256H128V384h192zm0 512H128V704h192v192zm0-768v192H128V128h192z"},null,-1),Hje=[Vje];function Uje(t,e,n,s,r,a){return S(),A("svg",zje,Hje)}var Wje=ge(Bje,[["render",Uje],["__file","grid.vue"]]),jje={name:"Guide"},Gje={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qje=I("path",{fill:"currentColor",d:"M640 608h-64V416h64v192zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768h64zM384 608V416h64v192h-64zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32v160z"},null,-1),Kje=I("path",{fill:"currentColor",d:"m220.8 256-71.232 80 71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192zm678.784 496-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"},null,-1),Xje=[qje,Kje];function Yje(t,e,n,s,r,a){return S(),A("svg",Gje,Xje)}var Qje=ge(jje,[["render",Yje],["__file","guide.vue"]]),Zje={name:"Handbag"},Jje={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},eGe=I("path",{fill:"currentColor",d:"M887.01 264.99c-6-5.99-13.67-8.99-23.01-8.99H704c-1.34-54.68-20.01-100.01-56-136s-81.32-54.66-136-56c-54.68 1.34-100.01 20.01-136 56s-54.66 81.32-56 136H160c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.67-8.99 23.01v640c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V288c0-9.35-2.99-17.02-8.99-23.01zM421.5 165.5c24.32-24.34 54.49-36.84 90.5-37.5 35.99.68 66.16 13.18 90.5 37.5s36.84 54.49 37.5 90.5H384c.68-35.99 13.18-66.16 37.5-90.5zM832 896H192V320h128v128h64V320h256v128h64V320h128v576z"},null,-1),tGe=[eGe];function nGe(t,e,n,s,r,a){return S(),A("svg",Jje,tGe)}var sGe=ge(Zje,[["render",nGe],["__file","handbag.vue"]]),rGe={name:"Headset"},aGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oGe=I("path",{fill:"currentColor",d:"M896 529.152V512a384 384 0 1 0-768 0v17.152A128 128 0 0 1 320 640v128a128 128 0 1 1-256 0V512a448 448 0 1 1 896 0v256a128 128 0 1 1-256 0V640a128 128 0 0 1 192-110.848zM896 640a64 64 0 0 0-128 0v128a64 64 0 0 0 128 0V640zm-768 0v128a64 64 0 0 0 128 0V640a64 64 0 1 0-128 0z"},null,-1),iGe=[oGe];function lGe(t,e,n,s,r,a){return S(),A("svg",aGe,iGe)}var uGe=ge(rGe,[["render",lGe],["__file","headset.vue"]]),cGe={name:"HelpFilled"},dGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hGe=I("path",{fill:"currentColor",d:"M926.784 480H701.312A192.512 192.512 0 0 0 544 322.688V97.216A416.064 416.064 0 0 1 926.784 480zm0 64A416.064 416.064 0 0 1 544 926.784V701.312A192.512 192.512 0 0 0 701.312 544h225.472zM97.28 544h225.472A192.512 192.512 0 0 0 480 701.312v225.472A416.064 416.064 0 0 1 97.216 544zm0-64A416.064 416.064 0 0 1 480 97.216v225.472A192.512 192.512 0 0 0 322.688 480H97.216z"},null,-1),fGe=[hGe];function pGe(t,e,n,s,r,a){return S(),A("svg",dGe,fGe)}var mGe=ge(cGe,[["render",pGe],["__file","help-filled.vue"]]),gGe={name:"Help"},vGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yGe=I("path",{fill:"currentColor",d:"m759.936 805.248-90.944-91.008A254.912 254.912 0 0 1 512 768a254.912 254.912 0 0 1-156.992-53.76l-90.944 91.008A382.464 382.464 0 0 0 512 896c94.528 0 181.12-34.176 247.936-90.752zm45.312-45.312A382.464 382.464 0 0 0 896 512c0-94.528-34.176-181.12-90.752-247.936l-91.008 90.944C747.904 398.4 768 452.864 768 512c0 59.136-20.096 113.6-53.76 156.992l91.008 90.944zm-45.312-541.184A382.464 382.464 0 0 0 512 128c-94.528 0-181.12 34.176-247.936 90.752l90.944 91.008A254.912 254.912 0 0 1 512 256c59.136 0 113.6 20.096 156.992 53.76l90.944-91.008zm-541.184 45.312A382.464 382.464 0 0 0 128 512c0 94.528 34.176 181.12 90.752 247.936l91.008-90.944A254.912 254.912 0 0 1 256 512c0-59.136 20.096-113.6 53.76-156.992l-91.008-90.944zm417.28 394.496a194.56 194.56 0 0 0 22.528-22.528C686.912 602.56 704 559.232 704 512a191.232 191.232 0 0 0-67.968-146.56A191.296 191.296 0 0 0 512 320a191.232 191.232 0 0 0-146.56 67.968C337.088 421.44 320 464.768 320 512a191.232 191.232 0 0 0 67.968 146.56C421.44 686.912 464.768 704 512 704c47.296 0 90.56-17.088 124.032-45.44zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),bGe=[yGe];function _Ge(t,e,n,s,r,a){return S(),A("svg",vGe,bGe)}var wGe=ge(gGe,[["render",_Ge],["__file","help.vue"]]),xGe={name:"Hide"},CGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SGe=I("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"},null,-1),TGe=I("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"},null,-1),kGe=[SGe,TGe];function $Ge(t,e,n,s,r,a){return S(),A("svg",CGe,kGe)}var EGe=ge(xGe,[["render",$Ge],["__file","hide.vue"]]),IGe={name:"Histogram"},NGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AGe=I("path",{fill:"currentColor",d:"M416 896V128h192v768H416zm-288 0V448h192v448H128zm576 0V320h192v576H704z"},null,-1),DGe=[AGe];function OGe(t,e,n,s,r,a){return S(),A("svg",NGe,DGe)}var RGe=ge(IGe,[["render",OGe],["__file","histogram.vue"]]),LGe={name:"HomeFilled"},PGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},MGe=I("path",{fill:"currentColor",d:"M512 128 128 447.936V896h255.936V640H640v256h255.936V447.936z"},null,-1),FGe=[MGe];function BGe(t,e,n,s,r,a){return S(),A("svg",PGe,FGe)}var zGe=ge(LGe,[["render",BGe],["__file","home-filled.vue"]]),VGe={name:"HotWater"},HGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UGe=I("path",{fill:"currentColor",d:"M273.067 477.867h477.866V409.6H273.067v68.267zm0 68.266v51.2A187.733 187.733 0 0 0 460.8 785.067h102.4a187.733 187.733 0 0 0 187.733-187.734v-51.2H273.067zm-34.134-204.8h546.134a34.133 34.133 0 0 1 34.133 34.134v221.866a256 256 0 0 1-256 256H460.8a256 256 0 0 1-256-256V375.467a34.133 34.133 0 0 1 34.133-34.134zM512 34.133a34.133 34.133 0 0 1 34.133 34.134v170.666a34.133 34.133 0 0 1-68.266 0V68.267A34.133 34.133 0 0 1 512 34.133zM375.467 102.4a34.133 34.133 0 0 1 34.133 34.133v102.4a34.133 34.133 0 0 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.134-34.133zm273.066 0a34.133 34.133 0 0 1 34.134 34.133v102.4a34.133 34.133 0 1 1-68.267 0v-102.4a34.133 34.133 0 0 1 34.133-34.133zM170.667 921.668h682.666a34.133 34.133 0 1 1 0 68.267H170.667a34.133 34.133 0 1 1 0-68.267z"},null,-1),WGe=[UGe];function jGe(t,e,n,s,r,a){return S(),A("svg",HGe,WGe)}var GGe=ge(VGe,[["render",jGe],["__file","hot-water.vue"]]),qGe={name:"House"},KGe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},XGe=I("path",{fill:"currentColor",d:"M192 413.952V896h640V413.952L512 147.328 192 413.952zM139.52 374.4l352-293.312a32 32 0 0 1 40.96 0l352 293.312A32 32 0 0 1 896 398.976V928a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V398.976a32 32 0 0 1 11.52-24.576z"},null,-1),YGe=[XGe];function QGe(t,e,n,s,r,a){return S(),A("svg",KGe,YGe)}var ZGe=ge(qGe,[["render",QGe],["__file","house.vue"]]),JGe={name:"IceCreamRound"},eqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tqe=I("path",{fill:"currentColor",d:"m308.352 489.344 226.304 226.304a32 32 0 0 0 45.248 0L783.552 512A192 192 0 1 0 512 240.448L308.352 444.16a32 32 0 0 0 0 45.248zm135.744 226.304L308.352 851.392a96 96 0 0 1-135.744-135.744l135.744-135.744-45.248-45.248a96 96 0 0 1 0-135.808L466.752 195.2A256 256 0 0 1 828.8 557.248L625.152 760.96a96 96 0 0 1-135.808 0l-45.248-45.248zM398.848 670.4 353.6 625.152 217.856 760.896a32 32 0 0 0 45.248 45.248L398.848 670.4zm248.96-384.64a32 32 0 0 1 0 45.248L466.624 512a32 32 0 1 1-45.184-45.248l180.992-181.056a32 32 0 0 1 45.248 0zm90.496 90.496a32 32 0 0 1 0 45.248L557.248 602.496A32 32 0 1 1 512 557.248l180.992-180.992a32 32 0 0 1 45.312 0z"},null,-1),nqe=[tqe];function sqe(t,e,n,s,r,a){return S(),A("svg",eqe,nqe)}var rqe=ge(JGe,[["render",sqe],["__file","ice-cream-round.vue"]]),aqe={name:"IceCreamSquare"},oqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iqe=I("path",{fill:"currentColor",d:"M416 640h256a32 32 0 0 0 32-32V160a32 32 0 0 0-32-32H352a32 32 0 0 0-32 32v448a32 32 0 0 0 32 32h64zm192 64v160a96 96 0 0 1-192 0V704h-64a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96h320a96 96 0 0 1 96 96v448a96 96 0 0 1-96 96h-64zm-64 0h-64v160a32 32 0 1 0 64 0V704z"},null,-1),lqe=[iqe];function uqe(t,e,n,s,r,a){return S(),A("svg",oqe,lqe)}var cqe=ge(aqe,[["render",uqe],["__file","ice-cream-square.vue"]]),dqe={name:"IceCream"},hqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fqe=I("path",{fill:"currentColor",d:"M128.64 448a208 208 0 0 1 193.536-191.552 224 224 0 0 1 445.248 15.488A208.128 208.128 0 0 1 894.784 448H896L548.8 983.68a32 32 0 0 1-53.248.704L128 448h.64zm64.256 0h286.208a144 144 0 0 0-286.208 0zm351.36 0h286.272a144 144 0 0 0-286.272 0zm-294.848 64 271.808 396.608L778.24 512H249.408zM511.68 352.64a207.872 207.872 0 0 1 189.184-96.192 160 160 0 0 0-314.752 5.632c52.608 12.992 97.28 46.08 125.568 90.56z"},null,-1),pqe=[fqe];function mqe(t,e,n,s,r,a){return S(),A("svg",hqe,pqe)}var gqe=ge(dqe,[["render",mqe],["__file","ice-cream.vue"]]),vqe={name:"IceDrink"},yqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bqe=I("path",{fill:"currentColor",d:"M512 448v128h239.68l16.064-128H512zm-64 0H256.256l16.064 128H448V448zm64-255.36V384h247.744A256.128 256.128 0 0 0 512 192.64zm-64 8.064A256.448 256.448 0 0 0 264.256 384H448V200.704zm64-72.064A320.128 320.128 0 0 1 825.472 384H896a32 32 0 1 1 0 64h-64v1.92l-56.96 454.016A64 64 0 0 1 711.552 960H312.448a64 64 0 0 1-63.488-56.064L192 449.92V448h-64a32 32 0 0 1 0-64h70.528A320.384 320.384 0 0 1 448 135.04V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H544a32 32 0 0 0-32 32v32.64zM743.68 640H280.32l32.128 256h399.104l32.128-256z"},null,-1),_qe=[bqe];function wqe(t,e,n,s,r,a){return S(),A("svg",yqe,_qe)}var xqe=ge(vqe,[["render",wqe],["__file","ice-drink.vue"]]),Cqe={name:"IceTea"},Sqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tqe=I("path",{fill:"currentColor",d:"M197.696 259.648a320.128 320.128 0 0 1 628.608 0A96 96 0 0 1 896 352v64a96 96 0 0 1-71.616 92.864l-49.408 395.072A64 64 0 0 1 711.488 960H312.512a64 64 0 0 1-63.488-56.064l-49.408-395.072A96 96 0 0 1 128 416v-64a96 96 0 0 1 69.696-92.352zM264.064 256h495.872a256.128 256.128 0 0 0-495.872 0zm495.424 256H264.512l48 384h398.976l48-384zM224 448h576a32 32 0 0 0 32-32v-64a32 32 0 0 0-32-32H224a32 32 0 0 0-32 32v64a32 32 0 0 0 32 32zm160 192h64v64h-64v-64zm192 64h64v64h-64v-64zm-128 64h64v64h-64v-64zm64-192h64v64h-64v-64z"},null,-1),kqe=[Tqe];function $qe(t,e,n,s,r,a){return S(),A("svg",Sqe,kqe)}var Eqe=ge(Cqe,[["render",$qe],["__file","ice-tea.vue"]]),Iqe={name:"InfoFilled"},Nqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Aqe=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),Dqe=[Aqe];function Oqe(t,e,n,s,r,a){return S(),A("svg",Nqe,Dqe)}var Rqe=ge(Iqe,[["render",Oqe],["__file","info-filled.vue"]]),Lqe={name:"Iphone"},Pqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mqe=I("path",{fill:"currentColor",d:"M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768H224zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64v544zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96H256zm304-144a48 48 0 1 1-96 0 48 48 0 0 1 96 0z"},null,-1),Fqe=[Mqe];function Bqe(t,e,n,s,r,a){return S(),A("svg",Pqe,Fqe)}var zqe=ge(Lqe,[["render",Bqe],["__file","iphone.vue"]]),Vqe={name:"Key"},Hqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Uqe=I("path",{fill:"currentColor",d:"M448 456.064V96a32 32 0 0 1 32-32.064L672 64a32 32 0 0 1 0 64H512v128h160a32 32 0 0 1 0 64H512v128a256 256 0 1 1-64 8.064zM512 896a192 192 0 1 0 0-384 192 192 0 0 0 0 384z"},null,-1),Wqe=[Uqe];function jqe(t,e,n,s,r,a){return S(),A("svg",Hqe,Wqe)}var Gqe=ge(Vqe,[["render",jqe],["__file","key.vue"]]),qqe={name:"KnifeFork"},Kqe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xqe=I("path",{fill:"currentColor",d:"M256 410.56V96a32 32 0 0 1 64 0v314.56A96 96 0 0 0 384 320V96a32 32 0 0 1 64 0v224a160 160 0 0 1-128 156.8V928a32 32 0 1 1-64 0V476.8A160 160 0 0 1 128 320V96a32 32 0 0 1 64 0v224a96 96 0 0 0 64 90.56zm384-250.24V544h126.72c-3.328-78.72-12.928-147.968-28.608-207.744-14.336-54.528-46.848-113.344-98.112-175.872zM640 608v320a32 32 0 1 1-64 0V64h64c85.312 89.472 138.688 174.848 160 256 21.312 81.152 32 177.152 32 288H640z"},null,-1),Yqe=[Xqe];function Qqe(t,e,n,s,r,a){return S(),A("svg",Kqe,Yqe)}var Zqe=ge(qqe,[["render",Qqe],["__file","knife-fork.vue"]]),Jqe={name:"Lightning"},eKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tKe=I("path",{fill:"currentColor",d:"M288 671.36v64.128A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 736 734.016v-64.768a192 192 0 0 0 3.328-377.92l-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 91.968 70.464 167.36 160.256 175.232z"},null,-1),nKe=I("path",{fill:"currentColor",d:"M416 736a32 32 0 0 1-27.776-47.872l128-224a32 32 0 1 1 55.552 31.744L471.168 672H608a32 32 0 0 1 27.776 47.872l-128 224a32 32 0 1 1-55.68-31.744L552.96 736H416z"},null,-1),sKe=[tKe,nKe];function rKe(t,e,n,s,r,a){return S(),A("svg",eKe,sKe)}var aKe=ge(Jqe,[["render",rKe],["__file","lightning.vue"]]),oKe={name:"Link"},iKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lKe=I("path",{fill:"currentColor",d:"M715.648 625.152 670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248 90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656 87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496 45.248 45.248-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896 62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496 45.248 45.248zm0-362.048 45.248 45.248L398.848 670.4 353.6 625.152 625.152 353.6z"},null,-1),uKe=[lKe];function cKe(t,e,n,s,r,a){return S(),A("svg",iKe,uKe)}var dKe=ge(oKe,[["render",cKe],["__file","link.vue"]]),hKe={name:"List"},fKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pKe=I("path",{fill:"currentColor",d:"M704 192h160v736H160V192h160v64h384v-64zM288 512h448v-64H288v64zm0 256h448v-64H288v64zm96-576V96h256v96H384z"},null,-1),mKe=[pKe];function gKe(t,e,n,s,r,a){return S(),A("svg",fKe,mKe)}var vKe=ge(hKe,[["render",gKe],["__file","list.vue"]]),yKe={name:"Loading"},bKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_Ke=I("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),wKe=[_Ke];function xKe(t,e,n,s,r,a){return S(),A("svg",bKe,wKe)}var CKe=ge(yKe,[["render",xKe],["__file","loading.vue"]]),SKe={name:"LocationFilled"},TKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kKe=I("path",{fill:"currentColor",d:"M512 928c23.936 0 117.504-68.352 192.064-153.152C803.456 661.888 864 535.808 864 416c0-189.632-155.84-320-352-320S160 226.368 160 416c0 120.32 60.544 246.4 159.936 359.232C394.432 859.84 488 928 512 928zm0-435.2a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 140.8a204.8 204.8 0 1 1 0-409.6 204.8 204.8 0 0 1 0 409.6z"},null,-1),$Ke=[kKe];function EKe(t,e,n,s,r,a){return S(),A("svg",TKe,$Ke)}var IKe=ge(SKe,[["render",EKe],["__file","location-filled.vue"]]),NKe={name:"LocationInformation"},AKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DKe=I("path",{fill:"currentColor",d:"M288 896h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),OKe=I("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),RKe=I("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),LKe=[DKe,OKe,RKe];function PKe(t,e,n,s,r,a){return S(),A("svg",AKe,LKe)}var MKe=ge(NKe,[["render",PKe],["__file","location-information.vue"]]),FKe={name:"Location"},BKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zKe=I("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),VKe=I("path",{fill:"currentColor",d:"M512 512a96 96 0 1 0 0-192 96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320 160 160 0 0 1 0 320z"},null,-1),HKe=[zKe,VKe];function UKe(t,e,n,s,r,a){return S(),A("svg",BKe,HKe)}var WKe=ge(FKe,[["render",UKe],["__file","location.vue"]]),jKe={name:"Lock"},GKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qKe=I("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),KKe=I("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm192-160v-64a192 192 0 1 0-384 0v64h384zM512 64a256 256 0 0 1 256 256v128H256V320A256 256 0 0 1 512 64z"},null,-1),XKe=[qKe,KKe];function YKe(t,e,n,s,r,a){return S(),A("svg",GKe,XKe)}var QKe=ge(jKe,[["render",YKe],["__file","lock.vue"]]),ZKe={name:"Lollipop"},JKe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eXe=I("path",{fill:"currentColor",d:"M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0h1.28zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696zm105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"},null,-1),tXe=[eXe];function nXe(t,e,n,s,r,a){return S(),A("svg",JKe,tXe)}var sXe=ge(ZKe,[["render",nXe],["__file","lollipop.vue"]]),rXe={name:"MagicStick"},aXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oXe=I("path",{fill:"currentColor",d:"M512 64h64v192h-64V64zm0 576h64v192h-64V640zM160 480v-64h192v64H160zm576 0v-64h192v64H736zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248L657.152 606.4zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248-316.8 316.8zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248L702.4 334.848z"},null,-1),iXe=[oXe];function lXe(t,e,n,s,r,a){return S(),A("svg",aXe,iXe)}var uXe=ge(rXe,[["render",lXe],["__file","magic-stick.vue"]]),cXe={name:"Magnet"},dXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hXe=I("path",{fill:"currentColor",d:"M832 320V192H704v320a192 192 0 1 1-384 0V192H192v128h128v64H192v128a320 320 0 0 0 640 0V384H704v-64h128zM640 512V128h256v384a384 384 0 1 1-768 0V128h256v384a128 128 0 1 0 256 0z"},null,-1),fXe=[hXe];function pXe(t,e,n,s,r,a){return S(),A("svg",dXe,fXe)}var mXe=ge(cXe,[["render",pXe],["__file","magnet.vue"]]),gXe={name:"Male"},vXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yXe=I("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450 225 225 0 0 0 0 450zm0 56.25a281.25 281.25 0 1 1 0-562.5 281.25 281.25 0 0 1 0 562.5zm253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125z"},null,-1),bXe=I("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125z"},null,-1),_Xe=I("path",{fill:"currentColor",d:"M604.813 458.9 565.1 419.131l292.613-292.668 39.825 39.824z"},null,-1),wXe=[yXe,bXe,_Xe];function xXe(t,e,n,s,r,a){return S(),A("svg",vXe,wXe)}var CXe=ge(gXe,[["render",xXe],["__file","male.vue"]]),SXe={name:"Management"},TXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kXe=I("path",{fill:"currentColor",d:"M576 128v288l96-96 96 96V128h128v768H320V128h256zm-448 0h128v768H128V128z"},null,-1),$Xe=[kXe];function EXe(t,e,n,s,r,a){return S(),A("svg",TXe,$Xe)}var IXe=ge(SXe,[["render",EXe],["__file","management.vue"]]),NXe={name:"MapLocation"},AXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DXe=I("path",{fill:"currentColor",d:"M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"},null,-1),OXe=I("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256zm345.6 192L960 960H672v-64H352v64H64l102.4-256h691.2zm-68.928 0H235.328l-76.8 192h706.944l-76.8-192z"},null,-1),RXe=[DXe,OXe];function LXe(t,e,n,s,r,a){return S(),A("svg",AXe,RXe)}var PXe=ge(NXe,[["render",LXe],["__file","map-location.vue"]]),MXe={name:"Medal"},FXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BXe=I("path",{fill:"currentColor",d:"M512 896a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),zXe=I("path",{fill:"currentColor",d:"M576 128H448v200a286.72 286.72 0 0 1 64-8c19.52 0 40.832 2.688 64 8V128zm64 0v219.648c24.448 9.088 50.56 20.416 78.4 33.92L757.44 128H640zm-256 0H266.624l39.04 253.568c27.84-13.504 53.888-24.832 78.336-33.92V128zM229.312 64h565.376a32 32 0 0 1 31.616 36.864L768 480c-113.792-64-199.104-96-256-96-56.896 0-142.208 32-256 96l-58.304-379.136A32 32 0 0 1 229.312 64z"},null,-1),VXe=[BXe,zXe];function HXe(t,e,n,s,r,a){return S(),A("svg",FXe,VXe)}var UXe=ge(MXe,[["render",HXe],["__file","medal.vue"]]),WXe={name:"Memo"},jXe={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},GXe=I("path",{fill:"currentColor",d:"M480 320h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z"},null,-1),qXe=I("path",{fill:"currentColor",d:"M887.01 72.99C881.01 67 873.34 64 864 64H160c-9.35 0-17.02 3-23.01 8.99C131 78.99 128 86.66 128 96v832c0 9.35 2.99 17.02 8.99 23.01S150.66 960 160 960h704c9.35 0 17.02-2.99 23.01-8.99S896 937.34 896 928V96c0-9.35-3-17.02-8.99-23.01zM192 896V128h96v768h-96zm640 0H352V128h480v768z"},null,-1),KXe=I("path",{fill:"currentColor",d:"M480 512h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32zm0 192h192c21.33 0 32-10.67 32-32s-10.67-32-32-32H480c-21.33 0-32 10.67-32 32s10.67 32 32 32z"},null,-1),XXe=[GXe,qXe,KXe];function YXe(t,e,n,s,r,a){return S(),A("svg",jXe,XXe)}var QXe=ge(WXe,[["render",YXe],["__file","memo.vue"]]),ZXe={name:"Menu"},JXe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eYe=I("path",{fill:"currentColor",d:"M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"},null,-1),tYe=[eYe];function nYe(t,e,n,s,r,a){return S(),A("svg",JXe,tYe)}var sYe=ge(ZXe,[["render",nYe],["__file","menu.vue"]]),rYe={name:"MessageBox"},aYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oYe=I("path",{fill:"currentColor",d:"M288 384h448v64H288v-64zm96-128h256v64H384v-64zM131.456 512H384v128h256V512h252.544L721.856 192H302.144L131.456 512zM896 576H704v128H320V576H128v256h768V576zM275.776 128h472.448a32 32 0 0 1 28.608 17.664l179.84 359.552A32 32 0 0 1 960 519.552V864a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V519.552a32 32 0 0 1 3.392-14.336l179.776-359.552A32 32 0 0 1 275.776 128z"},null,-1),iYe=[oYe];function lYe(t,e,n,s,r,a){return S(),A("svg",aYe,iYe)}var uYe=ge(rYe,[["render",lYe],["__file","message-box.vue"]]),cYe={name:"Message"},dYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hYe=I("path",{fill:"currentColor",d:"M128 224v512a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V224H128zm0-64h768a64 64 0 0 1 64 64v512a128 128 0 0 1-128 128H192A128 128 0 0 1 64 736V224a64 64 0 0 1 64-64z"},null,-1),fYe=I("path",{fill:"currentColor",d:"M904 224 656.512 506.88a192 192 0 0 1-289.024 0L120 224h784zm-698.944 0 210.56 240.704a128 128 0 0 0 192.704 0L818.944 224H205.056z"},null,-1),pYe=[hYe,fYe];function mYe(t,e,n,s,r,a){return S(),A("svg",dYe,pYe)}var gYe=ge(cYe,[["render",mYe],["__file","message.vue"]]),vYe={name:"Mic"},yYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bYe=I("path",{fill:"currentColor",d:"M480 704h160a64 64 0 0 0 64-64v-32h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-96h-96a32 32 0 0 1 0-64h96v-32a64 64 0 0 0-64-64H384a64 64 0 0 0-64 64v32h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v96h96a32 32 0 0 1 0 64h-96v32a64 64 0 0 0 64 64h96zm64 64v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768h-96a128 128 0 0 1-128-128V192A128 128 0 0 1 384 64h256a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128h-96z"},null,-1),_Ye=[bYe];function wYe(t,e,n,s,r,a){return S(),A("svg",yYe,_Ye)}var xYe=ge(vYe,[["render",wYe],["__file","mic.vue"]]),CYe={name:"Microphone"},SYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},TYe=I("path",{fill:"currentColor",d:"M512 128a128 128 0 0 0-128 128v256a128 128 0 1 0 256 0V256a128 128 0 0 0-128-128zm0-64a192 192 0 0 1 192 192v256a192 192 0 1 1-384 0V256A192 192 0 0 1 512 64zm-32 832v-64a288 288 0 0 1-288-288v-32a32 32 0 0 1 64 0v32a224 224 0 0 0 224 224h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64z"},null,-1),kYe=[TYe];function $Ye(t,e,n,s,r,a){return S(),A("svg",SYe,kYe)}var EYe=ge(CYe,[["render",$Ye],["__file","microphone.vue"]]),IYe={name:"MilkTea"},NYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},AYe=I("path",{fill:"currentColor",d:"M416 128V96a96 96 0 0 1 96-96h128a32 32 0 1 1 0 64H512a32 32 0 0 0-32 32v32h320a96 96 0 0 1 11.712 191.296l-39.68 581.056A64 64 0 0 1 708.224 960H315.776a64 64 0 0 1-63.872-59.648l-39.616-581.056A96 96 0 0 1 224 128h192zM276.48 320l39.296 576h392.448l4.8-70.784a224.064 224.064 0 0 1 30.016-439.808L747.52 320H276.48zM224 256h576a32 32 0 1 0 0-64H224a32 32 0 0 0 0 64zm493.44 503.872 21.12-309.12a160 160 0 0 0-21.12 309.12z"},null,-1),DYe=[AYe];function OYe(t,e,n,s,r,a){return S(),A("svg",NYe,DYe)}var RYe=ge(IYe,[["render",OYe],["__file","milk-tea.vue"]]),LYe={name:"Minus"},PYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},MYe=I("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"},null,-1),FYe=[MYe];function BYe(t,e,n,s,r,a){return S(),A("svg",PYe,FYe)}var zYe=ge(LYe,[["render",BYe],["__file","minus.vue"]]),VYe={name:"Money"},HYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UYe=I("path",{fill:"currentColor",d:"M256 640v192h640V384H768v-64h150.976c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H233.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096c-2.688-5.184-4.224-10.368-4.224-24.576V640h64z"},null,-1),WYe=I("path",{fill:"currentColor",d:"M768 192H128v448h640V192zm64-22.976v493.952c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 682.432 64 677.248 64 663.04V169.024c0-14.272 1.472-19.456 4.288-24.64a29.056 29.056 0 0 1 12.096-12.16C85.568 129.536 90.752 128 104.96 128h685.952c14.272 0 19.456 1.472 24.64 4.288a29.056 29.056 0 0 1 12.16 12.096c2.752 5.184 4.224 10.368 4.224 24.64z"},null,-1),jYe=I("path",{fill:"currentColor",d:"M448 576a160 160 0 1 1 0-320 160 160 0 0 1 0 320zm0-64a96 96 0 1 0 0-192 96 96 0 0 0 0 192z"},null,-1),GYe=[UYe,WYe,jYe];function qYe(t,e,n,s,r,a){return S(),A("svg",HYe,GYe)}var KYe=ge(VYe,[["render",qYe],["__file","money.vue"]]),XYe={name:"Monitor"},YYe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QYe=I("path",{fill:"currentColor",d:"M544 768v128h192a32 32 0 1 1 0 64H288a32 32 0 1 1 0-64h192V768H192A128 128 0 0 1 64 640V256a128 128 0 0 1 128-128h640a128 128 0 0 1 128 128v384a128 128 0 0 1-128 128H544zM192 192a64 64 0 0 0-64 64v384a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V256a64 64 0 0 0-64-64H192z"},null,-1),ZYe=[QYe];function JYe(t,e,n,s,r,a){return S(),A("svg",YYe,ZYe)}var eQe=ge(XYe,[["render",JYe],["__file","monitor.vue"]]),tQe={name:"MoonNight"},nQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sQe=I("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512zM171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"},null,-1),rQe=I("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"},null,-1),aQe=[sQe,rQe];function oQe(t,e,n,s,r,a){return S(),A("svg",nQe,aQe)}var iQe=ge(tQe,[["render",oQe],["__file","moon-night.vue"]]),lQe={name:"Moon"},uQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cQe=I("path",{fill:"currentColor",d:"M240.448 240.448a384 384 0 1 0 559.424 525.696 448 448 0 0 1-542.016-542.08 390.592 390.592 0 0 0-17.408 16.384zm181.056 362.048a384 384 0 0 0 525.632 16.384A448 448 0 1 1 405.056 76.8a384 384 0 0 0 16.448 525.696z"},null,-1),dQe=[cQe];function hQe(t,e,n,s,r,a){return S(),A("svg",uQe,dQe)}var fQe=ge(lQe,[["render",hQe],["__file","moon.vue"]]),pQe={name:"MoreFilled"},mQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gQe=I("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224z"},null,-1),vQe=[gQe];function yQe(t,e,n,s,r,a){return S(),A("svg",mQe,vQe)}var bQe=ge(pQe,[["render",yQe],["__file","more-filled.vue"]]),_Qe={name:"More"},wQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xQe=I("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96zm336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224zm0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96z"},null,-1),CQe=[xQe];function SQe(t,e,n,s,r,a){return S(),A("svg",wQe,CQe)}var TQe=ge(_Qe,[["render",SQe],["__file","more.vue"]]),kQe={name:"MostlyCloudy"},$Qe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EQe=I("path",{fill:"currentColor",d:"M737.216 357.952 704 349.824l-11.776-32a192.064 192.064 0 0 0-367.424 23.04l-8.96 39.04-39.04 8.96A192.064 192.064 0 0 0 320 768h368a207.808 207.808 0 0 0 207.808-208 208.32 208.32 0 0 0-158.592-202.048zm15.168-62.208A272.32 272.32 0 0 1 959.744 560a271.808 271.808 0 0 1-271.552 272H320a256 256 0 0 1-57.536-505.536 256.128 256.128 0 0 1 489.92-30.72z"},null,-1),IQe=[EQe];function NQe(t,e,n,s,r,a){return S(),A("svg",$Qe,IQe)}var AQe=ge(kQe,[["render",NQe],["__file","mostly-cloudy.vue"]]),DQe={name:"Mouse"},OQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},RQe=I("path",{fill:"currentColor",d:"M438.144 256c-68.352 0-92.736 4.672-117.76 18.112-20.096 10.752-35.52 26.176-46.272 46.272C260.672 345.408 256 369.792 256 438.144v275.712c0 68.352 4.672 92.736 18.112 117.76 10.752 20.096 26.176 35.52 46.272 46.272C345.408 891.328 369.792 896 438.144 896h147.712c68.352 0 92.736-4.672 117.76-18.112 20.096-10.752 35.52-26.176 46.272-46.272C763.328 806.592 768 782.208 768 713.856V438.144c0-68.352-4.672-92.736-18.112-117.76a110.464 110.464 0 0 0-46.272-46.272C678.592 260.672 654.208 256 585.856 256H438.144zm0-64h147.712c85.568 0 116.608 8.96 147.904 25.6 31.36 16.768 55.872 41.344 72.576 72.64C823.104 321.536 832 352.576 832 438.08v275.84c0 85.504-8.96 116.544-25.6 147.84a174.464 174.464 0 0 1-72.64 72.576C702.464 951.104 671.424 960 585.92 960H438.08c-85.504 0-116.544-8.96-147.84-25.6a174.464 174.464 0 0 1-72.64-72.704c-16.768-31.296-25.664-62.336-25.664-147.84v-275.84c0-85.504 8.96-116.544 25.6-147.84a174.464 174.464 0 0 1 72.768-72.576c31.232-16.704 62.272-25.6 147.776-25.6z"},null,-1),LQe=I("path",{fill:"currentColor",d:"M512 320q32 0 32 32v128q0 32-32 32t-32-32V352q0-32 32-32zm32-96a32 32 0 0 1-64 0v-64a32 32 0 0 0-32-32h-96a32 32 0 0 1 0-64h96a96 96 0 0 1 96 96v64z"},null,-1),PQe=[RQe,LQe];function MQe(t,e,n,s,r,a){return S(),A("svg",OQe,PQe)}var FQe=ge(DQe,[["render",MQe],["__file","mouse.vue"]]),BQe={name:"Mug"},zQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},VQe=I("path",{fill:"currentColor",d:"M736 800V160H160v640a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64zm64-544h63.552a96 96 0 0 1 96 96v224a96 96 0 0 1-96 96H800v128a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V128a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 64v288h63.552a32 32 0 0 0 32-32V352a32 32 0 0 0-32-32H800z"},null,-1),HQe=[VQe];function UQe(t,e,n,s,r,a){return S(),A("svg",zQe,HQe)}var WQe=ge(BQe,[["render",UQe],["__file","mug.vue"]]),jQe={name:"MuteNotification"},GQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qQe=I("path",{fill:"currentColor",d:"m241.216 832 63.616-64H768V448c0-42.368-10.24-82.304-28.48-117.504l46.912-47.232C815.36 331.392 832 387.84 832 448v320h96a32 32 0 1 1 0 64H241.216zm-90.24 0H96a32 32 0 1 1 0-64h96V448a320.128 320.128 0 0 1 256-313.6V128a64 64 0 1 1 128 0v6.4a319.552 319.552 0 0 1 171.648 97.088l-45.184 45.44A256 256 0 0 0 256 448v278.336L151.04 832zM448 896h128a64 64 0 0 1-128 0z"},null,-1),KQe=I("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),XQe=[qQe,KQe];function YQe(t,e,n,s,r,a){return S(),A("svg",GQe,XQe)}var QQe=ge(jQe,[["render",YQe],["__file","mute-notification.vue"]]),ZQe={name:"Mute"},JQe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eZe=I("path",{fill:"currentColor",d:"m412.16 592.128-45.44 45.44A191.232 191.232 0 0 1 320 512V256a192 192 0 1 1 384 0v44.352l-64 64V256a128 128 0 1 0-256 0v256c0 30.336 10.56 58.24 28.16 80.128zm51.968 38.592A128 128 0 0 0 640 512v-57.152l64-64V512a192 192 0 0 1-287.68 166.528l47.808-47.808zM314.88 779.968l46.144-46.08A222.976 222.976 0 0 0 480 768h64a224 224 0 0 0 224-224v-32a32 32 0 1 1 64 0v32a288 288 0 0 1-288 288v64h64a32 32 0 1 1 0 64H416a32 32 0 1 1 0-64h64v-64c-61.44 0-118.4-19.2-165.12-52.032zM266.752 737.6A286.976 286.976 0 0 1 192 544v-32a32 32 0 0 1 64 0v32c0 56.832 21.184 108.8 56.064 148.288L266.752 737.6z"},null,-1),tZe=I("path",{fill:"currentColor",d:"M150.72 859.072a32 32 0 0 1-45.44-45.056l704-708.544a32 32 0 0 1 45.44 45.056l-704 708.544z"},null,-1),nZe=[eZe,tZe];function sZe(t,e,n,s,r,a){return S(),A("svg",JQe,nZe)}var rZe=ge(ZQe,[["render",sZe],["__file","mute.vue"]]),aZe={name:"NoSmoking"},oZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iZe=I("path",{fill:"currentColor",d:"M440.256 576H256v128h56.256l-64 64H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32h280.256l-64 64zm143.488 128H704V583.744L775.744 512H928a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H519.744l64-64zM768 576v128h128V576H768zm-29.696-207.552 45.248 45.248-497.856 497.856-45.248-45.248zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),lZe=[iZe];function uZe(t,e,n,s,r,a){return S(),A("svg",oZe,lZe)}var cZe=ge(aZe,[["render",uZe],["__file","no-smoking.vue"]]),dZe={name:"Notebook"},hZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fZe=I("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),pZe=I("path",{fill:"currentColor",d:"M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),mZe=[fZe,pZe];function gZe(t,e,n,s,r,a){return S(),A("svg",hZe,mZe)}var vZe=ge(dZe,[["render",gZe],["__file","notebook.vue"]]),yZe={name:"Notification"},bZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_Ze=I("path",{fill:"currentColor",d:"M512 128v64H256a64 64 0 0 0-64 64v512a64 64 0 0 0 64 64h512a64 64 0 0 0 64-64V512h64v256a128 128 0 0 1-128 128H256a128 128 0 0 1-128-128V256a128 128 0 0 1 128-128h256z"},null,-1),wZe=I("path",{fill:"currentColor",d:"M768 384a128 128 0 1 0 0-256 128 128 0 0 0 0 256zm0 64a192 192 0 1 1 0-384 192 192 0 0 1 0 384z"},null,-1),xZe=[_Ze,wZe];function CZe(t,e,n,s,r,a){return S(),A("svg",bZe,xZe)}var SZe=ge(yZe,[["render",CZe],["__file","notification.vue"]]),TZe={name:"Odometer"},kZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$Ze=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),EZe=I("path",{fill:"currentColor",d:"M192 512a320 320 0 1 1 640 0 32 32 0 1 1-64 0 256 256 0 1 0-512 0 32 32 0 0 1-64 0z"},null,-1),IZe=I("path",{fill:"currentColor",d:"M570.432 627.84A96 96 0 1 1 509.568 608l60.992-187.776A32 32 0 1 1 631.424 440l-60.992 187.776zM502.08 734.464a32 32 0 1 0 19.84-60.928 32 32 0 0 0-19.84 60.928z"},null,-1),NZe=[$Ze,EZe,IZe];function AZe(t,e,n,s,r,a){return S(),A("svg",kZe,NZe)}var DZe=ge(TZe,[["render",AZe],["__file","odometer.vue"]]),OZe={name:"OfficeBuilding"},RZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},LZe=I("path",{fill:"currentColor",d:"M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),PZe=I("path",{fill:"currentColor",d:"M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"},null,-1),MZe=I("path",{fill:"currentColor",d:"M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"},null,-1),FZe=[LZe,PZe,MZe];function BZe(t,e,n,s,r,a){return S(),A("svg",RZe,FZe)}var zZe=ge(OZe,[["render",BZe],["__file","office-building.vue"]]),VZe={name:"Open"},HZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},UZe=I("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),WZe=I("path",{fill:"currentColor",d:"M694.044 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),jZe=[UZe,WZe];function GZe(t,e,n,s,r,a){return S(),A("svg",HZe,jZe)}var qZe=ge(VZe,[["render",GZe],["__file","open.vue"]]),KZe={name:"Operation"},XZe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},YZe=I("path",{fill:"currentColor",d:"M389.44 768a96.064 96.064 0 0 1 181.12 0H896v64H570.56a96.064 96.064 0 0 1-181.12 0H128v-64h261.44zm192-288a96.064 96.064 0 0 1 181.12 0H896v64H762.56a96.064 96.064 0 0 1-181.12 0H128v-64h453.44zm-320-288a96.064 96.064 0 0 1 181.12 0H896v64H442.56a96.064 96.064 0 0 1-181.12 0H128v-64h133.44z"},null,-1),QZe=[YZe];function ZZe(t,e,n,s,r,a){return S(),A("svg",XZe,QZe)}var JZe=ge(KZe,[["render",ZZe],["__file","operation.vue"]]),eJe={name:"Opportunity"},tJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nJe=I("path",{fill:"currentColor",d:"M384 960v-64h192.064v64H384zm448-544a350.656 350.656 0 0 1-128.32 271.424C665.344 719.04 640 763.776 640 813.504V832H320v-14.336c0-48-19.392-95.36-57.216-124.992a351.552 351.552 0 0 1-128.448-344.256c25.344-136.448 133.888-248.128 269.76-276.48A352.384 352.384 0 0 1 832 416zm-544 32c0-132.288 75.904-224 192-224v-64c-154.432 0-256 122.752-256 288h64z"},null,-1),sJe=[nJe];function rJe(t,e,n,s,r,a){return S(),A("svg",tJe,sJe)}var aJe=ge(eJe,[["render",rJe],["__file","opportunity.vue"]]),oJe={name:"Orange"},iJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lJe=I("path",{fill:"currentColor",d:"M544 894.72a382.336 382.336 0 0 0 215.936-89.472L577.024 622.272c-10.24 6.016-21.248 10.688-33.024 13.696v258.688zm261.248-134.784A382.336 382.336 0 0 0 894.656 544H635.968c-3.008 11.776-7.68 22.848-13.696 33.024l182.976 182.912zM894.656 480a382.336 382.336 0 0 0-89.408-215.936L622.272 446.976c6.016 10.24 10.688 21.248 13.696 33.024h258.688zm-134.72-261.248A382.336 382.336 0 0 0 544 129.344v258.688c11.776 3.008 22.848 7.68 33.024 13.696l182.912-182.976zM480 129.344a382.336 382.336 0 0 0-215.936 89.408l182.912 182.976c10.24-6.016 21.248-10.688 33.024-13.696V129.344zm-261.248 134.72A382.336 382.336 0 0 0 129.344 480h258.688c3.008-11.776 7.68-22.848 13.696-33.024L218.752 264.064zM129.344 544a382.336 382.336 0 0 0 89.408 215.936l182.976-182.912A127.232 127.232 0 0 1 388.032 544H129.344zm134.72 261.248A382.336 382.336 0 0 0 480 894.656V635.968a127.232 127.232 0 0 1-33.024-13.696L264.064 805.248zM512 960a448 448 0 1 1 0-896 448 448 0 0 1 0 896zm0-384a64 64 0 1 0 0-128 64 64 0 0 0 0 128z"},null,-1),uJe=[lJe];function cJe(t,e,n,s,r,a){return S(),A("svg",iJe,uJe)}var dJe=ge(oJe,[["render",cJe],["__file","orange.vue"]]),hJe={name:"Paperclip"},fJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pJe=I("path",{fill:"currentColor",d:"M602.496 240.448A192 192 0 1 1 874.048 512l-316.8 316.8A256 256 0 0 1 195.2 466.752L602.496 59.456l45.248 45.248L240.448 512A192 192 0 0 0 512 783.552l316.8-316.8a128 128 0 1 0-181.056-181.056L353.6 579.904a32 32 0 1 0 45.248 45.248l294.144-294.144 45.312 45.248L444.096 670.4a96 96 0 1 1-135.744-135.744l294.144-294.208z"},null,-1),mJe=[pJe];function gJe(t,e,n,s,r,a){return S(),A("svg",fJe,mJe)}var vJe=ge(hJe,[["render",gJe],["__file","paperclip.vue"]]),yJe={name:"PartlyCloudy"},bJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_Je=I("path",{fill:"currentColor",d:"M598.4 895.872H328.192a256 256 0 0 1-34.496-510.528A352 352 0 1 1 598.4 895.872zm-271.36-64h272.256a288 288 0 1 0-248.512-417.664L335.04 445.44l-34.816 3.584a192 192 0 0 0 26.88 382.848z"},null,-1),wJe=I("path",{fill:"currentColor",d:"M139.84 501.888a256 256 0 1 1 417.856-277.12c-17.728 2.176-38.208 8.448-61.504 18.816A192 192 0 1 0 189.12 460.48a6003.84 6003.84 0 0 0-49.28 41.408z"},null,-1),xJe=[_Je,wJe];function CJe(t,e,n,s,r,a){return S(),A("svg",bJe,xJe)}var SJe=ge(yJe,[["render",CJe],["__file","partly-cloudy.vue"]]),TJe={name:"Pear"},kJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$Je=I("path",{fill:"currentColor",d:"M542.336 258.816a443.255 443.255 0 0 0-9.024 25.088 32 32 0 1 1-60.8-20.032l1.088-3.328a162.688 162.688 0 0 0-122.048 131.392l-17.088 102.72-20.736 15.36C256.192 552.704 224 610.88 224 672c0 120.576 126.4 224 288 224s288-103.424 288-224c0-61.12-32.192-119.296-89.728-161.92l-20.736-15.424-17.088-102.72a162.688 162.688 0 0 0-130.112-133.12zm-40.128-66.56c7.936-15.552 16.576-30.08 25.92-43.776 23.296-33.92 49.408-59.776 78.528-77.12a32 32 0 1 1 32.704 55.04c-20.544 12.224-40.064 31.552-58.432 58.304a316.608 316.608 0 0 0-9.792 15.104 226.688 226.688 0 0 1 164.48 181.568l12.8 77.248C819.456 511.36 864 587.392 864 672c0 159.04-157.568 288-352 288S160 831.04 160 672c0-84.608 44.608-160.64 115.584-213.376l12.8-77.248a226.624 226.624 0 0 1 213.76-189.184z"},null,-1),EJe=[$Je];function IJe(t,e,n,s,r,a){return S(),A("svg",kJe,EJe)}var NJe=ge(TJe,[["render",IJe],["__file","pear.vue"]]),AJe={name:"PhoneFilled"},DJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},OJe=I("path",{fill:"currentColor",d:"M199.232 125.568 90.624 379.008a32 32 0 0 0 6.784 35.2l512.384 512.384a32 32 0 0 0 35.2 6.784l253.44-108.608a32 32 0 0 0 10.048-52.032L769.6 633.92a32 32 0 0 0-36.928-5.952l-130.176 65.088-271.488-271.552 65.024-130.176a32 32 0 0 0-5.952-36.928L251.2 115.52a32 32 0 0 0-51.968 10.048z"},null,-1),RJe=[OJe];function LJe(t,e,n,s,r,a){return S(),A("svg",DJe,RJe)}var PJe=ge(AJe,[["render",LJe],["__file","phone-filled.vue"]]),MJe={name:"Phone"},FJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},BJe=I("path",{fill:"currentColor",d:"M79.36 432.256 591.744 944.64a32 32 0 0 0 35.2 6.784l253.44-108.544a32 32 0 0 0 9.984-52.032l-153.856-153.92a32 32 0 0 0-36.928-6.016l-69.888 34.944L358.08 394.24l35.008-69.888a32 32 0 0 0-5.952-36.928L233.152 133.568a32 32 0 0 0-52.032 10.048L72.512 397.056a32 32 0 0 0 6.784 35.2zm60.48-29.952 81.536-190.08L325.568 316.48l-24.64 49.216-20.608 41.216 32.576 32.64 271.552 271.552 32.64 32.64 41.216-20.672 49.28-24.576 104.192 104.128-190.08 81.472L139.84 402.304zM512 320v-64a256 256 0 0 1 256 256h-64a192 192 0 0 0-192-192zm0-192V64a448 448 0 0 1 448 448h-64a384 384 0 0 0-384-384z"},null,-1),zJe=[BJe];function VJe(t,e,n,s,r,a){return S(),A("svg",FJe,zJe)}var HJe=ge(MJe,[["render",VJe],["__file","phone.vue"]]),UJe={name:"PictureFilled"},WJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jJe=I("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32H96zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112zM256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384z"},null,-1),GJe=[jJe];function qJe(t,e,n,s,r,a){return S(),A("svg",WJe,GJe)}var KJe=ge(UJe,[["render",qJe],["__file","picture-filled.vue"]]),XJe={name:"PictureRounded"},YJe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},QJe=I("path",{fill:"currentColor",d:"M512 128a384 384 0 1 0 0 768 384 384 0 0 0 0-768zm0-64a448 448 0 1 1 0 896 448 448 0 0 1 0-896z"},null,-1),ZJe=I("path",{fill:"currentColor",d:"M640 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM214.656 790.656l-45.312-45.312 185.664-185.6a96 96 0 0 1 123.712-10.24l138.24 98.688a32 32 0 0 0 39.872-2.176L906.688 422.4l42.624 47.744L699.52 693.696a96 96 0 0 1-119.808 6.592l-138.24-98.752a32 32 0 0 0-41.152 3.456l-185.664 185.6z"},null,-1),JJe=[QJe,ZJe];function eet(t,e,n,s,r,a){return S(),A("svg",YJe,JJe)}var tet=ge(XJe,[["render",eet],["__file","picture-rounded.vue"]]),net={name:"Picture"},set={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ret=I("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),aet=I("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1),oet=[ret,aet];function iet(t,e,n,s,r,a){return S(),A("svg",set,oet)}var uet=ge(net,[["render",iet],["__file","picture.vue"]]),cet={name:"PieChart"},det={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},het=I("path",{fill:"currentColor",d:"M448 68.48v64.832A384.128 384.128 0 0 0 512 896a384.128 384.128 0 0 0 378.688-320h64.768A448.128 448.128 0 0 1 64 512 448.128 448.128 0 0 1 448 68.48z"},null,-1),fet=I("path",{fill:"currentColor",d:"M576 97.28V448h350.72A384.064 384.064 0 0 0 576 97.28zM512 64V33.152A448 448 0 0 1 990.848 512H512V64z"},null,-1),pet=[het,fet];function met(t,e,n,s,r,a){return S(),A("svg",det,pet)}var get=ge(cet,[["render",met],["__file","pie-chart.vue"]]),vet={name:"Place"},yet={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bet=I("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512z"},null,-1),_et=I("path",{fill:"currentColor",d:"M512 512a32 32 0 0 1 32 32v256a32 32 0 1 1-64 0V544a32 32 0 0 1 32-32z"},null,-1),wet=I("path",{fill:"currentColor",d:"M384 649.088v64.96C269.76 732.352 192 771.904 192 800c0 37.696 139.904 96 320 96s320-58.304 320-96c0-28.16-77.76-67.648-192-85.952v-64.96C789.12 671.04 896 730.368 896 800c0 88.32-171.904 160-384 160s-384-71.68-384-160c0-69.696 106.88-128.96 256-150.912z"},null,-1),xet=[bet,_et,wet];function Cet(t,e,n,s,r,a){return S(),A("svg",yet,xet)}var Tet=ge(vet,[["render",Cet],["__file","place.vue"]]),ket={name:"Platform"},$et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Eet=I("path",{fill:"currentColor",d:"M448 832v-64h128v64h192v64H256v-64h192zM128 704V128h768v576H128z"},null,-1),Iet=[Eet];function Net(t,e,n,s,r,a){return S(),A("svg",$et,Iet)}var Aet=ge(ket,[["render",Net],["__file","platform.vue"]]),Det={name:"Plus"},Oet={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ret=I("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1),Let=[Ret];function Pet(t,e,n,s,r,a){return S(),A("svg",Oet,Let)}var Met=ge(Det,[["render",Pet],["__file","plus.vue"]]),Fet={name:"Pointer"},Bet={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zet=I("path",{fill:"currentColor",d:"M511.552 128c-35.584 0-64.384 28.8-64.384 64.448v516.48L274.048 570.88a94.272 94.272 0 0 0-112.896-3.456 44.416 44.416 0 0 0-8.96 62.208L332.8 870.4A64 64 0 0 0 384 896h512V575.232a64 64 0 0 0-45.632-61.312l-205.952-61.76A96 96 0 0 1 576 360.192V192.448C576 156.8 547.2 128 511.552 128zM359.04 556.8l24.128 19.2V192.448a128.448 128.448 0 1 1 256.832 0v167.744a32 32 0 0 0 22.784 30.656l206.016 61.76A128 128 0 0 1 960 575.232V896a64 64 0 0 1-64 64H384a128 128 0 0 1-102.4-51.2L101.056 668.032A108.416 108.416 0 0 1 128 512.512a158.272 158.272 0 0 1 185.984 8.32L359.04 556.8z"},null,-1),Vet=[zet];function Het(t,e,n,s,r,a){return S(),A("svg",Bet,Vet)}var Uet=ge(Fet,[["render",Het],["__file","pointer.vue"]]),Wet={name:"Position"},jet={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Get=I("path",{fill:"currentColor",d:"m249.6 417.088 319.744 43.072 39.168 310.272L845.12 178.88 249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"},null,-1),qet=[Get];function Ket(t,e,n,s,r,a){return S(),A("svg",jet,qet)}var Xet=ge(Wet,[["render",Ket],["__file","position.vue"]]),Yet={name:"Postcard"},Qet={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zet=I("path",{fill:"currentColor",d:"M160 224a32 32 0 0 0-32 32v512a32 32 0 0 0 32 32h704a32 32 0 0 0 32-32V256a32 32 0 0 0-32-32H160zm0-64h704a96 96 0 0 1 96 96v512a96 96 0 0 1-96 96H160a96 96 0 0 1-96-96V256a96 96 0 0 1 96-96z"},null,-1),Jet=I("path",{fill:"currentColor",d:"M704 320a64 64 0 1 1 0 128 64 64 0 0 1 0-128zM288 448h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32zm0 128h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),ett=[Zet,Jet];function ttt(t,e,n,s,r,a){return S(),A("svg",Qet,ett)}var ntt=ge(Yet,[["render",ttt],["__file","postcard.vue"]]),stt={name:"Pouring"},rtt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},att=I("path",{fill:"currentColor",d:"m739.328 291.328-35.2-6.592-12.8-33.408a192.064 192.064 0 0 0-365.952 23.232l-9.92 40.896-41.472 7.04a176.32 176.32 0 0 0-146.24 173.568c0 97.28 78.72 175.936 175.808 175.936h400a192 192 0 0 0 35.776-380.672zM959.552 480a256 256 0 0 1-256 256h-400A239.808 239.808 0 0 1 63.744 496.192a240.32 240.32 0 0 1 199.488-236.8 256.128 256.128 0 0 1 487.872-30.976A256.064 256.064 0 0 1 959.552 480zM224 800a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32zm192 0a32 32 0 0 1 32 32v96a32 32 0 1 1-64 0v-96a32 32 0 0 1 32-32z"},null,-1),ott=[att];function itt(t,e,n,s,r,a){return S(),A("svg",rtt,ott)}var ltt=ge(stt,[["render",itt],["__file","pouring.vue"]]),utt={name:"Present"},ctt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dtt=I("path",{fill:"currentColor",d:"M480 896V640H192v-64h288V320H192v576h288zm64 0h288V320H544v256h288v64H544v256zM128 256h768v672a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V256z"},null,-1),htt=I("path",{fill:"currentColor",d:"M96 256h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"},null,-1),ftt=I("path",{fill:"currentColor",d:"M416 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),ptt=I("path",{fill:"currentColor",d:"M608 256a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),mtt=[dtt,htt,ftt,ptt];function gtt(t,e,n,s,r,a){return S(),A("svg",ctt,mtt)}var vtt=ge(utt,[["render",gtt],["__file","present.vue"]]),ytt={name:"PriceTag"},btt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_tt=I("path",{fill:"currentColor",d:"M224 318.336V896h576V318.336L552.512 115.84a64 64 0 0 0-81.024 0L224 318.336zM593.024 66.304l259.2 212.096A32 32 0 0 1 864 303.168V928a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V303.168a32 32 0 0 1 11.712-24.768l259.2-212.096a128 128 0 0 1 162.112 0z"},null,-1),wtt=I("path",{fill:"currentColor",d:"M512 448a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),xtt=[_tt,wtt];function Ctt(t,e,n,s,r,a){return S(),A("svg",btt,xtt)}var Stt=ge(ytt,[["render",Ctt],["__file","price-tag.vue"]]),Ttt={name:"Printer"},ktt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$tt=I("path",{fill:"currentColor",d:"M256 768H105.024c-14.272 0-19.456-1.472-24.64-4.288a29.056 29.056 0 0 1-12.16-12.096C65.536 746.432 64 741.248 64 727.04V379.072c0-42.816 4.48-58.304 12.8-73.984 8.384-15.616 20.672-27.904 36.288-36.288 15.68-8.32 31.168-12.8 73.984-12.8H256V64h512v192h68.928c42.816 0 58.304 4.48 73.984 12.8 15.616 8.384 27.904 20.672 36.288 36.288 8.32 15.68 12.8 31.168 12.8 73.984v347.904c0 14.272-1.472 19.456-4.288 24.64a29.056 29.056 0 0 1-12.096 12.16c-5.184 2.752-10.368 4.224-24.64 4.224H768v192H256V768zm64-192v320h384V576H320zm-64 128V512h512v192h128V379.072c0-29.376-1.408-36.48-5.248-43.776a23.296 23.296 0 0 0-10.048-10.048c-7.232-3.84-14.4-5.248-43.776-5.248H187.072c-29.376 0-36.48 1.408-43.776 5.248a23.296 23.296 0 0 0-10.048 10.048c-3.84 7.232-5.248 14.4-5.248 43.776V704h128zm64-448h384V128H320v128zm-64 128h64v64h-64v-64zm128 0h64v64h-64v-64z"},null,-1),Ett=[$tt];function Itt(t,e,n,s,r,a){return S(),A("svg",ktt,Ett)}var Ntt=ge(Ttt,[["render",Itt],["__file","printer.vue"]]),Att={name:"Promotion"},Dtt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ott=I("path",{fill:"currentColor",d:"m64 448 832-320-128 704-446.08-243.328L832 192 242.816 545.472 64 448zm256 512V657.024L512 768 320 960z"},null,-1),Rtt=[Ott];function Ltt(t,e,n,s,r,a){return S(),A("svg",Dtt,Rtt)}var Ptt=ge(Att,[["render",Ltt],["__file","promotion.vue"]]),Mtt={name:"QuartzWatch"},Ftt={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},Btt=I("path",{fill:"currentColor",d:"M422.02 602.01v-.03c-6.68-5.99-14.35-8.83-23.01-8.51-8.67.32-16.17 3.66-22.5 10.02-6.33 6.36-9.5 13.7-9.5 22.02s3 15.82 8.99 22.5c8.68 8.68 19.02 11.35 31.01 8s19.49-10.85 22.5-22.5c3.01-11.65.51-22.15-7.49-31.49v-.01zM384 512c0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.67 8.99-23.01zm6.53-82.49c11.65 3.01 22.15.51 31.49-7.49h.04c5.99-6.68 8.83-14.34 8.51-23.01-.32-8.67-3.66-16.16-10.02-22.5-6.36-6.33-13.7-9.5-22.02-9.5s-15.82 3-22.5 8.99c-8.68 8.69-11.35 19.02-8 31.01 3.35 11.99 10.85 19.49 22.5 22.5zm242.94 0c11.67-3.03 19.01-10.37 22.02-22.02 3.01-11.65.51-22.15-7.49-31.49h.01c-6.68-5.99-14.18-8.99-22.5-8.99s-15.66 3.16-22.02 9.5c-6.36 6.34-9.7 13.84-10.02 22.5-.32 8.66 2.52 16.33 8.51 23.01 9.32 8.02 19.82 10.52 31.49 7.49zM512 640c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01s-3-17.02-8.99-23.01c-6-5.99-13.66-8.99-23.01-8.99zm183.01-151.01c-6-5.99-13.66-8.99-23.01-8.99s-17.02 3-23.01 8.99c-5.99 6-8.99 13.66-8.99 23.01s3 17.02 8.99 23.01c6 5.99 13.66 8.99 23.01 8.99s17.02-3 23.01-8.99c5.99-6 8.99-13.67 8.99-23.01 0-9.35-3-17.02-8.99-23.01z"},null,-1),ztt=I("path",{fill:"currentColor",d:"M832 512c-2-90.67-33.17-166.17-93.5-226.5-20.43-20.42-42.6-37.49-66.5-51.23V64H352v170.26c-23.9 13.74-46.07 30.81-66.5 51.24-60.33 60.33-91.49 135.83-93.5 226.5 2 90.67 33.17 166.17 93.5 226.5 20.43 20.43 42.6 37.5 66.5 51.24V960h320V789.74c23.9-13.74 46.07-30.81 66.5-51.24 60.33-60.34 91.49-135.83 93.5-226.5zM416 128h192v78.69c-29.85-9.03-61.85-13.93-96-14.69-34.15.75-66.15 5.65-96 14.68V128zm192 768H416v-78.68c29.85 9.03 61.85 13.93 96 14.68 34.15-.75 66.15-5.65 96-14.68V896zm-96-128c-72.66-2.01-132.99-27.01-180.99-75.01S258.01 584.66 256 512c2.01-72.66 27.01-132.99 75.01-180.99S439.34 258.01 512 256c72.66 2.01 132.99 27.01 180.99 75.01S765.99 439.34 768 512c-2.01 72.66-27.01 132.99-75.01 180.99S584.66 765.99 512 768z"},null,-1),Vtt=I("path",{fill:"currentColor",d:"M512 320c-9.35 0-17.02 3-23.01 8.99-5.99 6-8.99 13.66-8.99 23.01 0 9.35 3 17.02 8.99 23.01 6 5.99 13.67 8.99 23.01 8.99 9.35 0 17.02-3 23.01-8.99 5.99-6 8.99-13.66 8.99-23.01 0-9.35-3-17.02-8.99-23.01-6-5.99-13.66-8.99-23.01-8.99zm112.99 273.5c-8.66-.32-16.33 2.52-23.01 8.51-7.98 9.32-10.48 19.82-7.49 31.49s10.49 19.17 22.5 22.5 22.35.66 31.01-8v.04c5.99-6.68 8.99-14.18 8.99-22.5s-3.16-15.66-9.5-22.02-13.84-9.7-22.5-10.02z"},null,-1),Htt=[Btt,ztt,Vtt];function Utt(t,e,n,s,r,a){return S(),A("svg",Ftt,Htt)}var Wtt=ge(Mtt,[["render",Utt],["__file","quartz-watch.vue"]]),jtt={name:"QuestionFilled"},Gtt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qtt=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"},null,-1),Ktt=[qtt];function Xtt(t,e,n,s,r,a){return S(),A("svg",Gtt,Ktt)}var Ytt=ge(jtt,[["render",Xtt],["__file","question-filled.vue"]]),Qtt={name:"Rank"},Ztt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Jtt=I("path",{fill:"currentColor",d:"m186.496 544 41.408 41.344a32 32 0 1 1-45.248 45.312l-96-96a32 32 0 0 1 0-45.312l96-96a32 32 0 1 1 45.248 45.312L186.496 480h290.816V186.432l-41.472 41.472a32 32 0 1 1-45.248-45.184l96-96.128a32 32 0 0 1 45.312 0l96 96.064a32 32 0 0 1-45.248 45.184l-41.344-41.28V480H832l-41.344-41.344a32 32 0 0 1 45.248-45.312l96 96a32 32 0 0 1 0 45.312l-96 96a32 32 0 0 1-45.248-45.312L832 544H541.312v293.44l41.344-41.28a32 32 0 1 1 45.248 45.248l-96 96a32 32 0 0 1-45.312 0l-96-96a32 32 0 1 1 45.312-45.248l41.408 41.408V544H186.496z"},null,-1),ent=[Jtt];function tnt(t,e,n,s,r,a){return S(),A("svg",Ztt,ent)}var nnt=ge(Qtt,[["render",tnt],["__file","rank.vue"]]),snt={name:"ReadingLamp"},rnt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ant=I("path",{fill:"currentColor",d:"M352 896h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32zm-44.672-768-99.52 448h608.384l-99.52-448H307.328zm-25.6-64h460.608a32 32 0 0 1 31.232 25.088l113.792 512A32 32 0 0 1 856.128 640H167.872a32 32 0 0 1-31.232-38.912l113.792-512A32 32 0 0 1 281.664 64z"},null,-1),ont=I("path",{fill:"currentColor",d:"M672 576q32 0 32 32v128q0 32-32 32t-32-32V608q0-32 32-32zm-192-.064h64V960h-64z"},null,-1),int=[ant,ont];function lnt(t,e,n,s,r,a){return S(),A("svg",rnt,int)}var unt=ge(snt,[["render",lnt],["__file","reading-lamp.vue"]]),cnt={name:"Reading"},dnt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},hnt=I("path",{fill:"currentColor",d:"m512 863.36 384-54.848v-638.72L525.568 222.72a96 96 0 0 1-27.136 0L128 169.792v638.72l384 54.848zM137.024 106.432l370.432 52.928a32 32 0 0 0 9.088 0l370.432-52.928A64 64 0 0 1 960 169.792v638.72a64 64 0 0 1-54.976 63.36l-388.48 55.488a32 32 0 0 1-9.088 0l-388.48-55.488A64 64 0 0 1 64 808.512v-638.72a64 64 0 0 1 73.024-63.36z"},null,-1),fnt=I("path",{fill:"currentColor",d:"M480 192h64v704h-64z"},null,-1),pnt=[hnt,fnt];function mnt(t,e,n,s,r,a){return S(),A("svg",dnt,pnt)}var gnt=ge(cnt,[["render",mnt],["__file","reading.vue"]]),vnt={name:"RefreshLeft"},ynt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bnt=I("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"},null,-1),_nt=[bnt];function wnt(t,e,n,s,r,a){return S(),A("svg",ynt,_nt)}var xnt=ge(vnt,[["render",wnt],["__file","refresh-left.vue"]]),Cnt={name:"RefreshRight"},Snt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tnt=I("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"},null,-1),knt=[Tnt];function $nt(t,e,n,s,r,a){return S(),A("svg",Snt,knt)}var Ent=ge(Cnt,[["render",$nt],["__file","refresh-right.vue"]]),Int={name:"Refresh"},Nnt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ant=I("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1),Dnt=[Ant];function Ont(t,e,n,s,r,a){return S(),A("svg",Nnt,Dnt)}var Rnt=ge(Int,[["render",Ont],["__file","refresh.vue"]]),Lnt={name:"Refrigerator"},Pnt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mnt=I("path",{fill:"currentColor",d:"M256 448h512V160a32 32 0 0 0-32-32H288a32 32 0 0 0-32 32v288zm0 64v352a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32V512H256zm32-448h448a96 96 0 0 1 96 96v704a96 96 0 0 1-96 96H288a96 96 0 0 1-96-96V160a96 96 0 0 1 96-96zm32 224h64v96h-64v-96zm0 288h64v96h-64v-96z"},null,-1),Fnt=[Mnt];function Bnt(t,e,n,s,r,a){return S(),A("svg",Pnt,Fnt)}var znt=ge(Lnt,[["render",Bnt],["__file","refrigerator.vue"]]),Vnt={name:"RemoveFilled"},Hnt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Unt=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zM288 512a38.4 38.4 0 0 0 38.4 38.4h371.2a38.4 38.4 0 0 0 0-76.8H326.4A38.4 38.4 0 0 0 288 512z"},null,-1),Wnt=[Unt];function jnt(t,e,n,s,r,a){return S(),A("svg",Hnt,Wnt)}var Gnt=ge(Vnt,[["render",jnt],["__file","remove-filled.vue"]]),qnt={name:"Remove"},Knt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xnt=I("path",{fill:"currentColor",d:"M352 480h320a32 32 0 1 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),Ynt=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),Qnt=[Xnt,Ynt];function Znt(t,e,n,s,r,a){return S(),A("svg",Knt,Qnt)}var Jnt=ge(qnt,[["render",Znt],["__file","remove.vue"]]),est={name:"Right"},tst={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nst=I("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1),sst=[nst];function rst(t,e,n,s,r,a){return S(),A("svg",tst,sst)}var ast=ge(est,[["render",rst],["__file","right.vue"]]),ost={name:"ScaleToOriginal"},ist={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lst=I("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zM512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412zM512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512z"},null,-1),ust=[lst];function cst(t,e,n,s,r,a){return S(),A("svg",ist,ust)}var dst=ge(ost,[["render",cst],["__file","scale-to-original.vue"]]),hst={name:"School"},fst={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pst=I("path",{fill:"currentColor",d:"M224 128v704h576V128H224zm-32-64h640a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"},null,-1),mst=I("path",{fill:"currentColor",d:"M64 832h896v64H64zm256-640h128v96H320z"},null,-1),gst=I("path",{fill:"currentColor",d:"M384 832h256v-64a128 128 0 1 0-256 0v64zm128-256a192 192 0 0 1 192 192v128H320V768a192 192 0 0 1 192-192zM320 384h128v96H320zm256-192h128v96H576zm0 192h128v96H576z"},null,-1),vst=[pst,mst,gst];function yst(t,e,n,s,r,a){return S(),A("svg",fst,vst)}var bst=ge(hst,[["render",yst],["__file","school.vue"]]),_st={name:"Scissor"},wst={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xst=I("path",{fill:"currentColor",d:"m512.064 578.368-106.88 152.768a160 160 0 1 1-23.36-78.208L472.96 522.56 196.864 128.256a32 32 0 1 1 52.48-36.736l393.024 561.344a160 160 0 1 1-23.36 78.208l-106.88-152.704zm54.4-189.248 208.384-297.6a32 32 0 0 1 52.48 36.736l-221.76 316.672-39.04-55.808zm-376.32 425.856a96 96 0 1 0 110.144-157.248 96 96 0 0 0-110.08 157.248zm643.84 0a96 96 0 1 0-110.08-157.248 96 96 0 0 0 110.08 157.248z"},null,-1),Cst=[xst];function Sst(t,e,n,s,r,a){return S(),A("svg",wst,Cst)}var Tst=ge(_st,[["render",Sst],["__file","scissor.vue"]]),kst={name:"Search"},$st={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Est=I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),Ist=[Est];function Nst(t,e,n,s,r,a){return S(),A("svg",$st,Ist)}var Ast=ge(kst,[["render",Nst],["__file","search.vue"]]),Dst={name:"Select"},Ost={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Rst=I("path",{fill:"currentColor",d:"M77.248 415.04a64 64 0 0 1 90.496 0l226.304 226.304L846.528 188.8a64 64 0 1 1 90.56 90.496l-543.04 543.04-316.8-316.8a64 64 0 0 1 0-90.496z"},null,-1),Lst=[Rst];function Pst(t,e,n,s,r,a){return S(),A("svg",Ost,Lst)}var Mst=ge(Dst,[["render",Pst],["__file","select.vue"]]),Fst={name:"Sell"},Bst={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zst=I("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 483.84L768 698.496V928a32 32 0 1 1-64 0V698.496l-73.344 73.344a32 32 0 1 1-45.248-45.248l128-128a32 32 0 0 1 45.248 0l128 128a32 32 0 1 1-45.248 45.248z"},null,-1),Vst=[zst];function Hst(t,e,n,s,r,a){return S(),A("svg",Bst,Vst)}var Ust=ge(Fst,[["render",Hst],["__file","sell.vue"]]),Wst={name:"SemiSelect"},jst={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Gst=I("path",{fill:"currentColor",d:"M128 448h768q64 0 64 64t-64 64H128q-64 0-64-64t64-64z"},null,-1),qst=[Gst];function Kst(t,e,n,s,r,a){return S(),A("svg",jst,qst)}var Xst=ge(Wst,[["render",Kst],["__file","semi-select.vue"]]),Yst={name:"Service"},Qst={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zst=I("path",{fill:"currentColor",d:"M864 409.6a192 192 0 0 1-37.888 349.44A256.064 256.064 0 0 1 576 960h-96a32 32 0 1 1 0-64h96a192.064 192.064 0 0 0 181.12-128H736a32 32 0 0 1-32-32V416a32 32 0 0 1 32-32h32c10.368 0 20.544.832 30.528 2.432a288 288 0 0 0-573.056 0A193.235 193.235 0 0 1 256 384h32a32 32 0 0 1 32 32v320a32 32 0 0 1-32 32h-32a192 192 0 0 1-96-358.4 352 352 0 0 1 704 0zM256 448a128 128 0 1 0 0 256V448zm640 128a128 128 0 0 0-128-128v256a128 128 0 0 0 128-128z"},null,-1),Jst=[Zst];function ert(t,e,n,s,r,a){return S(),A("svg",Qst,Jst)}var trt=ge(Yst,[["render",ert],["__file","service.vue"]]),nrt={name:"SetUp"},srt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rrt=I("path",{fill:"currentColor",d:"M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64H224zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96z"},null,-1),art=I("path",{fill:"currentColor",d:"M384 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),ort=I("path",{fill:"currentColor",d:"M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm160 416a64 64 0 1 0 0-128 64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256 128 128 0 0 1 0 256z"},null,-1),irt=I("path",{fill:"currentColor",d:"M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),lrt=[rrt,art,ort,irt];function urt(t,e,n,s,r,a){return S(),A("svg",srt,lrt)}var crt=ge(nrt,[["render",urt],["__file","set-up.vue"]]),drt={name:"Setting"},hrt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},frt=I("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1),prt=[frt];function mrt(t,e,n,s,r,a){return S(),A("svg",hrt,prt)}var grt=ge(drt,[["render",mrt],["__file","setting.vue"]]),vrt={name:"Share"},yrt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},brt=I("path",{fill:"currentColor",d:"m679.872 348.8-301.76 188.608a127.808 127.808 0 0 1 5.12 52.16l279.936 104.96a128 128 0 1 1-22.464 59.904l-279.872-104.96a128 128 0 1 1-16.64-166.272l301.696-188.608a128 128 0 1 1 33.92 54.272z"},null,-1),_rt=[brt];function wrt(t,e,n,s,r,a){return S(),A("svg",yrt,_rt)}var xrt=ge(vrt,[["render",wrt],["__file","share.vue"]]),Crt={name:"Ship"},Srt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Trt=I("path",{fill:"currentColor",d:"M512 386.88V448h405.568a32 32 0 0 1 30.72 40.768l-76.48 267.968A192 192 0 0 1 687.168 896H336.832a192 192 0 0 1-184.64-139.264L75.648 488.768A32 32 0 0 1 106.368 448H448V117.888a32 32 0 0 1 47.36-28.096l13.888 7.616L512 96v2.88l231.68 126.4a32 32 0 0 1-2.048 57.216L512 386.88zm0-70.272 144.768-65.792L512 171.84v144.768zM512 512H148.864l18.24 64H856.96l18.24-64H512zM185.408 640l28.352 99.2A128 128 0 0 0 336.832 832h350.336a128 128 0 0 0 123.072-92.8l28.352-99.2H185.408z"},null,-1),krt=[Trt];function $rt(t,e,n,s,r,a){return S(),A("svg",Srt,krt)}var Ert=ge(Crt,[["render",$rt],["__file","ship.vue"]]),Irt={name:"Shop"},Nrt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Art=I("path",{fill:"currentColor",d:"M704 704h64v192H256V704h64v64h384v-64zm188.544-152.192C894.528 559.616 896 567.616 896 576a96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0 96 96 0 1 1-192 0c0-8.384 1.408-16.384 3.392-24.192L192 128h640l60.544 423.808z"},null,-1),Drt=[Art];function Ort(t,e,n,s,r,a){return S(),A("svg",Nrt,Drt)}var Rrt=ge(Irt,[["render",Ort],["__file","shop.vue"]]),Lrt={name:"ShoppingBag"},Prt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Mrt=I("path",{fill:"currentColor",d:"M704 320v96a32 32 0 0 1-32 32h-32V320H384v128h-32a32 32 0 0 1-32-32v-96H192v576h640V320H704zm-384-64a192 192 0 1 1 384 0h160a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32h160zm64 0h256a128 128 0 1 0-256 0z"},null,-1),Frt=I("path",{fill:"currentColor",d:"M192 704h640v64H192z"},null,-1),Brt=[Mrt,Frt];function zrt(t,e,n,s,r,a){return S(),A("svg",Prt,Brt)}var Vrt=ge(Lrt,[["render",zrt],["__file","shopping-bag.vue"]]),Hrt={name:"ShoppingCartFull"},Urt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Wrt=I("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),jrt=I("path",{fill:"currentColor",d:"M699.648 256 608 145.984 516.352 256h183.296zm-140.8-151.04a64 64 0 0 1 98.304 0L836.352 320H379.648l179.2-215.04z"},null,-1),Grt=[Wrt,jrt];function qrt(t,e,n,s,r,a){return S(),A("svg",Urt,Grt)}var Krt=ge(Hrt,[["render",qrt],["__file","shopping-cart-full.vue"]]),Xrt={name:"ShoppingCart"},Yrt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qrt=I("path",{fill:"currentColor",d:"M432 928a48 48 0 1 1 0-96 48 48 0 0 1 0 96zm320 0a48 48 0 1 1 0-96 48 48 0 0 1 0 96zM96 128a32 32 0 0 1 0-64h160a32 32 0 0 1 31.36 25.728L320.64 256H928a32 32 0 0 1 31.296 38.72l-96 448A32 32 0 0 1 832 768H384a32 32 0 0 1-31.36-25.728L229.76 128H96zm314.24 576h395.904l82.304-384H333.44l76.8 384z"},null,-1),Zrt=[Qrt];function Jrt(t,e,n,s,r,a){return S(),A("svg",Yrt,Zrt)}var eat=ge(Xrt,[["render",Jrt],["__file","shopping-cart.vue"]]),tat={name:"ShoppingTrolley"},nat={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},sat=I("path",{fill:"currentColor",d:"M368 833c-13.3 0-24.5 4.5-33.5 13.5S321 866.7 321 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S415 893.3 415 880s-4.5-24.5-13.5-33.5S381.3 833 368 833zm439-193c7.4 0 13.8-2.2 19.5-6.5S836 623.3 838 616l112-448c2-10-.2-19.2-6.5-27.5S929 128 919 128H96c-9.3 0-17 3-23 9s-9 13.7-9 23 3 17 9 23 13.7 9 23 9h96v576h672c9.3 0 17-3 23-9s9-13.7 9-23-3-17-9-23-13.7-9-23-9H256v-64h551zM256 192h622l-96 384H256V192zm432 641c-13.3 0-24.5 4.5-33.5 13.5S641 866.7 641 880s4.5 24.5 13.5 33.5 20.2 13.8 33.5 14.5c13.3-.7 24.5-5.5 33.5-14.5S735 893.3 735 880s-4.5-24.5-13.5-33.5S701.3 833 688 833z"},null,-1),rat=[sat];function aat(t,e,n,s,r,a){return S(),A("svg",nat,rat)}var oat=ge(tat,[["render",aat],["__file","shopping-trolley.vue"]]),iat={name:"Smoking"},lat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uat=I("path",{fill:"currentColor",d:"M256 576v128h640V576H256zm-32-64h704a32 32 0 0 1 32 32v192a32 32 0 0 1-32 32H224a32 32 0 0 1-32-32V544a32 32 0 0 1 32-32z"},null,-1),cat=I("path",{fill:"currentColor",d:"M704 576h64v128h-64zM256 64h64v320h-64zM128 192h64v192h-64zM64 512h64v256H64z"},null,-1),dat=[uat,cat];function hat(t,e,n,s,r,a){return S(),A("svg",lat,dat)}var fat=ge(iat,[["render",hat],["__file","smoking.vue"]]),pat={name:"Soccer"},mat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gat=I("path",{fill:"currentColor",d:"M418.496 871.04 152.256 604.8c-16.512 94.016-2.368 178.624 42.944 224 44.928 44.928 129.344 58.752 223.296 42.24zm72.32-18.176a573.056 573.056 0 0 0 224.832-137.216 573.12 573.12 0 0 0 137.216-224.832L533.888 171.84a578.56 578.56 0 0 0-227.52 138.496A567.68 567.68 0 0 0 170.432 532.48l320.384 320.384zM871.04 418.496c16.512-93.952 2.688-178.368-42.24-223.296-44.544-44.544-128.704-58.048-222.592-41.536L871.04 418.496zM149.952 874.048c-112.96-112.96-88.832-408.96 111.168-608.96C461.056 65.152 760.96 36.928 874.048 149.952c113.024 113.024 86.784 411.008-113.152 610.944-199.936 199.936-497.92 226.112-610.944 113.152zm452.544-497.792 22.656-22.656a32 32 0 0 1 45.248 45.248l-22.656 22.656 45.248 45.248A32 32 0 1 1 647.744 512l-45.248-45.248L557.248 512l45.248 45.248a32 32 0 1 1-45.248 45.248L512 557.248l-45.248 45.248L512 647.744a32 32 0 1 1-45.248 45.248l-45.248-45.248-22.656 22.656a32 32 0 1 1-45.248-45.248l22.656-22.656-45.248-45.248A32 32 0 1 1 376.256 512l45.248 45.248L466.752 512l-45.248-45.248a32 32 0 1 1 45.248-45.248L512 466.752l45.248-45.248L512 376.256a32 32 0 0 1 45.248-45.248l45.248 45.248z"},null,-1),vat=[gat];function yat(t,e,n,s,r,a){return S(),A("svg",mat,vat)}var bat=ge(pat,[["render",yat],["__file","soccer.vue"]]),_at={name:"SoldOut"},wat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xat=I("path",{fill:"currentColor",d:"M704 288h131.072a32 32 0 0 1 31.808 28.8L886.4 512h-64.384l-16-160H704v96a32 32 0 1 1-64 0v-96H384v96a32 32 0 0 1-64 0v-96H217.92l-51.2 512H512v64H131.328a32 32 0 0 1-31.808-35.2l57.6-576a32 32 0 0 1 31.808-28.8H320v-22.336C320 154.688 405.504 64 512 64s192 90.688 192 201.664v22.4zm-64 0v-22.336C640 189.248 582.272 128 512 128c-70.272 0-128 61.248-128 137.664v22.4h256zm201.408 476.16a32 32 0 1 1 45.248 45.184l-128 128a32 32 0 0 1-45.248 0l-128-128a32 32 0 1 1 45.248-45.248L704 837.504V608a32 32 0 1 1 64 0v229.504l73.408-73.408z"},null,-1),Cat=[xat];function Sat(t,e,n,s,r,a){return S(),A("svg",wat,Cat)}var Tat=ge(_at,[["render",Sat],["__file","sold-out.vue"]]),kat={name:"SortDown"},$at={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Eat=I("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0z"},null,-1),Iat=[Eat];function Nat(t,e,n,s,r,a){return S(),A("svg",$at,Iat)}var Aat=ge(kat,[["render",Nat],["__file","sort-down.vue"]]),Dat={name:"SortUp"},Oat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Rat=I("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248z"},null,-1),Lat=[Rat];function Pat(t,e,n,s,r,a){return S(),A("svg",Oat,Lat)}var Mat=ge(Dat,[["render",Pat],["__file","sort-up.vue"]]),Fat={name:"Sort"},Bat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zat=I("path",{fill:"currentColor",d:"M384 96a32 32 0 0 1 64 0v786.752a32 32 0 0 1-54.592 22.656L95.936 608a32 32 0 0 1 0-45.312h.128a32 32 0 0 1 45.184 0L384 805.632V96zm192 45.248a32 32 0 0 1 54.592-22.592L928.064 416a32 32 0 0 1 0 45.312h-.128a32 32 0 0 1-45.184 0L640 218.496V928a32 32 0 1 1-64 0V141.248z"},null,-1),Vat=[zat];function Hat(t,e,n,s,r,a){return S(),A("svg",Bat,Vat)}var Uat=ge(Fat,[["render",Hat],["__file","sort.vue"]]),Wat={name:"Stamp"},jat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Gat=I("path",{fill:"currentColor",d:"M624 475.968V640h144a128 128 0 0 1 128 128H128a128 128 0 0 1 128-128h144V475.968a192 192 0 1 1 224 0zM128 896v-64h768v64H128z"},null,-1),qat=[Gat];function Kat(t,e,n,s,r,a){return S(),A("svg",jat,qat)}var Xat=ge(Wat,[["render",Kat],["__file","stamp.vue"]]),Yat={name:"StarFilled"},Qat={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zat=I("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"},null,-1),Jat=[Zat];function eot(t,e,n,s,r,a){return S(),A("svg",Qat,Jat)}var tot=ge(Yat,[["render",eot],["__file","star-filled.vue"]]),not={name:"Star"},sot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rot=I("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72L512 747.84zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"},null,-1),aot=[rot];function oot(t,e,n,s,r,a){return S(),A("svg",sot,aot)}var iot=ge(not,[["render",oot],["__file","star.vue"]]),lot={name:"Stopwatch"},uot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cot=I("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),dot=I("path",{fill:"currentColor",d:"M672 234.88c-39.168 174.464-80 298.624-122.688 372.48-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"},null,-1),hot=[cot,dot];function fot(t,e,n,s,r,a){return S(),A("svg",uot,hot)}var pot=ge(lot,[["render",fot],["__file","stopwatch.vue"]]),mot={name:"SuccessFilled"},got={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},vot=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),yot=[vot];function bot(t,e,n,s,r,a){return S(),A("svg",got,yot)}var _ot=ge(mot,[["render",bot],["__file","success-filled.vue"]]),wot={name:"Sugar"},xot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Cot=I("path",{fill:"currentColor",d:"m801.728 349.184 4.48 4.48a128 128 0 0 1 0 180.992L534.656 806.144a128 128 0 0 1-181.056 0l-4.48-4.48-19.392 109.696a64 64 0 0 1-108.288 34.176L78.464 802.56a64 64 0 0 1 34.176-108.288l109.76-19.328-4.544-4.544a128 128 0 0 1 0-181.056l271.488-271.488a128 128 0 0 1 181.056 0l4.48 4.48 19.392-109.504a64 64 0 0 1 108.352-34.048l142.592 143.04a64 64 0 0 1-34.24 108.16l-109.248 19.2zm-548.8 198.72h447.168v2.24l60.8-60.8a63.808 63.808 0 0 0 18.752-44.416h-426.88l-89.664 89.728a64.064 64.064 0 0 0-10.24 13.248zm0 64c2.752 4.736 6.144 9.152 10.176 13.248l135.744 135.744a64 64 0 0 0 90.496 0L638.4 611.904H252.928zm490.048-230.976L625.152 263.104a64 64 0 0 0-90.496 0L416.768 380.928h326.208zM123.712 757.312l142.976 142.976 24.32-137.6a25.6 25.6 0 0 0-29.696-29.632l-137.6 24.256zm633.6-633.344-24.32 137.472a25.6 25.6 0 0 0 29.632 29.632l137.28-24.064-142.656-143.04z"},null,-1),Sot=[Cot];function Tot(t,e,n,s,r,a){return S(),A("svg",xot,Sot)}var kot=ge(wot,[["render",Tot],["__file","sugar.vue"]]),$ot={name:"SuitcaseLine"},Eot={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},Iot=I("path",{fill:"currentColor",d:"M922.5 229.5c-24.32-24.34-54.49-36.84-90.5-37.5H704v-64c-.68-17.98-7.02-32.98-19.01-44.99S658.01 64.66 640 64H384c-17.98.68-32.98 7.02-44.99 19.01S320.66 110 320 128v64H192c-35.99.68-66.16 13.18-90.5 37.5C77.16 253.82 64.66 283.99 64 320v448c.68 35.99 13.18 66.16 37.5 90.5s54.49 36.84 90.5 37.5h640c35.99-.68 66.16-13.18 90.5-37.5s36.84-54.49 37.5-90.5V320c-.68-35.99-13.18-66.16-37.5-90.5zM384 128h256v64H384v-64zM256 832h-64c-17.98-.68-32.98-7.02-44.99-19.01S128.66 786.01 128 768V448h128v384zm448 0H320V448h384v384zm192-64c-.68 17.98-7.02 32.98-19.01 44.99S850.01 831.34 832 832h-64V448h128v320zm0-384H128v-64c.69-17.98 7.02-32.98 19.01-44.99S173.99 256.66 192 256h640c17.98.69 32.98 7.02 44.99 19.01S895.34 301.99 896 320v64z"},null,-1),Not=[Iot];function Aot(t,e,n,s,r,a){return S(),A("svg",Eot,Not)}var Dot=ge($ot,[["render",Aot],["__file","suitcase-line.vue"]]),Oot={name:"Suitcase"},Rot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Lot=I("path",{fill:"currentColor",d:"M128 384h768v-64a64 64 0 0 0-64-64H192a64 64 0 0 0-64 64v64zm0 64v320a64 64 0 0 0 64 64h640a64 64 0 0 0 64-64V448H128zm64-256h640a128 128 0 0 1 128 128v448a128 128 0 0 1-128 128H192A128 128 0 0 1 64 768V320a128 128 0 0 1 128-128z"},null,-1),Pot=I("path",{fill:"currentColor",d:"M384 128v64h256v-64H384zm0-64h256a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z"},null,-1),Mot=[Lot,Pot];function Fot(t,e,n,s,r,a){return S(),A("svg",Rot,Mot)}var Bot=ge(Oot,[["render",Fot],["__file","suitcase.vue"]]),zot={name:"Sunny"},Vot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Hot=I("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1),Uot=[Hot];function Wot(t,e,n,s,r,a){return S(),A("svg",Vot,Uot)}var jot=ge(zot,[["render",Wot],["__file","sunny.vue"]]),Got={name:"Sunrise"},qot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Kot=I("path",{fill:"currentColor",d:"M32 768h960a32 32 0 1 1 0 64H32a32 32 0 1 1 0-64zm129.408-96a352 352 0 0 1 701.184 0h-64.32a288 288 0 0 0-572.544 0h-64.32zM512 128a32 32 0 0 1 32 32v96a32 32 0 0 1-64 0v-96a32 32 0 0 1 32-32zm407.296 168.704a32 32 0 0 1 0 45.248l-67.84 67.84a32 32 0 1 1-45.248-45.248l67.84-67.84a32 32 0 0 1 45.248 0zm-814.592 0a32 32 0 0 1 45.248 0l67.84 67.84a32 32 0 1 1-45.248 45.248l-67.84-67.84a32 32 0 0 1 0-45.248z"},null,-1),Xot=[Kot];function Yot(t,e,n,s,r,a){return S(),A("svg",qot,Xot)}var Qot=ge(Got,[["render",Yot],["__file","sunrise.vue"]]),Zot={name:"Sunset"},Jot={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},eit=I("path",{fill:"currentColor",d:"M82.56 640a448 448 0 1 1 858.88 0h-67.2a384 384 0 1 0-724.288 0H82.56zM32 704h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm256 128h448q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"},null,-1),tit=[eit];function nit(t,e,n,s,r,a){return S(),A("svg",Jot,tit)}var sit=ge(Zot,[["render",nit],["__file","sunset.vue"]]),rit={name:"SwitchButton"},ait={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},oit=I("path",{fill:"currentColor",d:"M352 159.872V230.4a352 352 0 1 0 320 0v-70.528A416.128 416.128 0 0 1 512 960a416 416 0 0 1-160-800.128z"},null,-1),iit=I("path",{fill:"currentColor",d:"M512 64q32 0 32 32v320q0 32-32 32t-32-32V96q0-32 32-32z"},null,-1),lit=[oit,iit];function uit(t,e,n,s,r,a){return S(),A("svg",ait,lit)}var cit=ge(rit,[["render",uit],["__file","switch-button.vue"]]),dit={name:"SwitchFilled"},hit={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},fit=I("path",{fill:"currentColor",d:"M247.47 358.4v.04c.07 19.17 7.72 37.53 21.27 51.09s31.92 21.2 51.09 21.27c39.86 0 72.41-32.6 72.41-72.4s-32.6-72.36-72.41-72.36-72.36 32.55-72.36 72.36z"},null,-1),pit=I("path",{fill:"currentColor",d:"M492.38 128H324.7c-52.16 0-102.19 20.73-139.08 57.61a196.655 196.655 0 0 0-57.61 139.08V698.7c-.01 25.84 5.08 51.42 14.96 75.29s24.36 45.56 42.63 63.83 39.95 32.76 63.82 42.65a196.67 196.67 0 0 0 75.28 14.98h167.68c3.03 0 5.46-2.43 5.46-5.42V133.42c.6-2.99-1.83-5.42-5.46-5.42zm-56.11 705.88H324.7c-17.76.13-35.36-3.33-51.75-10.18s-31.22-16.94-43.61-29.67c-25.3-25.35-39.81-59.1-39.81-95.32V324.69c-.13-17.75 3.33-35.35 10.17-51.74a131.695 131.695 0 0 1 29.64-43.62c25.39-25.3 59.14-39.81 95.36-39.81h111.57v644.36zm402.12-647.67a196.655 196.655 0 0 0-139.08-57.61H580.48c-3.03 0-4.82 2.43-4.82 4.82v757.16c-.6 2.99 1.79 5.42 5.42 5.42h118.23a196.69 196.69 0 0 0 139.08-57.61A196.655 196.655 0 0 0 896 699.31V325.29a196.69 196.69 0 0 0-57.61-139.08zm-111.3 441.92c-42.83 0-77.82-34.99-77.82-77.82s34.98-77.82 77.82-77.82c42.83 0 77.82 34.99 77.82 77.82s-34.99 77.82-77.82 77.82z"},null,-1),mit=[fit,pit];function git(t,e,n,s,r,a){return S(),A("svg",hit,mit)}var vit=ge(dit,[["render",git],["__file","switch-filled.vue"]]),yit={name:"Switch"},bit={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_it=I("path",{fill:"currentColor",d:"M118.656 438.656a32 32 0 0 1 0-45.248L416 96l4.48-3.776A32 32 0 0 1 461.248 96l3.712 4.48a32.064 32.064 0 0 1-3.712 40.832L218.56 384H928a32 32 0 1 1 0 64H141.248a32 32 0 0 1-22.592-9.344zM64 608a32 32 0 0 1 32-32h786.752a32 32 0 0 1 22.656 54.592L608 928l-4.48 3.776a32.064 32.064 0 0 1-40.832-49.024L805.632 640H96a32 32 0 0 1-32-32z"},null,-1),wit=[_it];function xit(t,e,n,s,r,a){return S(),A("svg",bit,wit)}var Cit=ge(yit,[["render",xit],["__file","switch.vue"]]),Sit={name:"TakeawayBox"},Tit={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},kit=I("path",{fill:"currentColor",d:"M832 384H192v448h640V384zM96 320h832V128H96v192zm800 64v480a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V384H64a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h896a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32h-64zM416 512h192a32 32 0 0 1 0 64H416a32 32 0 0 1 0-64z"},null,-1),$it=[kit];function Eit(t,e,n,s,r,a){return S(),A("svg",Tit,$it)}var Iit=ge(Sit,[["render",Eit],["__file","takeaway-box.vue"]]),Nit={name:"Ticket"},Ait={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Dit=I("path",{fill:"currentColor",d:"M640 832H64V640a128 128 0 1 0 0-256V192h576v160h64V192h256v192a128 128 0 1 0 0 256v192H704V672h-64v160zm0-416v192h64V416h-64z"},null,-1),Oit=[Dit];function Rit(t,e,n,s,r,a){return S(),A("svg",Ait,Oit)}var Lit=ge(Nit,[["render",Rit],["__file","ticket.vue"]]),Pit={name:"Tickets"},Mit={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Fit=I("path",{fill:"currentColor",d:"M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"},null,-1),Bit=[Fit];function zit(t,e,n,s,r,a){return S(),A("svg",Mit,Bit)}var Vit=ge(Pit,[["render",zit],["__file","tickets.vue"]]),Hit={name:"Timer"},Uit={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Wit=I("path",{fill:"currentColor",d:"M512 896a320 320 0 1 0 0-640 320 320 0 0 0 0 640zm0 64a384 384 0 1 1 0-768 384 384 0 0 1 0 768z"},null,-1),jit=I("path",{fill:"currentColor",d:"M512 320a32 32 0 0 1 32 32l-.512 224a32 32 0 1 1-64 0L480 352a32 32 0 0 1 32-32z"},null,-1),Git=I("path",{fill:"currentColor",d:"M448 576a64 64 0 1 0 128 0 64 64 0 1 0-128 0zm96-448v128h-64V128h-96a32 32 0 0 1 0-64h256a32 32 0 1 1 0 64h-96z"},null,-1),qit=[Wit,jit,Git];function Kit(t,e,n,s,r,a){return S(),A("svg",Uit,qit)}var Xit=ge(Hit,[["render",Kit],["__file","timer.vue"]]),Yit={name:"ToiletPaper"},Qit={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Zit=I("path",{fill:"currentColor",d:"M595.2 128H320a192 192 0 0 0-192 192v576h384V352c0-90.496 32.448-171.2 83.2-224zM736 64c123.712 0 224 128.96 224 288S859.712 640 736 640H576v320H64V320A256 256 0 0 1 320 64h416zM576 352v224h160c84.352 0 160-97.28 160-224s-75.648-224-160-224-160 97.28-160 224z"},null,-1),Jit=I("path",{fill:"currentColor",d:"M736 448c-35.328 0-64-43.008-64-96s28.672-96 64-96 64 43.008 64 96-28.672 96-64 96z"},null,-1),elt=[Zit,Jit];function tlt(t,e,n,s,r,a){return S(),A("svg",Qit,elt)}var nlt=ge(Yit,[["render",tlt],["__file","toilet-paper.vue"]]),slt={name:"Tools"},rlt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},alt=I("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1),olt=[alt];function ilt(t,e,n,s,r,a){return S(),A("svg",rlt,olt)}var llt=ge(slt,[["render",ilt],["__file","tools.vue"]]),ult={name:"TopLeft"},clt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},dlt=I("path",{fill:"currentColor",d:"M256 256h416a32 32 0 1 0 0-64H224a32 32 0 0 0-32 32v448a32 32 0 0 0 64 0V256z"},null,-1),hlt=I("path",{fill:"currentColor",d:"M246.656 201.344a32 32 0 0 0-45.312 45.312l544 544a32 32 0 0 0 45.312-45.312l-544-544z"},null,-1),flt=[dlt,hlt];function plt(t,e,n,s,r,a){return S(),A("svg",clt,flt)}var mlt=ge(ult,[["render",plt],["__file","top-left.vue"]]),glt={name:"TopRight"},vlt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ylt=I("path",{fill:"currentColor",d:"M768 256H353.6a32 32 0 1 1 0-64H800a32 32 0 0 1 32 32v448a32 32 0 0 1-64 0V256z"},null,-1),blt=I("path",{fill:"currentColor",d:"M777.344 201.344a32 32 0 0 1 45.312 45.312l-544 544a32 32 0 0 1-45.312-45.312l544-544z"},null,-1),_lt=[ylt,blt];function wlt(t,e,n,s,r,a){return S(),A("svg",vlt,_lt)}var xlt=ge(glt,[["render",wlt],["__file","top-right.vue"]]),Clt={name:"Top"},Slt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tlt=I("path",{fill:"currentColor",d:"M572.235 205.282v600.365a30.118 30.118 0 1 1-60.235 0V205.282L292.382 438.633a28.913 28.913 0 0 1-42.646 0 33.43 33.43 0 0 1 0-45.236l271.058-288.045a28.913 28.913 0 0 1 42.647 0L834.5 393.397a33.43 33.43 0 0 1 0 45.176 28.913 28.913 0 0 1-42.647 0l-219.618-233.23z"},null,-1),klt=[Tlt];function $lt(t,e,n,s,r,a){return S(),A("svg",Slt,klt)}var Elt=ge(Clt,[["render",$lt],["__file","top.vue"]]),Ilt={name:"TrendCharts"},Nlt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Alt=I("path",{fill:"currentColor",d:"M128 896V128h768v768H128zm291.712-327.296 128 102.4 180.16-201.792-47.744-42.624-139.84 156.608-128-102.4-180.16 201.792 47.744 42.624 139.84-156.608zM816 352a48 48 0 1 0-96 0 48 48 0 0 0 96 0z"},null,-1),Dlt=[Alt];function Olt(t,e,n,s,r,a){return S(),A("svg",Nlt,Dlt)}var Rlt=ge(Ilt,[["render",Olt],["__file","trend-charts.vue"]]),Llt={name:"TrophyBase"},Plt={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},Mlt=I("path",{fill:"currentColor",d:"M918.4 201.6c-6.4-6.4-12.8-9.6-22.4-9.6H768V96c0-9.6-3.2-16-9.6-22.4C752 67.2 745.6 64 736 64H288c-9.6 0-16 3.2-22.4 9.6C259.2 80 256 86.4 256 96v96H128c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 16-9.6 22.4 3.2 108.8 25.6 185.6 64 224 34.4 34.4 77.56 55.65 127.65 61.99 10.91 20.44 24.78 39.25 41.95 56.41 40.86 40.86 91 65.47 150.4 71.9V768h-96c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h256c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6h-96V637.26c59.4-7.71 109.54-30.01 150.4-70.86 17.2-17.2 31.51-36.06 42.81-56.55 48.93-6.51 90.02-27.7 126.79-61.85 38.4-38.4 60.8-112 64-224 0-6.4-3.2-16-9.6-22.4zM256 438.4c-19.2-6.4-35.2-19.2-51.2-35.2-22.4-22.4-35.2-70.4-41.6-147.2H256v182.4zm390.4 80C608 553.6 566.4 576 512 576s-99.2-19.2-134.4-57.6C342.4 480 320 438.4 320 384V128h384v256c0 54.4-19.2 99.2-57.6 134.4zm172.8-115.2c-16 16-32 25.6-51.2 35.2V256h92.8c-6.4 76.8-19.2 124.8-41.6 147.2zM768 896H256c-9.6 0-16 3.2-22.4 9.6-6.4 6.4-9.6 12.8-9.6 22.4s3.2 16 9.6 22.4c6.4 6.4 12.8 9.6 22.4 9.6h512c9.6 0 16-3.2 22.4-9.6 6.4-6.4 9.6-12.8 9.6-22.4s-3.2-16-9.6-22.4c-6.4-6.4-12.8-9.6-22.4-9.6z"},null,-1),Flt=[Mlt];function Blt(t,e,n,s,r,a){return S(),A("svg",Plt,Flt)}var zlt=ge(Llt,[["render",Blt],["__file","trophy-base.vue"]]),Vlt={name:"Trophy"},Hlt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Ult=I("path",{fill:"currentColor",d:"M480 896V702.08A256.256 256.256 0 0 1 264.064 512h-32.64a96 96 0 0 1-91.968-68.416L93.632 290.88a76.8 76.8 0 0 1 73.6-98.88H256V96a32 32 0 0 1 32-32h448a32 32 0 0 1 32 32v96h88.768a76.8 76.8 0 0 1 73.6 98.88L884.48 443.52A96 96 0 0 1 792.576 512h-32.64A256.256 256.256 0 0 1 544 702.08V896h128a32 32 0 1 1 0 64H352a32 32 0 1 1 0-64h128zm224-448V128H320v320a192 192 0 1 0 384 0zm64 0h24.576a32 32 0 0 0 30.656-22.784l45.824-152.768A12.8 12.8 0 0 0 856.768 256H768v192zm-512 0V256h-88.768a12.8 12.8 0 0 0-12.288 16.448l45.824 152.768A32 32 0 0 0 231.424 448H256z"},null,-1),Wlt=[Ult];function jlt(t,e,n,s,r,a){return S(),A("svg",Hlt,Wlt)}var Glt=ge(Vlt,[["render",jlt],["__file","trophy.vue"]]),qlt={name:"TurnOff"},Klt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Xlt=I("path",{fill:"currentColor",d:"M329.956 257.138a254.862 254.862 0 0 0 0 509.724h364.088a254.862 254.862 0 0 0 0-509.724H329.956zm0-72.818h364.088a327.68 327.68 0 1 1 0 655.36H329.956a327.68 327.68 0 1 1 0-655.36z"},null,-1),Ylt=I("path",{fill:"currentColor",d:"M329.956 621.227a109.227 109.227 0 1 0 0-218.454 109.227 109.227 0 0 0 0 218.454zm0 72.817a182.044 182.044 0 1 1 0-364.088 182.044 182.044 0 0 1 0 364.088z"},null,-1),Qlt=[Xlt,Ylt];function Zlt(t,e,n,s,r,a){return S(),A("svg",Klt,Qlt)}var Jlt=ge(qlt,[["render",Zlt],["__file","turn-off.vue"]]),eut={name:"Umbrella"},tut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nut=I("path",{fill:"currentColor",d:"M320 768a32 32 0 1 1 64 0 64 64 0 0 0 128 0V512H64a448 448 0 1 1 896 0H576v256a128 128 0 1 1-256 0zm570.688-320a384.128 384.128 0 0 0-757.376 0h757.376z"},null,-1),sut=[nut];function rut(t,e,n,s,r,a){return S(),A("svg",tut,sut)}var aut=ge(eut,[["render",rut],["__file","umbrella.vue"]]),out={name:"Unlock"},iut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},lut=I("path",{fill:"currentColor",d:"M224 448a32 32 0 0 0-32 32v384a32 32 0 0 0 32 32h576a32 32 0 0 0 32-32V480a32 32 0 0 0-32-32H224zm0-64h576a96 96 0 0 1 96 96v384a96 96 0 0 1-96 96H224a96 96 0 0 1-96-96V480a96 96 0 0 1 96-96z"},null,-1),uut=I("path",{fill:"currentColor",d:"M512 544a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V576a32 32 0 0 1 32-32zm178.304-295.296A192.064 192.064 0 0 0 320 320v64h352l96 38.4V448H256V320a256 256 0 0 1 493.76-95.104l-59.456 23.808z"},null,-1),cut=[lut,uut];function dut(t,e,n,s,r,a){return S(),A("svg",iut,cut)}var hut=ge(out,[["render",dut],["__file","unlock.vue"]]),fut={name:"UploadFilled"},put={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mut=I("path",{fill:"currentColor",d:"M544 864V672h128L512 480 352 672h128v192H320v-1.6c-5.376.32-10.496 1.6-16 1.6A240 240 0 0 1 64 624c0-123.136 93.12-223.488 212.608-237.248A239.808 239.808 0 0 1 512 192a239.872 239.872 0 0 1 235.456 194.752c119.488 13.76 212.48 114.112 212.48 237.248a240 240 0 0 1-240 240c-5.376 0-10.56-1.28-16-1.6v1.6H544z"},null,-1),gut=[mut];function vut(t,e,n,s,r,a){return S(),A("svg",put,gut)}var yut=ge(fut,[["render",vut],["__file","upload-filled.vue"]]),but={name:"Upload"},_ut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wut=I("path",{fill:"currentColor",d:"M160 832h704a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm384-578.304V704h-64V247.296L237.248 490.048 192 444.8 508.8 128l316.8 316.8-45.312 45.248L544 253.696z"},null,-1),xut=[wut];function Cut(t,e,n,s,r,a){return S(),A("svg",_ut,xut)}var Sut=ge(but,[["render",Cut],["__file","upload.vue"]]),Tut={name:"UserFilled"},kut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$ut=I("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0 224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1),Eut=[$ut];function Iut(t,e,n,s,r,a){return S(),A("svg",kut,Eut)}var Nut=ge(Tut,[["render",Iut],["__file","user-filled.vue"]]),Aut={name:"User"},Dut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Out=I("path",{fill:"currentColor",d:"M512 512a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"},null,-1),Rut=[Out];function Lut(t,e,n,s,r,a){return S(),A("svg",Dut,Rut)}var Put=ge(Aut,[["render",Lut],["__file","user.vue"]]),Mut={name:"Van"},Fut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},But=I("path",{fill:"currentColor",d:"M128.896 736H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h576a32 32 0 0 1 32 32v96h164.544a32 32 0 0 1 31.616 27.136l54.144 352A32 32 0 0 1 922.688 736h-91.52a144 144 0 1 1-286.272 0H415.104a144 144 0 1 1-286.272 0zm23.36-64a143.872 143.872 0 0 1 239.488 0H568.32c17.088-25.6 42.24-45.376 71.744-55.808V256H128v416h24.256zm655.488 0h77.632l-19.648-128H704v64.896A144 144 0 0 1 807.744 672zm48.128-192-14.72-96H704v96h151.872zM688 832a80 80 0 1 0 0-160 80 80 0 0 0 0 160zm-416 0a80 80 0 1 0 0-160 80 80 0 0 0 0 160z"},null,-1),zut=[But];function Vut(t,e,n,s,r,a){return S(),A("svg",Fut,zut)}var Hut=ge(Mut,[["render",Vut],["__file","van.vue"]]),Uut={name:"VideoCameraFilled"},Wut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},jut=I("path",{fill:"currentColor",d:"m768 576 192-64v320l-192-64v96a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V480a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v96zM192 768v64h384v-64H192zm192-480a160 160 0 0 1 320 0 160 160 0 0 1-320 0zm64 0a96 96 0 1 0 192.064-.064A96 96 0 0 0 448 288zm-320 32a128 128 0 1 1 256.064.064A128 128 0 0 1 128 320zm64 0a64 64 0 1 0 128 0 64 64 0 0 0-128 0z"},null,-1),Gut=[jut];function qut(t,e,n,s,r,a){return S(),A("svg",Wut,Gut)}var Kut=ge(Uut,[["render",qut],["__file","video-camera-filled.vue"]]),Xut={name:"VideoCamera"},Yut={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Qut=I("path",{fill:"currentColor",d:"M704 768V256H128v512h576zm64-416 192-96v512l-192-96v128a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32h640a32 32 0 0 1 32 32v128zm0 71.552v176.896l128 64V359.552l-128 64zM192 320h192v64H192v-64z"},null,-1),Zut=[Qut];function Jut(t,e,n,s,r,a){return S(),A("svg",Yut,Zut)}var ect=ge(Xut,[["render",Jut],["__file","video-camera.vue"]]),tct={name:"VideoPause"},nct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},sct=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-96-544q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32zm192 0q32 0 32 32v256q0 32-32 32t-32-32V384q0-32 32-32z"},null,-1),rct=[sct];function act(t,e,n,s,r,a){return S(),A("svg",nct,rct)}var oct=ge(tct,[["render",act],["__file","video-pause.vue"]]),ict={name:"VideoPlay"},lct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uct=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm-48-247.616L668.608 512 464 375.616v272.768zm10.624-342.656 249.472 166.336a48 48 0 0 1 0 79.872L474.624 718.272A48 48 0 0 1 400 678.336V345.6a48 48 0 0 1 74.624-39.936z"},null,-1),cct=[uct];function dct(t,e,n,s,r,a){return S(),A("svg",lct,cct)}var hct=ge(ict,[["render",dct],["__file","video-play.vue"]]),fct={name:"View"},pct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},mct=I("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),gct=[mct];function vct(t,e,n,s,r,a){return S(),A("svg",pct,gct)}var yct=ge(fct,[["render",vct],["__file","view.vue"]]),bct={name:"WalletFilled"},_ct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},wct=I("path",{fill:"currentColor",d:"M688 512a112 112 0 1 0 0 224h208v160H128V352h768v160H688zm32 160h-32a48 48 0 0 1 0-96h32a48 48 0 0 1 0 96zm-80-544 128 160H384l256-160z"},null,-1),xct=[wct];function Cct(t,e,n,s,r,a){return S(),A("svg",_ct,xct)}var Sct=ge(bct,[["render",Cct],["__file","wallet-filled.vue"]]),Tct={name:"Wallet"},kct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},$ct=I("path",{fill:"currentColor",d:"M640 288h-64V128H128v704h384v32a32 32 0 0 0 32 32H96a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32v192z"},null,-1),Ect=I("path",{fill:"currentColor",d:"M128 320v512h768V320H128zm-32-64h832a32 32 0 0 1 32 32v576a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V288a32 32 0 0 1 32-32z"},null,-1),Ict=I("path",{fill:"currentColor",d:"M704 640a64 64 0 1 1 0-128 64 64 0 0 1 0 128z"},null,-1),Nct=[$ct,Ect,Ict];function Act(t,e,n,s,r,a){return S(),A("svg",kct,Nct)}var Dct=ge(Tct,[["render",Act],["__file","wallet.vue"]]),Oct={name:"WarnTriangleFilled"},Rct={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"enable-background":"new 0 0 1024 1024"},viewBox:"0 0 1024 1024"},Lct=I("path",{fill:"currentColor",d:"M928.99 755.83 574.6 203.25c-12.89-20.16-36.76-32.58-62.6-32.58s-49.71 12.43-62.6 32.58L95.01 755.83c-12.91 20.12-12.9 44.91.01 65.03 12.92 20.12 36.78 32.51 62.59 32.49h708.78c25.82.01 49.68-12.37 62.59-32.49 12.91-20.12 12.92-44.91.01-65.03zM554.67 768h-85.33v-85.33h85.33V768zm0-426.67v298.66h-85.33V341.32l85.33.01z"},null,-1),Pct=[Lct];function Mct(t,e,n,s,r,a){return S(),A("svg",Rct,Pct)}var Fct=ge(Oct,[["render",Mct],["__file","warn-triangle-filled.vue"]]),Bct={name:"WarningFilled"},zct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Vct=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),Hct=[Vct];function Uct(t,e,n,s,r,a){return S(),A("svg",zct,Hct)}var Wct=ge(Bct,[["render",Uct],["__file","warning-filled.vue"]]),jct={name:"Warning"},Gct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},qct=I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1),Kct=[qct];function Xct(t,e,n,s,r,a){return S(),A("svg",Gct,Kct)}var Yct=ge(jct,[["render",Xct],["__file","warning.vue"]]),Qct={name:"Watch"},Zct={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Jct=I("path",{fill:"currentColor",d:"M512 768a256 256 0 1 0 0-512 256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640 320 320 0 0 1 0 640z"},null,-1),edt=I("path",{fill:"currentColor",d:"M480 352a32 32 0 0 1 32 32v160a32 32 0 0 1-64 0V384a32 32 0 0 1 32-32z"},null,-1),tdt=I("path",{fill:"currentColor",d:"M480 512h128q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm128-256V128H416v128h-64V64h320v192h-64zM416 768v128h192V768h64v192H352V768h64z"},null,-1),ndt=[Jct,edt,tdt];function sdt(t,e,n,s,r,a){return S(),A("svg",Zct,ndt)}var rdt=ge(Qct,[["render",sdt],["__file","watch.vue"]]),adt={name:"Watermelon"},odt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},idt=I("path",{fill:"currentColor",d:"m683.072 600.32-43.648 162.816-61.824-16.512 53.248-198.528L576 493.248l-158.4 158.4-45.248-45.248 158.4-158.4-55.616-55.616-198.528 53.248-16.512-61.824 162.816-43.648L282.752 200A384 384 0 0 0 824 741.248L683.072 600.32zm231.552 141.056a448 448 0 1 1-632-632l632 632z"},null,-1),ldt=[idt];function udt(t,e,n,s,r,a){return S(),A("svg",odt,ldt)}var cdt=ge(adt,[["render",udt],["__file","watermelon.vue"]]),ddt={name:"WindPower"},hdt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fdt=I("path",{fill:"currentColor",d:"M160 64q32 0 32 32v832q0 32-32 32t-32-32V96q0-32 32-32zm416 354.624 128-11.584V168.96l-128-11.52v261.12zm-64 5.824V151.552L320 134.08V160h-64V64l616.704 56.064A96 96 0 0 1 960 215.68v144.64a96 96 0 0 1-87.296 95.616L256 512V224h64v217.92l192-17.472zm256-23.232 98.88-8.96A32 32 0 0 0 896 360.32V215.68a32 32 0 0 0-29.12-31.872l-98.88-8.96v226.368z"},null,-1),pdt=[fdt];function mdt(t,e,n,s,r,a){return S(),A("svg",hdt,pdt)}var gdt=ge(ddt,[["render",mdt],["__file","wind-power.vue"]]),vdt={name:"ZoomIn"},ydt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},bdt=I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zm-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64h96z"},null,-1),_dt=[bdt];function wdt(t,e,n,s,r,a){return S(),A("svg",ydt,_dt)}var xdt=ge(vdt,[["render",wdt],["__file","zoom-in.vue"]]),Cdt={name:"ZoomOut"},Sdt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},Tdt=I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704zM352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64z"},null,-1),kdt=[Tdt];function $dt(t,e,n,s,r,a){return S(),A("svg",Sdt,kdt)}var Edt=ge(Cdt,[["render",$dt],["__file","zoom-out.vue"]]);const Idt=Object.freeze(Object.defineProperty({__proto__:null,AddLocation:eDe,Aim:iDe,AlarmClock:pDe,Apple:_De,ArrowDown:DDe,ArrowDownBold:kDe,ArrowLeft:WDe,ArrowLeftBold:FDe,ArrowRight:n7e,ArrowRightBold:YDe,ArrowUp:p7e,ArrowUpBold:l7e,Avatar:_7e,Back:$7e,Baseball:R7e,Basketball:z7e,Bell:eOe,BellFilled:G7e,Bicycle:oOe,Bottom:kOe,BottomLeft:fOe,BottomRight:_Oe,Bowl:DOe,Box:zOe,Briefcase:GOe,Brush:rRe,BrushFilled:ZOe,Burger:cRe,Calendar:gRe,Camera:ERe,CameraFilled:xRe,CaretBottom:RRe,CaretLeft:zRe,CaretRight:GRe,CaretTop:ZRe,Cellphone:rLe,ChatDotRound:dLe,ChatDotSquare:yLe,ChatLineRound:TLe,ChatLineSquare:DLe,ChatRound:FLe,ChatSquare:WLe,Check:YLe,Checked:nPe,Cherry:lPe,Chicken:pPe,ChromeFilled:xPe,CircleCheck:LPe,CircleCheckFilled:EPe,CircleClose:KPe,CircleCloseFilled:VPe,CirclePlus:lMe,CirclePlusFilled:eMe,Clock:gMe,Close:EMe,CloseBold:xMe,Cloudy:RMe,Coffee:GMe,CoffeeCup:zMe,Coin:eFe,ColdDrink:oFe,Collection:bFe,CollectionTag:hFe,Comment:TFe,Compass:DFe,Connection:BFe,Coordinate:GFe,CopyDocument:JFe,Cpu:oBe,CreditCard:fBe,Crop:_Be,DArrowLeft:kBe,DArrowRight:DBe,DCaret:FBe,DataAnalysis:WBe,DataBoard:ZBe,DataLine:rze,Delete:Sze,DeleteFilled:cze,DeleteLocation:yze,Dessert:Nze,Discount:Mze,Dish:Xze,DishDot:Uze,Document:AVe,DocumentAdd:tVe,DocumentChecked:iVe,DocumentCopy:fVe,DocumentDelete:bVe,DocumentRemove:TVe,Download:MVe,Drizzling:UVe,Edit:nHe,EditPen:XVe,Eleme:pHe,ElemeFilled:lHe,ElementPlus:_He,Expand:kHe,Failed:DHe,Female:zHe,Files:GHe,Film:JHe,Filter:aUe,Finished:dUe,FirstAidKit:yUe,Flag:SUe,Fold:NUe,Folder:hWe,FolderAdd:PUe,FolderChecked:HUe,FolderDelete:KUe,FolderOpened:eWe,FolderRemove:oWe,Food:yWe,Football:TWe,ForkSpoon:AWe,Fries:MWe,FullScreen:UWe,Goblet:fje,GobletFull:XWe,GobletSquare:ije,GobletSquareFull:tje,GoldMedal:_je,Goods:Dje,GoodsFilled:kje,Grape:Fje,Grid:Wje,Guide:Qje,Handbag:sGe,Headset:uGe,Help:wGe,HelpFilled:mGe,Hide:EGe,Histogram:RGe,HomeFilled:zGe,HotWater:GGe,House:ZGe,IceCream:gqe,IceCreamRound:rqe,IceCreamSquare:cqe,IceDrink:xqe,IceTea:Eqe,InfoFilled:Rqe,Iphone:zqe,Key:Gqe,KnifeFork:Zqe,Lightning:aKe,Link:dKe,List:vKe,Loading:CKe,Location:WKe,LocationFilled:IKe,LocationInformation:MKe,Lock:QKe,Lollipop:sXe,MagicStick:uXe,Magnet:mXe,Male:CXe,Management:IXe,MapLocation:PXe,Medal:UXe,Memo:QXe,Menu:sYe,Message:gYe,MessageBox:uYe,Mic:xYe,Microphone:EYe,MilkTea:RYe,Minus:zYe,Money:KYe,Monitor:eQe,Moon:fQe,MoonNight:iQe,More:TQe,MoreFilled:bQe,MostlyCloudy:AQe,Mouse:FQe,Mug:WQe,Mute:rZe,MuteNotification:QQe,NoSmoking:cZe,Notebook:vZe,Notification:SZe,Odometer:DZe,OfficeBuilding:zZe,Open:qZe,Operation:JZe,Opportunity:aJe,Orange:dJe,Paperclip:vJe,PartlyCloudy:SJe,Pear:NJe,Phone:HJe,PhoneFilled:PJe,Picture:uet,PictureFilled:KJe,PictureRounded:tet,PieChart:get,Place:Tet,Platform:Aet,Plus:Met,Pointer:Uet,Position:Xet,Postcard:ntt,Pouring:ltt,Present:vtt,PriceTag:Stt,Printer:Ntt,Promotion:Ptt,QuartzWatch:Wtt,QuestionFilled:Ytt,Rank:nnt,Reading:gnt,ReadingLamp:unt,Refresh:Rnt,RefreshLeft:xnt,RefreshRight:Ent,Refrigerator:znt,Remove:Jnt,RemoveFilled:Gnt,Right:ast,ScaleToOriginal:dst,School:bst,Scissor:Tst,Search:Ast,Select:Mst,Sell:Ust,SemiSelect:Xst,Service:trt,SetUp:crt,Setting:grt,Share:xrt,Ship:Ert,Shop:Rrt,ShoppingBag:Vrt,ShoppingCart:eat,ShoppingCartFull:Krt,ShoppingTrolley:oat,Smoking:fat,Soccer:bat,SoldOut:Tat,Sort:Uat,SortDown:Aat,SortUp:Mat,Stamp:Xat,Star:iot,StarFilled:tot,Stopwatch:pot,SuccessFilled:_ot,Sugar:kot,Suitcase:Bot,SuitcaseLine:Dot,Sunny:jot,Sunrise:Qot,Sunset:sit,Switch:Cit,SwitchButton:cit,SwitchFilled:vit,TakeawayBox:Iit,Ticket:Lit,Tickets:Vit,Timer:Xit,ToiletPaper:nlt,Tools:llt,Top:Elt,TopLeft:mlt,TopRight:xlt,TrendCharts:Rlt,Trophy:Glt,TrophyBase:zlt,TurnOff:Jlt,Umbrella:aut,Unlock:hut,Upload:Sut,UploadFilled:yut,User:Put,UserFilled:Nut,Van:Hut,VideoCamera:ect,VideoCameraFilled:Kut,VideoPause:oct,VideoPlay:hct,View:yct,Wallet:Dct,WalletFilled:Sct,WarnTriangleFilled:Fct,Warning:Yct,WarningFilled:Wct,Watch:rdt,Watermelon:cdt,WindPower:gdt,ZoomIn:xdt,ZoomOut:Edt},Symbol.toStringTag,{value:"Module"})),Ndt={},Adt=t=>(Bs("data-v-9e9904c4"),t=t(),zs(),t),Ddt={class:"layout-container"},Odt=Adt(()=>I("div",{class:"main"},null,-1));function Rdt(t,e){const n=ht("NextContainer");return S(),A("div",Ddt,[$(n,null,{default:se(()=>[Odt]),_:1})])}const Ldt=nn(Ndt,[["render",Rdt],["__scopeId","data-v-9e9904c4"]]),Pdt=Object.freeze(Object.defineProperty({__proto__:null,default:Ldt},Symbol.toStringTag,{value:"Module"})),Mdt={};function Fdt(t,e){const n=ht("NextCrudTableVirtualized");return S(),A("div",null,[$(n)])}const Bdt=nn(Mdt,[["render",Fdt]]),zdt=Object.freeze(Object.defineProperty({__proto__:null,default:Bdt},Symbol.toStringTag,{value:"Module"}));function n0(t){return fz()?(v$(t),!0):!1}function Fu(t){return typeof t=="function"?t():g(t)}const s0=typeof window<"u"&&typeof document<"u",Vdt=Object.prototype.toString,Hdt=t=>Vdt.call(t)==="[object Object]",Udt=()=>{},Wdt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,jdt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function Gdt(t,e,n,s){let r=t<12?"AM":"PM";return s&&(r=r.split("").reduce((a,o)=>a+=`${o}.`,"")),n?r.toLowerCase():r}function qdt(t,e,n={}){var s;const r=t.getFullYear(),a=t.getMonth(),o=t.getDate(),i=t.getHours(),l=t.getMinutes(),u=t.getSeconds(),c=t.getMilliseconds(),d=t.getDay(),h=(s=n.customMeridiem)!=null?s:Gdt,f={YY:()=>String(r).slice(-2),YYYY:()=>r,M:()=>a+1,MM:()=>`${a+1}`.padStart(2,"0"),MMM:()=>t.toLocaleDateString(n.locales,{month:"short"}),MMMM:()=>t.toLocaleDateString(n.locales,{month:"long"}),D:()=>String(o),DD:()=>`${o}`.padStart(2,"0"),H:()=>String(i),HH:()=>`${i}`.padStart(2,"0"),h:()=>`${i%12||12}`.padStart(1,"0"),hh:()=>`${i%12||12}`.padStart(2,"0"),m:()=>String(l),mm:()=>`${l}`.padStart(2,"0"),s:()=>String(u),ss:()=>`${u}`.padStart(2,"0"),SSS:()=>`${c}`.padStart(3,"0"),d:()=>d,dd:()=>t.toLocaleDateString(n.locales,{weekday:"narrow"}),ddd:()=>t.toLocaleDateString(n.locales,{weekday:"short"}),dddd:()=>t.toLocaleDateString(n.locales,{weekday:"long"}),A:()=>h(i,l),AA:()=>h(i,l,!1,!0),a:()=>h(i,l,!0),aa:()=>h(i,l,!0,!0)};return e.replace(jdt,(p,m)=>{var y,v;return(v=m??((y=f[p])==null?void 0:y.call(f)))!=null?v:p})}function Kdt(t){if(t===null)return new Date(Number.NaN);if(t===void 0)return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){const e=t.match(Wdt);if(e){const n=e[2]-1||0,s=(e[7]||"0").substring(0,3);return new Date(e[1],n,e[3]||1,e[4]||0,e[5]||0,e[6]||0,s)}}return new Date(t)}function p1(t,e="HH:mm:ss",n={}){return D(()=>qdt(Kdt(Fu(t)),Fu(e),n))}function Xdt(t,e=1e3,n={}){const{immediate:s=!0,immediateCallback:r=!1}=n;let a=null;const o=B(!1);function i(){a&&(clearInterval(a),a=null)}function l(){o.value=!1,i()}function u(){const c=Fu(e);c<=0||(o.value=!0,r&&t(),i(),a=setInterval(t,c))}if(s&&s0&&u(),ms(e)||typeof e=="function"){const c=Ee(e,()=>{o.value&&s0&&u()});n0(c)}return n0(l),{isActive:o,pause:l,resume:u}}function Ydt(t,e,n={}){const{immediate:s=!0}=n,r=B(!1);let a=null;function o(){a&&(clearTimeout(a),a=null)}function i(){r.value=!1,o()}function l(...u){o(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,t(...u)},Fu(e))}return s&&(r.value=!0,s0&&l()),n0(i),{isPending:rf(r),start:l,stop:i}}function Qdt(t=!1,e={}){const{truthyValue:n=!0,falsyValue:s=!1}=e,r=ms(t),a=B(t);function o(i){if(arguments.length)return a.value=i,a.value;{const l=Fu(n);return a.value=a.value===l?Fu(s):l,a.value}}return r?o:[a,o]}function AT(t){var e;const n=Fu(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Fj=s0?window:void 0,Zdt=s0?window.document:void 0,Jdt=s0?window.navigator:void 0;function DT(...t){let e,n,s,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,s,r]=t,e=Fj):[e,n,s,r]=t,!e)return Udt;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const a=[],o=()=>{a.forEach(c=>c()),a.length=0},i=(c,d,h,f)=>(c.addEventListener(d,h,f),()=>c.removeEventListener(d,h,f)),l=Ee(()=>[AT(e),Fu(r)],([c,d])=>{if(o(),!c)return;const h=Hdt(d)?{...d}:d;a.push(...n.flatMap(f=>s.map(p=>i(c,f,p,h))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return n0(u),u}function eht(){const t=B(!1);return Ht()&&Et(()=>{t.value=!0}),t}function Bj(t){const e=eht();return D(()=>(e.value,!!t()))}function tht(t,e={}){const{immediate:n=!0,window:s=Fj}=e,r=B(!1);let a=0,o=null;function i(c){if(!r.value||!s)return;const d=c-(a||c);t({delta:d,timestamp:c}),a=c,o=s.requestAnimationFrame(i)}function l(){!r.value&&s&&(r.value=!0,o=s.requestAnimationFrame(i))}function u(){r.value=!1,o!=null&&s&&(s.cancelAnimationFrame(o),o=null)}return n&&l(),n0(u),{isActive:rf(r),pause:u,resume:l}}function nht(t={}){const{navigator:e=Jdt,read:n=!1,source:s,copiedDuring:r=1500,legacy:a=!1}=t,o=Bj(()=>e&&"clipboard"in e),i=D(()=>o.value||a),l=B(""),u=B(!1),c=Ydt(()=>u.value=!1,r);function d(){o.value?e.clipboard.readText().then(m=>{l.value=m}):l.value=p()}i.value&&n&&DT(["copy","cut"],d);async function h(m=Fu(s)){i.value&&m!=null&&(o.value?await e.clipboard.writeText(m):f(m),l.value=m,u.value=!0,c.start())}function f(m){const y=document.createElement("textarea");y.value=m??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function p(){var m,y,v;return(v=(y=(m=document==null?void 0:document.getSelection)==null?void 0:m.call(document))==null?void 0:y.toString())!=null?v:""}return{isSupported:i,text:l,copied:u,copy:h}}const QL=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function EE(t,e={}){const{document:n=Zdt,autoExit:s=!1}=e,r=D(()=>{var v;return(v=AT(t))!=null?v:n==null?void 0:n.querySelector("html")}),a=B(!1),o=D(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(v=>n&&v in n||r.value&&v in r.value)),i=D(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(v=>n&&v in n||r.value&&v in r.value)),l=D(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(v=>n&&v in n||r.value&&v in r.value)),u=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(v=>n&&v in n),c=Bj(()=>r.value&&n&&o.value!==void 0&&i.value!==void 0&&l.value!==void 0),d=()=>u?(n==null?void 0:n[u])===r.value:!1,h=()=>{if(l.value){if(n&&n[l.value]!=null)return n[l.value];{const v=r.value;if((v==null?void 0:v[l.value])!=null)return!!v[l.value]}}return!1};async function f(){if(!(!c.value||!a.value)){if(i.value)if((n==null?void 0:n[i.value])!=null)await n[i.value]();else{const v=r.value;(v==null?void 0:v[i.value])!=null&&await v[i.value]()}a.value=!1}}async function p(){if(!c.value||a.value)return;h()&&await f();const v=r.value;o.value&&(v==null?void 0:v[o.value])!=null&&(await v[o.value](),a.value=!0)}async function m(){await(a.value?f():p())}const y=()=>{const v=h();(!v||v&&d())&&(a.value=v)};return DT(n,QL,y,!1),DT(()=>AT(r),QL,y,!1),s&&n0(f),{isSupported:c,isFullscreen:a,enter:p,exit:f,toggle:m}}function sht(t={}){const{controls:e=!1,interval:n="requestAnimationFrame"}=t,s=B(new Date),r=()=>s.value=new Date,a=n==="requestAnimationFrame"?tht(r,{immediate:!0}):Xdt(r,n,{immediate:!0});return e?{now:s,...a}:s}const rht=t=>(Bs("data-v-bde8596b"),t=t(),zs(),t),aht={class:"layout-container"},oht=rht(()=>I("span",null,"",-1)),iht=Z({__name:"advanced",setup(t){EE();const e=new Date().getTime(),n=p1(e-1e3*60*60*24,"YYYY-MM-DD HH:mm:ss").value,s=p1(e,"YYYY-MM-DD HH:mm:ss").value,r=an({searchLabelWidth:"4em",border:!0,operationsWidth:220,addBtn:!0,editBtn:!0,delBtn:!0,viewBtn:!0,batchDelBtn:!0,searchColumn:[],formLabelWidth:"6em",columns:[{prop:"name",label:"",type:"input",searchType:"input",align:"left",sort:2,onChangeForm:h=>{console.log(h)}},{prop:"email",label:"",searchType:"input",minWidth:200,disabled:!0},{prop:"username",label:"",type:"input"},{prop:"phone",label:"",minWidth:"120px",searchType:"inputInteger",formSort:3,formRequired:!0,sort:1},{prop:"sex",label:"",sortable:!0,formSort:3,formType:"select",dicData:[{value:"1",label:""},{value:"2",label:""}]},{prop:"job",label:"",searchType:"select",type:"select",multiple:!0,dicData:[],formSort:6,loadDicData:(h,f)=>{setTimeout(()=>{f([{value:"1",label:""},{value:"2",label:""},{value:"3",label:""}])},3e3)}},{prop:"industry",label:"",minWidth:"120px",dicData:[{value:"1",label:"//"},{value:"2",label:"//"}]},{prop:"",label:"",minWidth:"120px"},{prop:"",label:"",minWidth:"120px"},{prop:"slelectUser",label:"",type:"inputTableSelect",sort:8,tableSelectProps:{value:"id",label:"name"},onTableSelect:(h,f,p)=>{},tableSelectDefaultValue:(h,f,p)=>{const m=h.slelectUserTags;p(m)},tableSelect:{selectType:"checkbox",loadData:(h,{pageIndex:f,pageSize:p},m)=>{console.log(h),setTimeout(()=>{m({data:[{id:1,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:2,name:"",type:"2",createDate:"2023-9-7 12:20:00"},{id:3,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:4,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:5,name:"",type:"1",createDate:"2023-9-7 12:00:00"}],total:3})},1e3)},columns:[{prop:"name",label:"",searchType:"input",renderColumnCell:({row:h})=>pt(QU,{type:"primary",onClick:()=>{console.log(h)}},{default:()=>h.name+""})},{prop:"type",label:""},{prop:"createDate",label:""}]}},{prop:"image",label:"",type:"uploadImage",sort:20,span:24,tip:"",onChangeForm:(h,f,p)=>{const m=new FileReader;m.readAsDataURL(h.raw),m.onload=y=>{const v=y.target.result;p.image=v}}},{prop:"datetimerange",label:"",searchType:"datetimerange",searchSort:4,defaultValue:[n,s],children:[{prop:"startDate",label:"",minWidth:160},{prop:"endDate",label:"",minWidth:160}]},{prop:"data",label:"",type:"numberRange",sort:5},{prop:"code",label:"",type:"cascader",span:24,required:!0,dicData:[],treeSelectProps:{label:"name",value:"code"},loadDicData:(h,f)=>{setTimeout(()=>{f([{label:"",value:"gd",children:[{label:"",value:"gz",center:[113.234,23.123],children:[{label:"",value:"gt",center:[113.234,23.123]},{label:"",value:"yg",center:[113.234,23.123]}]}]}])},3e3)}}]}),a=an({loading:!1,page:{pageIndex:1,pageSize:10,total:50},data:[]});setTimeout(()=>{a.data=[{id:1,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"1",phone:"1888888888",job:"1",industry:"1",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00",code:["gd","gz"],children:[{id:2,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"1",phone:"1888888888",job:"3",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00"}]},{id:3,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"1",phone:"1888888888",job:"2",industry:"2",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00",image:new URL("/next-element-vue/logo.svg",import.meta.url).href,slelectUser:[3,4],slelectUserTags:[{id:3,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:4,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:2,name:"",type:"1",createDate:"2023-9-7 12:00:00"}]}]},1e3);const o=h=>{console.log(h),a.loading=!0,setTimeout(()=>{a.loading=!1},500)},i=h=>{console.log(h)},l=()=>{},u=(h,f)=>{console.log(h),setTimeout(()=>{f()},200)},c=(h,f)=>{console.log(h),setTimeout(()=>{f()},200)},d=(h,f)=>{console.log(h),f()};return(h,f)=>{const p=ht("Upload"),m=ht("el-icon"),y=ht("el-button"),v=ht("NextCrudTable");return S(),A("div",aht,[$(v,{loading:a.loading,data:a.data,options:r,page:a.page,onConfirmSearch:o,onChangePagination:i,onClickAddEdit:l,onDeleteRow:u,onDeleteRows:c,onSubmitForm:d},{"menu-left-suffix":se(({size:b})=>[$(y,{type:"primary",size:b},{icon:se(()=>[$(m,null,{default:se(()=>[$(p)]),_:1})]),default:se(()=>[oht]),_:2},1032,["size"])]),"form-name":se(({formParams:b})=>[I("div",null,""+Me(b.name)+"",1)]),"column-name":se(({row:b})=>[I("span",null,Me(b.name),1)]),_:1},8,["loading","data","options","page"])])}}}),lht=nn(iht,[["__scopeId","data-v-bde8596b"]]),uht=Object.freeze(Object.defineProperty({__proto__:null,default:lht},Symbol.toStringTag,{value:"Module"})),cht={class:"layout-container"},dht=Z({__name:"basic",setup(t){EE();const e=new Date().getTime(),n=p1(e-1e3*60*60*24,"YYYY-MM-DD HH:mm:ss").value,s=p1(e,"YYYY-MM-DD HH:mm:ss").value,r=an({searchLabelWidth:"4em",border:!0,operationsWidth:220,addBtn:!0,editBtn:!0,delBtn:!0,viewBtn:!0,batchDelBtn:!0,searchColumns:[{type:"datetimerange",prop:"timeRange",label:"",defaultValue:[n,s]},{prop:"region",label:"",type:"cascader",dicData:[{value:"1",label:"",children:[{value:"11",label:"",children:[{value:"111",label:""},{value:"112",label:""}]},{value:"12",label:""},{value:"13",label:""}]}]}],columns:[{prop:"name",label:"",type:"input",searchType:"input",align:"left",sort:2,formHide:!1,onChangeForm:f=>{console.log(f)}},{prop:"age",label:"",type:"input",sort:8,cellUnit:""},{prop:"email",label:"",searchType:"input",minWidth:200},{prop:"username",label:"",type:"input"},{prop:"phone",label:"",minWidth:"120px",searchType:"inputInteger",formSort:3,formRequired:!0,sort:1,clearable:!1},{prop:"sex",label:"",sortable:!0,formSort:3,formType:"select",dicData:[],loadDicData:(f,p)=>{setTimeout(()=>{p([{value:"1",label:""},{value:"2",label:""}])},3e3)}},{prop:"job",label:"",searchType:"select",type:"select",multiple:!0,dicData:[],sort:5,loadDicData:(f,p)=>{setTimeout(()=>{const m=[{value:"1",label:""},{value:"2",label:""},{value:"3",label:""}];console.log(""),p(m)},3e3)}},{prop:"",label:"",minWidth:"120px"},{prop:"deptId",label:"",minWidth:"120px",type:"treeSelect",sort:6,dicKey:"id",dicData:[{id:1,parentId:0,label:"",children:[{id:2,parentId:1,label:"",children:[]},{id:3,parentId:1,label:"",children:[]}]}]},{prop:"slelectUser",label:"",type:"input",sort:8},{label:"",type:"datetimerange",formSort:4},{prop:"data",label:"",type:"numberRange",sort:5}]}),a=an({loading:!1,page:{pageIndex:1,pageSize:10,total:50},data:[{id:1,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"1",phone:"1888888888",job:"1",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00",age:30,deptId:2,children:[{id:2,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"1",phone:"1888888888",age:30,job:"3",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00"}]},{id:3,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"1",phone:"1888888888",age:30,job:"2",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00"},{id:5,name:"",email:"zhangsan@XXX.com",username:"zhngsan",sex:"2",phone:"1888888888",age:30,job:"3",startDate:"2023-9-7 12:00:00",endDate:"2023-9-9 12:00:00"}]}),o=B();setTimeout(()=>{r.columns[0].formHide=!0,r.columns[0].label=""},5e3);const i=f=>{a.loading=!0,console.log(o.value.getSearchFormParams()),setTimeout(()=>{a.loading=!1},500)},l=f=>{console.log(f)},u=()=>{},c=(f,p)=>{console.log(f),setTimeout(()=>{p()},200)},d=(f,p)=>{console.log(f),setTimeout(()=>{p()},200)},h=(f,p)=>{console.log(f),p()};return(f,p)=>{const m=ht("RefreshLeft"),y=ht("el-icon"),v=ht("el-button"),b=ht("NextCrudTable");return S(),A("div",cht,[$(b,{ref_key:"crudTable",ref:o,loading:a.loading,data:a.data,options:r,page:a.page,onConfirmSearch:i,onChangePagination:l,onClickAddEdit:u,onDeleteRow:c,onDeleteRows:d,onSubmitForm:h},{"form-name":se(({formParams:w})=>[I("div",null,""+Me(w.name)+"",1)]),"column-name":se(({row:w})=>[I("span",null,Me(w.name),1)]),"operation-column-prefix":se(({scoped:w,btn:_})=>[$(v,{size:_.size,type:"primary",text:_.text,plain:_.plain},{icon:se(()=>[$(y,null,{default:se(()=>[$(m)]),_:1})]),default:se(()=>[ct("  ")]),_:2},1032,["size","text","plain"])]),_:1},8,["loading","data","options","page"])])}}}),hht=nn(dht,[["__scopeId","data-v-591e6fac"]]),fht=Object.freeze(Object.defineProperty({__proto__:null,default:hht},Symbol.toStringTag,{value:"Module"})),pht=Z({__name:"basic",setup(t){const e={},n=[{prop:"num",label:"",type:"input",disabled:!0,span:24,required:!0,defaultValue:""},{prop:"name",label:"",type:"input",span:24,required:!0},{prop:"code",label:"",type:"cascader",span:24,required:!0,dicData:[{label:"",value:"gd",children:[{label:"",value:"gz",center:[113.234,23.123],children:[{label:"",value:"gt",center:[113.234,23.123]},{label:"",value:"yg",center:[113.234,23.123]}]}]}]},{prop:"url",label:"",type:"input",span:24,required:!0}],s=(a,o,i)=>{console.log(a),o()},r=()=>{};return(a,o)=>{const i=ht("NextForm");return S(),be(i,{ref:"nextFormRef",options:{labelWidth:"8em"},formDatum:e,columns:n,onSubmit:s,onReset:r},null,512)}}}),mht=Object.freeze(Object.defineProperty({__proto__:null,default:pht},Symbol.toStringTag,{value:"Module"})),zj=Z({__name:"child-form",props:{config:{type:Object,default:()=>({})}},emits:["update-formdatum","reset"],setup(t,{emit:e}){const n=e,s=t,r=[{prop:"num",label:"",type:"input",disabled:!0,span:24,required:!0,defaultValue:s.config.num},{prop:"name",label:"",type:"input",span:24,required:!0},{prop:"url",label:"",type:"input",span:24,required:!0}],a=B(s.config),o=(l,u,c)=>{n("update-formdatum"),u()},i=()=>{n("reset")};return Ee(()=>s.config,()=>{Object.assign(a.value,s.config),console.log(a)}),(l,u)=>{const c=ht("NextForm");return S(),be(c,{ref:"nextFormRef",options:{labelWidth:"8em"},formDatum:a.value,columns:r,onSubmit:o,onReset:i},null,8,["formDatum"])}}}),ght=Object.freeze(Object.defineProperty({__proto__:null,default:zj},Symbol.toStringTag,{value:"Module"})),vht={class:"container"},yht=Z({__name:"input-table-select",setup(t){const e={label:"",prop:"slelectUserTags",tableSelectDefaultValue:(r,a,o)=>{r.slelectUserTags,o([{id:1,name:"zhangs"}])},tableSelect:{selectType:"radio",columns:[{prop:"name",label:"",searchType:"input"},{prop:"type",label:""},{prop:"createDate",label:""}],onTableSelect:(r,a,o)=>{console.log(r,a,o)},loadData:(r,{pageIndex:a,pageSize:o},i)=>{setTimeout(()=>{i({data:[{id:1,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:2,name:"",type:"2",createDate:"2023-9-7 12:20:00"},{id:3,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:4,name:"",type:"1",createDate:"2023-9-7 12:00:00"},{id:5,name:"",type:"1",createDate:"2023-9-7 12:00:00"}],total:3})},1e3)}}},n=an({name:"",type:"1",createDate:"2023-9-7 12:00:00",slelectUserTags:1}),s=r=>{console.log(r)};return(r,a)=>{const o=ht("NextInputTableSelect");return S(),A("div",vht,[$(o,{column:e,closable:"",formParams:n,onSelect:s},null,8,["formParams"])])}}}),bht=Object.freeze(Object.defineProperty({__proto__:null,default:yht},Symbol.toStringTag,{value:"Module"})),_ht={class:"container"},wht=Z({__name:"nested",setup(t){const e=an({num:"001",name:"next element",url:"xxx"}),n=[{num:"001",name:"next element",url:"xxx"},{num:"002",name:"next element vue",url:"xxxxx"}],s=B(0),r=()=>{s.value++,s.value>1&&(s.value=0),Object.assign(e,n[s.value])},a=()=>{Object.assign(e,{num:"000",name:""})};return(o,i)=>(S(),A("div",_ht,[$(zj,{config:e,onUpdateFormdatum:r,onReset:a},null,8,["config"])]))}}),xht=Object.freeze(Object.defineProperty({__proto__:null,default:wht},Symbol.toStringTag,{value:"Module"})),Cht={class:"layout-container"},Sht=Z({__name:"basic",setup(t){const e=B([]);setTimeout(()=>{e.value=["-","-","-","-"]},1e3);const n=B([{id:1,imageSrc:"https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg",labels:[{type:3,startX:182,startY:28,rectWidth:418,rectHeight:288,canvasWidth:750,canvasHeight:500},{type:1,startX:216,startY:163,rectWidth:344,rectHeight:302,canvasWidth:750,canvasHeight:500}]},{id:21,imageSrc:new URL("/next-element-vue/assets/001.ZCjNN4DY.jpg",import.meta.url).href,labels:[]},{id:2,imageSrc:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",labels:[{startX:264,startY:172,rectWidth:207,rectHeight:221,canvasWidth:750,canvasHeight:500,type:0}]},{id:3,imageSrc:"https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg",labels:[]},{id:4,imageSrc:"https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg",labels:[]}]),s=(a,o)=>{},r=(a,o)=>{console.log(a),setTimeout(()=>{o()},500)};return(a,o)=>{const i=ht("NextLabelimg");return S(),A("div",Cht,[$(i,{classes:e.value,data:n.value,onChange:s,onSave:r},null,8,["classes","data"])])}}}),Tht=nn(Sht,[["__scopeId","data-v-b9c38c27"]]),kht=Object.freeze(Object.defineProperty({__proto__:null,default:Tht},Symbol.toStringTag,{value:"Module"})),$ht={class:"layout-container"},Eht=Z({__name:"preview",setup(t){const e=B(["-","-","-","-"]);return(n,s)=>{const r=ht("NextLabelimgPreview");return S(),A("div",$ht,[$(r,{style:{margin:"20px auto"},classes:e.value,src:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",labels:[{startX:264.5,startY:172,rectWidth:207,rectHeight:221,canvasWidth:750,canvasHeight:500,type:0}]},null,8,["classes"])])}}}),Iht=nn(Eht,[["__scopeId","data-v-69dfc52d"]]),Nht=Object.freeze(Object.defineProperty({__proto__:null,default:Iht},Symbol.toStringTag,{value:"Module"})),Aht={class:"container"},Dht=Z({__name:"basic",setup(t){const e=B(["-","-","-","-"]),n=B([{id:3,imageSrc:"https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg",labels:{shapes:[{points:[[341.01876675603216,182.19168841946117],[451.8319928507596,227.2037526172104],[458.26630920464703,315.08444938424464],[458.98123324396784,435.1166205782426],[432.52904378909744,510.85120478397937],[377.4798927613941,503.70643268909856],[346.7381590705988,390.1045563804933],[331.7247542448615,260.78418146315033]]}],imageHeight:533,imageWidth:800}},{id:4,imageSrc:"https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg",labels:{}}]),s=a=>{console.log(a)},r=(a,o)=>{console.log(a),setTimeout(()=>{o()},500)};return(a,o)=>{const i=ht("NextLabelme");return S(),A("div",Aht,[$(i,{classes:e.value,data:n.value,onEditPolygon:s,onSave:r},null,8,["classes","data"])])}}}),Oht=Object.freeze(Object.defineProperty({__proto__:null,default:Dht},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rht=1e-7,Lht=1e-4;class IE{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class xw{refCount(e){return uo("refCount")}incRef(e){return uo("incRef")}timerAvailable(){return!0}time(e){return uo("time")}read(e){return uo("read")}readSync(e){return uo("readSync")}readToGPU(e,n){return uo("readToGPU")}numDataIds(){return uo("numDataIds")}disposeData(e,n){return uo("disposeData")}write(e,n,s){return uo("write")}move(e,n,s,r,a){return uo("move")}createTensorFromGPUData(e,n,s){return uo("createTensorFromGPUData")}memory(){return uo("memory")}floatPrecision(){return uo("floatPrecision")}epsilon(){return this.floatPrecision()===32?Rht:Lht}dispose(){return uo("dispose")}}function uo(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NE(t){let e=t.length,n=0;for(;e>0;)n=Math.random()*e|0,e--,Cu(t,e,n)}function Pht(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let n=t.length,s=0;for(;n>0;)s=Math.random()*n|0,n--,Cu(t,n,s),Cu(e,n,s)}function nd(t,e,n){return Math.max(t,Math.min(e,n))}function Cw(t){return t%2===0?t:t+1}function Cu(t,e,n){const s=t[e];t[e]=t[n],t[n]=s}function Vj(t){let e=0;for(let n=0;n<t.length;n++)e+=t[n];return e}function Mht(t,e){const n=Math.random();return e*n+(1-n)*t}function Fht(t,e){let n=0;for(let s=0;s<t.length;s++){const r=Number(t[s])-Number(e[s]);n+=r*r}return n}function ae(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function aa(t,e,n=""){ae(Bn(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function hf(t){ae(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function tt(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function Bht(t){return t.length===0}function Hj(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Bn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Mh(t){return t%1===0}function zht(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function k3(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function Vht(t){const e=new Uint32Array(t);for(let n=0;n<t;++n)e[n]=n;return NE(e),e}function bh(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function OT(t,e=r=>0,n,s){return new Promise((r,a)=>{let o=0;const i=()=>{if(t()){r();return}o++;const l=e(o);if(n!=null&&o>=n){a();return}s!=null?s(i,l):setTimeout(i,l)};i()})}function AE(t,e){let n=1,s=-1;for(let a=0;a<t.length;++a)if(t[a]>=0)n*=t[a];else if(t[a]===-1){if(s!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${s} and dim ${a}`);s=a}else if(t[a]<0)throw Error(`Shapes can not be < 0. Found ${t[a]} at dim ${a}`);if(s===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const r=t.slice();return r[s]=e/n,r}function Rn(t,e){const n=e.length;return t=t==null?e.map((s,r)=>r):[].concat(t),ae(t.every(s=>s>=-n&&s<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),ae(t.every(s=>Mh(s)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(s=>s<0?n+s:s)}function sc(t,e){const n=[],s=[],r=e!=null&&Array.isArray(e)&&e.length===0,a=e==null||r?null:Rn(e,t).sort();let o=0;for(let i=0;i<t.length;++i){if(a!=null){if(a[o]===i&&t[i]!==1)throw new Error(`Can't squeeze axis ${i} since its dim '${t[i]}' is not 1`);(a[o]==null||a[o]>i)&&t[i]===1&&(n.push(t[i]),s.push(i)),a[o]<=i&&o++}t[i]!==1&&(n.push(t[i]),s.push(i))}return{newShape:n,keptDims:s}}function Br(t,e){return Zs(t,e)}function Zs(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function Uj(t,e){for(let n=0;n<t.length;n++){const s=t[n];if(isNaN(s)||!isFinite(s))throw Error(`A tensor of type ${e} being uploaded contains ${s}.`)}}function Wj(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function DE(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function m1(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function jj(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Dl(t){return typeof t=="string"||t instanceof String}function Gj(t){return typeof t=="boolean"}function $3(t){return typeof t=="number"}function ff(t){return Array.isArray(t)?ff(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":$3(t)?"float32":Dl(t)?"string":Gj(t)?"bool":"float32"}function sd(t){return!!(t&&t.constructor&&t.call&&t.apply)}function E3(t,e){for(let n=e;n<t;++n)if(t%n===0)return n;return t}function sn(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let s=e-3;s>=0;--s)n[s]=n[s+1]*t[s+1];return n}function qj(t,e,n,s=!1){const r=new Array;if(e.length===1){const a=e[0]*(s?2:1);for(let o=0;o<a;o++)r[o]=n[t+o]}else{const a=e[0],o=e.slice(1),i=o.reduce((l,u)=>l*u)*(s?2:1);for(let l=0;l<a;l++)r[l]=qj(t+l*i,o,n,s)}return r}function Xo(t,e,n=!1){if(t.length===0)return e[0];const s=t.reduce((r,a)=>r*a)*(n?2:1);if(s===0)return[];if(s!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return qj(0,t,e,n)}function Kj(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function Sw(t,e){const n=ea(t,e);for(let s=0;s<n.length;s++)n[s]=1;return n}function ea(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function OE(t,e){const n=t.reduce((s,r)=>s*r,1);if(e==null||e==="float32")return Xo(t,new Float32Array(n));if(e==="int32")return Xo(t,new Int32Array(n));if(e==="bool")return Xo(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function Io(t){t.forEach(e=>{ae(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function tl(t,e,n){if(e===0)return 0;if(e===1)return t[0];let s=t[t.length-1];for(let r=0;r<t.length-1;++r)s+=n[r]*t[r];return s}function pf(t,e,n){if(e===0)return[];if(e===1)return[t];const s=new Array(e);for(let r=0;r<s.length-1;++r)s[r]=Math.floor(t/n[r]),t-=s[r]*n[r];return s[s.length-1]=t,s}function Bu(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZL="tfjsflags";class Xj{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=Hht,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(ze().getBool("IS_TEST")||ze().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,s){if(this.flagRegistry[e]={evaluationFn:n,setHook:s},this.urlFlags[e]!=null){const r=this.urlFlags[e];ze().getBool("IS_TEST")||ze().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Bu(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);ZL in e&&e[ZL].split(",").forEach(s=>{const[r,a]=s.split(":");this.urlFlags[r]=Wht(r,a)})}}function Hht(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...s)=>(Uht(e,s[0],s[1]),s.join("="))),e}function Uht(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function Wht(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function ze(){return RE}let RE=null;function jht(t){RE=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yC;function Yj(){if(yC==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");yC=t}return yC}function Ght(){const t=Yj();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function LE(t,e){const n=Ght();if(n.has(t))return n.get(t);{const s=e();return n.set(t,s),n.get(t)}}const cv="Abs",H0="Acos",U0="Acosh",mf="Add",dv="AddN",Tw="All",kw="Any",hv="ArgMax",fv="ArgMin",W0="Asin",j0="Asinh",G0="Atan",q0="Atanh",K0="Atan2",pv="AvgPool",$w="AvgPoolGrad",mv="AvgPool3D",Ew="AvgPool3DGrad",gv="BatchMatMul",vv="BatchToSpaceND",Iw="Bincount",yv="BitwiseAnd",Qj="BroadcastTo",Nw="BroadcastArgs",X0="Cast",Y0="Ceil",Q0="ClipByValue",Aw="Complex",bv="ComplexAbs",_v="Concat",wv="Conv2D",Dw="Conv2DBackpropFilter",xv="Conv2DBackpropInput",Cv="Conv3D",Ow="Conv3DBackpropFilterV2",Rw="Conv3DBackpropInputV2",Z0="Cos",J0="Cosh",Lw="Cumprod",Sv="Cumsum",Pw="CropAndResize",Mw="DenseBincount",Fw="DepthToSpace",Tv="DepthwiseConv2dNative",Bw="DepthwiseConv2dNativeBackpropFilter",zw="DepthwiseConv2dNativeBackpropInput",Vw="Diag",kv="Dilation2D",I3="Dilation2DBackpropInput",N3="Dilation2DBackpropFilter",Hw="Draw",em="RealDiv",Uw="Einsum",tm="Elu",Ww="EluGrad",nm="Erf",$v="Equal",sm="Exp",Ev="ExpandDims",rm="Expm1",jw="FFT",Gw="Fill",qw="FlipLeftRight",am="Floor",om="FloorDiv",Iv="FusedBatchNorm",Nv="GatherV2",Kw="GatherNd",Av="Greater",im="GreaterEqual",lm="Identity",Xw="IFFT",Yw="Imag",um="IsFinite",cm="IsInf",dm="IsNan",Dv="LeakyRelu",Ov="Less",Rv="LessEqual",Qw="LinSpace",hm="Log",fm="Log1p",Lv="LogicalAnd",Pv="LogicalNot",Mv="LogicalOr",qht="LogicalXor",Zj="LogSoftmax",Kht="LowerBound",Fv="LRN",Zw="LRNGrad",Xht="MatrixBandPart",Bv="Max",pm="Maximum",zv="MaxPool",Jw="MaxPoolGrad",Vv="MaxPool3D",e6="MaxPool3DGrad",t6="MaxPoolWithArgmax",Hv="Mean",Uv="Min",mm="Minimum",Wv="MirrorPad",gm="Mod",n6="Multinomial",vm="Multiply",jv="Neg",Gv="NotEqual",s6="NonMaxSuppressionV3",r6="NonMaxSuppressionV4",a6="NonMaxSuppressionV5",qv="OnesLike",Kv="OneHot",Xv="Pack",Yv="PadV2",Yht="Pool",ym="Pow",Qv="Prelu",Zv="Prod",o6="RaggedGather",i6="RaggedRange",l6="RaggedTensorToTensor",u6="Range",c6="Real",bm="Reciprocal",_m="Relu",Jv="Reshape",ey="ResizeNearestNeighbor",d6="ResizeNearestNeighborGrad",ty="ResizeBilinear",h6="ResizeBilinearGrad",wm="Relu6",ny="Reverse",xm="Round",Cm="Rsqrt",f6="ScatterNd",p6="TensorScatterUpdate",m6="SearchSorted",sy="Select",Sm="Selu",ry="Slice",Tm="Sin",km="Sinh",$m="Sign",Em="Sigmoid",Im="Softplus",Nm="Sqrt",ay="Sum",oy="SpaceToBatchND",iy="SplitV",ly="Softmax",g6="SparseFillEmptyRows",v6="SparseReshape",y6="SparseSegmentMean",b6="SparseSegmentSum",_6="SparseToDense",Am="SquaredDifference",w6="Square",uy="StaticRegexReplace",x6="StridedSlice",C6="StringNGrams",S6="StringSplit",T6="StringToHashBucketFast",Dm="Sub",Om="Tan",Rm="Tanh",Lm="Tile",k6="TopK",$6="Transform",_h="Transpose",E6="Unique",cy="Unpack",dy="UnsortedSegmentSum",Qht="UpperBound",hy="ZerosLike",Pm="Step",A3="FromPixels",I6="RotateWithOffset",g1="_FusedMatMul",v1="FusedConv2D",y1="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zo(...t){ze().getBool("IS_TEST")||ze().getBool("PROD")||console.warn(...t)}function Zht(...t){ze().getBool("IS_TEST")||ze().getBool("PROD")||console.log(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const r0=LE("kernelRegistry",()=>new Map),b1=LE("gradRegistry",()=>new Map);function _1(t,e){const n=PE(t,e);return r0.get(n)}function RT(t){return b1.get(t)}function D3(t){const e=r0.entries(),n=[];for(;;){const{done:s,value:r}=e.next();if(s)break;const[a,o]=r,[i]=a.split("_");i===t&&n.push(o)}return n}function N6(t){const{kernelName:e,backendName:n}=t,s=PE(e,n);r0.has(s)&&zo(`The kernel '${e}' for backend '${n}' is already registered`),r0.set(s,t)}function Jj(t){const{kernelName:e}=t;b1.has(e)&&ze().getBool("DEBUG")&&zo(`Overriding the gradient for '${e}'`),b1.set(e,t)}function Jht(t,e){const n=PE(t,e);if(!r0.has(n))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);r0.delete(n)}function eft(t){if(!b1.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);b1.delete(t)}function tft(t,e){D3(t).forEach(s=>{const r=Object.assign({},s,{backendName:e});N6(r)})}function PE(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eG(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var tG=Is,_i=null;try{_i=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function Is(t,e,n){this.low=t|0,this.high=e|0,this.unsigned=!!n}Is.prototype.__isLong__;Object.defineProperty(Is.prototype,"__isLong__",{value:!0});function No(t){return(t&&t.__isLong__)===!0}Is.isLong=No;var JL={},eP={};function gf(t,e){var n,s,r;return e?(t>>>=0,(r=0<=t&&t<256)&&(s=eP[t],s)?s:(n=Ns(t,(t|0)<0?-1:0,!0),r&&(eP[t]=n),n)):(t|=0,(r=-128<=t&&t<128)&&(s=JL[t],s)?s:(n=Ns(t,t<0?-1:0,!1),r&&(JL[t]=n),n))}Is.fromInt=gf;function wi(t,e){if(isNaN(t))return e?dh:xi;if(e){if(t<0)return dh;if(t>=nG)return aG}else{if(t<=-nP)return bo;if(t+1>=nP)return rG}return t<0?wi(-t,e).neg():Ns(t%a0|0,t/a0|0,e)}Is.fromNumber=wi;function Ns(t,e,n){return new Is(t,e,n)}Is.fromBits=Ns;var O3=Math.pow;function ME(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return xi;if(typeof e=="number"?(n=e,e=!1):e=!!e,n=n||10,n<2||36<n)throw RangeError("radix");var s;if((s=t.indexOf("-"))>0)throw Error("interior hyphen");if(s===0)return ME(t.substring(1),e,n).neg();for(var r=wi(O3(n,8)),a=xi,o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o),l=parseInt(t.substring(o,o+i),n);if(i<8){var u=wi(O3(n,i));a=a.mul(u).add(wi(l))}else a=a.mul(r),a=a.add(wi(l))}return a.unsigned=e,a}Is.fromString=ME;function gl(t,e){return typeof t=="number"?wi(t,e):typeof t=="string"?ME(t,e):Ns(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}Is.fromValue=gl;var tP=65536,nft=1<<24,a0=tP*tP,nG=a0*a0,nP=nG/2,sP=gf(nft),xi=gf(0);Is.ZERO=xi;var dh=gf(0,!0);Is.UZERO=dh;var gp=gf(1);Is.ONE=gp;var sG=gf(1,!0);Is.UONE=sG;var LT=gf(-1);Is.NEG_ONE=LT;var rG=Ns(-1,2147483647,!1);Is.MAX_VALUE=rG;var aG=Ns(-1,-1,!0);Is.MAX_UNSIGNED_VALUE=aG;var bo=Ns(0,-2147483648,!1);Is.MIN_VALUE=bo;var Lt=Is.prototype;Lt.toInt=function(){return this.unsigned?this.low>>>0:this.low};Lt.toNumber=function(){return this.unsigned?(this.high>>>0)*a0+(this.low>>>0):this.high*a0+(this.low>>>0)};Lt.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(bo)){var n=wi(e),s=this.div(n),r=s.mul(n).sub(this);return s.toString(e)+r.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var a=wi(O3(e,6),this.unsigned),o=this,i="";;){var l=o.div(a),u=o.sub(l.mul(a)).toInt()>>>0,c=u.toString(e);if(o=l,o.isZero())return c+i;for(;c.length<6;)c="0"+c;i=""+c+i}};Lt.getHighBits=function(){return this.high};Lt.getHighBitsUnsigned=function(){return this.high>>>0};Lt.getLowBits=function(){return this.low};Lt.getLowBitsUnsigned=function(){return this.low>>>0};Lt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(bo)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,n=31;n>0&&!(e&1<<n);n--);return this.high!=0?n+33:n+1};Lt.isZero=function(){return this.high===0&&this.low===0};Lt.eqz=Lt.isZero;Lt.isNegative=function(){return!this.unsigned&&this.high<0};Lt.isPositive=function(){return this.unsigned||this.high>=0};Lt.isOdd=function(){return(this.low&1)===1};Lt.isEven=function(){return(this.low&1)===0};Lt.equals=function(e){return No(e)||(e=gl(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low};Lt.eq=Lt.equals;Lt.notEquals=function(e){return!this.eq(e)};Lt.neq=Lt.notEquals;Lt.ne=Lt.notEquals;Lt.lessThan=function(e){return this.comp(e)<0};Lt.lt=Lt.lessThan;Lt.lessThanOrEqual=function(e){return this.comp(e)<=0};Lt.lte=Lt.lessThanOrEqual;Lt.le=Lt.lessThanOrEqual;Lt.greaterThan=function(e){return this.comp(e)>0};Lt.gt=Lt.greaterThan;Lt.greaterThanOrEqual=function(e){return this.comp(e)>=0};Lt.gte=Lt.greaterThanOrEqual;Lt.ge=Lt.greaterThanOrEqual;Lt.compare=function(e){if(No(e)||(e=gl(e)),this.eq(e))return 0;var n=this.isNegative(),s=e.isNegative();return n&&!s?-1:!n&&s?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1};Lt.comp=Lt.compare;Lt.negate=function(){return!this.unsigned&&this.eq(bo)?bo:this.not().add(gp)};Lt.neg=Lt.negate;Lt.add=function(e){No(e)||(e=gl(e));var n=this.high>>>16,s=this.high&65535,r=this.low>>>16,a=this.low&65535,o=e.high>>>16,i=e.high&65535,l=e.low>>>16,u=e.low&65535,c=0,d=0,h=0,f=0;return f+=a+u,h+=f>>>16,f&=65535,h+=r+l,d+=h>>>16,h&=65535,d+=s+i,c+=d>>>16,d&=65535,c+=n+o,c&=65535,Ns(h<<16|f,c<<16|d,this.unsigned)};Lt.subtract=function(e){return No(e)||(e=gl(e)),this.add(e.neg())};Lt.sub=Lt.subtract;Lt.multiply=function(e){if(this.isZero())return xi;if(No(e)||(e=gl(e)),_i){var n=_i.mul(this.low,this.high,e.low,e.high);return Ns(n,_i.get_high(),this.unsigned)}if(e.isZero())return xi;if(this.eq(bo))return e.isOdd()?bo:xi;if(e.eq(bo))return this.isOdd()?bo:xi;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(sP)&&e.lt(sP))return wi(this.toNumber()*e.toNumber(),this.unsigned);var s=this.high>>>16,r=this.high&65535,a=this.low>>>16,o=this.low&65535,i=e.high>>>16,l=e.high&65535,u=e.low>>>16,c=e.low&65535,d=0,h=0,f=0,p=0;return p+=o*c,f+=p>>>16,p&=65535,f+=a*c,h+=f>>>16,f&=65535,f+=o*u,h+=f>>>16,f&=65535,h+=r*c,d+=h>>>16,h&=65535,h+=a*u,d+=h>>>16,h&=65535,h+=o*l,d+=h>>>16,h&=65535,d+=s*c+r*u+a*l+o*i,d&=65535,Ns(f<<16|p,d<<16|h,this.unsigned)};Lt.mul=Lt.multiply;Lt.divide=function(e){if(No(e)||(e=gl(e)),e.isZero())throw Error("division by zero");if(_i){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var n=(this.unsigned?_i.div_u:_i.div_s)(this.low,this.high,e.low,e.high);return Ns(n,_i.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?dh:xi;var s,r,a;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return dh;if(e.gt(this.shru(1)))return sG;a=dh}else{if(this.eq(bo)){if(e.eq(gp)||e.eq(LT))return bo;if(e.eq(bo))return gp;var o=this.shr(1);return s=o.div(e).shl(1),s.eq(xi)?e.isNegative()?gp:LT:(r=this.sub(e.mul(s)),a=s.add(r.div(e)),a)}else if(e.eq(bo))return this.unsigned?dh:xi;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=xi}for(r=this;r.gte(e);){s=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(s)/Math.LN2),l=i<=48?1:O3(2,i-48),u=wi(s),c=u.mul(e);c.isNegative()||c.gt(r);)s-=l,u=wi(s,this.unsigned),c=u.mul(e);u.isZero()&&(u=gp),a=a.add(u),r=r.sub(c)}return a};Lt.div=Lt.divide;Lt.modulo=function(e){if(No(e)||(e=gl(e)),_i){var n=(this.unsigned?_i.rem_u:_i.rem_s)(this.low,this.high,e.low,e.high);return Ns(n,_i.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))};Lt.mod=Lt.modulo;Lt.rem=Lt.modulo;Lt.not=function(){return Ns(~this.low,~this.high,this.unsigned)};Lt.and=function(e){return No(e)||(e=gl(e)),Ns(this.low&e.low,this.high&e.high,this.unsigned)};Lt.or=function(e){return No(e)||(e=gl(e)),Ns(this.low|e.low,this.high|e.high,this.unsigned)};Lt.xor=function(e){return No(e)||(e=gl(e)),Ns(this.low^e.low,this.high^e.high,this.unsigned)};Lt.shiftLeft=function(e){return No(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ns(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ns(0,this.low<<e-32,this.unsigned)};Lt.shl=Lt.shiftLeft;Lt.shiftRight=function(e){return No(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?Ns(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ns(this.high>>e-32,this.high>=0?0:-1,this.unsigned)};Lt.shr=Lt.shiftRight;Lt.shiftRightUnsigned=function(e){if(No(e)&&(e=e.toInt()),e&=63,e===0)return this;var n=this.high;if(e<32){var s=this.low;return Ns(s>>>e|n<<32-e,n>>>e,this.unsigned)}else return e===32?Ns(n,0,this.unsigned):Ns(n>>>e-32,0,this.unsigned)};Lt.shru=Lt.shiftRightUnsigned;Lt.shr_u=Lt.shiftRightUnsigned;Lt.toSigned=function(){return this.unsigned?Ns(this.low,this.high,!1):this};Lt.toUnsigned=function(){return this.unsigned?this:Ns(this.low,this.high,!0)};Lt.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()};Lt.toBytesLE=function(){var e=this.high,n=this.low;return[n&255,n>>>8&255,n>>>16&255,n>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]};Lt.toBytesBE=function(){var e=this.high,n=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,n>>>24,n>>>16&255,n>>>8&255,n&255]};Is.fromBytes=function(e,n,s){return s?Is.fromBytesLE(e,n):Is.fromBytesBE(e,n)};Is.fromBytesLE=function(e,n){return new Is(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)};Is.fromBytesBE=function(e,n){return new Is(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)};const oG=ra(tG),sft=uae({__proto__:null,default:oG},[tG]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qd=oG||sft;function fy(t){return Qd.fromString(t,!0,16)}const iG=fy("c3a5c85c97cb3127"),jd=fy("b492b66fbe98f273"),ba=fy("9ae16a3b2f90404f");function PT(t){return t.xor(t.shru(47))}function lG(t,e,n){const s=t.slice(e,e+n);return Qd.fromBytes(Array.from(s),!0,!0)}function vs(t,e){return lG(t,e,8)}function rP(t,e){return lG(t,e,4)}function Or(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Wc(t,e,n=fy("9ddfea08eb382d69")){let s=t.xor(e).mul(n);s=s.xor(s.shru(47));let r=e.xor(s).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function rft(t,e,n,s,r,a){r=r.add(t),a=Or(a.add(r).add(s),21);const o=r;return r=r.add(e),r=r.add(n),a=a.add(Or(r,44)),[r.add(s),a.add(o)]}function qb(t,e,n,s){return rft(vs(t,e),vs(t,e+8),vs(t,e+16),vs(t,e+24),n,s)}function aft(t,e=t.length){if(e>=8){const n=ba.add(e*2),s=vs(t,0).add(ba),r=vs(t,e-8),a=Or(r,37).mul(n).add(s),o=Or(s,25).add(r).mul(n);return Wc(a,o,n)}if(e>=4){const n=ba.add(e*2),s=rP(t,0);return Wc(s.shl(3).add(e),rP(t,e-4),n)}if(e>0){const n=t[0],s=t[e>>1],r=t[e-1],a=n+(s<<8),o=e+(r<<2);return PT(ba.mul(a).xor(iG.mul(o))).mul(ba)}return ba}function oft(t,e=t.length){const n=ba.add(e*2),s=vs(t,0).mul(jd),r=vs(t,8),a=vs(t,e-8).mul(n),o=vs(t,e-16).mul(ba);return Wc(Or(s.add(r),43).add(Or(a,30)).add(o),s.add(Or(r.add(ba),18)).add(a),n)}function ift(t,e=t.length){const n=ba.add(e*2),s=vs(t,0).mul(ba),r=vs(t,8),a=vs(t,e-8).mul(n),o=vs(t,e-16).mul(ba),i=Or(s.add(r),43).add(Or(a,30)).add(o),l=Wc(i,s.add(Or(r.add(ba),18)).add(a),n),u=vs(t,16).mul(n),c=vs(t,24),d=i.add(vs(t,e-32)).mul(n),h=l.add(vs(t,e-24)).mul(n);return Wc(Or(u.add(c),43).add(Or(d,30)).add(h),u.add(Or(c.add(s),18)).add(d),n)}function uG(t,e=t.length){const n=Qd.fromNumber(81,!0);if(e<=32)return e<=16?aft(t,e):oft(t,e);if(e<=64)return ift(t,e);let s=n,r=n.mul(jd).add(113),a=PT(r.mul(ba).add(113)).mul(ba),o=[Qd.UZERO,Qd.UZERO],i=[Qd.UZERO,Qd.UZERO];s=s.mul(ba).add(vs(t,0));let l=0;const u=(e-1>>6)*64,c=u+(e-1&63)-63;do s=Or(s.add(r).add(o[0]).add(vs(t,l+8)),37).mul(jd),r=Or(r.add(o[1]).add(vs(t,l+48)),42).mul(jd),s=s.xor(i[1]),r=r.add(o[0]).add(vs(t,l+40)),a=Or(a.add(i[0]),33).mul(jd),o=qb(t,l,o[1].mul(jd),s.add(i[0])),i=qb(t,l+32,a.add(i[1]),r.add(vs(t,l+16))),[a,s]=[s,a],l+=64;while(l!==u);const d=jd.add(a.and(255).shl(1));return l=c,i[0]=i[0].add(e-1&63),o[0]=o[0].add(i[0]),i[0]=i[0].add(o[0]),s=Or(s.add(r).add(o[0]).add(vs(t,l+8)),37).mul(d),r=Or(r.add(o[1]).add(vs(t,l+48)),42).mul(d),s=s.xor(i[1].mul(9)),r=r.add(o[0].mul(9).add(vs(t,l+40))),a=Or(a.add(i[0]),33).mul(d),o=qb(t,l,o[1].mul(d),s.add(i[0])),i=qb(t,l+32,a.add(i[1]),r.add(vs(t,l+16))),[a,s]=[s,a],Wc(Wc(o[0],i[0],d).add(PT(r).mul(iG)).add(a),Wc(o[1],i[1],d).add(s),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rc(t,e){return e==="string"?Bl(t):_d([t],e)}function lft(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function _d(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Jl(t)),ze().getBool("DEBUG")&&Uj(t,e),lft(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let s=0;s<n.length;++s)Math.round(t[s])!==0&&(n[s]=1);return n}else throw new Error(`Unknown data type ${e}`)}function qr(){return ze().platform.now()}function cG(t,e){return ze().platform.fetch(t,e)}function Bl(t,e="utf-8"){return e=e||"utf-8",ze().platform.encode(t,e)}function zu(t,e="utf-8"){return e=e||"utf-8",ze().platform.decode(t,e)}function Sr(t){return ze().platform.isTypedArray!=null?ze().platform.isTypedArray(t):eG(t)}function Jl(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Bu(t)||t==null||Sr(t)&&n)e.push(t);else if(Array.isArray(t)||Sr(t))for(let s=0;s<t.length;++s)Jl(t[s],e,n);else{let s=-1;for(const r of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(r)&&(s=Math.max(s,Number(r)));for(let r=0;r<=s;r++)Jl(t[r],e,n)}return e}const uft=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:Bn,arraysEqualWithNull:Hj,assert:ae,assertNonNegativeIntegerDimensions:Io,assertNonNull:hf,assertShapesMatch:aa,bytesFromStringArray:jj,bytesPerElement:m1,checkConversionForErrors:Uj,clamp:nd,computeStrides:sn,convertBackendValuesAndArrayBuffer:Kj,createScalarValue:rc,createShuffledIndices:Vht,decodeString:zu,distSquared:Fht,encodeString:Bl,fetch:cG,fingerPrint64:uG,flatten:Jl,getArrayFromDType:Zs,getTypedArrayFromDType:Br,hasEncodingLoss:DE,hexToLong:fy,indexToLoc:pf,inferDtype:ff,inferFromImplicitShape:AE,isBoolean:Gj,isFunction:sd,isInt:Mh,isNumber:$3,isPromise:Bu,isScalarShape:Bht,isString:Dl,isTypedArray:Sr,isValidDtype:Wj,locToIndex:tl,makeOnesTypedArray:Sw,makeZerosNestedTypedArray:OE,makeZerosTypedArray:ea,nearestDivisor:E3,nearestLargerEven:Cw,now:qr,parseAxisParam:Rn,randUniform:Mht,repeatedTry:OT,rightPad:bh,shuffle:NE,shuffleCombo:Pht,sizeFromShape:tt,sizeToSquarishShape:k3,squeezeShape:sc,sum:Vj,swap:Cu,tanh:zht,toNestedArray:Xo,toTypedArray:_d},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cft{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new hft)}profileKernel(e,n,s){let r;const a=()=>{r=s()};let o;const i=qr();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();for(const u of r)u.dataSync();o=Promise.resolve({kernelMs:qr()-i})}if(ze().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let u=0;u<r.length;u++){const c=r[u];c.data().then(d=>{dft(d,c.dtype,e)})}return{kernelName:e,outputs:r,inputs:n,timeMs:o.then(u=>u.kernelMs),extraInfo:o.then(u=>u.getExtraProfileInfo!=null?u.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:s,timeMs:r,inputs:a,extraInfo:o}=e;s.forEach(i=>{Promise.all([i.data(),r,o]).then(l=>{this.logger.logKernelProfile(n,i,l[0],l[1],a,l[2])})})}}function dft(t,e,n){if(e!=="float32")return!1;for(let s=0;s<t.length;s++){const r=t[s];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}class hft{logKernelProfile(e,n,s,r,a,o){const i=typeof r=="number"?bh(`${r}ms`,9):r.error,l=bh(e,25),u=n.rank,c=n.size,d=bh(n.shape.toString(),14);let h="";for(const f in a){const p=a[f];if(p!=null){const m=p.shape||n.shape,y=m.length;h+=`${f}: ${y}D ${y>0?m:""} `}}console.log(`%c${l}	%c${i}	%c${u}D ${d}	%c${c}	%c${h}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fft(t,e,n){const s={},r={};for(let l=0;l<e.length;l++)s[e[l].id]=!0;for(let l=0;l<t.length;l++){const u=t[l],c=u.inputs;for(const d in c){const h=c[d];let f=!1;for(let p=0;p<e.length;p++)if(s[h.id]){u.outputs.forEach(m=>s[m.id]=!0),f=!0,r[u.id]=!0;break}if(f)break}}const a={};a[n.id]=!0;const o={};for(let l=t.length-1;l>=0;l--){const u=t[l],c=u.inputs;for(let d=0;d<u.outputs.length;d++)if(a[u.outputs[d].id]){for(const h in c)a[c[h].id]=!0,o[u.id]=!0;break}}const i=[];for(let l=0;l<t.length;l++){const u=t[l];if(r[u.id]&&o[u.id]){const c={};for(const h in u.inputs){const f=u.inputs[h];s[f.id]&&(c[h]=f)}const d=Object.assign({},u);d.inputs=c,d.outputs=u.outputs,i.push(d)}}return i}function pft(t,e,n,s){for(let r=e.length-1;r>=0;r--){const a=e[r],o=[];if(a.outputs.forEach(l=>{const u=t[l.id];u!=null?o.push(u):o.push(null)}),a.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${a.kernelName}.`);const i=a.gradient(o);for(const l in a.inputs){if(!(l in i))throw new Error(`Cannot backprop through input ${l}. Available gradients found: ${Object.keys(i)}.`);const u=n(()=>i[l]());if(u.dtype!=="float32")throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input ${l} must have 'float32' dtype, but has '${u.dtype}'`);const c=a.inputs[l];if(!Bn(u.shape,c.shape))throw new Error(`Error in gradient for op ${a.kernelName}. The gradient of input '${l}' has shape '${u.shape}', which does not match the shape of the input '${c.shape}'`);if(t[c.id]==null)t[c.id]=u;else{const d=t[c.id];t[c.id]=s(d,u),d.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aP=20,Mg=3,bC=7;function mft(t,e,n,s){const r=sn(e),a=gft(t,e,n,r),o=e.length,i=B_(t,e,n,r,a),l=["Tensor"];return s&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${o}`),l.push(`  shape: [${e}]`),l.push("  values:")),l.push(i.map(u=>"    "+u).join(`
`)),l.join(`
`)}function gft(t,e,n,s){const r=tt(e),a=s[s.length-1],o=new Array(a).fill(0),i=e.length,l=n==="complex64"?l2(t):t;if(i>1)for(let u=0;u<r/a;u++){const c=u*a;for(let d=0;d<a;d++)o[d]=Math.max(o[d],i2(l[c+d],0,n).length)}return o}function i2(t,e,n){let s;return Array.isArray(t)?s=`${parseFloat(t[0].toFixed(bC))} + ${parseFloat(t[1].toFixed(bC))}j`:Dl(t)?s=`'${t}'`:n==="bool"?s=dG(t):s=parseFloat(t.toFixed(bC)).toString(),bh(s,e)}function dG(t){return t===0?"false":"true"}function B_(t,e,n,s,r,a=!0){const o=n==="complex64"?2:1,i=e[0],l=e.length;if(l===0){if(n==="complex64"){const m=l2(t);return[i2(m[0],0,n)]}return n==="bool"?[dG(t[0])]:[t[0].toString()]}if(l===1){if(i>aP){const y=Mg*o;let v=Array.from(t.slice(0,y)),b=Array.from(t.slice((i-Mg)*o,i*o));return n==="complex64"&&(v=l2(v),b=l2(b)),["["+v.map((w,_)=>i2(w,r[_],n)).join(", ")+", ..., "+b.map((w,_)=>i2(w,r[i-Mg+_],n)).join(", ")+"]"]}return["["+(n==="complex64"?l2(t):Array.from(t)).map((y,v)=>i2(y,r[v],n)).join(", ")+"]"]}const u=e.slice(1),c=s.slice(1),d=s[0]*o,h=[];if(i>aP){for(let m=0;m<Mg;m++){const y=m*d,v=y+d;h.push(...B_(t.slice(y,v),u,n,c,r,!1))}h.push("...");for(let m=i-Mg;m<i;m++){const y=m*d,v=y+d;h.push(...B_(t.slice(y,v),u,n,c,r,m===i-1))}}else for(let m=0;m<i;m++){const y=m*d,v=y+d;h.push(...B_(t.slice(y,v),u,n,c,r,m===i-1))}const f=l===2?",":"";h[0]="["+(i>0?h[0]+f:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+f;let p=`,
`;for(let m=2;m<l;m++)p+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(a?"":p),h}function l2(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yr{constructor(e,n,s){if(this.dtype=n,this.shape=e.slice(),this.size=tt(e),s!=null){const r=s.length;ae(r===this.size,()=>`Length of values '${r}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=s||Zs(n,this.size),this.strides=sn(e)}set(e,...n){n.length===0&&(n=[0]),ae(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const s=this.locToIndex(n);this.values[s]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const r of e){if(r<0||r>=this.shape[n]){const a=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(a)}n++}let s=e[e.length-1];for(let r=0;r<e.length-1;++r)s+=this.strides[r]*e[r];return this.values[s]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let s=0;s<e.length-1;++s)n+=this.strides[s]*e[s];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let s=0;s<n.length-1;++s)n[s]=Math.floor(e/this.strides[s]),e-=n[s]*this.strides[s];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Ki().makeTensor(this.values,this.shape,this.dtype)}}let Ki=null,dp=null;function vft(t){Ki=t}function yft(t){dp=t}class Xn{constructor(e,n,s,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=tt(e),this.strides=sn(e),this.dataId=s,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return dp.buffer(this.shape,this.dtype,e)}bufferSync(){return dp.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Xo(this.shape,e,this.dtype==="complex64")}arraySync(){return Xo(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Ki().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(s=>zu(s))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Ki().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Ki().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>zu(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Ki().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Ki().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return dp.print(this,e)}clone(){return this.throwIfDisposed(),dp.clone(this)}toString(e=!1){const n=this.dataSync();return mft(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),dp.cast(this,e)}variable(e=!0,n,s){return this.throwIfDisposed(),Ki().makeVariable(this,e,n,s)}}Object.defineProperty(Xn,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function rt(){return LE("Tensor",()=>Xn)}rt();class w1 extends Xn{constructor(e,n,s,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=n,this.name=s}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Bn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Ki().disposeTensor(this),this.dataId=e.dataId,Ki().incRef(this,null)}dispose(){Ki().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(w1,Symbol.hasInstance,{value:t=>t instanceof Xn&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var MT;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(MT||(MT={}));var FT;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(FT||(FT={}));var BT;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(BT||(BT={}));var zT;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(zT||(zT={}));var VT;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(VT||(VT={}));const bft={float32:zT,int32:FT,bool:BT,complex64:VT};function Ja(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return bft[t][e]}function A6(t){return Ja(t,"int32")}function hG(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function fG(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xs(t,e){if(t.dtype===e.dtype)return[t,e];const n=Ja(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function pG(t,e){ae(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function D6(t,e){return e.some(n=>n.id===t.id)}function Vu(t){const e=[];return mG(t,e,new Set),e}function mG(t,e,n){if(t==null)return;if(t instanceof Xn){e.push(t);return}if(!_ft(t))return;const s=t;for(const r in s){const a=s[r];n.has(a)||(n.add(a),mG(a,e,n))}}function _ft(t){return Array.isArray(t)||typeof t=="object"}const wft=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:pG,getTensorsInContainer:Vu,isTensorInList:D6,makeTypesMatch:Xs},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _C(t){return t.kernelName!=null}class oP{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class o0{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new oP}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const s=e[n];if(await this.initializeBackend(s).success){await this.setBackend(s);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,s=1){return e in this.registryFactory?(zo(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:s},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:s}=this.initializeBackend(e);if(!(s?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new cft(this.backendInstance),!0}setupRegisteredKernels(){D3(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){D3(e).forEach(s=>{s.disposeFunc!=null&&s.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const s=n.factory();if(s&&!(s instanceof xw)&&typeof s.then=="function"){const r=++this.pendingBackendInitId,a=s.then(o=>r<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(r<this.pendingBackendInitId||(this.pendingBackendInit=null,zo(`Initialization of backend ${e} failed`),zo(o.stack||o.message)),!1));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}else return this.registry[e]=s,{success:!0,asyncInit:!1}}catch(s){return zo(`Initialization of backend ${e} failed`),zo(s.stack||s.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const s=e[n],{success:r,asyncInit:a}=this.initializeBackend(s);if(a||r)return{name:s,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const s=this.state.tensorInfo.get(n),r=s.backend,a=this.readSync(n),o=r.refCount(n);r.disposeData(n,!0),s.backend=e,e.move(n,a,s.shape,s.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let s=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");s=e}let r;return this.scopedRun(()=>this.startScope(s),()=>this.endScope(r),()=>(r=n(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,n,s){e();try{const r=s();return n(),r}catch(r){throw n(),r}}nextTensorId(){return o0.nextTensorId++}nextVariableId(){return o0.nextVariableId++}clone(e){const n=Se.runKernel(lm,{x:e}),s={x:e},r=o=>({x:()=>{const i="float32",l={x:o},u={dtype:i};return Se.runKernel(X0,l,u)}}),a=[];return this.addTapeNode(this.state.activeScope.name,s,[n],r,a,{}),n}runKernel(e,n,s){if(this.backendName==null&&this.backend,!(_1(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:s})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,s){const r=this.backend.numDataIds();let a=0;s.forEach(l=>{a+=l.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-n-a-o;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let n,s=[];const r=this.isTapeOn(),a=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let i;this.backendName==null&&this.backend;let l;const u=_C(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(_C(e)){const{kernelName:p,inputs:m,attrs:y}=e;this.backendName==null&&this.backend;const v=_1(p,this.backendName);ae(v!=null,()=>`Cannot find registered kernel '${p}' for backend '${this.backendName}'`),i=()=>{const b=this.backend.numDataIds();l=v.kernelFunc({inputs:m,attrs:y,backend:this.backend});const w=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(p,b,w);const _=w.map(C=>C.rank!=null?C:this.makeTensorFromTensorInfo(C));if(r){const C=this.getTensorsForGradient(p,m,_);s=this.saveTensorsForBackwardMode(C)}return _}}else{const{forwardFunc:p}=e,m=y=>{r&&(s=y.map(v=>this.keep(this.clone(v))))};i=()=>{const y=this.backend.numDataIds();l=this.tidy(()=>p(this.backend,m));const v=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,y,v),v}}const{inputs:c,attrs:d}=e,h=_C(e)?null:e.backwardsFunc;let f;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=i():(f=this.profiler.profileKernel(u,c,()=>i()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(f),n=f.outputs)}),r&&this.addTapeNode(u,c,n,h,s,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-a,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(p=>c[p]!=null?c[p].shape:null),outputShapes:n.map(p=>p.shape),kernelTimeMs:f.timeMs,extraInfo:f.extraInfo}),Array.isArray(l)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(s=>this.keep(this.clone(s)))}getTensorsForGradient(e,n,s){const r=RT(e);if(r!=null){const a=r.inputsToSave||[],o=r.outputsToSave||[];let i;r.saveAllInputs?(ae(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),i=Object.keys(n).map(u=>n[u])):i=a.map(u=>n[u]);const l=s.filter((u,c)=>o[c]);return i.concat(l)}return[]}makeTensor(e,n,s,r){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");s=s||"float32",r=r||this.backend;let a=e;s==="string"&&Dl(e[0])&&(a=e.map(l=>Bl(l)));const o=r.write(a,n,s),i=new Xn(n,s,o,this.nextTensorId());if(this.trackTensor(i,r),s==="string"){const l=this.state.tensorInfo.get(o),u=jj(a);this.state.numBytes+=u-l.bytes,l.bytes=u}return i}makeTensorFromDataId(e,n,s,r){s=s||"float32";const a={dataId:e,shape:n,dtype:s};return this.makeTensorFromTensorInfo(a,r)}makeTensorFromTensorInfo(e,n){const{dataId:s,shape:r,dtype:a}=e,o=new Xn(r,a,s,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,s,r){s=s||this.nextVariableId().toString(),r!=null&&r!==e.dtype&&(e=e.cast(r));const a=new w1(e,n,s,this.nextTensorId());if(this.state.registeredVariables[a.name]!=null)throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let s=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(s=e.size*m1(e.dtype)),this.state.numBytes+=s,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:s})),e instanceof w1||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const s=e.size*m1(e.dtype);this.state.numBytes-=s}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,s=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(r=>r.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-s;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,s,r,a,o){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:s,saved:a},l=RT(e);l!=null&&(r=l.gradFunc),r!=null&&(i.gradient=u=>(u=u.map((c,d)=>{if(c==null){const h=s[d],f=ea(h.size,h.dtype);return this.makeTensor(f,h.shape,h.dtype)}return c}),r(u.length>1?u:u[0],a,o))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=Vu(e),s=new Set(n.map(a=>a.id));for(let a=0;a<this.state.activeScope.track.length;a++){const o=this.state.activeScope.track[a];!o.kept&&!s.has(o.id)&&o.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(a=>{!a.kept&&a.scopeId===r.id&&this.track(a)})}gradients(e,n,s,r=!1){if(ae(n.length>0,()=>"gradients() received an empty list of xs."),s!=null&&s.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${s.dtype}'`);const a=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));ae(a instanceof Xn,()=>"The result y returned by f() must be a tensor.");const o=fft(this.state.activeTape,n,a);if(!r&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const i={};i[a.id]=s??xft(a.shape),pft(i,o,u=>this.tidy(u),Cft);const l=n.map(u=>i[u.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(u=>{for(const c of u.saved)c.dispose()}),this.state.activeTape=null),{value:a,grads:l}})}customGrad(e){return ae(sd(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{ae(n.every(i=>i instanceof Xn),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let s;const r={};n.forEach((i,l)=>{r[l]=i});const a=(i,l)=>(s=e(...n,l),ae(s.value instanceof Xn,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),ae(sd(s.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),s.value),o=(i,l)=>{const u=s.gradFunc(i,l),c=Array.isArray(u)?u:[u];ae(c.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),ae(c.every(h=>h instanceof Xn),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const d={};return c.forEach((h,f)=>{d[f]=()=>h}),d};return this.runKernelFunc({forwardFunc:a,backwardsFunc:o,inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=qr(),s=await this.backend.time(e);return s.wallMs=qr()-n,s}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new oP;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}o0.nextTensorId=0;o0.nextVariableId=0;function xft(t){const e=Sw(tt(t),"float32");return Se.makeTensor(e,t,"float32")}function gG(){const t=Yj();if(t._tfengine==null){const e=new Xj(t);t._tfengine=new o0(e)}return jht(t._tfengine.ENV),vft(()=>t._tfengine),t._tfengine}const Se=gG();function Cft(t,e){const n={a:t,b:e};return Se.runKernel(mf,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sft(){return typeof navigator<"u"&&navigator!=null}let HT;function Tft(t){HT=t}function FE(t){if(HT!==void 0)return HT;if(t||Sft()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const n=t;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function BE(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const kft=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:BE,isMobile:FE,mockIsMobile:Tft},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eo=ze();eo.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});eo.registerFlag("IS_BROWSER",()=>BE());eo.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");eo.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));eo.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));eo.registerFlag("PROD",()=>!1);eo.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>eo.getBool("DEBUG"));eo.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);eo.registerFlag("IS_TEST",()=>!1);eo.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>eo.getBool("DEBUG"));eo.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);eo.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);eo.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eu(t,e){let n=t;if(Sr(t))return e==="string"?[]:[t.length];if(hG(t)){const r=t.channels||"RGBA";return[t.height,t.width*r.length]}else if(fG(t))return[t.buffer.size/(e==null?4:m1(e))];if(!Array.isArray(t))return[];const s=[];for(;Array.isArray(n)||Sr(n)&&e!=="string";)s.push(n.length),n=n[0];return Array.isArray(t)&&ze().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&vG(t,s,[]),s}function vG(t,e,n){if(n=n||[],!Array.isArray(t)&&!Sr(t)){ae(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}ae(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),ae(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const s=e.slice(1);for(let r=0;r<t.length;++r)vG(t[r],s,n.concat(r))}function iP(t,e,n,s){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${s}' must be ${t} tensor, but got ${e} tensor`)}}function ie(t,e,n,s="numeric"){if(t instanceof Xn)return iP(s,t.dtype,e,n),t;let r=ff(t);if(r!=="string"&&["bool","int32","float32"].indexOf(s)>=0&&(r=s),iP(s,r,e,n),t==null||!Sr(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const l=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${l}'`)}const a=eu(t,r);!Sr(t)&&!Array.isArray(t)&&(t=[t]);const i=r!=="string"?_d(t,r):Jl(t,[],!0);return Se.makeTensor(i,a,r)}function x1(t,e,n,s="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((a,o)=>ie(a,`${e}[${o}]`,n,s))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zE="__op";function $e(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const s=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+zE;const r=(...a)=>{Se.startScope(n);try{const o=s(...a);return Bu(o)&&console.error("Cannot return a Promise inside of tidy."),Se.endScope(o),o}catch(o){throw Se.endScope(null),o}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $ft(t,e){const n=ie(t,"real","complex"),s=ie(e,"imag","complex");aa(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const r={real:n,imag:s};return Se.runKernel(Aw,r)}const Hu=$e({complex_:$ft});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wd(t,e,n,s){if(s==null)s=ff(t);else if(s==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(fG(t)||hG(t)){if(s!=="float32"&&s!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${s}.`);return Se.backend.createTensorFromGPUData(t,e||n,s)}if(!Sr(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Io(e);const r=tt(e),a=tt(n);ae(r===a,()=>`Based on the provided shape, [${e}], the tensor should have ${r} values but has ${a}`);for(let o=0;o<n.length;++o){const i=n[o],l=o===n.length-1?i!==tt(e.slice(o)):!0;ae(n[o]===e[o]||!l,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Sr(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=s!=="string"?_d(t,s):Jl(t,[],!0),Se.makeTensor(t,e,s)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xo(t,e,n){const s=eu(t,n);return wd(t,e,s,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UT={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class vl{static join(e){return new vl(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(s=>Sr(s)?s.buffer:s),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let s=0;s<e.length;s++){const r=e[s];s!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const a=n+r.byteLength;this.shards.push({buffer:r,start:n,end:a}),n=a}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const s=this.findShardForByte(e);if(s===-1)throw new Error(`Could not find start shard for byte ${e}`);const r=n-e,a=new ArrayBuffer(r),o=new Uint8Array(a);let i=0;for(let l=s;l<this.shards.length;l++){const u=this.shards[l],d=e+i-u.start,h=i,p=Math.min(n,u.end)-u.start,m=new Uint8Array(u.buffer,d,p-d);if(o.set(m,h),i+=m.length,n<u.end)break}return a}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(r){return e<r.start?-1:e>=r.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const s=Eft(this.shards,n);return s===-1?-1:(this.previousShardIndex=s,this.previousShardIndex)}}function Eft(t,e){let n=0,s=t.length;for(;n<=s;){const r=Math.floor((s-n)/2)+n,a=e(t[r]);if(a===0)return r;a<0?s=r:n=r+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R3=4;async function WT(t,e){const n=[],s=[],r=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<r.length;++o){const i=r[o],l=Array.isArray(t)?t[o].tensor:t[i];if(l.dtype!=="float32"&&l.dtype!=="int32"&&l.dtype!=="bool"&&l.dtype!=="string"&&l.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${i}': ${l.dtype}`);const u={name:i,shape:l.shape,dtype:l.dtype};if(l.dtype==="string"){const c=new Promise(async d=>{const h=await l.bytes(),f=h.reduce((y,v)=>y+v.length,0)+R3*h.length,p=new Uint8Array(f);let m=0;for(let y=0;y<h.length;y++){const v=h[y],b=new Uint8Array(new Uint32Array([v.length]).buffer);p.set(b,m),m+=R3,p.set(v,m),m+=v.length}d(p)});s.push(c)}else s.push(l.data());e!=null&&(u.group=e),n.push(u)}const a=await Promise.all(s);return{data:Ift(a),specs:n}}function VE(t,e){const n=new vl(t),s={};let r,a=0;for(const o of e){const i=o.name,l=o.dtype,u=o.shape,c=tt(u);let d;if("quantization"in o){const h=o.quantization;if(h.dtype==="uint8"||h.dtype==="uint16"){if(!("min"in h&&"scale"in h))throw new Error(`Weight ${o.name} with quantization ${h.dtype} doesn't have corresponding metadata min and scale.`)}else if(h.dtype==="float16"){if(l!=="float32")throw new Error(`Weight ${o.name} is quantized with ${h.dtype} which only supports weights of type float32 not ${l}.`)}else throw new Error(`Weight ${o.name} has unknown quantization dtype ${h.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const f=UT[h.dtype],p=n.slice(a,a+c*f),m=h.dtype==="uint8"?new Uint8Array(p):new Uint16Array(p);if(l==="float32")if(h.dtype==="uint8"||h.dtype==="uint16"){d=new Float32Array(m.length);for(let y=0;y<m.length;y++){const v=m[y];d[y]=v*h.scale+h.min}}else if(h.dtype==="float16")r===void 0&&(r=Lft()),d=r(m);else throw new Error(`Unsupported quantization type ${h.dtype} for weight type float32.`);else if(l==="int32"){if(h.dtype!=="uint8"&&h.dtype!=="uint16")throw new Error(`Unsupported quantization type ${h.dtype} for weight type int32.`);d=new Int32Array(m.length);for(let y=0;y<m.length;y++){const v=m[y];d[y]=Math.round(v*h.scale+h.min)}}else throw new Error(`Unsupported dtype in weight '${i}': ${l}`);a+=c*f}else if(l==="string"){const h=tt(o.shape);d=[];for(let f=0;f<h;f++){const p=new Uint32Array(n.slice(a,a+R3))[0];a+=R3;const m=new Uint8Array(n.slice(a,a+p));d.push(m),a+=p}}else{const h=UT[l],f=n.slice(a,a+c*h);if(l==="float32")d=new Float32Array(f);else if(l==="int32")d=new Int32Array(f);else if(l==="bool")d=new Uint8Array(f);else if(l==="complex64"){d=new Float32Array(f);const p=new Float32Array(d.length/2),m=new Float32Array(d.length/2);for(let b=0;b<p.length;b++)p[b]=d[b*2],m[b]=d[b*2+1];const y=xo(p,u,"float32"),v=xo(m,u,"float32");s[i]=Hu(y,v),y.dispose(),v.dispose()}else throw new Error(`Unsupported dtype in weight '${i}': ${l}`);a+=c*h}l!=="complex64"&&(s[i]=xo(d,u,l))}return s}function Ift(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(a=>{if(e+=a.byteLength,n.push(a.byteLength===a.buffer.byteLength?a:new a.constructor(a)),!(a instanceof Float32Array||a instanceof Int32Array||a instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${a.constructor.name}`)});const s=new Uint8Array(e);let r=0;return n.forEach(a=>{s.set(new Uint8Array(a.buffer),r),r+=a.byteLength}),s.buffer}const HE=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function lP(t){return HE?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function Nft(t){if(HE)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let s=0,r=e.length;s<r;s++)n+=String.fromCharCode(e[s]);return btoa(n)}function Aft(t){if(HE){const s=Buffer.from(t,"base64");return s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let s=0;s<e.length;++s)n.set([e.charCodeAt(s)],s);return n.buffer}function yG(t){return vl.join(t)}function uP(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function bG(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function UE(t,e,n){const s={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(s.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");s.weightSpecs=e,s.weightData=n}return t.signature!=null&&(s.signature=t.signature),t.userDefinedMetadata!=null&&(s.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(s.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(s.initializerSignature=t.initializerSignature),s}async function WE(t,e){let n,s;return t.weightsManifest!=null&&([n,s]=await e(t.weightsManifest)),UE(t,n,s)}function py(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:lP(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:lP(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new vl(t.weightData).byteLength}}function jE(t){const e=[];for(const n of t)e.push(...n.weights);return e}function Dft(){const t=n=>{let s=n<<13,r=0;for(;!(s&8388608);)r-=8388608,s<<=1;return s&=-8388609,r+=947912704,s|r},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function Oft(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function Rft(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function Lft(){const t=Dft(),e=Oft(),n=Rft();return s=>{const r=new ArrayBuffer(4*s.length),a=new Uint32Array(r);for(let o=0;o<s.length;o++){const i=s[o],l=t[n[i>>10]+(i&1023)]+e[i>>10];a[o]=l}return new Float32Array(r)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ws{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return Ws.instance==null&&(Ws.instance=new Ws),Ws.instance}static registerSaveRouter(e){Ws.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Ws.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Ws.getHandlers(e,"save")}static getLoadHandlers(e,n){return Ws.getHandlers(e,"load",n)}static getHandlers(e,n,s){const r=[];return(n==="load"?Ws.getInstance().loadRouters:Ws.getInstance().saveRouters).forEach(o=>{const i=o(e,s);i!==null&&r.push(i)}),r}}const Pft=t=>Ws.registerSaveRouter(t),Mft=t=>Ws.registerLoadRouter(t),_G=t=>Ws.getSaveHandlers(t),wG=(t,e)=>Ws.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jT="tensorflowjs",GT=1,hh="models_store",Pc="model_info_store";function xG(){if(!ze().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function qT(t){const e=t.result;e.createObjectStore(hh,{keyPath:"modelPath"}),e.createObjectStore(Pc,{keyPath:"modelPath"})}class Fh{constructor(e){if(this.indexedDB=xG(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((s,r)=>{const a=this.indexedDB.open(jT,GT);a.onupgradeneeded=()=>qT(a),a.onsuccess=()=>{const o=a.result;if(n==null){const i=o.transaction(hh,"readonly"),u=i.objectStore(hh).get(this.modelPath);u.onsuccess=()=>{if(u.result==null)return o.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));s(u.result.modelArtifacts)},u.onerror=c=>(o.close(),r(u.error)),i.oncomplete=()=>o.close()}else{n.weightData=vl.join(n.weightData);const i=py(n),l=o.transaction(Pc,"readwrite");let u=l.objectStore(Pc),c;try{c=u.put({modelPath:this.modelPath,modelArtifactsInfo:i})}catch(h){return r(h)}let d;c.onsuccess=()=>{d=o.transaction(hh,"readwrite");const h=d.objectStore(hh);let f;try{f=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:i})}catch(p){return r(p)}f.onsuccess=()=>s({modelArtifactsInfo:i}),f.onerror=p=>{u=l.objectStore(Pc);const m=u.delete(this.modelPath);m.onsuccess=()=>(o.close(),r(f.error)),m.onerror=y=>(o.close(),r(f.error))}},c.onerror=h=>(o.close(),r(c.error)),l.oncomplete=()=>{d==null?o.close():d.oncomplete=()=>o.close()}}},a.onerror=o=>r(a.error)})}}Fh.URL_SCHEME="indexeddb://";const CG=t=>ze().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Fh.URL_SCHEME)?Fft(t.slice(Fh.URL_SCHEME.length)):null;Ws.registerSaveRouter(CG);Ws.registerLoadRouter(CG);function Fft(t){return new Fh(t)}function Bft(t){return t.startsWith(Fh.URL_SCHEME)?t.slice(Fh.URL_SCHEME.length):t}class zft{constructor(){this.indexedDB=xG()}async listModels(){return new Promise((e,n)=>{const s=this.indexedDB.open(jT,GT);s.onupgradeneeded=()=>qT(s),s.onsuccess=()=>{const r=s.result,a=r.transaction(Pc,"readonly"),i=a.objectStore(Pc).getAll();i.onsuccess=()=>{const l={};for(const u of i.result)l[u.modelPath]=u.modelArtifactsInfo;e(l)},i.onerror=l=>(r.close(),n(i.error)),a.oncomplete=()=>r.close()},s.onerror=r=>n(s.error)})}async removeModel(e){return e=Bft(e),new Promise((n,s)=>{const r=this.indexedDB.open(jT,GT);r.onupgradeneeded=()=>qT(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(Pc,"readwrite"),i=o.objectStore(Pc),l=i.get(e);let u;l.onsuccess=()=>{if(l.result==null)return a.close(),s(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const c=i.delete(e),d=()=>{u=a.transaction(hh,"readwrite");const f=u.objectStore(hh).delete(e);f.onsuccess=()=>n(l.result.modelArtifactsInfo),f.onerror=p=>s(l.error)};c.onsuccess=d,c.onerror=h=>(d(),a.close(),s(l.error))}},l.onerror=c=>(a.close(),s(l.error)),o.oncomplete=()=>{u==null?a.close():u.oncomplete=()=>a.close()}},r.onerror=a=>s(r.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Su="/",hp="tensorflowjs_models",SG="info",Vft="model_topology",Hft="weight_specs",Uft="weight_data",Wft="model_metadata";function TG(t){return{info:[hp,t,SG].join(Su),topology:[hp,t,Vft].join(Su),weightSpecs:[hp,t,Hft].join(Su),weightData:[hp,t,Uft].join(Su),modelMetadata:[hp,t,Wft].join(Su)}}function kG(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function jft(t){const e=t.split(Su);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Su)}function Gft(t){return t.startsWith(Bh.URL_SCHEME)?t.slice(Bh.URL_SCHEME.length):t}class Bh{constructor(e){if(!ze().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=TG(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),s=JSON.stringify(e.weightSpecs),r=py(e),a=vl.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,s),this.LS.setItem(this.keys.weightData,Nft(a));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:r}}catch{throw kG(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},s=JSON.parse(this.LS.getItem(this.keys.topology));if(s==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=s;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(r==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=r;const a=this.LS.getItem(this.keys.modelMetadata);if(a!=null){const i=JSON.parse(a);n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,i.signature!=null&&(n.signature=i.signature),i.userDefinedMetadata!=null&&(n.userDefinedMetadata=i.userDefinedMetadata),i.modelInitializer!=null&&(n.modelInitializer=i.modelInitializer),i.initializerSignature!=null&&(n.initializerSignature=i.initializerSignature),i.trainingConfig!=null&&(n.trainingConfig=i.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Aft(o),n}}Bh.URL_SCHEME="localstorage://";const $G=t=>ze().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Bh.URL_SCHEME)?qft(t.slice(Bh.URL_SCHEME.length)):null;Ws.registerSaveRouter($G);Ws.registerLoadRouter($G);function qft(t){return new Bh(t)}class Kft{constructor(){ae(ze().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),ae(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=hp+Su,s=Su+SG;for(let r=0;r<this.LS.length;++r){const a=this.LS.key(r);if(a.startsWith(n)&&a.endsWith(s)){const o=jft(a);e[o]=JSON.parse(this.LS.getItem(a))}}return e}async removeModel(e){e=Gft(e);const n=TG(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const s=JSON.parse(this.LS.getItem(n.info));return kG(n),s}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ep="://";class ya{constructor(){this.managers={}}static getInstance(){return ya.instance==null&&(ya.instance=new ya),ya.instance}static registerManager(e,n){ae(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Ep)&&(e=e.slice(0,e.indexOf(Ep))),ae(e.length>0,()=>"scheme must not be an empty string.");const s=ya.getInstance();ae(s.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),s.managers[e]=n}static getManager(e){const n=ya.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(ya.getInstance().managers)}}function z_(t){if(t.indexOf(Ep)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${ya.getSchemes().join(",")}`);return{scheme:t.split(Ep)[0],path:t.split(Ep)[1]}}async function EG(t,e,n=!1){ae(t!==e,()=>`Old path and new path are the same: '${t}'`);const s=Ws.getLoadHandlers(t);ae(s.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),ae(s.length<2,()=>`Copying failed because more than one (${s.length}) load handlers for source URL ${t}.`);const r=s[0],a=Ws.getSaveHandlers(e);ae(a.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),ae(a.length<2,()=>`Copying failed because more than one (${s.length}) save handlers for destination URL ${e}.`);const o=a[0],i=z_(t).scheme,l=z_(t).path,u=i===z_(t).scheme,c=await r.load();n&&u&&await ya.getManager(i).removeModel(l);const d=await o.save(c);return n&&!u&&await ya.getManager(i).removeModel(l),d.modelArtifactsInfo}async function Xft(){const t=ya.getSchemes(),e={};for(const n of t){const s=await ya.getManager(n).listModels();for(const r in s){const a=n+Ep+r;e[a]=s[r]}}return e}async function Yft(t){const e=z_(t);return ya.getManager(e.scheme).removeModel(e.path)}async function Qft(t,e){return EG(t,e,!1)}async function Zft(t,e){return EG(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Jft{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!ze().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",s=>{if(s.source===window&&s.data.name===this.messageName){s.stopPropagation();const r=this.functionRefs[s.data.index];r(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return eG(e)}}if(ze().get("IS_BROWSER")){ze().setPlatform("browser",new Jft);try{ya.registerManager(Bh.URL_SCHEME,new Kft)}catch{}try{ya.registerManager(Fh.URL_SCHEME,new zft)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ept={importFetch:()=>require("node-fetch")};let wC;class tpt{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return ze().global.fetch!=null?ze().global.fetch(e,n):(wC==null&&(wC=ept.importFetch()),wC(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}ze().get("IS_NODE")&&!ze().get("IS_BROWSER")&&ze().setPlatform("node",new tpt);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function En(t,e="float32",n){return e=e||"float32",Io(t),new yr(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function npt(t,e){const n=ie(t,"x","cast");if(!Wj(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const s={x:n},r={dtype:e};return Se.runKernel(X0,s,r)}const Nt=$e({cast_:npt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function spt(t){const n={x:ie(t,"x","clone","string_or_numeric")};return Se.runKernel(lm,n)}const zl=$e({clone_:spt});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GE(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */gG();const rpt={buffer:En,cast:Nt,clone:zl,print:GE};yft(rpt);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function apt(){ze().set("PROD",!0)}function opt(){ze().set("DEBUG",!0)}function ipt(){ze().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function lpt(t){ze().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function upt(){Se.disposeVariables()}function qi(){return Se}function L3(){return Se.memory()}function cpt(t){return Se.profile(t)}function Ve(t,e){return Se.tidy(t,e)}function vn(t){Vu(t).forEach(n=>n.dispose())}function Tr(t){return Se.keep(t)}function dpt(t){return Se.time(t)}function hpt(t){return Se.setBackend(t)}function fpt(){return Se.ready()}function ppt(){return Se.backendName}function mpt(t){Se.removeBackend(t)}function gpt(t){return Se.findBackend(t)}function vpt(t){return Se.findBackendFactory(t)}function qE(t,e,n=1){return Se.registerBackend(t,e,n)}function IG(){return Se.backend}function ypt(t,e){ze().setPlatform(t,e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bpt(t,e){let n=ie(t,"a","add"),s=ie(e,"b","add");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(mf,r)}const mt=$e({add_:bpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _pt(t,e){let n=ie(t,"a","floorDiv"),s=ie(e,"b","floorDiv");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(om,r)}const O6=$e({floorDiv_:_pt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wpt(t,e){let n=ie(t,"a","div"),s=ie(e,"b","div");if([n,s]=Xs(n,s),n.dtype==="int32"&&s.dtype==="int32")return O6(n,s);const r={a:n,b:s},a={};return Se.runKernel(em,r,a)}const tn=$e({div_:wpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xpt(t,e){let n=ie(t,"a","mul"),s=ie(e,"b","mul");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(vm,r)}const Ie=$e({mul_:xpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cpt(t){const e=ie(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return Se.runKernel(bv,n)}else{const n={x:e};return Se.runKernel(cv,n)}}const fr=$e({abs_:Cpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Spt(t){const n={x:ie(t,"x","acos")};return Se.runKernel(H0,n)}const KE=$e({acos_:Spt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tpt(t){const n={x:ie(t,"x","acosh")};return Se.runKernel(U0,n)}const XE=$e({acosh_:Tpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kpt(t){ae(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),ae(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((r,a)=>ie(r,`tensors${a}`,"addN")),n=e[0];e.forEach(r=>{if(r.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(r=>{if(!Bn(r.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const s=e;return Se.runKernel(dv,s)}const NG=$e({addN_:kpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $pt(t,e=null,n=!1){const r={x:ie(t,"x","all","bool")},a={axis:e,keepDims:n};return Se.runKernel(Tw,r,a)}const R6=$e({all_:$pt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ept(t,e=null,n=!1){const r={x:ie(t,"x","any","bool")},a={axis:e,keepDims:n};return Se.runKernel(kw,r,a)}const C1=$e({any_:Ept});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ipt(t,e=0){const s={x:ie(t,"x","argMax")},r={axis:e};return Se.runKernel(hv,s,r)}const zh=$e({argMax_:Ipt});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Npt(t,e=0){const s={x:ie(t,"x","argMin")},r={axis:e};return Se.runKernel(fv,s,r)}const YE=$e({argMin_:Npt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Apt(t){const n={x:ie(t,"x","asin")};return Se.runKernel(W0,n)}const QE=$e({asin_:Apt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dpt(t){const n={x:ie(t,"x","asinh")};return Se.runKernel(j0,n)}const ZE=$e({asinh_:Dpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Opt(t){const n={x:ie(t,"x","atan")};return Se.runKernel(G0,n)}const JE=$e({atan_:Opt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rpt(t,e){let n=ie(t,"a","atan2"),s=ie(e,"b","atan2");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(K0,r)}const eI=$e({atan2_:Rpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lpt(t){const n={x:ie(t,"x","atanh")};return Se.runKernel(q0,n)}const tI=$e({atanh_:Lpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function my(t,e,n,s,r="NHWC",a){const o=t[3],i=[...e,o],l=oc(r);return Vr(t,i,n,a,s,null,null,l)}function Pi(t,e,n,s,r,a,o="channelsLast"){const[i,l]=S1(e);let u;if(o==="channelsLast")u=[i,l,t[3],t[3]];else if(o==="channelsFirst")u=[i,l,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Vr(t,u,n,s,r,a,!1,o)}function ac(t,e,n,s,r,a,o="NDHWC"){const[i,l,u]=KT(e);let c,d;if(o==="NDHWC")d="channelsLast",c=[i,l,u,t[4],t[4]];else if(o==="NCDHW")d="channelsFirst",c=[i,l,u,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return xd(t,c,n,s,r,!1,d,a)}function Vr(t,e,n,s,r,a,o=!1,i="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if(i==="channelsLast")[l,u,c,d]=t;else if(i==="channelsFirst")[l,d,u,c]=t;else throw new Error(`Unknown dataFormat ${i}`);const[h,f,,p]=e,[m,y]=S1(n),[v,b]=S1(s),w=Ip(h,v),_=Ip(f,b),{padInfo:C,outHeight:x,outWidth:T}=Fpt(r,u,c,m,y,w,_,a,i),k=o?p*d:p;let N;return i==="channelsFirst"?N=[l,k,x,T]:i==="channelsLast"&&(N=[l,x,T,k]),{batchSize:l,dataFormat:i,inHeight:u,inWidth:c,inChannels:d,outHeight:x,outWidth:T,outChannels:k,padInfo:C,strideHeight:m,strideWidth:y,filterHeight:h,filterWidth:f,effectiveFilterHeight:w,effectiveFilterWidth:_,dilationHeight:v,dilationWidth:b,inShape:t,outShape:N,filterShape:e}}function xd(t,e,n,s,r,a=!1,o="channelsLast",i){let[l,u,c,d,h]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[l,u,c,d,h]=t;else if(o==="channelsFirst")[l,h,u,c,d]=t;else throw new Error(`Unknown dataFormat ${o}`);const[f,p,m,,y]=e,[v,b,w]=KT(n),[_,C,x]=KT(s),T=Ip(f,_),k=Ip(p,C),N=Ip(m,x),{padInfo:O,outDepth:L,outHeight:V,outWidth:H}=Bpt(r,u,c,d,v,b,w,T,k,N,i),K=a?y*h:y;let U;return o==="channelsFirst"?U=[l,K,L,V,H]:o==="channelsLast"&&(U=[l,L,V,H,K]),{batchSize:l,dataFormat:o,inDepth:u,inHeight:c,inWidth:d,inChannels:h,outDepth:L,outHeight:V,outWidth:H,outChannels:K,padInfo:O,strideDepth:v,strideHeight:b,strideWidth:w,filterDepth:f,filterHeight:p,filterWidth:m,effectiveFilterDepth:T,effectiveFilterHeight:k,effectiveFilterWidth:N,dilationDepth:_,dilationHeight:C,dilationWidth:x,inShape:t,outShape:U,filterShape:e}}function Ppt(t,e,n,s,r){s==null&&(s=nI(t,e,n));const a=t[0],o=t[1],i=T1((a-e+2*s)/n+1,r),l=T1((o-e+2*s)/n+1,r);return[i,l]}function Mpt(t,e,n,s,r,a){r==null&&(r=nI(t,e[0],s[0]));const o=[0,0,0,n];for(let i=0;i<3;i++)t[i]+2*r>=e[i]&&(o[i]=T1((t[i]-e[i]+2*r)/s[i]+1,a));return o}function nI(t,e,n,s=1){const r=Ip(e,s);return Math.floor((t[0]*(n-1)-n+r)/2)}function S1(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function KT(t){return typeof t=="number"?[t,t,t]:t}function Ip(t,e){return e<=1?t:t+(t-1)*(e-1)}function Fpt(t,e,n,s,r,a,o,i,l){let u,c,d;if(typeof t=="number"){u={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const f=Ppt([e,n],a,s,t,i);c=f[0],d=f[1]}else if(t==="same"){c=Math.ceil(e/s),d=Math.ceil(n/r);const h=Math.max(0,(c-1)*s+a-e),f=Math.max(0,(d-1)*r+o-n),p=Math.floor(h/2),m=h-p,y=Math.floor(f/2),v=f-y;u={top:p,bottom:m,left:y,right:v,type:"SAME"}}else if(t==="valid")u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((e-a+1)/s),d=Math.ceil((n-o+1)/r);else if(typeof t=="object"){const h=l==="channelsLast"?t[1][0]:t[2][0],f=l==="channelsLast"?t[1][1]:t[2][1],p=l==="channelsLast"?t[2][0]:t[3][0],m=l==="channelsLast"?t[2][1]:t[3][1];u={top:h,bottom:f,left:p,right:m,type:h===0&&f===0&&p===0&&m===0?"VALID":"EXPLICIT"},c=T1((e-a+h+f)/s+1,i),d=T1((n-o+p+m)/r+1,i)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:u,outHeight:c,outWidth:d}}function Bpt(t,e,n,s,r,a,o,i,l,u,c){let d,h,f,p;if(t==="valid"&&(t=0),typeof t=="number"){d={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const y=Mpt([e,n,s,1],[i,l,u],1,[r,a,o],t,c);h=y[0],f=y[1],p=y[2]}else if(t==="same"){h=Math.ceil(e/r),f=Math.ceil(n/a),p=Math.ceil(s/o);const m=(h-1)*r+i-e,y=(f-1)*a+l-n,v=(p-1)*o+u-s,b=Math.floor(m/2),w=m-b,_=Math.floor(y/2),C=y-_,x=Math.floor(v/2),T=v-x;d={top:_,bottom:C,left:x,right:T,front:b,back:w,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outDepth:h,outHeight:f,outWidth:p}}function T1(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function rd(t){const[e,n,s]=S1(t);return e===1&&n===1&&s===1}function oa(t,e){return rd(t)||rd(e)}function Vh(t){return S1(t).every(e=>e>0)}function oc(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Aa(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")ae(Mh(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(s=>{s.forEach(r=>{ae(Mh(r),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${r}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zpt(t,e){const s={x:ie(t,"x","reshape","string_or_numeric")},r={shape:e};return Se.runKernel(Jv,s,r)}const Ne=$e({reshape_:zpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vpt(t,e,n,s,r){const a=ie(t,"x","avgPool","float32"),o=1;ae(oa(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let i=a,l=!1;a.rank===3&&(l=!0,i=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ae(i.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`),Aa("avgPool",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r};let d=Se.runKernel(pv,u,c);return d=Nt(d,a.dtype),l?Ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const gy=$e({avgPool_:Vpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hpt(t,e,n,s,r,a="NDHWC"){const o=ie(t,"x","avgPool3d","float32");let i=o,l=!1;o.rank===4&&(l=!0,i=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ae(i.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`),ae(a==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),ae(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),Aa("avgPool3d",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r,dataFormat:a};let d=Se.runKernel(mv,u,c);return d=Nt(d,i.dtype),l?Ne(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const sI=$e({avgPool3d_:Hpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Upt(t,e=0){ae(t.length>=1,()=>"Pass at least one tensor to concat");const n=x1(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(a=>{if(a.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${a.dtype}. `)}),n.length===1)return zl(n[0]);const s=n,r={axis:e};return Se.runKernel(_v,s,r)}const rr=$e({concat_:Upt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wpt(t,e,n=!1,s=!1){let r=ie(t,"a","matMul"),a=ie(e,"b","matMul");[r,a]=Xs(r,a);const o={a:r,b:a},i={transposeA:n,transposeB:s};return Se.runKernel(gv,o,i)}const Dn=$e({matMul_:Wpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jpt(t){const n={x:ie(t,"x","sigmoid","float32")};return Se.runKernel(Em,n)}const nl=$e({sigmoid_:jpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gpt(t,e,n){const s=ie(t,"x","slice","string_or_numeric");if(s.rank===0)throw new Error("Slicing scalar is not possible");const r={x:s},a={begin:e,size:n};return Se.runKernel(ry,r,a)}const jn=$e({slice_:Gpt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qpt(t){const n={x:ie(t,"x","tanh","float32")};return Se.runKernel(Rm,n)}const Hh=$e({tanh_:qpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kpt(t,e,n,s,r,a){const o=ie(t,"forgetBias","basicLSTMCell"),i=ie(e,"lstmKernel","basicLSTMCell"),l=ie(n,"lstmBias","basicLSTMCell"),u=ie(s,"data","basicLSTMCell"),c=ie(r,"c","basicLSTMCell"),d=ie(a,"h","basicLSTMCell"),h=rr([u,d],1),f=Dn(h,i),p=mt(f,l),m=p.shape[0],y=p.shape[1]/4,v=[m,y],b=jn(p,[0,0],v),w=jn(p,[0,y],v),_=jn(p,[0,y*2],v),C=jn(p,[0,y*3],v),x=mt(Ie(nl(b),Hh(w)),Ie(c,nl(mt(o,_)))),T=Ie(Hh(x),nl(C));return[x,T]}const AG=$e({basicLSTMCell_:Kpt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xpt(t,e,n){const s=ie(t,"x","batchToSpaceND"),r=e.reduce((i,l)=>i*l);ae(s.rank>=1+e.length,()=>`input rank is ${s.rank} but should be > than blockShape.length ${e.length}`),ae(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),ae(s.shape[0]%r===0,()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${r}`);const a={x:s},o={blockShape:e,crops:n};return Se.runKernel(vv,a,o)}const vy=$e({batchToSpaceND_:Xpt});function Ypt(t){let e;return t.rank===0||t.rank===1?e=Ne(t,[1,1,1,t.size]):t.rank===2?e=Ne(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qpt(t,e,n,s,r,a){a==null&&(a=.001);const o=ie(t,"x","batchNorm"),i=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let u;r!=null&&(u=ie(r,"scale","batchNorm"));let c;s!=null&&(c=ie(s,"offset","batchNorm")),ae(i.rank===l.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ae(c==null||i.rank===c.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ae(u==null||i.rank===u.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:Ypt(o),scale:u,offset:c,mean:i,variance:l},f={varianceEpsilon:a},p=Se.runKernel(Iv,h,f);return Ne(p,o.shape)}const Mm=$e({batchNorm_:Qpt});function Zpt(t,e,n,s,r,a){const o=ie(t,"x","batchNorm"),i=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let u;r!=null&&(u=ie(r,"scale","batchNorm"));let c;return s!=null&&(c=ie(s,"offset","batchNorm")),ae(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),ae(i.rank===2||i.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`),ae(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`),u!=null&&ae(u.rank===2||u.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`),c!=null&&ae(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`),Mm(o,i,l,c,u,a)}const rI=$e({batchNorm2d_:Zpt});function Jpt(t,e,n,s,r,a){const o=ie(t,"x","batchNorm"),i=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let u;r!=null&&(u=ie(r,"scale","batchNorm"));let c;return s!=null&&(c=ie(s,"offset","batchNorm")),ae(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),ae(i.rank===3||i.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`),ae(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`),u!=null&&ae(u.rank===3||u.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`),c!=null&&ae(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`),Mm(o,i,l,c,u,a)}const aI=$e({batchNorm3d_:Jpt});function e0t(t,e,n,s,r,a){const o=ie(t,"x","batchNorm"),i=ie(e,"mean","batchNorm"),l=ie(n,"variance","batchNorm");let u;r!=null&&(u=ie(r,"scale","batchNorm"));let c;return s!=null&&(c=ie(s,"offset","batchNorm")),ae(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),ae(i.rank===4||i.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`),ae(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`),u!=null&&ae(u.rank===4||u.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`),c!=null&&ae(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`),Mm(o,i,l,c,u,a)}const oI=$e({batchNorm4d_:e0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t0t(t,e,n){const s=ie(t,"x","bincount"),r=ie(e,"weights","bincount");ae(s.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`),ae(n>=0,()=>`size must be non-negative, but got ${n}.`),ae(r.size===s.size||r.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${r.shape}.`);const a={x:s,weights:r},o={size:n};return Se.runKernel(Iw,a,o)}const iI=$e({bincount_:t0t});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n0t(t,e){const n=ie(t,"x","bitwiseAnd"),s=ie(e,"y","bitwiseAnd");if(!Bn(n.shape,s.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${s.shape}`);if(n.dtype!=="int32"||s.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${s.dtype}`);const r={a:n,b:s};return Se.runKernel(yv,r)}const DG=$e({bitwiseAnd_:n0t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s0t(t,e){const n=ie(t,"s0","broadcastArgs","int32"),s=ie(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(s.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${s.rank}`);const r={s0:n,s1:s};return Se.runKernel(Nw,r)}const OG=$e({broadcastArgs_:s0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r0t(t,e){let n=ie(t,"broadcastTo","x");const s=n.shape;if(Io(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const u=n.shape.slice();for(;u.length<e.length;)u.unshift(1);n=Ne(n,u)}const r=n.shape,a=Array.from(e);for(let u=e.length-1;u>=0;u--)if(r[u]===e[u])a[u]=1;else if(n.shape[u]!==1)throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${e}].`);if(a.map((u,c)=>u>1?c:-1).filter(u=>u>=0).length===0)return zl(n);const i={x:n},l={reps:a};return Se.runKernel(Lm,i,l)}const wh=$e({broadcastTo_:r0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a0t(t){const n={x:ie(t,"x","ceil","float32")};return Se.runKernel(Y0,n)}const lI=$e({ceil_:a0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vf(t,e,n){Io(t),n=n||ff(e);const s={shape:t,value:e,dtype:n};return Se.runKernel(Gw,{},s)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o0t(t,e,n){const s=ie(t,"x","clipByValue");if(ae(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return vf(s.shape,e,s.dtype);const r={x:s},a={clipValueMin:e,clipValueMax:n};return Se.runKernel(Q0,r,a)}const to=$e({clipByValue_:o0t});function i0t(t){return rr(t,0)}const uI=$e({concat1d_:i0t});function l0t(t,e){return rr(t,e)}const cI=$e({concat2d_:l0t});function u0t(t,e){return rr(t,e)}const dI=$e({concat3d_:u0t});function c0t(t,e){return rr(t,e)}const hI=$e({concat4d_:c0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d0t(t,e,n,s,r="NHWC",a=[1,1],o){const i=ie(t,"x","conv2d","float32"),l=ie(e,"filter","conv2d","float32");let u=i,c=!1;i.rank===3&&(c=!0,u=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ae(u.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`),ae(l.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`),Aa("conv2d",s,o);const d=r==="NHWC"?u.shape[3]:u.shape[1];ae(d===l.shape[2],()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`),ae(oa(n,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),ae(Vh(a),()=>"Error in conv2D: Dilated rates should be larger than 0."),ae(Vh(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:u,filter:l},f={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:o},p=Se.runKernel(wv,h,f);return c?Ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Uu=$e({conv2d_:d0t});function h0t(t,e,n,s,r="NWC",a=1,o){const i=ie(t,"x","conv1d"),l=ie(e,"filter","conv1d");let u=i,c=!1;i.rank===2&&(c=!0,u=Ne(i,[1,i.shape[0],i.shape[1]])),ae(u.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`),ae(l.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`),Aa("conv1d",s,o),ae(u.shape[2]===l.shape[1],()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`),ae(oa(n,a),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${a}'`),ae(Vh(a),()=>"Error in conv1D: Dilated rates should be larger than 0."),ae(Vh(n),()=>"Error in conv1D: Stride should be larger than 0."),ae(r==="NWC",()=>`Error in conv1d: got dataFormat of ${r} but only NWC is currently supported.`);const d=Ne(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=Ne(u,[u.shape[0],1,u.shape[1],u.shape[2]]),y=Uu(h,d,[1,n],s,"NHWC",[1,a],o);return c?Ne(y,[y.shape[2],y.shape[3]]):Ne(y,[y.shape[0],y.shape[2],y.shape[3]])}const L6=$e({conv1d_:h0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f0t(t,e,n,s,r,a="NHWC",o){ae(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,l=e,u=!1;e.rank===3&&(u=!0,l=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]),i=[1,t[0],t[1],t[2]]),ae(i.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`),ae(l.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`),ae(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const c=a==="NHWC"?i[3]:i[1],d=a==="NHWC"?l.shape[3]:l.shape[1];ae(c===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`),ae(d===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`),Aa("conv2dDerInput",r,o);const h={dy:l,filter:n},f={strides:s,pad:r,dataFormat:a,dimRoundingMode:o,inputShape:i},p=Se.runKernel(xv,h,f);return u?Ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const fI=$e({conv2DBackpropInput_:f0t});function p0t(t,e,n,s,r,a){const o=ie(t,"x","conv2dTranspose"),i=ie(e,"filter","conv2dTranspose");return fI(n,o,i,s,r,"NHWC",a)}const P6=$e({conv2dTranspose_:p0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m0t(t,e,n,s,r="NDHWC",a=[1,1,1]){const o=ie(t,"x","conv3d"),i=ie(e,"filter","conv3d");let l=o,u=!1;o.rank===4&&(u=!0,l=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ae(l.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`),ae(i.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`),ae(l.shape[4]===i.shape[3],()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${i.shape[3]}.`),ae(oa(n,a),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),ae(r==="NDHWC",()=>`Error in conv3d: got dataFormat of ${r} but only NDHWC is currently supported.`),ae(Vh(a),()=>"Error in conv3D: Dilated rates should be larger than 0."),ae(Vh(n),()=>"Error in conv3D: Strides should be larger than 0.");const c={x:l,filter:i},d={strides:n,pad:s,dataFormat:r,dilations:a},h=Se.runKernel(Cv,c,d);return u?Ne(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const pI=$e({conv3d_:m0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g0t(t,e,n,s,r){ae(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let a=t,o=e,i=!1;e.rank===4&&(i=!0,o=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),a=[1,t[0],t[1],t[2],t[3]]);const l=a[4],u=o.shape[4];ae(a.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${a.length}.`),ae(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),ae(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),ae(l===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`),ae(u===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`);const c={dy:o,filter:n},d={pad:r,strides:s,inputShape:a},h=Se.runKernel(Rw,c,d);return i?Ne(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const RG=$e({conv3DBackpropInput_:g0t});function v0t(t,e,n,s,r){const a=ie(t,"x","conv3dTranspose"),o=ie(e,"filter","conv3dTranspose");return RG(n,a,o,s,r)}const mI=$e({conv3dTranspose_:v0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0t(t){const n={x:ie(t,"x","cos","float32")};return Se.runKernel(Z0,n)}const yy=$e({cos_:y0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b0t(t){const n={x:ie(t,"x","cosh","float32")};return Se.runKernel(J0,n)}const M6=$e({cosh_:b0t});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _0t(t,e=0,n=!1,s=!1){const a={x:ie(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:s};return Se.runKernel(Lw,a,o)}const k1=$e({cumprod_:_0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w0t(t,e=0,n=!1,s=!1){const a={x:ie(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:s};return Se.runKernel(Sv,a,o)}const F6=$e({cumsum_:w0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x0t(t,e,n,s=!1){const r=ie(t,"x","denseBincount"),a=ie(e,"weights","denseBincount");ae(r.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${r.dtype}`),ae(r.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${r.rank}.`),ae(n>=0,()=>`size must be non-negative, but got ${n}.`),ae(a.size===r.size||a.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${r.shape}, weights shape: ${a.shape}.`);const o={x:r,weights:a},i={size:n,binaryOutput:s};return Se.runKernel(Mw,o,i)}const P3=$e({denseBincount_:x0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C0t(t,e,n="NHWC"){const s=ie(t,"x","depthToSpace","float32"),r=n==="NHWC"?s.shape[1]:s.shape[2],a=n==="NHWC"?s.shape[2]:s.shape[3],o=n==="NHWC"?s.shape[3]:s.shape[1];ae(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),ae(r*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${r} and ${e}  for depthToSpace with input shape
    ${s.shape}`),ae(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e} for depthToSpace with input shape
        ${s.shape}`),ae(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${s.shape}`);const i={x:s},l={blockSize:e,dataFormat:n};return Se.runKernel(Fw,i,l)}const gI=$e({depthToSpace_:C0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S0t(t,e,n,s,r="NHWC",a=[1,1],o){const i=ie(t,"x","depthwiseConv2d","float32"),l=ie(e,"filter","depthwiseConv2d","float32");let u=i,c=!1;i.rank===3&&(c=!0,u=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ae(u.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`),ae(l.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`);const d=r==="NHWC"?u.shape[3]:u.shape[1];ae(d===l.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`),Aa("depthwiseConv2d",s,o);const h={x:u,filter:l},f={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:o},p=Se.runKernel(Tv,h,f);return c?Ne(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Fm=$e({depthwiseConv2d_:S0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T0t(t){const n={x:ie(t,"x","diag")};return Se.runKernel(Vw,n)}const LG=$e({diag_:T0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k0t(t,e,n,s,r=[1,1],a="NHWC"){const o=ie(t,"x","dilation2d"),i=ie(e,"filter","dilation2d");ae(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),ae(i.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`),ae(a==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${a}`);let l=o,u=!1;o.rank===3&&(l=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=!0),ae(l.shape[3]===i.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${i.shape[2]}`);const c={x:l,filter:i},d={strides:n,pad:s,dilations:r},h=Se.runKernel(kv,c,d);return u?Ne(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const vI=$e({dilation2d_:k0t});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uh(t,e){const n=t.length,s=[];for(let r=0;r<n;r++){const a=n-1-r,o=t[a]||1;(e[e.length-1-r]||1)>1&&o===1&&s.unshift(a)}return s}function wr(t,e){const n=[];for(let s=0;s<e.length;s++){const r=t[t.length-s-1],a=e.length-s-1,o=e[a];(r==null||r===1&&o>1)&&n.unshift(a)}return n}function wn(t,e){const n=Math.max(t.length,e.length),s=new Array(n);for(let r=0;r<n;r++){let a=t[t.length-r-1];a==null&&(a=1);let o=e[e.length-r-1];if(o==null&&(o=1),a===1)s[n-r-1]=o;else if(o===1)s[n-r-1]=a;else if(a!==o){const i=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(i)}else s[n-r-1]=a}return s}const $0t=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:wn,getBroadcastDims:Uh,getReductionAxes:wr},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E0t(t,e){let n=ie(t,"a","equal","string_or_numeric"),s=ie(e,"b","equal","string_or_numeric");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel($v,r)}const To=$e({equal_:E0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0t(t,e,n){const s=ie(e,"a","where"),r=ie(n,"b","where"),a=ie(t,"condition","where","bool"),o=wn(wn(a.shape,s.shape),r.shape),i=wh(a,o),l=wh(s,o),u=wh(r,o),c={condition:i,t:l,e:u};return Se.runKernel(sy,c)}const Pr=$e({where_:I0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N0t(t){const n={x:ie(t,"x","zerosLike")};return Se.runKernel(hy,n)}const qn=$e({zerosLike_:N0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A0t(t,e){let n=ie(t,"a","div"),s=ie(e,"b","div");[n,s]=Xs(n,s);const r=tn(n,s),a=qn(r),o=To(s,a);return Pr(o,a,r)}const yI=$e({divNoNan_:A0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D0t(t,e){const n=ie(t,"t1","dot"),s=ie(e,"t2","dot");ae((n.rank===1||n.rank===2)&&(s.rank===1||s.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${s.rank}.`);const r=n.rank===1?n.size:n.shape[1],a=s.rank===1?s.size:s.shape[0];if(ae(r===a,()=>`Error in dot: inner dimensions of inputs must match, but got ${r} and ${a}.`),n.rank===1&&s.rank===1){const o=Ne(n,[1,-1]),i=Ne(s,[-1,1]),l=Dn(o,i);return Ne(l,[])}else if(n.rank===1&&s.rank===2){const o=Ne(n,[1,-1]),i=Ne(s,[s.shape[0],s.shape[1]]),l=Dn(o,i);return Ne(l,[l.size])}else if(n.rank===2&&s.rank===1){const o=Ne(s,[-1,1]),i=Dn(n,o);return Ne(i,[i.size])}else{const o=Ne(s,[s.shape[0],s.shape[1]]);return Dn(n,o)}}const bI=$e({dot_:D0t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O0t(t,...e){const n=e.map((r,a)=>ie(r,`tensors${a}`,"einsum")),s={equation:t};return Se.runKernel(Uw,n,s)}const Zd=$e({einsum_:O0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R0t(t){const n={x:ie(t,"x","elu","float32")};return Se.runKernel(tm,n)}const Bm=$e({elu_:R0t});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L0t(t,e){const n=ie(t,"x","ensureShape","string_or_numeric");if(!Hj(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const PG=$e({ensureShape_:L0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P0t(t){let e=ie(t,"x","erf");ae(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Nt(e,"float32"));const n={x:e};return Se.runKernel(nm,n)}const _I=$e({erf_:P0t});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wI(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function MG(t,e,n){const s=t.length+e.length,r=[];let a=0,o=0;for(let i=0;i<s;i++)n.indexOf(i)===-1?r.push(t[a++]):r.push(e[o++]);return r}function Hr(t,e){const n=[],s=t.length;for(let a=0;a<s;a++)e.indexOf(a)===-1&&n.push(t[a]);const r=e.map(a=>t[a]);return[n,r]}function ir(t,e){const n=e.map(s=>1);return MG(t,n,e)}function ia(t,e,n){ae(wI(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Ys(t,e){if(wI(t,e))return null;const n=[];for(let s=0;s<e;++s)t.indexOf(s)===-1&&n.push(s);return t.forEach(s=>n.push(s)),n}function Cd(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function lr(t,e){const n=[];for(let s=e-t;s<e;++s)n.push(s);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M0t(t,e=null,n=!1){const r={x:ie(t,"x","max")},a={reductionIndices:e,keepDims:n};return Se.runKernel(Bv,r,a)}const Yo=$e({max_:M0t});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F0t(t,e=null,n=!1){const r={x:ie(t,"x","min")},a={axis:e,keepDims:n};return Se.runKernel(Uv,r,a)}const i0=$e({min_:F0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B0t(t,e){let n=ie(t,"base","pow"),s=ie(e,"exp","pow");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(ym,r)}const Wu=$e({pow_:B0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function on(t,e){if((Sr(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Sr(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return wd(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z0t(t){const n={x:ie(t,"x","sqrt","float32")};return Se.runKernel(Nm,n)}const ta=$e({sqrt_:z0t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V0t(t){const e=ie(t,"x","square"),n={};return Se.runKernel("Square",{x:e},n)}const is=$e({square_:V0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H0t(t,e=null,n=!1){let s=ie(t,"x","sum");s.dtype==="bool"&&(s=Nt(s,"int32"));const r={x:s},a={axis:e,keepDims:n};return Se.runKernel(ay,r,a)}const Xt=$e({sum_:H0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U0t(t,e="euclidean",n=null,s=!1){t=ie(t,"x","norm");const r=FG(t,e,n);let a=r.shape;if(s){const o=Rn(n,t.shape);a=ir(r.shape,o)}return Ne(r,a)}function FG(t,e,n=null){if(t.rank===0)return fr(t);if(t.rank!==1&&n===null)return FG(Ne(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return Xt(fr(t),n);if(e===1/0)return Yo(fr(t),n);if(e===-1/0)return i0(fr(t),n);if(e==="euclidean"||e===2)return ta(Xt(Wu(fr(t),on(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Yo(Xt(fr(t),n[0]),n[1]-1);if(e===1/0)return Yo(Xt(fr(t),n[1]),n[0]);if(e===-1/0)return i0(Xt(fr(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return ta(Xt(is(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const zm=$e({norm_:U0t});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W0t(t,e=null,n=!1){return zm(t,"euclidean",e,n)}const xI=$e({euclideanNorm_:W0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j0t(t){const n={x:ie(t,"x","exp")};return Se.runKernel(sm,n)}const no=$e({exp_:j0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G0t(t,e=0){const n=ie(t,"x","expandDims","string_or_numeric");ae(e<=n.rank,()=>"Axis must be <= rank of the tensor");const s={input:n},r={dim:e};return Se.runKernel(Ev,s,r)}const Kr=$e({expandDims_:G0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q0t(t){const n={x:ie(t,"x","expm1")};return Se.runKernel(rm,n)}const CI=$e({expm1_:q0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K0t(t,e){const n=ie(t,"x","tile","string_or_numeric");ae(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const s={x:n},r={reps:e};return Se.runKernel(Lm,s,r)}const Wo=$e({tile_:K0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X0t(t,e,n,s="float32"){e==null&&(e=t);const r=En([t,e],s),a=t<=e?t:e;for(let i=0;i<a;++i)r.set(1,i,i);const o=Ne(r.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return Wo(Kr(o,0),[n[0],1,1]);if(n.length===2)return Wo(Kr(Kr(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return Wo(Kr(Kr(Kr(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const B6=$e({eye_:X0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y0t(t){const n={x:ie(t,"x","floor","float32")};return Se.runKernel(am,n)}const Vm=$e({floor_:Y0t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q0t(t,e,n=0,s=0){const r=ie(t,"x","gather"),a=ie(e,"indices","gather","int32"),o={x:r,indices:a},i={axis:n,batchDims:s};return Se.runKernel(Nv,o,i)}const Hm=$e({gather_:Q0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z0t(t,e){let n=ie(t,"a","greater","string_or_numeric"),s=ie(e,"b","greater","string_or_numeric");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(Av,r)}const Da=$e({greater_:Z0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J0t(t,e){let n=ie(t,"a","greaterEqual","string_or_numeric"),s=ie(e,"b","greaterEqual","string_or_numeric");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(im,r)}const ic=$e({greaterEqual_:J0t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function emt(t){const n={input:ie(t,"input","imag")};return Se.runKernel(Yw,n)}const by=$e({imag_:emt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tmt(t){const n={x:ie(t,"x","isFinite")};return Se.runKernel(um,n)}const SI=$e({isFinite_:tmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nmt(t){const n={x:ie(t,"x","isInf")};return Se.runKernel(cm,n)}const TI=$e({isInf_:nmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function smt(t){const n={x:ie(t,"x","isNaN")};return Se.runKernel(dm,n)}const kI=$e({isNaN_:smt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rmt(t,e=.2){const s={x:ie(t,"x","leakyRelu")},r={alpha:e};return Se.runKernel(Dv,s,r)}const _y=$e({leakyRelu_:rmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function amt(t,e){let n=ie(t,"a","less","string_or_numeric"),s=ie(e,"b","less","string_or_numeric");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(Ov,r)}const l0=$e({less_:amt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function omt(t,e){let n=ie(t,"a","lessEqual","string_or_numeric"),s=ie(e,"b","lessEqual","string_or_numeric");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(Rv,r)}const Sd=$e({lessEqual_:omt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BG(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const s={start:t,stop:e,num:n};return Se.runKernel(Qw,{},s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function imt(t,e=5,n=1,s=1,r=.5){const a=ie(t,"x","localResponseNormalization");ae(a.rank===4||a.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${a.rank}.`),ae(Mh(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=a,i=!1;a.rank===3&&(i=!0,o=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const l={x:o},u={depthRadius:e,bias:n,alpha:s,beta:r},c=Se.runKernel(Fv,l,u);return i?Ne(c,[c.shape[1],c.shape[2],c.shape[3]]):c}const $I=$e({localResponseNormalization_:imt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lmt(t){const n={x:ie(t,"x","log","float32")};return Se.runKernel(hm,n)}const ko=$e({log_:lmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function umt(t){const n={x:ie(t,"x","log1p")};return Se.runKernel(fm,n)}const wy=$e({log1p_:umt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cmt(t){return ae(sd(t),()=>"The f passed in grad(f) must be a function"),(e,n)=>{const s=ie(e,"x","tf.grad","string_or_numeric"),r=n!=null?ie(n,"dy","tf.grad"):null;return Se.tidy(()=>{const{value:a,grads:o}=Se.gradients(()=>t(s),[s],r);return r!=null&&aa(a.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),z6(o),o[0]})}}function dmt(t){return ae(sd(t),()=>"The f passed in grads(f) must be a function"),(e,n)=>{ae(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const s=x1(e,"args","tf.grads","string_or_numeric"),r=n!=null?ie(n,"dy","tf.grads"):null;return Se.tidy(()=>{const{value:a,grads:o}=Se.gradients(()=>t(...s),s,r);return r!=null&&aa(a.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),z6(o),o})}}function hmt(t){return ae(sd(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,n)=>{ae(e instanceof Xn,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),ae(n==null||n instanceof Xn,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:s,value:r}=Se.gradients(()=>t(e),[e],n);return z6(s),{grad:s[0],value:r}}}function fmt(t){return ae(sd(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,n)=>{ae(Array.isArray(e)&&e.every(r=>r instanceof Xn),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),ae(n==null||n instanceof Xn,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const s=Se.gradients(()=>t(...e),e,n);return n!=null&&aa(s.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),z6(s.grads),s}}function zG(t,e){ae(sd(t),()=>"The f passed in variableGrads(f) must be a function"),ae(e==null||Array.isArray(e)&&e.every(u=>u instanceof w1),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const u in Se.registeredVariables)e.push(Se.registeredVariables[u])}const s=n?e.filter(u=>!u.trainable):null,r=e.length;e=e.filter(u=>u.trainable),ae(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${r} variables is trainable.`);const a=!0,{value:o,grads:i}=Se.gradients(t,e,null,a);ae(i.some(u=>u!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),ae(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const l={};return e.forEach((u,c)=>{i[c]!=null&&(l[u.name]=i[c])}),s!=null&&s.forEach(u=>l[u.name]=null),{value:o,grads:l}}function tu(t){return Se.customGrad(t)}function z6(t){if(t.filter(n=>n==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pmt(t){const n={x:ie(t,"x","neg")};return Se.runKernel(jv,n)}const bs=$e({neg_:pmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mmt(t){const n={x:ie(t,"x","softplus")};return Se.runKernel(Im,n)}const yf=$e({softplus_:mmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gmt(t){const e=ie(t,"x","logSigmoid");return tu(s=>({value:bs(yf(bs(s))),gradFunc:o=>Ie(o,nl(bs(s)))}))(e)}const EI=$e({logSigmoid_:gmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vmt(t,e){let n=ie(t,"a","sub"),s=ie(e,"b","sub");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(Dm,r)}const jt=$e({sub_:vmt});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ymt(t,e=-1){const n=ie(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return tu((r,a)=>{const i=Yo(r,e,!0),l=jt(r,i),u=jt(Nt(l,"float32"),ko(Xt(no(l),e,!0)));return a([u]),{value:u,gradFunc:(d,h)=>{const[f]=h,p=!0,m=no(f);return jt(d,Ie(Xt(d,e,p),m))}}})(n)}const V6=$e({logSoftmax_:ymt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bmt(t,e=null,n=!1){const s=ie(t,"x","logSumExp"),r=Rn(e,s.shape),a=Yo(s,r,!0),o=jt(s,a),i=no(o),l=Xt(i,r),u=ko(l),c=mt(Ne(a,u.shape),u);if(n){const d=ir(c.shape,r);return Ne(c,d)}return c}const xy=$e({logSumExp_:bmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _mt(t,e){const n=ie(t,"a","logicalAnd","bool"),s=ie(e,"b","logicalAnd","bool");wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(Lv,r)}const Oi=$e({logicalAnd_:_mt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wmt(t){const n={x:ie(t,"x","logicalNot","bool")};return Se.runKernel(Pv,n)}const Cy=$e({logicalNot_:wmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xmt(t,e){const n=ie(t,"a","logicalOr","bool"),s=ie(e,"b","logicalOr","bool");wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(Mv,r)}const H6=$e({logicalOr_:xmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cmt(t,e){const n=ie(t,"a","logicalXor","bool"),s=ie(e,"b","logicalXor","bool");return wn(n.shape,s.shape),Oi(H6(t,e),Cy(Oi(t,e)))}const II=$e({logicalXor_:Cmt});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kb=2147483648;function Smt(t,e,n="left"){const s=ie(t,"sortedSequence","searchSorted"),r=ie(e,"values","searchSorted"),a=s.shape[s.shape.length-1],o=r.shape[r.shape.length-1],i=Ne(s,[-1,a]),l=Ne(r,[-1,o]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(tt(l.shape)>=Kb)throw new Error(`values tensor size must less than ${Kb}`);if(i.shape[1]>=Kb)throw new Error(`trailing dim_size must less than ${Kb} for int32 output type, was ${i.shape[1]}`);const u={sortedSequence:i,values:l},c={side:n};return Se.runKernel(m6,u,c)}const U6=$e({searchSorted_:Smt});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VG(t,e){return U6(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tmt(t,e,n,s,r){const a=ie(t,"x","maxPool"),o=1;let i=a,l=!1;a.rank===3&&(l=!0,i=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ae(i.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`),ae(oa(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),Aa("maxPool",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r},d=Se.runKernel(zv,u,c);return l?Ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const Sy=$e({maxPool_:Tmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kmt(t,e=[1,1,1],n,s,r,a="NDHWC"){const o=ie(t,"x","maxPool3d");let i=o,l=!1;o.rank===4&&(l=!0,i=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),ae(i.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`),ae(a==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${a}`),Aa("maxPool3d",s,r);const u={x:i},c={filterSize:e,strides:n,pad:s,dimRoundingMode:r,dataFormat:a},d=Se.runKernel(Vv,u,c);return l?Ne(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}const NI=$e({maxPool3d_:kmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $mt(t,e,n,s,r=!1){const o={x:ie(t,"x","maxPoolWithArgmax")},i={filterSize:e,strides:n,pad:s,includeBatchInIndex:r},l=Se.runKernel(t6,o,i);return{result:l[0],indexes:l[1]}}const HG=$e({maxPoolWithArgmax_:$mt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Emt(t,e){let n=ie(t,"a","maximum"),s=ie(e,"b","maximum");[n,s]=Xs(n,s),n.dtype==="bool"&&(n=Nt(n,"int32"),s=Nt(s,"int32")),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(pm,r)}const du=$e({maximum_:Emt});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Imt(t,e=null,n=!1){const r={x:ie(t,"x","mean")},a={axis:e,keepDims:n};return Se.runKernel(Hv,r,a)}const qs=$e({mean_:Imt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mr(t,e="float32"){if(Io(t),e==="complex64"){const s=mr(t,"float32"),r=mr(t,"float32");return Hu(s,r)}const n=ea(tt(t),e);return Se.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wa(t,e="float32"){if(Io(t),e==="complex64"){const s=Wa(t,"float32"),r=mr(t,"float32");return Hu(s,r)}const n=Sw(tt(t),e);return Se.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UG(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let s=ie(t,"x","meshgrid",t instanceof Xn?t.dtype:"float32");if(e===void 0)return[s];let r=ie(e,"y","meshgrid",e instanceof Xn?e.dtype:"float32");const a=tt(s.shape),o=tt(r.shape);return n==="xy"?(s=Ne(s,[1,-1]),r=Ne(r,[-1,1]),[Dn(Wa([o,1],s.dtype),s),Dn(r,Wa([1,a],r.dtype))]):(s=Ne(s,[-1,1]),r=Ne(r,[1,-1]),[Dn(s,Wa([1,o],s.dtype)),Dn(Wa([a,1],r.dtype),r)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nmt(t,e){let n=ie(t,"a","minimum"),s=ie(e,"b","minimum");[n,s]=Xs(n,s),n.dtype==="bool"&&(n=Nt(n,"int32"),s=Nt(s,"int32")),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(mm,r)}const ad=$e({minimum_:Nmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Amt(t,e,n){ae(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const s=ie(t,"x","mirrorPad");if(s.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");ae(e.length===s.rank,()=>`Padding doesn't match input. Must be ${s.rank}. Got ${e.length}.`);const r=n==="reflect"?1:0;for(let i=0;i<s.rank;i++)ae(e[i].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),ae(e[i][0]>=0&&e[i][0]<=s.shape[i]-r&&e[i][1]>=0&&e[i][1]<=s.shape[i]-r,()=>`Padding in dimension ${i} cannot be greater than or equal to ${s.shape[i]-r} or less than 0 for input of shape ${s.shape}`);const a={paddings:e,mode:n},o={x:s};return Se.runKernel(Wv,o,a)}const AI=$e({mirrorPad_:Amt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dmt(t,e){let n=ie(t,"a","mod"),s=ie(e,"b","mod");[n,s]=Xs(n,s);const r={a:n,b:s};return Se.runKernel(gm,r)}const DI=$e({mod_:Dmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Omt(t,e=null,n=!1){t=ie(t,"x","moments");const s=Rn(e,t.shape),r=qs(t,s,n);let a=r.shape;n||(a=ir(r.shape,s));const o=is(jt(Nt(t,"float32"),Ne(r,a))),i=qs(o,s,n);return{mean:r,variance:i}}const Ty=$e({moments_:Omt});function Rmt(t,e,n,s){const r=ie(e,"data","multiRNNCell"),a=x1(n,"c","multiRNNCell"),o=x1(s,"h","multiRNNCell");let i=r;const l=[];for(let d=0;d<t.length;d++){const h=t[d](i,a[d],o[d]);l.push(h[0]),l.push(h[1]),i=h[1]}const u=[],c=[];for(let d=0;d<l.length;d+=2)u.push(l[d]),c.push(l[d+1]);return[u,c]}const WG=$e({multiRNNCell_:Rmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lmt(t,e,n,s=!1){const r=ie(t,"logits","multinomial"),a=r.size,o=r.rank;if(a<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${a}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const l={logits:o===1?Ne(r,[1,-1]):r},u={numSamples:e,seed:n,normalized:s},c=Se.runKernel(n6,l,u);return o===1?Ne(c,[c.size]):c}const jG=$e({multinomial_:Lmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pmt(t,e){let n=ie(t,"a","notEqual","string_or_numeric"),s=ie(e,"b","notEqual","string_or_numeric");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s};return Se.runKernel(Gv,r)}const Wh=$e({notEqual_:Pmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mmt(t,e,n=1,s=0,r="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:ie(t,"indices","oneHot","int32")},i={dtype:r,depth:e,onValue:n,offValue:s};return Se.runKernel(Kv,o,i)}const u0=$e({oneHot_:Mmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fmt(t){const n={x:ie(t,"x","onesLike")};return Se.runKernel(qv,n)}const $o=$e({onesLike_:Fmt});function Bmt(t,e){const n=ie(t,"v1","outerProduct"),s=ie(e,"v2","outerProduct");ae(n.rank===1&&s.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${s.rank}.`);const r=Ne(n,[-1,1]),a=Ne(s,[1,-1]);return Dn(r,a)}const GG=$e({outerProduct_:Bmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zmt(t,e,n=0){const s=ie(t,"x","pad");if(s.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:e,constantValue:n},a={x:s};return Se.runKernel(Yv,a,r)}const lc=$e({pad_:zmt});function Vmt(t,e,n=0){return ae(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),lc(t,[e],n)}const qG=$e({pad1d_:Vmt});function Hmt(t,e,n=0){return ae(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),lc(t,e,n)}const KG=$e({pad2d_:Hmt});function Umt(t,e,n=0){return ae(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),lc(t,e,n)}const XG=$e({pad3d_:Umt});function Wmt(t,e,n=0){return ae(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),lc(t,e,n)}const YG=$e({pad4d_:Wmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jmt(t,e,n){const s=ie(t,"x","spaceToBatchND");ae(s.rank>=1+e.length,()=>`input rank ${s.rank} should be > than [blockShape] ${e.length}`),ae(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),ae(s.shape.reduce((o,i,l)=>l>0&&l<=e.length?o&&(i+n[l-1][0]+n[l-1][1])%e[l-1]===0:o,!0),()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const r={x:s},a={blockShape:e,paddings:n};return Se.runKernel(oy,r,a)}const ky=$e({spaceToBatchND_:jmt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gmt(t,e,n,s,r,a,o){r==null&&(r=[1,1]),a==null&&(a=1),s===0&&(s="valid");const i=ie(t,"x","maxPool");let l=i,u=!1;i.rank===3&&(u=!0,l=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),ae(oa(a,r),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${a} and dilations '${r}'`);const c=Pi(l.shape,e,a,r,s),d=[c.dilationHeight,c.dilationWidth];let h;s==="same"?h=Kmt([c.filterHeight,c.filterWidth],d):h=[[0,0],[0,0]];const f=d[0]===1&&d[1]===1,[p,m]=qmt([c.inHeight,c.inWidth],d,h),y=f?s:"valid",v=f?l:ky(l,d,p),w=(n==="avg"?()=>gy(v,e,a,y,o):()=>Sy(v,e,a,y,o))(),_=f?w:vy(w,d,m);return u?Ne(_,[_.shape[1],_.shape[2],_.shape[3]]):_}function qmt(t,e,n){const s=n.map(c=>c[0]),r=n.map(c=>c[1]),a=t.concat(s,r),o=e.map((c,d)=>(c-a[d]%c)%c),i=r.map((c,d)=>c+o[d]),l=e.map((c,d)=>[s[d],i[d]]),u=e.map((c,d)=>[0,o[d]]);return[l,u]}function Kmt(t,e){const s=t.map((o,i)=>o+(o-1)*(e[i]-1)).map(o=>o-1),r=s.map(o=>Math.floor(o/2)),a=s.map((o,i)=>o-r[i]);return s.map((o,i)=>[r[i],a[i]])}const OI=$e({pool_:Gmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xmt(t,e){const n=ie(t,"x","prelu"),s=ie(e,"alpha","prelu"),r={x:n,alpha:s};return Se.runKernel(Qv,r)}const $y=$e({prelu_:Xmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ymt(t,e=null,n=!1){let s=ie(t,"x","prod");s.dtype==="bool"&&(s=Nt(s,"int32"));const r={x:s},a={axis:e,keepDims:n};return Se.runKernel(Zv,r,a)}const RI=$e({prod_:Ymt});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qmt(t,e,n,s){const r=t.map((c,d)=>ie(c,`tensors${d}`,"raggedGather","int32")),a=ie(e,"paramsDenseValues","raggedGather"),o=ie(n,"indices","raggedGather","int32"),i={paramsNestedSplits:r,paramsDenseValues:a,indices:o},l={outputRaggedRank:s},u=Se.runKernel(o6,i,l);return{outputNestedSplits:u.slice(0,u.length-1),outputDenseValues:u[u.length-1]}}const QG=$e({raggedGather_:Qmt});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zmt(t,e,n){const s=ie(t,"starts","raggedRange"),r=ie(e,"limits","raggedRange",s.dtype),a=ie(n,"deltas","raggedRange",s.dtype),o={starts:s,limits:r,deltas:a},i=Se.runKernel(i6,o);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}const ZG=$e({raggedRange_:Zmt});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jmt(t,e,n,s,r){const a=ie(t,"shape","raggedTensorToTensor","int32"),o=ie(e,"values","raggedTensorToTensor"),i=ie(n,"defaultValue","raggedTensorToTensor",o.dtype),l=s.map((d,h)=>ie(d,`tensors${h}`,"raggedTensorToTensor","int32")),u={shape:a,values:o,defaultValue:i,rowPartitionTensors:l},c={rowPartitionTypes:r};return Se.runKernel(l6,u,c)}const JG=$e({raggedTensorToTensor_:Jmt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function egt(t,e,n){Io(t);const s=tt(t);let r=null;if(n==null||n==="float32")r=new Float32Array(s);else if(n==="int32")r=new Int32Array(s);else if(n==="bool")r=new Uint8Array(s);else throw new Error(`Unknown data type ${n}`);for(let a=0;a<s;a++)r[a]=e();return Se.makeTensor(r,t,n)}const eq=$e({rand_:egt});var LI={exports:{}};LI.exports;(function(t){(function(e,n,s){function r(l){var u=this,c=i();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var c=new r(l),d=u&&u.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,d&&(typeof d=="object"&&a(d,c),h.state=function(){return a(c,{})}),h}function i(){var l=4022871197,u=function(c){c=String(c);for(var d=0;d<c.length;d++){l+=c.charCodeAt(d);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=o:s&&s.amd?s(function(){return o}):this.alea=o})(Ir,t,!1)})(LI);var tgt=LI.exports,PI={exports:{}};PI.exports;(function(t){(function(e,n,s){function r(i){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},i===(i|0)?l.x=i:u+=i;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function a(i,l){return l.x=i.x,l.y=i.y,l.z=i.z,l.w=i.w,l}function o(i,l){var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:s&&s.amd?s(function(){return o}):this.xor128=o})(Ir,t,!1)})(PI);var ngt=PI.exports,MI={exports:{}};MI.exports;(function(t){(function(e,n,s){function r(i){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,i===(i|0)?l.x=i:u+=i;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(i,l){return l.x=i.x,l.y=i.y,l.z=i.z,l.w=i.w,l.v=i.v,l.d=i.d,l}function o(i,l){var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:s&&s.amd?s(function(){return o}):this.xorwow=o})(Ir,t,!1)})(MI);var sgt=MI.exports,FI={exports:{}};FI.exports;(function(t){(function(e,n,s){function r(i){var l=this;l.next=function(){var c=l.x,d=l.i,h,f;return h=c[d],h^=h>>>7,f=h^h<<24,h=c[d+1&7],f^=h^h>>>10,h=c[d+3&7],f^=h^h>>>3,h=c[d+4&7],f^=h^h<<7,h=c[d+7&7],h=h^h<<13,f^=h^h<<9,c[d]=f,l.i=d+1&7,f};function u(c,d){var h,f=[];if(d===(d|0))f[0]=d;else for(d=""+d,h=0;h<d.length;++h)f[h&7]=f[h&7]<<15^d.charCodeAt(h)+f[h+1&7]<<13;for(;f.length<8;)f.push(0);for(h=0;h<8&&f[h]===0;++h);for(h==8?f[7]=-1:f[h],c.x=f,c.i=0,h=256;h>0;--h)c.next()}u(l,i)}function a(i,l){return l.x=i.x.slice(),l.i=i.i,l}function o(i,l){i==null&&(i=+new Date);var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(c.x&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:s&&s.amd?s(function(){return o}):this.xorshift7=o})(Ir,t,!1)})(FI);var rgt=FI.exports,BI={exports:{}};BI.exports;(function(t){(function(e,n,s){function r(i){var l=this;l.next=function(){var c=l.w,d=l.X,h=l.i,f,p;return l.w=c=c+1640531527|0,p=d[h+34&127],f=d[h=h+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,p=d[h]=p^f,l.i=h,p+(c^c>>>16)|0};function u(c,d){var h,f,p,m,y,v=[],b=128;for(d===(d|0)?(f=d,d=null):(d=d+"\0",f=0,b=Math.max(b,d.length)),p=0,m=-32;m<b;++m)d&&(f^=d.charCodeAt((m+32)%d.length)),m===0&&(y=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,m>=0&&(y=y+1640531527|0,h=v[m&127]^=f+y,p=h==0?p+1:0);for(p>=128&&(v[(d&&d.length||0)&127]=-1),p=127,m=4*128;m>0;--m)f=v[p+34&127],h=v[p=p+1&127],f^=f<<13,h^=h<<17,f^=f>>>15,h^=h>>>12,v[p]=f^h;c.w=y,c.X=v,c.i=p}u(l,i)}function a(i,l){return l.i=i.i,l.w=i.w,l.X=i.X.slice(),l}function o(i,l){i==null&&(i=+new Date);var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(c.X&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:s&&s.amd?s(function(){return o}):this.xor4096=o})(Ir,t,!1)})(BI);var agt=BI.exports,zI={exports:{}};zI.exports;(function(t){(function(e,n,s){function r(i){var l=this,u="";l.next=function(){var d=l.b,h=l.c,f=l.d,p=l.a;return d=d<<25^d>>>7^h,h=h-f|0,f=f<<24^f>>>8^p,p=p-d|0,l.b=d=d<<20^d>>>12^h,l.c=h=h-f|0,l.d=f<<16^h>>>16^p,l.a=p-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,i===Math.floor(i)?(l.a=i/4294967296|0,l.b=i|0):u+=i;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function a(i,l){return l.a=i.a,l.b=i.b,l.c=i.c,l.d=i.d,l}function o(i,l){var u=new r(i),c=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var h=u.next()>>>11,f=(u.next()>>>0)/4294967296,p=(h+f)/(1<<21);while(p===0);return p},d.int32=u.next,d.quick=d,c&&(typeof c=="object"&&a(c,u),d.state=function(){return a(u,{})}),d}n&&n.exports?n.exports=o:s&&s.amd?s(function(){return o}):this.tychei=o})(Ir,t,!1)})(zI);var ogt=zI.exports,tq={exports:{}};const igt={},lgt=Object.freeze(Object.defineProperty({__proto__:null,default:igt},Symbol.toStringTag,{value:"Module"})),nq=X_e(lgt);(function(t){(function(e,n,s){var r=256,a=6,o=52,i="random",l=s.pow(r,a),u=s.pow(2,o),c=u*2,d=r-1,h;function f(_,C,x){var T=[];C=C==!0?{entropy:!0}:C||{};var k=v(y(C.entropy?[_,w(n)]:_??b(),3),T),N=new p(T),O=function(){for(var L=N.g(a),V=l,H=0;L<u;)L=(L+H)*r,V*=r,H=N.g(1);for(;L>=c;)L/=2,V/=2,H>>>=1;return(L+H)/V};return O.int32=function(){return N.g(4)|0},O.quick=function(){return N.g(4)/4294967296},O.double=O,v(w(N.S),n),(C.pass||x||function(L,V,H,K){return K&&(K.S&&m(K,N),L.state=function(){return m(N,{})}),H?(s[i]=L,V):L})(O,k,"global"in C?C.global:this==s,C.state)}function p(_){var C,x=_.length,T=this,k=0,N=T.i=T.j=0,O=T.S=[];for(x||(_=[x++]);k<r;)O[k]=k++;for(k=0;k<r;k++)O[k]=O[N=d&N+_[k%x]+(C=O[k])],O[N]=C;(T.g=function(L){for(var V,H=0,K=T.i,U=T.j,R=T.S;L--;)V=R[K=d&K+1],H=H*r+R[d&(R[K]=R[U=d&U+V])+(R[U]=V)];return T.i=K,T.j=U,H})(r)}function m(_,C){return C.i=_.i,C.j=_.j,C.S=_.S.slice(),C}function y(_,C){var x=[],T=typeof _,k;if(C&&T=="object")for(k in _)try{x.push(y(_[k],C-1))}catch{}return x.length?x:T=="string"?_:_+"\0"}function v(_,C){for(var x=_+"",T,k=0;k<x.length;)C[d&k]=d&(T^=C[d&k]*19)+x.charCodeAt(k++);return w(C)}function b(){try{var _;return h&&(_=h.randomBytes)?_=_(r):(_=new Uint8Array(r),(e.crypto||e.msCrypto).getRandomValues(_)),w(_)}catch{var C=e.navigator,x=C&&C.plugins;return[+new Date,e,x,e.screen,w(n)]}}function w(_){return String.fromCharCode.apply(0,_)}if(v(s.random(),n),t.exports){t.exports=f;try{h=nq}catch{}}else s["seed"+i]=f})(typeof self<"u"?self:Ir,[],Math)})(tq);var ugt=tq.exports,cgt=tgt,dgt=ngt,hgt=sgt,fgt=rgt,pgt=agt,mgt=ogt,bf=ugt;bf.alea=cgt;bf.xor128=dgt;bf.xorwow=hgt;bf.xorshift7=fgt;bf.xor4096=pgt;bf.tychei=mgt;var Um=bf;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ggt=.001,sq=.1;function vgt(t,e,n){return n==null&&(n=VI()),XT(t,e,(s,r)=>HI(s,r,n))}function VI(){return Se.backend.floatPrecision()===32?ggt:sq}function XT(t,e,n){let s=!0;if((Sr(t)||Sr(e))&&(s=!1),Sr(t)&&Sr(e)&&(s=!0),s){const o=t.constructor.name,i=e.constructor.name;if(o!==i)throw new Error(`Arrays are of different type. Actual: ${o}. Expected: ${i}`)}if(Array.isArray(t)&&Array.isArray(e)){const o=eu(t),i=eu(e);if(!Bn(o,i))throw new Error(`Arrays have different shapes. Actual: [${o}]. Expected: [${i}]`)}const r=Sr(t)?t:Jl(t),a=Sr(e)?e:Jl(e);if(r.length!==a.length)throw new Error(`Arrays have different lengths actual: ${r.length} vs expected: ${a.length}.
Actual:   ${r}.
Expected: ${a}.`);for(let o=0;o<a.length;++o){const i=r[o],l=a[o];if(!n(i,l))throw new Error(`Arrays differ: actual[${o}] = ${i}, expected[${o}] = ${l}.
Actual:   ${r}.
Expected: ${a}.`)}typeof expect<"u"&&expect().nothing()}function ygt(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function bgt(t,e){const n=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Dl(t)||Dl(t[0])||Dl(e)||Dl(e[0])?XT(t,n,(s,r)=>s==r):XT(t,e,(s,r)=>HI(s,r,0))}function _gt(t,e,n){if(n==null&&(n=VI()),!HI(t,e,n))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function HI(t,e,n){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>n)}function wgt(t,e,n){for(let s=0;s<t.length;s++)if(t[s]<e||t[s]>n)throw new Error(`Value out of range:${t[s]} low: ${e}, high: ${n}`)}function xgt(t,e){const n=new Float32Array(t),s=new Float32Array(e);if(n.length!==s.length)throw new Error(`Expected ArrayBuffer to be of length ${s.length}, but it was ${n.length}`);for(let r=0;r<s.length;r++)if(n[r]!==s[r])throw new Error(`Expected ArrayBuffer value at ${r} to be ${s[r]} but got ${n[r]} instead`)}function rq(t){for(let e=0;e<t.length;e++){const n=t[e];Array.isArray(n)?rq(n):t[e]=Bl(n)}return t}function Cgt(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(n=>{e.addEventListener("loadeddata",s=>n(e)),e.load()})}async function Sgt(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const Tgt=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:sq,createVideoElement:Cgt,encodeStrings:rq,expectArrayBuffersEqual:xgt,expectArraysClose:vgt,expectArraysEqual:bgt,expectNumbersClose:_gt,expectPromiseToFail:ygt,expectValuesInRange:wgt,play:Sgt,testEpsilon:VI},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UI{constructor(e,n,s,r,a){this.mean=e,this.stdDev=n,this.dtype=s,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=a||Math.random();this.random=Um.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const r=this.nextVal;return this.nextVal=NaN,r}let e,n,s=!1;for(;!s;){let r,a,o;do r=2*this.random()-1,a=2*this.random()-1,o=r*r+a*a;while(o>=1||o===0);const i=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*i,n=this.mean+this.stdDev*a*i,(!this.truncated||this.isValidTruncated(e))&&(s=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class kgt{constructor(e,n,s,r){this.alpha=e,this.beta=1/n,this.dtype=s;const a=r||Math.random();this.randu=Um.alea(a.toString()),this.randn=new UI(0,1,s,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,s,r,a,o;for(;;){do r=this.randn.nextValue(),o=1+this.c*r;while(o<=0);if(o*=o*o,e=r*r,n=1-.331*e*e,s=.5*e+this.d*(1-o+Math.log(o)),a=this.randu(),a<n||Math.log(a)<s)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class $gt{constructor(e=0,n=1,s,r){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=s,r==null&&(r=Math.random()),typeof r=="number"&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Um.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Egt(t,e,n=1,s="float32",r){if(Io(t),n==null&&(n=1),s==null&&(s="float32"),s!=="float32"&&s!=="int32")throw new Error(`Unsupported data type ${s}`);const a=new kgt(e,n,s,r),o=En(t,s);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}const aq=$e({randomGamma_:Egt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Igt(t,e=0,n=1,s,r){if(Io(t),s!=null&&s==="bool")throw new Error(`Unsupported data type ${s}`);const a=new UI(e,n,s,!1,r),o=En(t,s);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}const W6=$e({randomNormal_:Igt});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ngt(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return W6(t,0,1,e,n)}const oq=$e({randomStandardNormal_:Ngt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Agt(t,e=0,n=1,s="float32",r){Io(t);const a=En(t,s),o=new $gt(e,n,null,r);for(let i=0;i<a.values.length;i++)a.values[i]=o.nextValue();return a.toTensor()}const Td=$e({randomUniform_:Agt});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dgt(t,e,n,s){return Td(t,e,n,"int32",s)}const iq=$e({randomUniformInt_:Dgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jh(t,e,n=1,s="float32"){if(n===0)throw new Error("Cannot have a step of zero");const r={start:t,stop:e,step:n,dtype:s};return Se.runKernel(u6,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ogt(t){const n={input:ie(t,"input","real")};return Se.runKernel(c6,n)}const c0=$e({real_:Ogt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rgt(t){const n={x:ie(t,"x","reciprocal")};return Se.runKernel(bm,n)}const WI=$e({reciprocal_:Rgt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lgt(t){const n={x:ie(t,"x","relu")};return Se.runKernel(_m,n)}const yl=$e({relu_:Lgt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pgt(t){const n={x:ie(t,"x","relu6")};return Se.runKernel(wm,n)}const j6=$e({relu6_:Pgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mgt(t,e){const s={x:ie(t,"x","reverse")},r={dims:e};return Se.runKernel(ny,s,r)}const Zo=$e({reverse_:Mgt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fgt(t){const e=ie(t,"x","reverse");return ae(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Zo(e,0)}const lq=$e({reverse1d_:Fgt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bgt(t,e){const n=ie(t,"x","reverse");return ae(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Zo(n,e)}const uq=$e({reverse2d_:Bgt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zgt(t,e){const n=ie(t,"x","reverse");return ae(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Zo(n,e)}const cq=$e({reverse3d_:zgt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vgt(t,e){const n=ie(t,"x","reverse");return ae(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Zo(n,e)}const dq=$e({reverse4d_:Vgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hgt(t){const n={x:ie(t,"x","round")};return Se.runKernel(xm,n)}const G6=$e({round_:Hgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ugt(t){const n={x:ie(t,"x","rsqrt","float32")};return Se.runKernel(Cm,n)}const q6=$e({rsqrt_:Ugt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wgt(t){const n={x:ie(t,"x","selu")};return Se.runKernel(Sm,n)}const K6=$e({selu_:Wgt});function jgt(t,e,n,s,r,a=[1,1],o="NHWC"){const i=ie(t,"x","separableConv2d"),l=ie(e,"depthwiseFilter","separableConv2d"),u=ie(n,"pointwiseFilter","separableConv2d");let c=i,d=!1;if(i.rank===3&&(d=!0,c=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ae(c.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`),ae(l.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`),ae(u.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`),ae(u.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`),ae(u.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`);const h=l.shape[2],f=l.shape[3];ae(u.shape[2]===h*f,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*f}, but got ${u.shape[2]}.`);const p=Fm(c,l,s,r,o,a),y=Uu(p,u,1,"valid",o);return d?Ne(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const X6=$e({separableConv2d_:jgt});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Ggt(t,e){const n=ie(t,"x","setdiff1d"),s=ie(e,"y","setdiff1d");ae(n.dtype===s.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${s.dtype}).`),ae(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),ae(s.rank===1,()=>`y should be 1D tensor, but got y (${s.shape}).`);const r=await n.data(),a=await s.data(),o=new Set(a);let i=0;for(let c=0;c<r.length;c++)o.has(r[c])||i++;const l=new yr([i],n.dtype),u=new yr([i],"int32");for(let c=0,d=0;c<r.length;c++)o.has(r[c])||(l.values[d]=r[c],u.values[d]=c,d++);return[l.toTensor(),u.toTensor()]}const hq=Ggt;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qgt(t){const n={x:ie(t,"x","sign")};return Se.runKernel($m,n)}const jI=$e({sign_:qgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Kgt(t){const n={x:ie(t,"x","sin","float32")};return Se.runKernel(Tm,n)}const Y6=$e({sin_:Kgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xgt(t){const n={x:ie(t,"x","sinh")};return Se.runKernel(km,n)}const Q6=$e({sinh_:Xgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ygt(t,e,n){const s=ie(t,"x","slice1d");return ae(s.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${s.rank} tensor`),jn(s,[e],[n])}const Ey=$e({slice1d_:Ygt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qgt(t,e,n){const s=ie(t,"x","slice2d");return ae(s.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${s.rank} tensor`),jn(s,e,n)}const Z6=$e({slice2d_:Qgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zgt(t,e,n){const s=ie(t,"x","slice3d");return ae(s.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${s.rank} tensor`),jn(s,e,n)}const Iy=$e({slice3d_:Zgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jgt(t,e,n){const s=ie(t,"x","slice4d");return ae(s.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${s.rank} tensor`),jn(s,e,n)}const d0=$e({slice4d_:Jgt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e2t(t,e=-1){const n=ie(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const s={logits:n},r={dim:e};return Se.runKernel(ly,s,r)}const Ny=$e({softmax_:e2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t2t(t){ae(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return Se.runKernel(jw,e)}const Ay=$e({fft_:t2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n2t(t){ae(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return Se.runKernel(Xw,e)}const h0=$e({ifft_:n2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s2t(t){const e=t.shape[t.shape.length-1],n=t.size/e;let s;if(e<=2){const r=Ne(t,[n,e]);s=h0(r)}else{const r=[n,2*(e-1)],a=Ne(c0(t),[n,e]),o=Ne(by(t),[n,e]),i=Zo(jn(a,[0,1],[n,e-2]),1),l=Ie(Zo(jn(o,[0,1],[n,e-2]),1),on(-1)),u=rr([a,i],1),c=rr([o,l],1),d=Ne(Hu(u,c),[r[0],r[1]]);s=h0(d)}if(s=c0(s),t.rank===3&&t.shape[0]!==0){const r=s,a=t.shape[0];s=Ne(s,[a,s.shape[0]/a,s.shape[1]]),r.dispose()}return s}const J6=$e({irfft_:s2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r2t(t,e,n=0){const r={x:ie(t,"x","split")},a={numOrSizeSplits:e,axis:n};return Se.runKernel(iy,r,a)}const Ka=$e({split_:r2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a2t(t,e){ae(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const s=t.size/n;let r;if(e!=null&&e<n){const p=t.shape.map(y=>0),m=t.shape.map(y=>y);m[t.shape.length-1]=e,r=jn(t,p,m),n=e}else if(e!=null&&e>n){const p=t.shape.map(m=>m);p[t.shape.length-1]=e-n,r=rr([t,mr(p)],t.shape.length-1),n=e}else r=t;const a=qn(r),o=Ne(Hu(r,a),[s,n]),i=Ay(o),l=Math.floor(n/2)+1,u=c0(i),c=by(i),d=Ka(u,[l,n-l],u.shape.length-1),h=Ka(c,[l,n-l],c.shape.length-1),f=r.shape.slice();return f[r.shape.length-1]=l,Ne(Hu(d[0],h[0]),f)}const Dy=$e({rfft_:a2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o2t(t,e){let n=ie(t,"a","squaredDifference"),s=ie(e,"b","squaredDifference");[n,s]=Xs(n,s),wn(n.shape,s.shape);const r={a:n,b:s},a={};return Se.runKernel(Am,r,a)}const ex=$e({squaredDifference_:o2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i2t(t,e){const n=ie(t,"x","squeeze","string_or_numeric");return Ne(n,sc(n.shape,e).newShape)}const kd=$e({squeeze_:i2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l2t(t,e=0){const n=x1(t,"tensors","stack","string_or_numeric");ae(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&ae(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const s=n,r={axis:e};return Se.runKernel(Xv,s,r)}const Ea=$e({stack_:l2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u2t(t,e=0){const s={x:ie(t,"x","step")},r={alpha:e};return Se.runKernel(Pm,s,r)}const _f=$e({step_:u2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c2t(t,e,n,s,r=0,a=0,o=0,i=0,l=0){const c={x:ie(t,"x","stridedSlice","string_or_numeric")},d={begin:e,end:n,strides:s,beginMask:r,endMask:a,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:l};return Se.runKernel(x6,c,d)}const GI=$e({stridedSlice_:c2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d2t(t){const n={x:ie(t,"x","tan","float32")};return Se.runKernel(Om,n)}const qI=$e({tan_:d2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zr(t,e){hf(t);const n=eu(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return wd(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jc(t,e,n){if(hf(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const s=eu(t,n);if(s.length!==2&&s.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return wd(t,e,s,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KI(t,e,n){if(hf(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const s=eu(t,n);if(s.length!==3&&s.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return wd(t,e,s,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fq(t,e,n){if(hf(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const s=eu(t,n);if(s.length!==4&&s.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return wd(t,e,s,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pq(t,e,n){if(hf(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const s=eu(t,n);if(s.length!==5&&s.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return wd(t,e,s,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mq(t,e,n){if(hf(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const s=eu(t,n);if(s.length!==6&&s.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(s.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||s,wd(t,e,s,n)}function XI(t,e,n){const s=e.rank>1?e.shape[e.rank-1]:1,r=e.rank>1?e.rank-1:1,a=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${s}, and batchDim: ${r}.`;if(n.rank<r)throw new Error(a+` update.rank < ${r}. `);if(t.length<s+(n.rank-r))throw new Error(a+` Output shape length < ${s+(n.rank-r)}`);if(n.rank!==r+t.length-s)throw new Error(a+` update.rank != ${r+t.length-s}`);for(let o=0;o<r;++o)if(n.shape[o]!==e.shape[o])throw new Error(a+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-r;++o)if(n.shape[o+r]!==t[o+s])throw new Error(a+` updates.shape[${o+r}] (${n.shape[o+r]}) != shape[${o+r}] (${t[o+r]})`)}function tx(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}XI(n,e,t)}function $d(t,e,n){const s=e.shape.length,r=s>1?e.shape[s-1]:1,a=n.length;let o=1;for(let d=r;d<a;++d)o*=n[d];const i=r<1?1:r,l=tt(e.shape)/i,u=[...sn(n.slice(0,r)),1],c=tt(n);return{sliceRank:r,numUpdates:l,sliceSize:o,strides:u,outputSize:c}}const h2t=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:$d,validateInput:tx,validateUpdateShape:XI},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f2t(t,e,n){const s=ie(t,"tensor","tensorScatterupdate"),r=ie(e,"indices","tensorScatterupdate","int32"),a=ie(n,"updates","tensorScatterupdate");if(tx(a,r,s.shape),s.dtype!==a.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${s.dtype} and ${a.dtype}.`);const o={tensor:s,indices:r,updates:a},i={};return Se.runKernel(p6,o,i)}const gq=$e({tensorScatterUpdate_:f2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p2t(t,e=1,n=!0){const s=ie(t,"x","topk");if(s.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const r=s.shape[s.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>r)throw new Error(`'k' passed to topk() must be <= the last dimension (${r}) but got ${e}`);const a={x:s},o={k:e,sorted:n},[i,l]=Se.runKernel(k6,a,o);return{values:i,indices:l}}const YI=$e({topk_:p2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2t(t,e=0,n=1,s,r){if(Io(t),s!=null&&s==="bool")throw new Error("Unsupported data type $ { dtype }");const a=new UI(e,n,s,!0,r),o=En(t,s);for(let i=0;i<o.values.length;i++)o.values[i]=a.nextValue();return o.toTensor()}const nx=$e({truncatedNormal_:m2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g2t(t,e=0){const n=ie(t,"x","unique","string_or_numeric");ae(n.rank>0,()=>"The input tensor must be at least 1D");const s={x:n},r={axis:e},[a,o]=Se.runKernel(E6,s,r);return{values:a,indices:o}}const QI=$e({unique_:g2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v2t(t,e,n){const s=ie(t,"x","unsortedSegmentSum"),r=ie(e,"segmentIds","unsortedSegmentSum","int32");ae(Mh(n),()=>"numSegments must be of dtype int");const a={x:s,segmentIds:r},o={numSegments:n};return Se.runKernel(dy,a,o)}const sx=$e({unsortedSegmentSum_:v2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y2t(t,e=0){const n=ie(t,"x","unstack","string_or_numeric");ae(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const s={value:n},r={axis:e};return Se.runKernel(cy,s,r)}const Jo=$e({unstack_:y2t});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vq(t,e){return U6(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZI(t,e=!0,n,s){return Se.makeVariable(t,e,n,s)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rx(t,e){const n=[];for(let a=0;a<e.length;a++)e[a]&&n.push(a);const s=En(t,"int32"),r=En([n.length,t.length],"int32");for(let a=0;a<n.length;a++){const o=s.indexToLoc(n[a]),i=a*t.length;r.values.set(o,i)}return r.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function b2t(t){const e=ie(t,"condition","whereAsync","bool"),n=await e.data(),s=rx(e.shape,n);return t!==e&&e.dispose(),s}const JI=b2t;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function _2t(t,e,n){const s=ie(t,"tensor","boolMask"),r=ie(e,"mask","boolMask","bool"),a=n??0,o=r.rank,i=s.shape;ae(o>0,()=>"mask cannot be scalar"),aa(i.slice(a,a+o),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=a;m<a+o;m++)l*=i[m];const u=i.slice(0,a).concat([l],i.slice(a+o)),c=Ne(s,u),d=Ne(r,[-1]),h=await JI(d),f=kd(h,[1]),p=Hm(c,f,a);return t!==s&&s.dispose(),e!==r&&r.dispose(),f.dispose(),c.dispose(),d.dispose(),h.dispose(),p}const yq=_2t;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w2t(t,e,n){const s=ie(t,"x","transpose");if(e==null&&(e=s.shape.map((o,i)=>i).reverse()),ae(s.rank===e.length,()=>`Error in transpose: rank of input ${s.rank} must match length of perm ${e}.`),e.forEach(o=>{ae(o>=0&&o<s.rank,()=>`All entries in 'perm' must be between 0 and ${s.rank-1} but got ${e}`)}),s.rank<=1)return s.clone();const r={x:s},a={perm:e};return s.dtype==="complex64"?Ve(()=>{let o=c0(s),i=by(s);return o=Se.runKernel(_h,{x:o},a),i=Se.runKernel(_h,{x:i},a),n&&(i=bs(i)),Hu(o,i)}):Se.runKernel(_h,r,a)}const Un=$e({transpose_:w2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x2t(t,e,n,s,r=!0){const a=ie(t,"v","movingAverage"),o=ie(e,"x","movingAverage"),i=ie(n,"decay","movingAverage");pG(a,o),ae(Bn(a.shape,o.shape),()=>"Shape mismatch in v and x");const l=on(1),u=jt(l,i);let c=Ie(jt(o,a),u);if(r){ae(s!=null,()=>"When using zeroDebias: true, step is required.");const d=ie(s,"step","movingAverage");c=tn(c,jt(l,Wu(i,d)))}return mt(a,c)}const bq=$e({movingAverage_:x2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C2t(t,e,n){Io(n);const s=ie(t,"indices","scatterND","int32"),r=ie(e,"updates","scatterND");tx(r,s,n);const a={indices:s,updates:r},o={shape:n};return Se.runKernel(f6,a,o)}const _q=$e({scatterND_:C2t});function S2t(t,e,n,s){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const r=t.rank>0?t.shape[0]:1,a=t.rank>1?t.shape[1]:1;if(n.length!==a)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${a}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===r))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${r}]`);if(e.dtype!==s.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T2t(t,e,n,s=0){Io(n);const r=ie(t,"sparseIndices","sparseToDense","int32"),a=ie(e,"sparseValues","sparseToDense","string_or_numeric"),o=ie(s,"defaultValue","sparseToDense",a.dtype);S2t(r,a,n,o);const i={sparseIndices:r,sparseValues:a,defaultValue:o},l={outputShape:n};return Se.runKernel(_6,i,l)}const wq=$e({sparseToDense_:T2t});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k2t(t,e){const n=ie(e,"indices","gatherND","int32"),r={params:ie(t,"x","gatherND","string_or_numeric"),indices:n};return Se.runKernel(Kw,r)}const xq=$e({gatherND_:k2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $2t(t,e){if(e==null)return t.shape.slice();if(Bn(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let s=0;s<t.shape.length;s++)e[s]==null&&t.shape[s]!=null?n.push(t.shape[s]):n.push(e[s]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E2t(t,e,n,s){const r=ie(t,"x","dropout");if(ae(r.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${r.dtype} tensor instead.`),ae(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof Xn?r.clone():r;const a=$2t(r,n),o=1-e,i=tn(Vm(mt(Td(a,0,1,"float32",s),o)),o);return Ie(r,i)}const eN=$e({dropout_:E2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tN(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function ax(t,e,n){const s=1-t%2,r=new Float32Array(t);for(let a=0;a<t;++a){const o=2*Math.PI*a/(t+s-1);r[a]=e-n*Math.cos(o)}return Zr(r,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function I2t(t,e,n=1){const s=ie(t,"predictions","inTopK"),r=ie(e,"targets","inTopK");ae(s.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${s.rank}`),ae(s.rank-1===r.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${s.rank} and targets rank ${r.rank}`),aa(s.shape.slice(0,s.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const a=s.shape[s.shape.length-1];ae(n>0&&n<=a,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${a}), but got ${n}`);const o=await s.data(),i=await r.data(),[l,u]=[o.length/a,a],c=Br("bool",l);for(let d=0;d<l;d++){const h=d*u,f=o.subarray(h,h+u),p=[];for(let m=0;m<f.length;m++)p.push({value:f[m],index:m});p.sort((m,y)=>y.value-m.value),c[d]=0;for(let m=0;m<n;m++)if(p[m].index===i[d]){c[d]=1;break}}return t!==s&&s.dispose(),e!==r&&r.dispose(),xo(c,r.shape,"bool")}const Cq=I2t;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N2t(t,e,n,s,r,a="NHWC",o){let i=t;t.rank===3&&(i=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]])),ae(i.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`),ae(l.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`),ae(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const u=a==="NHWC"?i.shape[3]:i.shape[1],c=a==="NHWC"?l.shape[3]:l.shape[1];ae(u===n[2],()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`),ae(c===n[3],()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`),Aa("conv2dDerFilter",r,o);const d={x:i,dy:l},h={strides:s,pad:r,dataFormat:a,dimRoundingMode:o,filterShape:n};return Se.runKernel(Dw,d,h)}const nN=$e({conv2DBackpropFilter_:N2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ox(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Ie(t,_f(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function ix(t,e){let n=e;const s=wr(t.shape,e.shape);return s.length>0&&(n=Xt(n,s)),Ne(n,t.shape)}function lx(t,e,n,s){if(e==="linear")return t;if(e==="relu")return yl(t);if(e==="elu")return Bm(t);if(e==="relu6")return j6(t);if(e==="prelu")return $y(t,n);if(e==="leakyrelu")return _y(t,s);if(e==="sigmoid")return nl(t);throw new Error(`Unknown fused activation ${e}.`)}const ux=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A2t({x:t,filter:e,strides:n,pad:s,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:o,bias:i,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",ux(Se.state.gradientDepth,l)===!1){ae(r==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${r} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let x=Uu(t,e,n,s,r,a,o);return i!=null&&(x=mt(x,i)),lx(x,l,u,c)}const d=ie(t,"x","conv2d","float32"),h=ie(e,"filter","conv2d","float32");let f=d,p=!1;d.rank===3&&(p=!0,f=Ne(d,[1,d.shape[0],d.shape[1],d.shape[2]])),ae(f.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${f.rank}.`),ae(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),Aa("fused conv2d",s,o);const m=r==="NHWC"?f.shape[3]:f.shape[1];ae(h.shape[2]===m,()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${h.shape[2]}.`),ae(oa(n,a),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`);const y=Vr(f.shape,h.shape,n,a,s,o);let v;i!=null&&(v=ie(i,"bias","fused conv2d"),[v]=Xs(v,d),r==="NHWC"?wn(y.outShape,v.shape):(ae(v.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${v.shape.length}.`),ae(v.shape.length===0||v.shape[0]===y.outChannels||v.shape[0]===1,()=>`Error in fused conv2d: bias shape (${v.shape}) is not compatible with the number of output channels (${y.outChannels})`)));let b;if(u!=null){const x=u.shape;if(ae(x.length<=1||x.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${x.length}.`),x.length===1)ae(x[0]===1||x[0]===y.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the number of output channels (${y.outChannels}).`);else if(x.length===3)try{wn(x,y.outShape)}catch{const k=`Error in fused conv2d: PReLU activation weights (${x}) is not compatible with the output shape of the conv2d (${y.outShape}).`;throw Error(k)}b=ie(u,"prelu weights","fused conv2d")}const w=(x,T)=>{ae(r==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${r} but only NHWC is currently supported.`);const[k,N,O,L]=T,V=ox(x,O,l);ae(rd(a),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`);const H=fI(N.shape,V,k,n,s),K=nN(N,V,k.shape,n,s),U=[H,K];if(L!=null){const R=ix(L,V);U.push(R)}return U},_={x:f,filter:h,bias:v,preluActivationWeights:b},C={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:o,activation:l,leakyreluAlpha:c};return i==null?tu((T,k,N)=>{let O=Se.runKernel(v1,_,C);return N([k,T,O]),p&&(O=Ne(O,[O.shape[1],O.shape[2],O.shape[3]])),{value:O,gradFunc:w}})(f,h):tu((T,k,N,O)=>{let L=Se.runKernel(v1,_,C);return O([k,T,L,N]),p&&(L=Ne(L,[L.shape[1],L.shape[2],L.shape[3]])),{value:L,gradFunc:w}})(f,h,v)}const Sq=$e({fusedConv2d_:A2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D2t(t,e,n,s,r,a=[1,1],o){let i=t;t.rank===3&&(i=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let l=e;l.rank===3&&(l=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={x:i,dy:l},c={strides:s,pad:r,dimRoundingMode:o,dilations:a,filterShape:n};return Se.runKernel(Bw,u,c)}const Tq=$e({depthwiseConv2dNativeBackpropFilter_:D2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function O2t(t,e,n,s,r,a=[1,1],o){let i=e,l=!1;e.rank===3&&(l=!0,i=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const u={dy:i,filter:n},c={strides:s,pad:r,dimRoundingMode:o,dilations:a,inputShape:t},d=Se.runKernel(zw,u,c);return l?Ne(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const kq=$e({depthwiseConv2dNativeBackpropInput_:O2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R2t({x:t,filter:e,strides:n,pad:s,dataFormat:r="NHWC",dilations:a=[1,1],dimRoundingMode:o,bias:i,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(ux(Se.state.gradientDepth,l)===!1){let C=Fm(t,e,n,s,r,a,o);return i!=null&&(C=mt(C,i)),lx(C,l,u,c)}const d=ie(t,"x","depthwiseConv2d","float32"),h=ie(e,"filter","depthwiseConv2d","float32");let f=d,p=!1;d.rank===3&&(p=!0,f=Ne(d,[1,d.shape[0],d.shape[1],d.shape[2]])),ae(f.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`),ae(h.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`),ae(f.shape[3]===h.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),a==null&&(a=[1,1]),ae(oa(n,a),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${a}'`),Aa("fused depthwiseConv2d",s,o);const m=Vr(f.shape,h.shape,n,a,s,o,!0);let y;i!=null&&(y=ie(i,"bias","fused conv2d"),[y]=Xs(y,d),wn(m.outShape,y.shape));let v;u!=null&&(v=ie(u,"prelu weights","fused depthwiseConv2d"));const b=(C,x)=>{ae(rd(a),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${a}'`);const[T,k,N,O]=x,L=ox(C,N,l),V=kq(k.shape,L,T,n,s,a,o),H=Tq(k,L,T.shape,n,s,a,o);if(O!=null){const K=ix(y,L);return[V,H,K]}return[V,H]},w={x:f,filter:h,bias:y,preluActivationWeights:v},_={strides:n,pad:s,dataFormat:r,dilations:a,dimRoundingMode:o,activation:l,leakyreluAlpha:c};return i==null?tu((x,T,k)=>{let N=Se.runKernel(y1,w,_);return k([T,x,N]),p&&(N=Ne(N,[N.shape[1],N.shape[2],N.shape[3]])),{value:N,gradFunc:b}})(f,h):tu((x,T,k,N)=>{let O=Se.runKernel(y1,w,_);return N([T,x,O,k]),p&&(O=Ne(O,[O.shape[1],O.shape[2],O.shape[3]])),{value:O,gradFunc:b}})(f,h,y)}const L2t=$e({fusedDepthwiseConv2d_:R2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P2t({a:t,b:e,transposeA:n=!1,transposeB:s=!1,bias:r,activation:a="linear",preluActivationWeights:o,leakyreluAlpha:i=.2}){if(ux(Se.state.gradientDepth,a)===!1){let L=Dn(t,e,n,s);return r!=null&&(L=mt(L,r)),lx(L,a,o,i)}let l=ie(t,"a","fused matMul"),u=ie(e,"b","fused matMul");[l,u]=Xs(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=s?u.shape[u.rank-1]:u.shape[u.rank-2],h=n?l.shape[l.rank-1]:l.shape[l.rank-2],f=s?u.shape[u.rank-2]:u.shape[u.rank-1],p=l.shape.slice(0,-2),m=u.shape.slice(0,-2),y=tt(p),v=tt(m);ae(c===d,()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${s} must match.`);const w=wn(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([h,f]),_=n?Ne(l,[y,c,h]):Ne(l,[y,h,c]),C=s?Ne(u,[v,f,d]):Ne(u,[v,d,f]);let x;r!=null&&(x=ie(r,"bias","fused matMul"),[x]=Xs(x,l),wn(w,x.shape));let T;o!=null&&(T=ie(o,"prelu weights","fused matMul"));const k=(L,V)=>{const[H,K,U,R]=V,W=ox(Ne(L,U.shape),U,a);let G,P;if(!n&&!s?(G=Dn(W,K,!1,!0),P=Dn(H,W,!0,!1)):!n&&s?(G=Dn(W,K,!1,!1),P=Dn(W,H,!0,!1)):n&&!s?(G=Dn(K,W,!1,!0),P=Dn(H,W,!1,!1)):(G=Dn(K,W,!0,!0),P=Dn(W,H,!0,!0)),r!=null){const j=ix(R,W);return[G,P,j]}else return[G,P]},N={a:_,b:C,bias:x,preluActivationWeights:T},O={transposeA:n,transposeB:s,activation:a,leakyreluAlpha:i};return r==null?tu((V,H,K)=>{const U=Se.runKernel(g1,N,O);return K([V,H,U]),{value:Ne(U,w),gradFunc:k}})(_,C):tu((V,H,K,U)=>{const R=Se.runKernel(g1,N,O);return U([V,H,R,K]),{value:Ne(R,w),gradFunc:k}})(_,C,x)}const YT=$e({fusedMatMul_:P2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $q=Object.freeze(Object.defineProperty({__proto__:null,conv2d:Sq,depthwiseConv2d:L2t,matMul:YT},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M2t(t){return ax(t,.54,.46)}const F2t=$e({hammingWindow_:M2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B2t(t){return ax(t,.5,.5)}const Eq=$e({hannWindow_:B2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z2t(t,e,n,s=!1,r=0){let a=0;const o=[];for(;a+e<=t.size;)o.push(jn(t,a,e)),a+=n;if(s)for(;a<t.size;){const i=a+e-t.size,l=rr([jn(t,a,e-i),vf([i],r)]);o.push(l),a+=n}return o.length===0?jc([],[0,e]):Ne(rr(o),[o.length,e])}const Iq=$e({frame_:z2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V2t(t,e,n,s,r=Eq){s==null&&(s=tN(e));const a=Iq(t,e,n),o=Ie(a,r(e));return Dy(o,s)}const H2t=$e({stft_:V2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U2t(t,e,n,s,r="bilinear",a=0){const o=ie(t,"image","cropAndResize"),i=ie(e,"boxes","cropAndResize","float32"),l=ie(n,"boxInd","cropAndResize","int32"),u=i.shape[0];ae(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),ae(i.rank===2&&i.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${i.shape}.`),ae(l.rank===1&&l.shape[0]===u,()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${i.shape}.`),ae(s.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${s.length}.`),ae(s[0]>=1&&s[1]>=1,()=>`cropSize must be atleast [1,1], but was ${s}`),ae(r==="bilinear"||r==="nearest",()=>`method must be bilinear or nearest, but was ${r}`);const c={image:o,boxes:i,boxInd:l},d={method:r,extrapolationValue:a,cropSize:s};return Se.runKernel(Pw,c,d)}const W2t=$e({cropAndResize_:U2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j2t(t){const e=ie(t,"image","flipLeftRight","float32");ae(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return Se.runKernel(qw,n,{})}const G2t=$e({flipLeftRight_:j2t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q2t(t){const e=ie(t,"image","grayscaleToRGB"),n=e.rank-1,s=e.shape[n];ae(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),ae(s===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${s}.`);const r=new Array(e.rank);return r.fill(1,0,n),r[n]=3,Wo(e,r)}const K2t=$e({grayscaleToRGB_:q2t});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X2t(t){const e=ie(t,"image","RGBToGrayscale"),n=e.rank-1,s=e.shape[n];ae(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),ae(s===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${s}.`);const r=e.dtype,a=Nt(e,"float32"),o=Zr([.2989,.587,.114]);let i;switch(e.rank){case 2:i=Zd("ij,j->i",a,o);break;case 3:i=Zd("ijk,k->ij",a,o);break;case 4:i=Zd("ijkl,l->ijk",a,o);break;case 5:i=Zd("ijklm,m->ijkl",a,o);break;case 6:i=Zd("ijklmn,n->ijklm",a,o);break;default:throw new Error("Not a valid tensor rank.")}return i=Kr(i,-1),Nt(i,r)}const Y2t=$e({rgbToGrayscale_:X2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q2t(t,e,n=0,s=.5){const r=ie(t,"image","rotateWithOffset","float32");ae(r.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${r.rank}.`);const a={image:r},o={radians:e,fillValue:n,center:s};return Se.runKernel(I6,a,o)}const Z2t=$e({rotateWithOffset_:Q2t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wm(t,e,n,s,r,a){s==null&&(s=.5),r==null&&(r=Number.NEGATIVE_INFINITY),a==null&&(a=0);const o=t.shape[0];return n=Math.min(n,o),ae(0<=s&&s<=1,()=>`iouThreshold must be in [0, 1], but was '${s}'`),ae(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),ae(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),ae(e.rank===1,()=>"scores must be a 1D tensor"),ae(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),ae(0<=a&&a<=1,()=>`softNmsSigma must be in [0, 1], but was '${a}'`),{maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J2t(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY){const a=ie(t,"boxes","nonMaxSuppression","float32"),o=ie(e,"scores","nonMaxSuppression","float32"),i=Wm(a,o,n,s,r);n=i.maxOutputSize,s=i.iouThreshold,r=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:s,scoreThreshold:r};return Se.runKernel(s6,{boxes:a,scores:o},l)}const e1t=$e({nonMaxSuppression_:J2t});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t1t(t,e,n){const s=n1t(t,e,n),r=s<0?-(s+1):s;t.splice(r,0,e)}function n1t(t,e,n){return r1t(t,e,n||s1t)}function s1t(t,e){return t>e?1:t<e?-1:0}function r1t(t,e,n){let s=0,r=t.length,a=0,o=!1;for(;s<r;){a=s+(r-s>>>1);const i=n(e,t[a]);i>0?s=a+1:(r=a,o=!i)}return o?s:-s-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cx(t,e,n,s,r){return sN(t,e,n,s,r,0)}function dx(t,e,n,s,r,a){return sN(t,e,n,s,r,0,!1,a,!0)}function hx(t,e,n,s,r,a){return sN(t,e,n,s,r,a,!0)}function sN(t,e,n,s,r,a,o=!1,i=!1,l=!1){const u=[];for(let y=0;y<e.length;y++)e[y]>r&&u.push({score:e[y],boxIndex:y,suppressBeginIndex:0});u.sort(cP);const c=a>0?-.5/a:0,d=[],h=[];for(;d.length<n&&u.length>0;){const y=u.pop(),{score:v,boxIndex:b,suppressBeginIndex:w}=y;if(v<r)break;let _=!1;for(let C=d.length-1;C>=w;--C){const x=a1t(t,b,d[C]);if(x>=s){_=!0;break}if(y.score=y.score*o1t(s,c,x),y.score<=r)break}y.suppressBeginIndex=d.length,_||(y.score===v?(d.push(b),h.push(y.score)):y.score>r&&t1t(u,y,cP))}const f=d.length,p=n-f;i&&p>0&&(d.push(...new Array(p).fill(0)),h.push(...new Array(p).fill(0)));const m={selectedIndices:d};return o&&(m.selectedScores=h),l&&(m.validOutputs=f),m}function a1t(t,e,n){const s=t.subarray(e*4,e*4+4),r=t.subarray(n*4,n*4+4),a=Math.min(s[0],s[2]),o=Math.min(s[1],s[3]),i=Math.max(s[0],s[2]),l=Math.max(s[1],s[3]),u=Math.min(r[0],r[2]),c=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),f=(i-a)*(l-o),p=(d-u)*(h-c);if(f<=0||p<=0)return 0;const m=Math.max(a,u),y=Math.max(o,c),v=Math.min(i,d),b=Math.min(l,h),w=Math.max(v-m,0)*Math.max(b-y,0);return w/(f+p-w)}function o1t(t,e,n){const s=Math.exp(e*n*n);return n<=t?s:0}function cP(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function i1t(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY){const a=ie(t,"boxes","nonMaxSuppressionAsync"),o=ie(e,"scores","nonMaxSuppressionAsync"),i=Wm(a,o,n,s,r);n=i.maxOutputSize,s=i.iouThreshold,r=i.scoreThreshold;const l=await Promise.all([a.data(),o.data()]),u=l[0],c=l[1],{selectedIndices:d}=cx(u,c,n,s,r);return a!==t&&a.dispose(),o!==e&&o.dispose(),Zr(d,"int32")}const l1t=i1t;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u1t(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,a=0){const o=ie(t,"boxes","nonMaxSuppression"),i=ie(e,"scores","nonMaxSuppression"),l=Wm(o,i,n,s,r,a);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,a=l.softNmsSigma;const u={boxes:o,scores:i},c={maxOutputSize:n,iouThreshold:s,scoreThreshold:r,softNmsSigma:a},d=Se.runKernel(a6,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}const c1t=$e({nonMaxSuppressionWithScore_:u1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function d1t(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,a=0){const o=ie(t,"boxes","nonMaxSuppressionAsync"),i=ie(e,"scores","nonMaxSuppressionAsync"),l=Wm(o,i,n,s,r,a);n=l.maxOutputSize,s=l.iouThreshold,r=l.scoreThreshold,a=l.softNmsSigma;const u=await Promise.all([o.data(),i.data()]),c=u[0],d=u[1],{selectedIndices:h,selectedScores:f}=hx(c,d,n,s,r,a);return o!==t&&o.dispose(),i!==e&&i.dispose(),{selectedIndices:Zr(h,"int32"),selectedScores:Zr(f)}}const h1t=d1t;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f1t(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,a=!1){const o=ie(t,"boxes","nonMaxSuppression"),i=ie(e,"scores","nonMaxSuppression"),l=Wm(o,i,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,h={boxes:o,scores:i},f={maxOutputSize:u,iouThreshold:c,scoreThreshold:d,padToMaxOutputSize:a},p=Se.runKernel(r6,h,f);return{selectedIndices:p[0],validOutputs:p[1]}}const p1t=$e({nonMaxSuppressionPadded_:f1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function m1t(t,e,n,s=.5,r=Number.NEGATIVE_INFINITY,a=!1){const o=ie(t,"boxes","nonMaxSuppressionAsync"),i=ie(e,"scores","nonMaxSuppressionAsync"),l=Wm(o,i,n,s,r,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[h,f]=await Promise.all([o.data(),i.data()]),{selectedIndices:p,validOutputs:m}=dx(h,f,u,c,d,a);return o!==t&&o.dispose(),i!==e&&i.dispose(),{selectedIndices:Zr(p,"int32"),validOutputs:on(m,"int32")}}const g1t=m1t;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v1t(t,e,n=!1,s=!1){const r=ie(t,"images","resizeBilinear");ae(r.rank===3||r.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${r.rank}.`),ae(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),ae(s===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let a=r,o=!1;r.rank===3&&(o=!0,a=Ne(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const i={images:a},l={alignCorners:n,halfPixelCenters:s,size:e},u=Se.runKernel(ty,i,l);return o?Ne(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Nq=$e({resizeBilinear_:v1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y1t(t,e,n=!1,s=!1){const r=ie(t,"images","resizeNearestNeighbor");ae(r.rank===3||r.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${r.rank}.`),ae(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),ae(r.dtype==="float32"||r.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),ae(s===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let a=r,o=!1;r.rank===3&&(o=!0,a=Ne(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const i={images:a},l={alignCorners:n,halfPixelCenters:s,size:e},u=Se.runKernel(ey,i,l);return o?Ne(u,[u.shape[1],u.shape[2],u.shape[3]]):u}const Aq=$e({resizeNearestNeighbor_:y1t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b1t(t,e="binary",n=!1,s=.5){const r=ie(t,"image","threshold"),a=.2989,o=.587,i=.114,l=r.shape[0]*r.shape[1];let u=Ie(Zr([s]),255),c,d,h,f;if(ae(r.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${r.rank}.`),ae(r.shape[2]===3||r.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${r.shape[2]}.`),ae(r.dtype==="int32"||r.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${r.dtype}.`),ae(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),r.shape[2]===3){[c,d,h]=Ka(r,[1,1,1],-1);const y=Ie(c,a),v=Ie(d,o),b=Ie(h,i);f=mt(mt(y,v),b)}else f=t;if(e==="otsu"){const y=iI(Nt(G6(f),"int32"),xo([]),256);u=_1t(y,l)}const p=n?Sd(f,u):Da(f,u);return Nt(Ie(p,255),"int32")}function _1t(t,e){let n=Zr([-1]),s=Zr([0]),r=Zr([0]),a,o,i,l,u,c;for(let d=0;d<t.size-1;d++){a=jn(t,0,d+1),o=jn(t,d+1),u=tn(Xt(a),e),c=tn(Xt(o),e);const h=Xt(Ie(a,jh(0,a.size)));i=tn(h,Xt(a));const f=vf(o.shape,a.size),p=mt(jh(0,o.size),f),m=Ie(o,p);l=tn(Xt(m),Xt(o));const y=jt(i,l),v=jt(i,l),b=Ie(u,c);r=Ie(Ie(b,y),v);const w=Da(r,s);s=Pr(w,r,s),n=Pr(w,Zr([d]),n)}return n}const w1t=$e({threshold_:b1t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x1t(t,e,n="nearest",s="constant",r=0,a){const o=ie(t,"image","transform","float32"),i=ie(e,"transforms","transform","float32");ae(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),ae(i.rank===2&&(i.shape[0]===o.shape[0]||i.shape[0]===1)&&i.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),ae(a==null||a.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${a}.`);const l={image:o,transforms:i},u={interpolation:n,fillMode:s,fillValue:r,outputShape:a};return Se.runKernel($6,l,u)}const C1t=$e({transform_:x1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S1t(t,e,n){const s=ie(t,"a","bandPart");ae(s.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${s.rank}.`);const r=s.shape,[a,o]=s.shape.slice(-2);let i,l;typeof e=="number"?(ae(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),ae(e<=a,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${a}).`),i=ie(e<0?a:e,"numLower","bandPart")):(ae(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),i=Pr(l0(e,0),a,ad(e,a))),typeof n=="number"?(ae(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),ae(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),l=ie(n<0?o:n,"numUpper","bandPart")):(ae(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),l=Pr(l0(n,0),o,ad(n,o)));const u=Ne(jh(0,a,1,"int32"),[-1,1]),c=jh(0,o,1,"int32"),d=jt(u,c),h=Oi(Sd(d,i),ic(d,bs(l))),f=mr([a,o],s.dtype);return Ne(Ea(Jo(Ne(s,[-1,a,o])).map(p=>Pr(h,p,f))),r)}const T1t=$e({bandPart_:S1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k1t(t){let e;if(Array.isArray(t)){e=!1,ae(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const r=t[0].shape[0];for(let a=1;a<t.length;++a)ae(t[a].shape[0]===r,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[a].shape[0]} vs. ${r})`)}else e=!0,t=Ka(t,t.shape[0],0).map(r=>kd(r,[0]));ae(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],s=t;for(let r=0;r<t.length;++r)n.push(Se.tidy(()=>{let a=s[r];if(r>0)for(let o=0;o<r;++o){const i=Ie(Xt(Ie(n[o],a)),n[o]);a=jt(a,i)}return tn(a,zm(a,"euclidean"))}));return e?Ea(n,0):n}const $1t=$e({gramSchmidt_:k1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E1t(t,e=!1){if(ae(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return dP(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((l,u)=>l*u),s=Jo(Ne(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),r=[],a=[];s.forEach(l=>{const[u,c]=dP(l,e);r.push(u),a.push(c)});const o=Ne(Ea(r,0),t.shape),i=Ne(Ea(a,0),t.shape);return[o,i]}}function dP(t,e=!1){return Se.tidy(()=>{ae(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],s=t.shape[1];let r=B6(n),a=zl(t);const o=jc([[1]],[1,1]);let i=zl(o);const l=n>=s?s:n;for(let u=0;u<l;++u){const c=a,d=i,h=r;[i,a,r]=Se.tidy(()=>{const f=jn(a,[u,u],[n-u,1]),p=zm(f),m=jn(a,[u,u],[1,1]),y=Pr(Da(m,0),jc([[-1]]),jc([[1]])),v=jt(m,Ie(y,p)),b=tn(f,v);b.shape[0]===1?i=zl(o):i=rr([o,jn(b,[1,0],[b.shape[0]-1,b.shape[1]])],0);const w=bs(tn(Dn(y,v),p)),_=jn(a,[u,0],[n-u,s]),C=Ie(w,i),x=Un(i);if(u===0)a=jt(_,Dn(C,Dn(x,_)));else{const N=jt(_,Dn(C,Dn(x,_)));a=rr([jn(a,[0,0],[u,s]),N],0)}const T=Un(C),k=jn(r,[0,u],[n,r.shape[1]-u]);if(u===0)r=jt(k,Dn(Dn(k,i),T));else{const N=jt(k,Dn(Dn(k,i),T));r=rr([jn(r,[0,0],[n,u]),N],1)}return[i,a,r]}),vn([c,d,h])}return!e&&n>s&&(r=jn(r,[0,0],[n,s]),a=jn(a,[0,0],[s,s])),[r,a]})}const I1t=$e({qr_:E1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var xa;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(xa||(xa={}));function N1t(t,e,n=xa.SUM_BY_NONZERO_WEIGHTS){const s=ie(t,"losses","computeWeightedLoss");let r=null;e!=null&&(r=ie(e,"weights","computeWeightedLoss"));const a=r==null?s:Ie(s,r);if(n===xa.NONE)return a;if(n===xa.SUM)return Xt(a);if(n===xa.MEAN){if(r==null)return qs(a);{const o=s.size/r.size,i=tn(Xt(a),Xt(r));return o>1?tn(i,on(o)):i}}if(n===xa.SUM_BY_NONZERO_WEIGHTS){if(r==null)return tn(Xt(a),on(s.size));{const o=Ie(r,Wa(s.shape)),i=Nt(Xt(Wh(o,on(0))),"float32");return tn(Xt(a),i)}}throw Error(`Unknown reduction: ${n}`)}const uc=$e({computeWeightedLoss_:N1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A1t(t,e,n,s=xa.SUM_BY_NONZERO_WEIGHTS){const r=ie(t,"labels","absoluteDifference"),a=ie(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=ie(n,"weights","absoluteDifference")),aa(r.shape,a.shape,"Error in absoluteDifference: ");const i=fr(jt(r,a));return uc(i,o,s)}const D1t=$e({absoluteDifference_:A1t});function O1t(t,e,n,s,r=xa.SUM_BY_NONZERO_WEIGHTS){const a=ie(t,"labels","cosineDistance"),o=ie(e,"predictions","cosineDistance");let i=null;s!=null&&(i=ie(s,"weights","cosineDistance")),aa(a.shape,o.shape,"Error in cosineDistance: ");const l=on(1),u=jt(l,Xt(Ie(a,o),n,!0));return uc(u,i,r)}const R1t=$e({cosineDistance_:O1t});function L1t(t,e,n,s=xa.SUM_BY_NONZERO_WEIGHTS){let r=ie(t,"labels","hingeLoss");const a=ie(e,"predictions","hingeLoss");let o=null;n!=null&&(o=ie(n,"weights","hingeLoss")),aa(r.shape,a.shape,"Error in hingeLoss: ");const i=on(1);r=jt(Ie(on(2),r),i);const l=yl(jt(i,Ie(r,a)));return uc(l,o,s)}const P1t=$e({hingeLoss_:L1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M1t(t,e,n,s=1,r=xa.SUM_BY_NONZERO_WEIGHTS){const a=ie(t,"labels","huberLoss"),o=ie(e,"predictions","huberLoss");let i=null;n!=null&&(i=ie(n,"weights","huberLoss")),aa(a.shape,o.shape,"Error in huberLoss: ");const l=on(s),u=fr(jt(o,a)),c=ad(u,l),d=jt(u,c),h=mt(Ie(on(.5),is(c)),Ie(l,d));return uc(h,i,r)}const F1t=$e({huberLoss_:M1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B1t(t,e,n,s=1e-7,r=xa.SUM_BY_NONZERO_WEIGHTS){const a=ie(t,"labels","logLoss"),o=ie(e,"predictions","logLoss");let i=null;n!=null&&(i=ie(n,"weights","logLoss")),aa(a.shape,o.shape,"Error in logLoss: ");const l=on(1),u=on(s),c=bs(Ie(a,ko(mt(o,u)))),d=Ie(jt(l,a),ko(mt(jt(l,o),u))),h=jt(c,d);return uc(h,i,r)}const z1t=$e({logLoss_:B1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function V1t(t,e,n,s=xa.SUM_BY_NONZERO_WEIGHTS){const r=ie(t,"labels","meanSquaredError"),a=ie(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=ie(n,"weights","meanSquaredError")),aa(r.shape,a.shape,"Error in meanSquaredError: ");const i=ex(r,a);return uc(i,o,s)}const H1t=$e({meanSquaredError_:V1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U1t(t,e){const n=ie(t,"labels","sigmoidCrossEntropyWithLogits"),s=ie(e,"logits","sigmoidCrossEntropyWithLogits");aa(n.shape,s.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=yl(s),a=Ie(s,n),o=wy(no(bs(fr(s))));return mt(jt(r,a),o)}function W1t(t,e,n,s=0,r=xa.SUM_BY_NONZERO_WEIGHTS){let a=ie(t,"multiClassLabels","sigmoidCrossEntropy");const o=ie(e,"logits","sigmoidCrossEntropy");let i=null;if(n!=null&&(i=ie(n,"weights","sigmoidCrossEntropy")),aa(a.shape,o.shape,"Error in sigmoidCrossEntropy: "),s>0){const u=on(s),c=on(1),d=on(.5);a=mt(Ie(a,jt(c,u)),Ie(d,u))}const l=U1t(a,o);return uc(l,i,r)}const j1t=$e({sigmoidCrossEntropy_:W1t});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G1t(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return tu((r,a,o)=>{const l=xy(a,[n],!0),u=jt(Nt(a,"float32"),l);o([r,u]);const c=bs(Ie(u,r));return{value:Xt(c,[n]),gradFunc:(f,p)=>{const[m,y]=p,v=ir(f.shape,[n]);return[Ie(Ne(f,v),jt(Nt(m,"float32"),no(y))),Ie(Ne(f,v),jt(no(y),Nt(m,"float32")))]}}})(t,e)}function q1t(t,e,n,s=0,r=xa.SUM_BY_NONZERO_WEIGHTS){let a=ie(t,"onehotLabels","softmaxCrossEntropy");const o=ie(e,"logits","softmaxCrossEntropy");let i=null;if(n!=null&&(i=ie(n,"weights","softmaxCrossEntropy")),aa(a.shape,o.shape,"Error in softmaxCrossEntropy: "),s>0){const u=on(s),c=on(1),d=on(a.shape[1]);a=mt(Ie(a,jt(c,u)),tn(u,d))}const l=G1t(a,o);return uc(l,i,r)}const K1t=$e({softmaxCrossEntropy_:q1t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X1t(t,e,n,s){const r=ie(t,"indices","sparseFillEmptyRows","int32"),a=ie(e,"values","sparseFillEmptyRows"),o=ie(n,"denseShape","sparseFillEmptyRows","int32"),i=ie(s,"defaultValue","sparseFillEmptyRows",a.dtype);if(r.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${r.shape}`);if(a.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${a.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(i.rank!==0)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const l={indices:r,values:a,denseShape:o,defaultValue:i},u=Se.runKernel(g6,l);return{outputIndices:u[0],outputValues:u[1],emptyRowIndicator:u[2],reverseIndexMap:u[3]}}const Y1t=$e({sparseFillEmptyRows_:X1t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q1t(t,e,n){const s=ie(t,"inputIndices","sparseReshape","int32"),r=ie(e,"inputShape","sparseReshape","int32"),a=ie(n,"newShape","sparseReshape","int32");if(s.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${s.shape}`);if(r.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${r.shape}`);if(a.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${a.shape}`);const o={inputIndices:s,inputShape:r,newShape:a},i=Se.runKernel(v6,o);return{outputIndices:i[0],outputShape:i[1]}}const Z1t=$e({sparseReshape_:Q1t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J1t(t,e,n){const s=ie(t,"data","sparseSegmentMean"),r=ie(e,"indices","sparseSegmentMean","int32"),a=ie(n,"segmentIds","sparseSegmentMean","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${r.shape}`);if(a.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${a.shape}`);const o={data:s,indices:r,segmentIds:a};return Se.runKernel(y6,o)}const evt=$e({sparseSegmentMean_:J1t});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tvt(t,e,n){const s=ie(t,"data","sparseSegmentSum"),r=ie(e,"indices","sparseSegmentSum","int32"),a=ie(n,"segmentIds","sparseSegmentSum","int32");if(s.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${r.shape}`);if(a.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${a.shape}`);const o={data:s,indices:r,segmentIds:a};return Se.runKernel(b6,o)}const nvt=$e({sparseSegmentSum_:tvt});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function svt(t,e,n,s,r,a,o,i){const l=ie(t,"data","stringNGrams","string");if(l.dtype!=="string")throw new Error("Data must be of datatype string");if(l.shape.length!==1)throw new Error(`Data must be a vector, saw: ${l.shape}`);const u=ie(e,"dataSplits","stringNGrams");if(u.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const c={separator:n,nGramWidths:s,leftPad:r,rightPad:a,padWidth:o,preserveShortSequences:i},d={data:l,dataSplits:u},h=Se.runKernel(C6,d,c);return{nGrams:h[0],nGramsSplits:h[1]}}const rvt=$e({stringNGrams_:svt});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function avt(t,e,n=!0){const s=ie(t,"input","stringSplit","string"),r=ie(e,"delimiter","stringSplit","string");if(s.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${s.shape}`);if(r.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${r.shape}`);const a={skipEmpty:n},o={input:s,delimiter:r},i=Se.runKernel(S6,o,a);return{indices:i[0],values:i[1],shape:i[2]}}const ovt=$e({stringSplit_:avt});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ivt(t,e){const n=ie(t,"input","stringToHashBucketFast","string"),s={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return Se.runKernel(T6,r,s)}const lvt=$e({stringToHashBucketFast_:ivt});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uvt(t,e,n,s=!0){const r=ie(t,"input","staticRegexReplace","string"),a={pattern:e,rewrite:n,replaceGlobal:s};return Se.runKernel(uy,{x:r},a)}const cvt=$e({staticRegexReplace_:uvt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dq={fft:Ay,ifft:h0,rfft:Dy,irfft:J6},Oq={hammingWindow:F2t,hannWindow:Eq,frame:Iq,stft:H2t},Ci={flipLeftRight:G2t,grayscaleToRGB:K2t,resizeNearestNeighbor:Aq,resizeBilinear:Nq,rgbToGrayscale:Y2t,rotateWithOffset:Z2t,cropAndResize:W2t,nonMaxSuppression:e1t,nonMaxSuppressionAsync:l1t,nonMaxSuppressionWithScore:c1t,nonMaxSuppressionWithScoreAsync:h1t,nonMaxSuppressionPadded:p1t,nonMaxSuppressionPaddedAsync:g1t,threshold:w1t,transform:C1t},rN={bandPart:T1t,gramSchmidt:$1t,qr:I1t},Rq={absoluteDifference:D1t,computeWeightedLoss:uc,cosineDistance:R1t,hingeLoss:P1t,huberLoss:F1t,logLoss:z1t,meanSquaredError:H1t,sigmoidCrossEntropy:j1t,softmaxCrossEntropy:K1t},Lq={sparseFillEmptyRows:Y1t,sparseReshape:Z1t,sparseSegmentMean:evt,sparseSegmentSum:nvt},Pq={stringNGrams:rvt,stringSplit:ovt,stringToHashBucketFast:lvt,staticRegexReplace:cvt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dvt=new Map,QT=new Map;class wf{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class Vo{constructor(){this.classNameMap={}}static getMap(){return Vo.instance==null&&(Vo.instance=new Vo),Vo.instance}static register(e){Vo.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function bt(t,e,n){ae(t.className!=null,()=>"Class being registered does not have the static className property defined."),ae(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),ae(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const s=n,r=e+">"+s;return Vo.register(t),dvt.set(r,t),QT.set(t,r),t}function hvt(t){return QT.has(t)?QT.get(t):t.className}const fvt=Object.freeze(Object.defineProperty({__proto__:null,Serializable:wf,SerializationMap:Vo,getRegisteredName:hvt,registerClass:bt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cc extends wf{minimize(e,n=!1,s){const{value:r,grads:a}=this.computeGradients(e,s);if(s!=null){const o=s.map(i=>({name:i.name,tensor:a[i.name]}));this.applyGradients(o)}else this.applyGradients(a);return vn(a),n?r:(r.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return zG(e,n)}dispose(){this.iterations_!=null&&vn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:on(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(cc,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aN extends cc{static get className(){return"Adadelta"}constructor(e,n,s=null){super(),this.learningRate=e,this.rho=n,this.epsilon=s,this.accumulatedGrads=[],this.accumulatedUpdates=[],s==null&&(this.epsilon=Se.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const a=Se.registeredVariables[s],o=!1;this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${s}/accum_grad`,variable:Ve(()=>qn(a).variable(o))}),this.accumulatedUpdates[r]==null&&(this.accumulatedUpdates[r]={originalName:`${s}/accum_var`,variable:Ve(()=>qn(a).variable(o))});const i=Array.isArray(e)?e[r].tensor:e[s];if(i==null)return;const l=this.accumulatedGrads[r].variable,u=this.accumulatedUpdates[r].variable;Ve(()=>{const c=mt(Ie(l,this.rho),Ie(is(i),1-this.rho)),d=Ie(tn(ta(mt(u,this.epsilon)),ta(mt(l,this.epsilon))),i),h=mt(Ie(u,this.rho),Ie(is(d),1-this.rho));l.assign(c),u.assign(h);const f=mt(Ie(d,-this.learningRate),a);a.assign(f)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(vn(this.accumulatedGrads.map(e=>e.variable)),vn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,s=!1;this.accumulatedGrads=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedUpdates=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oN extends cc{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const a=Se.registeredVariables[s];this.accumulatedGrads[r]==null&&(this.accumulatedGrads[r]={originalName:`${s}/accumulator`,variable:Ve(()=>vf(a.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[r].tensor:e[s];if(o==null)return;const i=this.accumulatedGrads[r].variable;Ve(()=>{const l=mt(i,is(o));i.assign(l);const u=mt(Ie(tn(o,ta(mt(l,Se.backend.epsilon()))),-this.learningRate),a);a.assign(u)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&vn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(s=>({originalName:s.name,variable:s.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iN extends cc{static get className(){return"Adam"}constructor(e,n,s,r=null){super(),this.learningRate=e,this.beta1=n,this.beta2=s,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ve(()=>{this.accBeta1=on(n).variable(),this.accBeta2=on(s).variable()}),r==null&&(this.epsilon=Se.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);Ve(()=>{const s=jt(1,this.accBeta1),r=jt(1,this.accBeta2);n.forEach((a,o)=>{const i=Se.registeredVariables[a],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${a}/m`,variable:Ve(()=>qn(i).variable(l))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${a}/v`,variable:Ve(()=>qn(i).variable(l))});const u=Array.isArray(e)?e[o].tensor:e[a];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,d=this.accumulatedSecondMoment[o].variable,h=mt(Ie(c,this.beta1),Ie(u,1-this.beta1)),f=mt(Ie(d,this.beta2),Ie(is(u),1-this.beta2)),p=tn(h,s),m=tn(f,r);c.assign(h),d.assign(f);const y=mt(Ie(tn(p,mt(ta(m),this.epsilon)),-this.learningRate),i);i.assign(y)}),this.accBeta1.assign(Ie(this.accBeta1,this.beta1)),this.accBeta2.assign(Ie(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&vn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&vn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),Ve(()=>{this.accBeta1.assign(Wu(this.beta1,this.iterations_+1)),this.accBeta2.assign(Wu(this.beta2,this.iterations_+1))});const n=e.length/2,s=!1;this.accumulatedFirstMoment=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lN extends cc{static get className(){return"Adamax"}constructor(e,n,s,r=null,a=0){super(),this.learningRate=e,this.beta1=n,this.beta2=s,this.epsilon=r,this.decay=a,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ve(()=>{this.iteration=on(0).variable(),this.accBeta1=on(n).variable()}),r==null&&(this.epsilon=Se.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(s=>s.name):Object.keys(e);Ve(()=>{const s=jt(1,this.accBeta1),r=tn(-this.learningRate,mt(Ie(this.iteration,this.decay),1));n.forEach((a,o)=>{const i=Se.registeredVariables[a],l=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${a}/m`,variable:qn(i).variable(l)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${a}/v`,variable:qn(i).variable(l)});const u=Array.isArray(e)?e[o].tensor:e[a];if(u==null)return;const c=this.accumulatedFirstMoment[o].variable,d=this.accumulatedWeightedInfNorm[o].variable,h=mt(Ie(c,this.beta1),Ie(u,1-this.beta1)),f=Ie(d,this.beta2),p=fr(u),m=du(f,p);c.assign(h),d.assign(m);const y=mt(Ie(tn(r,s),tn(h,mt(m,this.epsilon))),i);i.assign(y)}),this.iteration.assign(mt(this.iteration,1)),this.accBeta1.assign(Ie(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&vn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&vn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fx extends cc{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const a=Array.isArray(e)?e[r].tensor:e[s];if(a==null)return;const o=Se.registeredVariables[s];Ve(()=>{const i=mt(Ie(this.c,a),o);o.assign(i)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Tr(on(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class uN extends fx{static get className(){return"Momentum"}constructor(e,n,s=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=s,this.accumulations=[],this.m=on(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const a=Se.registeredVariables[s];this.accumulations[r]==null&&(this.accumulations[r]={originalName:`${s}/momentum`,variable:Ve(()=>qn(a).variable(!1))});const o=this.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[s];i!=null&&Ve(()=>{let l;const u=mt(Ie(this.m,o),i);this.useNesterov?l=mt(Ie(this.c,mt(i,Ie(u,this.m))),a):l=mt(Ie(this.c,u),a),o.assign(u),a.assign(l)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&vn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(s=>({originalName:s.name,variable:s.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cN extends cc{static get className(){return"RMSProp"}constructor(e,n=.9,s=0,r=null,a=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=s,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=a,r==null&&(this.epsilon=Se.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(s=>s.name):Object.keys(e)).forEach((s,r)=>{const a=Se.registeredVariables[s],o=!1;this.accumulatedMeanSquares[r]==null&&(this.accumulatedMeanSquares[r]={originalName:`${s}/rms`,variable:Ve(()=>qn(a).variable(o))}),this.accumulatedMoments[r]==null&&(this.accumulatedMoments[r]={originalName:`${s}/momentum`,variable:Ve(()=>qn(a).variable(o))}),this.accumulatedMeanGrads[r]==null&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${s}/mg`,variable:Ve(()=>qn(a).variable(o))});const i=Array.isArray(e)?e[r].tensor:e[s];if(i==null)return;const l=this.accumulatedMeanSquares[r].variable,u=this.accumulatedMoments[r].variable;Ve(()=>{const c=mt(Ie(l,this.decay),Ie(is(i),1-this.decay));if(this.centered){const d=this.accumulatedMeanGrads[r].variable,h=mt(Ie(d,this.decay),Ie(i,1-this.decay)),f=tn(Ie(i,this.learningRate),ta(jt(c,mt(is(h),this.epsilon)))),p=mt(Ie(u,this.momentum),f);l.assign(c),d.assign(h),u.assign(p);const m=jt(a,p);a.assign(m)}else{const d=mt(Ie(l,this.decay),Ie(is(i),1-this.decay)),h=mt(Ie(u,this.momentum),tn(Ie(i,this.learningRate),ta(mt(d,this.epsilon))));l.assign(d),u.assign(h);const f=jt(a,h);a.assign(f)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&vn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&vn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&vn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,s=!1;this.accumulatedMeanSquares=e.slice(0,n).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.accumulatedMoments=e.slice(n,n*2).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(r=>({originalName:r.name,variable:r.tensor.variable(s)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pvt=[aN,oN,iN,lN,uN,cN,fx];function mvt(){for(const t of pvt)bt(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gvt="model",vvt=".json",yvt=".weights.bin";function hP(t){return new Promise(e=>setTimeout(e)).then(t)}class Gh{constructor(e){if(!ze().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Gh.URL_SCHEME)&&(e=e.slice(Gh.URL_SCHEME.length)),(e==null||e.length===0)&&(e=gvt),this.modelJsonFileName=e+vvt,this.weightDataFileName=e+yvt}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=vl.join(e.weightData),s=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a=bG(e,r),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),i=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=o,await hP(()=>i.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const l=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;l.download=this.weightDataFileName,l.href=s,await hP(()=>l.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:py(e)}}}}Gh.URL_SCHEME="downloads://";class bvt{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const s=new FileReader;s.onload=r=>{const a=JSON.parse(r.target.result),o=a.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(a.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const l=WE(a,u=>this.loadWeights(u));e(l)},s.onerror=r=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),s.readAsText(this.jsonFile)})}loadWeights(e){const n=[],s=[];for(const o of e)n.push(...o.weights),s.push(...o.paths);const r=this.checkManifestAndWeightFiles(e),a=s.map(o=>this.loadWeightsFile(o,r[o]));return Promise.all(a).then(o=>[n,o])}loadWeightsFile(e,n){return new Promise((s,r)=>{const a=new FileReader;a.onload=o=>{const i=o.target.result;s(i)},a.onerror=o=>r(`Failed to weights data from file of path '${e}'.`),a.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],s=this.weightsFiles.map(a=>uP(a.name)),r={};for(const a of e)a.paths.forEach(o=>{const i=uP(o);if(n.indexOf(i)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(n.push(i),s.indexOf(i)===-1)throw new Error(`Weight file with basename '${i}' is not provided.`);r[o]=this.weightsFiles[s.indexOf(i)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}const _vt=t=>ze().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Gh.URL_SCHEME)?wvt(t.slice(Gh.URL_SCHEME.length)):null;Ws.registerSaveRouter(_vt);function wvt(t="model"){return new Gh(t)}function xvt(t){return new bvt(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fP(t,e,n,s){o(t),n=n??0,s=s??1,i(n,s);let r=0;const a=l=>(l.then(u=>{const c=n+ ++r/t.length*(s-n);return e(c),u}),l);function o(l){ae(l!=null&&Array.isArray(l)&&l.length>0,()=>"promises must be a none empty array")}function i(l,u){ae(l>=0&&l<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${l}`),ae(u>=0&&u<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${u}`),ae(u>=l,()=>`startFraction must be no more than endFraction, but got startFraction ${l} and endFraction ${u}`)}return Promise.all(t.map(a))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function Mq(t,e){e==null&&(e={});const n=e.fetchFunc==null?ze().platform.fetch:e.fetchFunc,s=t.map(d=>n(d,e.requestInit,{isBinary:!0})),i=(e.onProgress==null?await Promise.all(s):await fP(s,e.onProgress,0,.5)).map(d=>d.arrayBuffer());return e.onProgress==null?await Promise.all(i):await fP(i,e.onProgress,.5,1)}async function Fq(t,e="",n,s){return Bq(o=>Mq(o,{requestInit:s}))(t,e,n)}function Bq(t){return async(e,n="",s)=>{const r=e.map(()=>!1),a={},o=s!=null?s.map(()=>!1):[],i=[];if(e.forEach((f,p)=>{let m=0;f.weights.forEach(y=>{const v="quantization"in y?y.quantization.dtype:y.dtype,b=UT[v]*tt(y.shape),w=()=>{r[p]=!0,a[p]==null&&(a[p]=[]),a[p].push({manifestEntry:y,groupOffset:m,sizeBytes:b})};s!=null?s.forEach((_,C)=>{_===y.name&&(w(),o[C]=!0)}):w(),i.push(y.name),m+=b})}),!o.every(f=>f)){const f=s.filter((p,m)=>!o[m]);throw new Error(`Could not find weights in manifest with names: ${f.join(", ")}. 
Manifest JSON has weights with names: ${i.join(", ")}.`)}const l=r.reduce((f,p,m)=>(p&&f.push(m),f),[]),u=[];l.forEach(f=>{e[f].paths.forEach(p=>{const m=n+(n.endsWith("/")?"":"/")+p;u.push(m)})});const c=await t(u),d={};let h=0;return l.forEach(f=>{const p=e[f].paths.length,m=new vl(c.slice(h,h+p));a[f].forEach(v=>{const b=m.slice(v.groupOffset,v.groupOffset+v.sizeBytes),w=VE(b,[v.manifestEntry]);for(const _ in w)d[_]=w[_]}),h+=p}),d}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cvt="application/octet-stream",Svt="application/json";class dN{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(ae(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=ze().platform.fetch,ae(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&ae(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const s=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=bG(e,s);if(n.body.append("model.json",new Blob([JSON.stringify(r)],{type:Svt}),"model.json"),e.weightData!=null){const o=vl.join(e.weightData);n.body.append("model.weights.bin",new Blob([o],{type:Cvt}),"model.weights.bin")}const a=await this.fetch(this.path,n);if(a.ok)return{modelArtifactsInfo:py(e),responses:[a]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${a.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const s=n.modelTopology,r=n.weightsManifest;if(s==null&&r==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return WE(n,a=>this.loadWeights(a))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[s,r]=Tvt(n),a=this.weightPathPrefix||s,o=jE(e),i=[],l=[];for(const c of e)for(const d of c.paths)this.weightUrlConverter!=null?l.push(this.weightUrlConverter(d)):i.push(a+d+r);this.weightUrlConverter&&i.push(...await Promise.all(l));const u=await Mq(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,u]}}dN.URL_SCHEME_REGEX=/^https?:\/\//;function Tvt(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),s=t.substring(0,e),r=n>e?t.substring(n):"";return[s+"/",r]}function ZT(t){return t.match(dN.URL_SCHEME_REGEX)!=null}const zq=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(s=>ZT(s)):n=ZT(t),n)return hN(t,e)}return null};Ws.registerSaveRouter(zq);Ws.registerLoadRouter(zq);function hN(t,e){return new dN(t,e)}function Vq(t,e){return hN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xC{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Hq{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class kvt{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function $vt(t,e,n,s){const r=arguments;return new kvt(M3(...r))}function M3(t,e,n,s){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new xC(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new xC({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new xC({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:s}))}function Evt(t){return new Hq(t)}function Ivt(t){return new Hq(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fN=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:vl,browserFiles:xvt,browserHTTPRequest:Vq,concatenateArrayBuffers:yG,copyModel:Qft,decodeWeights:VE,encodeWeights:WT,fromMemory:$vt,fromMemorySync:M3,getLoadHandlers:wG,getModelArtifactsForJSON:WE,getModelArtifactsForJSONSync:UE,getModelArtifactsInfoForJSON:py,getSaveHandlers:_G,getWeightSpecs:jE,http:hN,isHTTPScheme:ZT,listModels:Xft,loadWeights:Fq,moveModel:Zft,registerLoadRouter:Mft,registerSaveRouter:Pft,removeModel:Yft,weightsLoaderFactory:Bq,withSaveHandler:Evt,withSaveHandlerSync:Ivt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nvt(t,e,n){const s=ie(t,"labels","confusionMatrix"),r=ie(e,"predictions","confusionMatrix");ae(n==null||n>0&&Number.isInteger(n),()=>`If provided, numClasses must be a positive integer, but got ${n}`),ae(s.rank===1,()=>`Expected the rank of labels to be 1, but got ${s.rank}`),ae(r.rank===1,()=>`Expected the rank of predictions to be 1, but got ${r.rank}`),ae(s.shape[0]===r.shape[0],()=>`Mismatch in the number of examples: ${s.shape[0]} vs. ${r.shape[0]}. Labels and predictions should have the same number of elements.`),ae(n>0&&Number.isInteger(n),()=>`numClasses is required to be a positive integer, but got ${n}`);const a=u0(Nt(s,"int32"),n),o=u0(Nt(r,"int32"),n),i=Un(a),l=Dn(i,o);return Nt(l,"int32")}const Avt=$e({confusionMatrix_:Nvt});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dvt=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:Avt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Bd,pP=!1;function Uq(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,s=!1,r=!1,a=!1,o=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)s=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)r=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)a=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)i=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(_1(A3,Se.backendName)!=null){const p={pixels:t},m={numChannels:e};return Se.runKernel(A3,p,m)}const[u,c]=r?[t.videoWidth,t.videoHeight]:[t.width,t.height];let d;if(o)d=t.getContext("2d").getImageData(0,0,u,c).data;else if(s||n)d=t.data;else if(a||r||i){if(Bd==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Bd=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Bd=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Bd.canvas.width=u,Bd.canvas.height=c,Bd.drawImage(t,0,0,u,c),d=Bd.getImageData(0,0,u,c).data}let h;if(e===4)h=new Int32Array(d);else{const p=u*c;h=new Int32Array(p*e);for(let m=0;m<p;m++)for(let y=0;y<e;++y)h[m*e+y]=d[m*4+y]}return KI(h,[c,u,e],"int32")}function Ovt(t){return t!=null&&t.data instanceof Uint8Array}function Rvt(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function Lvt(t){return t!=null&&t.width!==0&&t.height!==0}function Pvt(t){return Rvt()&&!(t instanceof ImageBitmap)&&Lvt(t)&&!Ovt(t)}async function Mvt(t,e=3){let n=null;if(ze().getBool("WRAP_TO_IMAGEBITMAP")&&Pvt(t)){let s;try{s=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{s=null}s!=null&&s.width===t.width&&s.height===t.height?n=s:n=t}else n=t;return Uq(n,e)}function Wq(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function Fvt(t){const e=(t==null?void 0:t.alpha)||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function Bvt(t,e){let n=ie(t,"img","toPixels");if(!(t instanceof Xn)){const u=n;n=Nt(u,"int32"),u.dispose()}Wq(n);const[s,r]=n.shape.slice(0,2),a=n.rank===2?1:n.shape[2],o=await n.data(),i=n.dtype==="float32"?255:1,l=new Uint8ClampedArray(r*s*4);for(let u=0;u<s*r;++u){const c=[0,0,0,255];for(let h=0;h<a;h++){const f=o[u*a+h];if(n.dtype==="float32"){if(f<0||f>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${f}.`)}else if(n.dtype==="int32"&&(f<0||f>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${f}.`);a===1?(c[0]=f*i,c[1]=f*i,c[2]=f*i):c[h]=f*i}const d=u*4;l[d+0]=Math.round(c[0]),l[d+1]=Math.round(c[1]),l[d+2]=Math.round(c[2]),l[d+3]=Math.round(c[3])}if(e!=null){pP||_1(Hw,Se.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),pP=!0),e.width=r,e.height=s;const u=e.getContext("2d"),c=new ImageData(l,r,s);u.putImageData(c,0,0)}return n!==t&&n.dispose(),l}function zvt(t,e,n){let s=ie(t,"img","draw");if(!(t instanceof Xn)){const o=s;s=Nt(o,"int32"),o.dispose()}Wq(s),Fvt(n==null?void 0:n.imageOptions);const r={image:s},a={canvas:e,options:n};Se.runKernel(Hw,r,a)}const jq=$e({fromPixels_:Uq}),Vvt=Object.freeze(Object.defineProperty({__proto__:null,draw:zvt,fromPixels:jq,fromPixelsAsync:Mvt,toPixels:Bvt},Symbol.toStringTag,{value:"Module"}));function px(t,e){const n=t.shape.length,s=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(s<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${s}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[s-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[s-1]} vs. ${n}`);if(tt(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const r=e.shape,a=r[r.length-1];let o=1;for(let d=0;d<r.length-1;++d)o*=r[d];const i=t.shape,l=r.slice();l.pop();let u=1;for(let d=a;d<n;++d)u*=i[d],l.push(i[d]);const c=[...sn(t.shape).map(d=>d/u),1].slice(0,a);return[l,o,u,c]}const Hvt=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:px},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JT=-2,Uvt=-1;function pN(t,e,n){const s=t.shape.length;ae(s===e.length,()=>`Error in slice${s}D: Length of begin ${e} must match the rank of the array (${s}).`),ae(s===n.length,()=>`Error in slice${s}D: Length of size ${n} must match the rank of the array (${s}).`);for(let r=0;r<s;++r)ae(e[r]+n[r]<=t.shape[r],()=>`Error in slice${s}D: begin[${r}] + size[${r}] (${e[r]+n[r]}) would overflow input.shape[${r}] (${t.shape[r]})`)}function Wvt(t){const e=[];let n=0;for(;t>0;)t&1&&e.push(n),t/=2,n++;return e}function mN(t,e,n){const s=[];for(let r=0;r<t.length;r++)s[r]=Math.ceil((e[r]-t[r])/n[r]);return s}function Gq(t,e,n,s){const r=[...t];for(let a=r.length;a<s.length;a++)r.push(1);for(let a=0;a<n;a++)a===0?r[e]=1:(r.splice(e,0,1),r.pop());return r}function qq(t,e,n){return n<=t?n:n-(e-1)}function Kq(t,e){const n=[];for(let s=0;s<t;s++)n.push(e+s);return n}function jvt(t,e,n,s,r,a,o,i,l){const u=t.length;let c=new Array(u),d=new Array(u),h=new Array(u);if(e.length&&n>0){const f=e[0],p=n+1;c=Xq(o,f,p,s,t),d=Yq(i,f,p,r,t),h=Gq(a,f,p,t)}else for(let f=0;f<u;f++)c[f]=Zq(o,s,a,t,f,l),d[f]=Jq(i,r,a,t,f,l),h[f]=Qq(a,f,l);return{begin:c,end:d,strides:h}}function Xq(t,e,n,s,r){const a=[...r],o=Kq(n,e);for(let i=0;i<a.length;i++)if(o.indexOf(i)>-1)a[i]=0;else{const l=qq(e,n,i);let u=s[l];t&1<<l&&(u=0),a[i]=u}return a}function Yq(t,e,n,s,r){const a=[...r],o=Kq(n,e);for(let i=0;i<a.length;i++)if(o.indexOf(i)>-1)a[i]=Number.MAX_SAFE_INTEGER;else{const l=qq(e,n,i);let u=s[l];t&1<<l&&(u=Number.MAX_SAFE_INTEGER),a[i]=u}for(let i=0;i<a.length;i++){const l=r[i];a[i]<0&&(a[i]+=l),a[i]=nd(0,a[i],r[i])}return a}function Qq(t,e,n){let s=t[e];return(n&1<<e||s==null)&&(s=1),s}function Zq(t,e,n,s,r,a){let o=e[r];const i=n[r]||1;(t&1<<r||a&1<<r||o==null)&&(i>0?o=Number.MIN_SAFE_INTEGER:o=Number.MAX_SAFE_INTEGER);const l=s[r];return o<0&&(o+=l),o=nd(0,o,l-1),o}function Jq(t,e,n,s,r,a){let o=e[r];const i=n[r]||1;(t&1<<r||a&1<<r||o==null)&&(i>0?o=Number.MAX_SAFE_INTEGER:o=Number.MIN_SAFE_INTEGER);const l=s[r];return o<0&&(o+=l),i>0?o=nd(0,o,l):o=nd(-1,o,l-1),o}function gN(t,e,n){let s=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){s=r;break}for(let r=s+1;r<n.length;r++)if(e[r]>0||n[r]!==t[r])return!1;return!0}function vN(t,e){let n=t.length>0?t[t.length-1]:1;for(let s=0;s<t.length-1;s++)n+=t[s]*e[s];return n}function mx(t,e,n){let s;const r=t.shape.length;typeof e=="number"?s=[e,...new Array(r-1).fill(0)]:e.length<r?s=e.concat(new Array(r-e.length).fill(0)):s=e.slice(),s.forEach(o=>{ae(o!==-1,()=>"slice() does not support negative begin indexing.")});let a;return n==null?a=new Array(r).fill(-1):typeof n=="number"?a=[n,...new Array(r-1).fill(-1)]:n.length<r?a=n.concat(new Array(r-n.length).fill(-1)):a=n,a=a.map((o,i)=>o>=0?o:(ae(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${i}.`),t.shape[i]-s[i])),[s,a]}function yN(t,e,n,s,r,a,o,i,l){let u;if(s==null?(u=new Array(e.length),u.fill(1)):u=s,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:u.slice(),beginMask:r,endMask:a,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:l};for(let w=0;w<d.dims;w++)c&&1<<w&i&&d.numAddAxisAfterEllipsis++,1<<w&o&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};Gvt(d,h);let f=!0,p=!0,m=!0;const y=[],v=[];for(let w=0;w<t.length;++w){if(h.strides[w]===0)throw Error(`strides[${w}] must be non-zero`);const _=!!(h.shrinkAxisMask&1<<w),C=t[w];if(C===-1){y.push(_?1:-1);continue}const x=[h.beginMask&1<<w,h.endMask&1<<w],T=[h.strides[w]>0?0:-1,h.strides[w]>0?C:C-1];if(_&&h.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&h.strides[w]===1;const k=!!(h.beginMask&1<<w&&h.endMask&1<<w);if(h.beginValid&&h.endValid){if(_){const V=h.begin[w]<0?C+h.begin[w]:h.begin[w];if(h.begin[w]=V,h.end[w]=h.begin[w]+1,V<0||V>=C)throw Error(`slice index ${h.begin[w]} of dimension ${w} out of bounds.`)}else h.begin[w]=mP(h.begin[w],0,h.strides[w],C,x,T),h.end[w]=mP(h.end[w],1,h.strides[w],C,x,T);const L=h.strides[w]===1&&h.begin[w]===0&&h.end[w]===C;f=f&&L,p=p&&(w===0&&h.strides[w]===1||L)}else f=f&&h.strides[w]===1&&k,p=p&&(w===0&&h.strides[w]===1||k);let N,O=!1;if(h.beginValid&&h.endValid?(N=h.end[w]-h.begin[w],O=!0):_?(N=1,O=!0):k&&C>=0&&(h.strides[w]<0?N=-C:N=C,O=!0),O){let L;N===0||N<0!=h.strides[w]<0?L=0:L=Math.trunc(N/h.strides[w])+(N%h.strides[w]!==0?1:0),y.push(L)}else y.push(-1)}for(let w=0;w<h.finalShapeGatherIndices.length;++w){const _=h.finalShapeGatherIndices[w];_>=0?v.push(y[_]):_===JT&&v.push(1)}return{finalShapeSparse:v.filter((w,_)=>h.finalShapeGatherIndices[_]!==JT),finalShape:v,isIdentity:f,sliceDim0:p,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function Gvt(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let s=0;s<t.dims;s++)if(1<<s&t.ellipsisMask){const r=Math.min(e.dims-(t.dims-s)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<r;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=s}else if(1<<s&t.newAxisMask)e.finalShapeGatherIndices.push(JT),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[s]),t.end!=null&&(e.end[n]=t.end[s]),e.strides[n]=t.strides[s],t.beginMask&1<<s&&(e.beginMask|=1<<n),t.endMask&1<<s&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<s?(e.finalShapeGatherIndices.push(Uvt),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(s)),e.inputShapeGatherIndicesSparse[n]=s,n++}}function mP(t,e,n,s,r,a){if(r[e])return n>0?a[e]:a[e+1&1];{const o=t<0?s+t:t;return o<a[0]?a[0]:o>a[1]?a[1]:o}}const eK=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:pN,computeFlatOffset:vN,computeOutShape:mN,getNormalizedAxes:jvt,isSliceContinous:gN,maskToAxes:Wvt,parseSliceParams:mx,sliceInfo:yN,startForAxis:Zq,startIndicesWithElidedDims:Xq,stopForAxis:Jq,stopIndicesWithElidedDims:Yq,stridesForAxis:Qq,stridesWithElidedDims:Gq},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const tK="4.11.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class nK{static sgd(e){return new fx(e)}static momentum(e,n,s=!1){return new uN(e,n,s)}static rmsprop(e,n=.9,s=0,r=null,a=!1){return new cN(e,n,s,r,a)}static adam(e=.001,n=.9,s=.999,r=null){return new iN(e,n,s,r)}static adadelta(e=.001,n=.95,s=null){return new aN(e,n,s)}static adamax(e=.002,n=.9,s=.999,r=null,a=0){return new lN(e,n,s,r,a)}static adagrad(e,n=.1){return new oN(e,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gd=nK;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qvt=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function bN(){return new Promise(t=>qvt(()=>t()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _N(t,e){const n=t[0].length;t.forEach((r,a)=>{ae(r.length===n,()=>`Error in concat${n}D: rank of tensors[${a}] must be the same as the rank of the rest (${n})`)}),ae(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const s=t[0];t.forEach((r,a)=>{for(let o=0;o<n;o++)ae(o===e||r[o]===s[o],()=>`Error in concat${n}D: Shape of tensors[${a}] (${r}) does not match the shape of the rest (${s}) along the non-concatenated axis ${a}.`)})}function Vl(t,e){const n=t[0].slice();for(let s=1;s<t.length;s++)n[e]+=t[s][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Xi;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Xi||(Xi={}));function sK(t,e,n){let s=new Array;if(n==null&&e==null)return s;if(e==null)for(;s.length<t+n.length;)s.push(-1);else s=e.slice();if(n==null)return s;if(t+n.length!==s.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${s.length}`);for(let r=1;r<n.length;++r){const a=n[r],o=s[s.length-n.length+r],i=s[o];if(a>=0)if(i>=0){if(i!==a)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${r+t}] = ${a} but shape[${r+t}] = ${i}`)}else s[o]=a}return s}function rK(t){const e={FIRST_DIM_SIZE:Xi.FIRST_DIM_SIZE,VALUE_ROWIDS:Xi.VALUE_ROWIDS,ROW_LENGTHS:Xi.ROW_LENGTHS,ROW_SPLITS:Xi.ROW_SPLITS,ROW_LIMITS:Xi.ROW_LIMITS,ROW_STARTS:Xi.ROW_STARTS},n=[];for(const s of t)if(s in e)n.push(e[s]);else break;return n}function aK(t){return t.length===0?0:t[0]===Xi.FIRST_DIM_SIZE?t.length-1:t.length}function oK(t,e){if(t==null||e==null)return;const n=t.length,s=e.length;if(n>=s)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${s})`);for(let r=0;r<Math.min(n,s-1);++r){const a=t[r],o=e[r+1];if(a>=0&&o>=0&&a!==1&&a!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${r-t.length}] = ${a} but ragged tensor input.flatValues.shape[${r-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wN=30;function gx(t){return t<=wN?t:E3(t,Math.floor(Math.sqrt(t)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xN(t,e,n){const s=n*(typeof t=="number"?t:t[0]),r=e*(typeof t=="number"?t:t[1]);return[s,r]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oy(t,e,n,s=!0){let r=[];if(s)r=r.concat(e.slice(0)),r.push(t[0]/n),r=r.concat(t.slice(1));else{r=r.concat(t[0]);const a=e.length;for(let o=0;o<a;++o)r=r.concat([t[o+1]/e[o],e[o]]);r=r.concat(t.slice(a+1))}return r}function Ry(t,e,n=!0){const s=[];if(n){s.push(e);for(let r=e+1;r<t;++r)r<=2*e?(s.push(r),s.push(r-(e+1))):s.push(r)}else{const r=[],a=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?a.push(o):r.push(o);s.push(...r),s.push(0),s.push(...a)}return s}function Ly(t,e,n,s=!0){const r=[];s?r.push(t[0]/n):r.push(t[0]*n);for(let a=1;a<t.length;++a)a<=e.length?s?r.push(e[a-1]*t[a]):r.push(t[a]/e[a-1]):r.push(t[a]);return r}function CN(t,e){const n=[0];for(let s=0;s<e;++s)n.push(t[s][0]);return n}function SN(t,e,n){const s=t.slice(0,1);for(let r=0;r<n;++r)s.push(t[r+1]-e[r][0]-e[r][1]);return s}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vx=1.7580993408473768,yx=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TN=.3275911,kN=.254829592,$N=-.284496736,EN=1.421413741,IN=-1.453152027,NN=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ju(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let s=0;s<n.length;s+=2)n[s]=t[s/2],n[s+1]=e[s/2];return n}function iK(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let s=0;s<t.length;s+=2)e[s/2]=t[s],n[s/2]=t[s+1];return{real:e,imag:n}}function lK(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),s=new Float32Array(e);for(let r=0;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],s[Math.floor(r/4)]=t[r+1];return{real:n,imag:s}}function uK(t){const e=Math.floor(t.length/4),n=new Float32Array(e),s=new Float32Array(e);for(let r=2;r<t.length;r+=4)n[Math.floor(r/4)]=t[r],s[Math.floor(r/4)]=t[r+1];return{real:n,imag:s}}function AN(t,e){const n=t[e*2],s=t[e*2+1];return{real:n,imag:s}}function cK(t,e,n,s){t[s*2]=e,t[s*2+1]=n}function dK(t,e){const n=new Float32Array(t/2),s=new Float32Array(t/2);for(let r=0;r<Math.ceil(t/2);r++){const a=(e?2:-2)*Math.PI*(r/t);n[r]=Math.cos(a),s[r]=Math.sin(a)}return{real:n,imag:s}}function hK(t,e,n){const s=(n?2:-2)*Math.PI*(t/e),r=Math.cos(s),a=Math.sin(s);return{real:r,imag:a}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CC="->",Kvt=/->/g,gP=",",vP="...";function DN(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(Kvt,"").length)/CC.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${CC}").`);const[s,r]=t.split(CC);ae(s.indexOf(vP)===-1,()=>`The ellipsis notation ("${vP}") is not supported yet.`);const a=s.split(gP),o=a.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let h=0;h<r.length;++h){const f=r[h];if(!a.some(p=>p.indexOf(f)!==-1))throw new Error(`Output subscripts contain the label ${f} not present in the input subscripts.`);i.indexOf(f)===-1&&i.push(f)}for(let h=0;h<s.length;++h){const f=s[h];i.indexOf(f)===-1&&f!==gP&&i.push(f)}const l=new Array(a.length);for(let h=0;h<o;++h){if(new Set(a[h].split("")).size!==a[h].length)throw new Error(`Found duplicate axes in input component ${a[h]}. Support for duplicate axes in input is not implemented yet.`);l[h]=[];for(let f=0;f<a[h].length;++f)l[h].push(i.indexOf(a[h][f]))}const u=i.length,c=r.length,d=[];for(let h=c;h<u;++h)d.push(h);return{allDims:i,summedDims:d,idDims:l}}function ON(t,e){let n=new Array(t);n.fill(-1);for(let r=0;r<e.length;++r)n[e[r]]=r;const s=[];for(let r=0;r<t;++r)n[r]===-1&&s.push(r);return n=n.filter(r=>r!==-1),{permutationIndices:n,expandDims:s}}function RN(t,e,n){const s=new Array(t);for(let r=0;r<n.length;++r){const a=n[r].shape;for(let o=0;o<e[r].length;++o)s[e[r][o]]===void 0?s[e[r][o]]=a[o]:ae(s[e[r][o]]===a[o],()=>`Expected dimension ${s[e[r][o]]} at axis ${o} of input shaped ${JSON.stringify(a)}, but got dimension ${a[o]}`)}}function LN(t,e){const n=t,s=[];let r=0;t.length===0&&n.push(-1),r=t.length+1;for(let o=0;o<r;++o)s.push([]);const a=[];for(let o=0;o<n.length;++o){const i=n[o],l=Xvt(e,i);for(const u of l)a.indexOf(u)===-1&&(s[o].push(u),a.push(u))}return{path:n,steps:s}}function PN(t){return t.every((e,n)=>e===n)}function Xvt(t,e){const n=[];for(let s=0;s<t.length;++s)(t[s].length===0||t[s].indexOf(e)!==-1||e===-1)&&n.push(s);return n}function MN(t,e,n=0){let s=[];if(typeof e=="number")ae(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),s=new Array(e).fill(t.shape[n]/e);else{const r=e.reduce((o,i)=>(i===-1&&(o+=1),o),0);ae(r<=1,()=>"There should be only one negative value in split array.");const a=e.indexOf(-1);if(a!==-1){const o=e.reduce((i,l)=>l>0?i+l:i);e[a]=t.shape[n]-o}ae(t.shape[n]===e.reduce((o,i)=>o+i),()=>"The sum of sizes must match the size of the axis dimension."),s=e}return s}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fK(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function pK(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function mK(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gK(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function vK(t,e){return`size ${t} must be non-negative, not ${e}`}function yK(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function bK(t,e){const n=tt(t),s=tt(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${s}. inputShape=${t} outputShape= ${e}`}function _K(t,e){const n=tt(t),s=tt(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${s}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ek(){return"segment ids must be >= 0"}function wK(){return"segment ids are not increasing"}function xK(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function CK(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SK(t,e){let n=!1,s;for(t<=wN?(s=t,n=!0):s=E3(t,Math.floor(Math.sqrt(t)));!n;)s>e||s===t?n=!0:s=E3(t,s+1);return s}function TK(t,e,n){const s=[],r=t.length;for(let a=0;a<r;a++)a!==e?s.push(t[a]):s.push(n);return s}function FN(t,e,n,s){const r=e.shape.length,a=t.shape.length;if(s!==0&&(s<-r||s>r))throw new Error(`Expect batchDims in the range of [-${r}, ${r}], but got ${s}`);if(s<0&&(s+=r),s>a)throw new Error(`batchDims (${s}) must be less than rank(x) (
    ${a}).`);if(n<s)throw new Error(`batchDims (${s}) must be less than or equal to axis (${n}).`);for(let d=0;d<s;++d)if(t.shape[d]!==e.shape[d])throw new Error(`x.shape[${d}]: ${t.shape[d]} should be equal to indices.shape[${d}]: ${e.shape[d]}.`);const o=t.shape[n],i=[];let l=1,u=1,c=1;for(let d=0;d<s;++d)i.push(t.shape[d]),l*=t.shape[d];for(let d=s;d<n;d++)i.push(t.shape[d]),u*=t.shape[d];for(let d=s;d<r;d++)i.push(e.shape[d]);for(let d=n+1;d<a;d++)i.push(t.shape[d]),c*=t.shape[d];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:o,outputShape:i}}const Yvt=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:FN,computeOutShape:TK,segOpComputeOptimalWindowSize:SK},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gu(t){try{return t.map(e=>zu(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function kK(t){return t.map(e=>Bl(e))}const $K=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:kN,ERF_A2:$N,ERF_A3:EN,ERF_A4:IN,ERF_A5:NN,ERF_P:TN,PARALLELIZE_THRESHOLD:wN,get RowPartitionType(){return Xi},SELU_SCALE:yx,SELU_SCALEALPHA:vx,applyActivation:lx,assertAndGetBroadcastShape:wn,assertAxesAreInnerMostDims:ia,assertParamsConsistent:_N,assignToTypedArray:cK,axesAreInnerMostDims:wI,calculateShapes:$d,checkEinsumDimSizes:RN,checkPadOnDimRoundingMode:Aa,combineLocations:MG,combineRaggedTensorToTensorShapes:sK,complexWithEvenIndex:lK,complexWithOddIndex:uK,computeConv2DInfo:Vr,computeConv3DInfo:xd,computeDefaultPad:nI,computeDilation2DInfo:my,computeOptimalWindowSize:gx,computeOutAndReduceShapes:Hr,computeOutShape:Vl,computePool2DInfo:Pi,computePool3DInfo:ac,convertConv2DDataFormat:oc,decodeEinsumEquation:DN,eitherStridesOrDilationsAreOne:oa,expandShapeToKeepDim:ir,exponent:hK,exponents:dK,fromStringArrayToUint8:kK,fromUint8ToStringArray:Gu,getAxesPermutation:Ys,getBroadcastDims:Uh,getComplexWithIndex:AN,getEinsumComputePath:LN,getEinsumPermutation:ON,getFusedBiasGradient:ix,getFusedDyActivation:ox,getImageCenter:xN,getInnerMostAxes:lr,getPermuted:Ry,getRaggedRank:aK,getReductionAxes:wr,getReshaped:Oy,getReshapedPermuted:Ly,getRowPartitionTypesHelper:rK,getSliceBeginCoords:CN,getSliceSize:SN,getSparseFillEmptyRowsIndicesDenseShapeMismatch:fK,getSparseFillEmptyRowsNegativeIndexErrorMessage:pK,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:mK,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:yK,getSparseReshapeInputOutputMismatchErrorMessage:_K,getSparseReshapeInputOutputMultipleErrorMessage:bK,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:gK,getSparseReshapeNegativeOutputDimErrorMessage:vK,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:CK,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:ek,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:wK,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:xK,getUndoAxesPermutation:Cd,isIdentityPermutation:PN,log:Zht,mergeRealAndImagArrays:ju,prepareAndValidate:px,prepareSplitSize:MN,segment_util:Yvt,shouldFuse:ux,slice_util:eK,splitRealAndImagArrays:iK,stridesOrDilationsArePositive:Vh,tupleValuesAreOne:rd,upcastType:Ja,validateDefaultValueShape:oK,validateInput:tx,validateUpdateShape:XI,warn:zo},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qvt=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:cx,nonMaxSuppressionV4Impl:dx,nonMaxSuppressionV5Impl:hx,whereImpl:rx},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */mvt();/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EK={kernelName:cv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,_f(Nt(n,"float32"),-1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zvt={kernelName:H0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=is(Nt(n,"float32")),r=ta(jt(on(1),s));return bs(tn(t,r))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jvt={kernelName:U0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=ta(jt(is(Nt(n,"float32")),1));return tn(t,s)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eyt={kernelName:mf,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{let i=t;const l=wr(n.shape,r);return l.length>0&&(i=Xt(i,l)),Ne(i,n.shape)},b:()=>{let i=t;const l=wr(s.shape,r);return l.length>0&&(i=Xt(i,l)),Ne(i,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tyt={kernelName:dv,saveAllInputs:!0,gradFunc:(t,e)=>{const n={};return e.forEach((s,r)=>{n[r]=()=>t.clone()}),n}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nyt={kernelName:hv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>qn(n)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const syt={kernelName:fv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>qn(n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ryt={kernelName:W0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,ta(jt(on(1),is(Nt(n,"float32")))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ayt={kernelName:j0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=ta(mt(on(1),is(Nt(n,"float32"))));return tn(t,s)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oyt={kernelName:K0,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{const i=mt(is(n),is(s));let l=Ie(t,tn(s,i));const u=wr(n.shape,r);return u.length>0&&(l=Xt(l,u)),Ne(l,n.shape)},b:()=>{const i=mt(is(n),is(s));let l=bs(Ie(t,tn(n,i)));const u=wr(s.shape,r);return u.length>0&&(l=Xt(l,u)),Ne(l,s.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iyt={kernelName:G0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,mt(is(Nt(n,"float32")),1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lyt={kernelName:q0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,jt(on(1),is(Nt(n,"float32"))))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uyt(t,e,n,s,r,a){const o=ie(t,"dy","avgPool3dGrad"),i=ie(e,"input","avgPool3dGrad");let l=o,u=i,c=!1;i.rank===4&&(c=!0,l=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),u=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),ae(l.rank===5,()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`),ae(u.rank===5,()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`),Aa("avgPool3dGrad",r,a);const d={dy:l,input:u},h={filterSize:n,strides:s,pad:r,dimRoundingMode:a},f=Se.runKernel(Ew,d,h);return c?Ne(f,[f.shape[1],f.shape[2],f.shape[3],f.shape[4]]):f}const cyt=$e({avgPool3dGrad_:uyt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dyt={kernelName:mv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{filterSize:r,strides:a,pad:o,dimRoundingMode:i}=n;return{x:()=>cyt(t,s,r,a,o,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hyt(t,e,n,s,r){const a=ie(t,"dy","avgPoolGrad"),o=ie(e,"input","avgPoolGrad");ae(o.rank===a.rank,()=>`Rank of input (${o.rank}) does not match rank of dy (${a.rank})`);let i=o,l=a,u=!1;o.rank===3&&(u=!0,i=Ne(o,[1,o.shape[0],o.shape[1],o.shape[2]]),l=Ne(a,[1,a.shape[0],a.shape[1],a.shape[2]])),ae(l.rank===4,()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`),ae(i.rank===4,()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${i.rank}.`);const c={dy:l,input:i},d={filterSize:n,strides:s,pad:r},h=Se.runKernel($w,c,d);return u?Ne(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const fyt=$e({avgPoolGrad_:hyt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pyt={kernelName:pv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{filterSize:r,strides:a,pad:o}=n;return{x:()=>fyt(t,s,r,a,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const myt={kernelName:gv,inputsToSave:["a","b"],gradFunc:(t,e,n)=>{const[s,r]=e,{transposeA:a,transposeB:o}=n;return!a&&!o?{a:()=>Dn(t,r,!1,!0),b:()=>Dn(s,t,!0,!1)}:!a&&o?{a:()=>Dn(t,r,!1,!1),b:()=>Dn(t,s,!0,!1)}:a&&!o?{a:()=>Dn(r,t,!1,!0),b:()=>Dn(s,t,!1,!1)}:{a:()=>Dn(r,t,!0,!0),b:()=>Dn(t,s,!0,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gyt={kernelName:vv,gradFunc:(t,e,n)=>{const{blockShape:s,crops:r}=n;return{x:()=>ky(t,s,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vyt={kernelName:Qj,gradFunc:(t,e,n)=>{const s=n,r=s.inputShape,a=s.shape,o=Array.from(a);for(let l=r.length-1;l>=0;l--)if(r[l]===a[l])o[l]=1;else if(r[l]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${a}].`);const i=[];for(let l=0;l<o.length;l++)o[l]>1&&i.push(l);return{x:()=>Xt(t,i,!0)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yyt={kernelName:X0,gradFunc:t=>({x:()=>t.clone()})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const byt={kernelName:Y0,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _yt={kernelName:Q0,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{clipValueMin:r,clipValueMax:a}=n;return{x:()=>Pr(Oi(ic(s,r),Sd(s,a)),t,qn(t))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wyt={kernelName:bv,inputsToSave:["x"],gradFunc:EK.gradFunc};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xyt={kernelName:_v,saveAllInputs:!0,gradFunc:(t,e,n)=>{const s=e.map(l=>l.shape),{axis:r}=n,a=Rn(r,e[0].shape)[0],o=s.map(l=>l[a]);return Ka(t,o,a).map(l=>()=>l)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cyt={kernelName:wv,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[s,r]=e,{dilations:a,strides:o,pad:i,dataFormat:l}=n;return ae(rd(a),()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`),{x:()=>fI(s.shape,t,r,o,i,l),filter:()=>nN(s,t,r.shape,o,i,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Syt={kernelName:xv,inputsToSave:["dy","filter"],gradFunc:(t,e,n)=>{const[s,r]=e,{strides:a,pad:o,dataFormat:i,dimRoundingMode:l}=n;return{dy:()=>Uu(t,r,a,o,i,1,l),filter:()=>nN(t,s,r.shape,a,o,i,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tyt(t,e,n,s,r){let a=t;t.rank===4&&(a=Ne(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]));let o=e;o.rank===4&&(o=Ne(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]])),ae(a.rank===5,()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${a.shape}.`),ae(o.rank===5,()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`),ae(n.length===5,()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`),ae(a.shape[4]===n[3],()=>`Error in conv3dDerFilter: depth of input ${a.shape[4]}) must match input depth in filter (${n[3]}.`),ae(o.shape[4]===n[4],()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`);const i={x:a,dy:o},l={strides:s,pad:r,filterShape:n};return Se.runKernel(Ow,i,l)}const kyt=$e({conv3DBackpropFilter_:Tyt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $yt={kernelName:Cv,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:s,strides:r,pad:a}=n;ae(rd(s),()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const[o,i]=e;return{x:()=>RG(o.shape,t,i,r,a),filter:()=>kyt(o,t,i.shape,r,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Eyt={kernelName:Z0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(bs(Y6(Nt(n,"float32"))),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Iyt={kernelName:J0,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(Q6(Nt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nyt={kernelName:Sv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{axis:r,exclusive:a,reverse:o}=n;return{x:()=>{const i=Ys([r],s.rank);let l=F6(t,r,a,!o);return i!=null&&(l=Un(l,i)),l}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ayt={kernelName:Tv,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const{dilations:s,strides:r,pad:a,dimRoundingMode:o}=n,i=s??[1,1];ae(rd(i),()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${i}'`);const[l,u]=e;return ae(l.rank===4,()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`),ae(u.rank===4,()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`),ae(l.shape[3]===u.shape[2],()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`),ae(oa(r,i),()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${r} and dilations '${i}'.`),Aa("depthwiseConv2d",a,o),{x:()=>kq(l.shape,t,u,r,a,i,o),filter:()=>Tq(l,t,u.shape,r,a,i,o)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dyt={kernelName:kv,inputsToSave:["x","filter"],gradFunc:(t,e,n)=>{const[s,r]=e,a={x:s,filter:r,dy:t},o={x:s,filter:r,dy:t};return{x:()=>Se.runKernel(I3,a,n),filter:()=>Se.runKernel(N3,o,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oyt={kernelName:tm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e,s={dy:t,y:n};return{x:()=>Se.runKernel(Ww,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ryt={kernelName:nm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,s=Ie(no(bs(is(n))),2/Math.sqrt(Math.PI));return{x:()=>Ie(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lyt={kernelName:sm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pyt={kernelName:Ev,inputsToSave:["input"],gradFunc:(t,e)=>{const[n]=e;return{input:()=>Ne(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Myt={kernelName:rm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,no(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fyt={kernelName:am,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Byt={kernelName:om,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{const i=tn(t,Nt(s,"float32")),l=wr(n.shape,r);return l.length>0?Ne(Xt(i,l),n.shape):i},b:()=>{let i=Ie(t,Nt(n,"float32"));const l=wr(s.shape,r);l.length>0&&(i=Ne(Xt(i,l),s.shape));const u=is(s);return bs(tn(i,Nt(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zyt={kernelName:Iv,inputsToSave:["x","mean","variance","scale"],gradFunc:(t,e,n)=>{const{varianceEpsilon:s}=n,[r,a,o,i]=e,l=i??on(1),u=wr(a.shape,r.shape),c=[];if(a.rank===1){for(let _=0;_<r.shape.length-1;++_)c.push(r.shape[_]);c.push(1)}const d=jt(r,a),h=Ie(t,l),f=q6(mt(o,on(s))),p=Ie(Ie(Ie(f,f),f),on(-.5));return{x:()=>a.rank===1?Ne(Ie(Ie(t,Wo(Ne(f,[1,1,1,a.shape[0]]),c)),l),r.shape):Ne(Ie(Ie(t,f),l),r.shape),mean:()=>{let _=Ie(Ie(f,on(-1)),h);return a.rank===1&&(_=Xt(_,u)),Ne(_,a.shape)},variance:()=>{let _=Ie(Ie(p,d),h);return a.rank===1&&(_=Xt(_,u)),Ne(_,a.shape)},scale:()=>{const _=Ie(d,f);let C=Ie(t,_);return a.rank===1&&(C=Xt(C,u)),Ne(C,a.shape)},offset:()=>{let _=t;return a.rank===1&&(_=Xt(_,u)),Ne(_,a.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vyt={kernelName:Nv,inputsToSave:["x","indices"],gradFunc:(t,e,n)=>{const[s,r]=e,{axis:a,batchDims:o}=n,i=Rn(a,s.shape)[0],l=(u,c,d)=>()=>{const h=u.shape,f=c.size,p=h.slice(0,i),m=p.length,y=h.slice(a,h.length).slice(1),v=y.length,b=yP(0,m),w=yP(m+1,m+1+v),_=bP([p,[f],y]),C=Ne(d,_),x=Ne(c,[f]),T=bP([[m],b,w]),k=Un(C,T);let N=sx(k,x,u.shape[i]);const O=Cd(T);return N=Un(N,O),N};if(o===1){const u=s.shape[0],c=s.split(u,0);return{x:()=>Ea(c.map((f,p)=>l(f,r.slice(p,1),t.slice(p,1))())).reshape(s.shape),indices:()=>r}}else return{x:l(s,r,t),indices:()=>r}}};function yP(t,e){const n=[];for(let s=t;s<e;++s)n.push(s);return n}function bP(t){const e=[];for(let n=0;n<t.length;++n)for(let s=0;s<t[n].length;++s)e.push(t[n][s]);return e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hyt={kernelName:im,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e;return{a:()=>qn(n),b:()=>qn(s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uyt={kernelName:lm,gradFunc:t=>({x:()=>Nt(t,"float32")})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wyt={kernelName:um,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jyt={kernelName:cm,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gyt={kernelName:dm,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qyt={kernelName:Dv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{alpha:r}=n,a=Da(s,0);return{x:()=>Pr(a,t,Ie(t,r))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kyt={kernelName:fm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,mt(n,1))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xyt={kernelName:hm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,Nt(n,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Yyt={kernelName:Zj,inputsToSave:[],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s]=e,{axis:r}=n;return{logits:()=>{const o=no(s);return jt(t,Ie(Xt(t,r,!0),o))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qyt(t,e,n,s=5,r=1,a=1,o=.5){const i={x:t,y:e,dy:n},l={depthRadius:s,bias:r,alpha:a,beta:o};return Se.runKernel(Zw,i,l)}const Zyt=$e({localResponseNormalizationBackprop_:Qyt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jyt={kernelName:Fv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s,r]=e,{depthRadius:a,bias:o,alpha:i,beta:l}=n;return{x:()=>Zyt(s,r,t,a,o,i,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IK(t,e,n,s){return e.rank<n.rank&&(e=Ne(e,ir(e.shape,s))),t.rank<n.rank&&(t=Ne(t,ir(t.shape,s))),{x:()=>Ie(t,Nt(To(n,e),t.dtype))}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _P={kernelName:Bv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const s=n,{reductionIndices:r}=s,a=e[0],o=e[1],i=Rn(r,a.shape),l=IK(t,o,a,i);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ebt={kernelName:pm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e;return{a:()=>Ie(t,Nt(ic(n,s),"float32")),b:()=>Ie(t,Nt(l0(n,s),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tbt(t,e,n,s,r,a,o){const i=ie(t,"dy","maxPool3dGrad"),l=ie(e,"input","maxPool3dGrad"),u=ie(n,"output","maxPool3dGrad");let c=i,d=l,h=u,f=!1;l.rank===4&&(f=!0,c=Ne(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),d=Ne(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=Ne(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),ae(c.rank===5,()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`),ae(d.rank===5,()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`),ae(h.rank===5,()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`),Aa("maxPool3dGrad",a,o);const p={dy:c,input:d,output:h},m={filterSize:s,strides:r,pad:a,dimRoundingMode:o},y=Se.runKernel(e6,p,m);return f?Ne(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const nbt=$e({maxPool3dGrad_:tbt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sbt={kernelName:Vv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s,r]=e,{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=n;return{x:()=>nbt(t,s,r,a,o,i,l)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rbt(t,e,n,s,r,a,o){const i=ie(t,"dy","maxPoolGrad"),l=ie(e,"input","maxPoolGrad"),u=ie(n,"output","maxPoolGrad");ae(l.rank===i.rank,()=>`Rank of input (${l.rank}) does not match rank of dy (${i.rank})`),ae(i.rank===4,()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${i.rank}.`),ae(l.rank===4,()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`),Aa("maxPoolGrad",a,o);const c={dy:i,input:l,output:u},d={filterSize:s,strides:r,pad:a,dimRoundingMode:o};return Se.runKernel(Jw,c,d)}const abt=$e({maxPoolGrad_:rbt});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const obt={kernelName:zv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s,r]=e,{filterSize:a,strides:o,pad:i}=n;return{x:()=>abt(t,s,r,a,o,i)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ibt={kernelName:Hv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{axis:r}=n,a=Rn(r,s.shape),i=Hr(s.shape,a)[1],l=tt(i);return{x:()=>{const c=s.shape.slice();a.forEach(f=>{c[f]=1});const d=Ne(t,c);return tn(Ie(d,Wa(s.shape,"float32")),l)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lbt={kernelName:Uv,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(t,e,n)=>{const s=n,{axis:r}=s,[a,o]=e,i=Rn(r,a.shape),l=IK(t,o,a,i);return{x:()=>l.x()}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ubt={kernelName:mm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e;return{a:()=>Ie(t,Nt(Sd(n,s),"float32")),b:()=>Ie(t,Nt(Da(n,s),"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cbt={kernelName:Wv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const s=e[0],{paddings:r}=n,a=r.map(o=>o[0]);return{x:()=>jn(t,a,s.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dbt={kernelName:gm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{const i=wr(n.shape,r);return i.length>0?Ne(Xt(t,i),n.shape):t},b:()=>{const i=Ie(t,bs(Vm(tn(n,s)))),l=wr(s.shape,r);return l.length>0?Ne(Xt(i,l),s.shape):i}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hbt={kernelName:vm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{const i=Ie(t,Nt(s,"float32")),l=wr(n.shape,r);return l.length>0?Ne(Xt(i,l),n.shape):i},b:()=>{const i=Ie(t,Nt(n,"float32")),l=wr(s.shape,r);return l.length>0?Ne(Xt(i,l),s.shape):i}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fbt={kernelName:jv,gradFunc:t=>({x:()=>bs(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pbt={kernelName:Kv,inputsToSave:["indices"],gradFunc:(t,e)=>{const n=e[0];return{indices:()=>mr(n.shape,"float32")}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mbt={kernelName:qv,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gbt={kernelName:Xv,saveAllInputs:!0,gradFunc:(t,e,n)=>{const{axis:s}=n;return Jo(t,s).map(a=>()=>a)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wP={kernelName:Yv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const s=e[0],{paddings:r}=n,a=r.map(o=>o[0]);return{x:()=>jn(t,a,s.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vbt={kernelName:ym,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(t,e)=>{const[n,s,r]=e,a=n,o=s,i=wn(a.shape,o.shape);return{a:()=>{const c=Nt(o,"float32");let d=Ie(t,Ie(c,Wu(a,jt(c,on(1)))));const h=wr(a.shape,i);return h.length>0&&(d=Xt(d,h)),Ne(d,a.shape)},b:()=>{const c=Da(a,0),d=Pr(c,ko(a),qn(a));let h=Ie(t,Ie(r,d));const f=wr(o.shape,i);return f.length>0&&(h=Xt(h,f)),Ne(h,o.shape)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ybt={kernelName:Qv,inputsToSave:["x","alpha"],gradFunc:(t,e)=>{const[n,s]=e,r=Da(n,0);return{x:()=>Pr(r,t,Ie(t,s)),alpha:()=>{let a=Pr(r,qn(t),Ie(t,n));const o=wr(s.shape,t.shape);return o.length>0&&(a=Xt(a,o)),Ne(a,s.shape)}}}};/**
 * @license
 * Copyright 2022 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bbt(t,e,n){const s=t.shape.slice();s[n]=1;const r=Ne(e,s),a=k1(t,n,!0,!1),o=k1(t,n,!0,!0),i=Ie(a,o);return Ie(r,i)}function _bt(t,e,n){const s=t.shape.length,r=s-n.length,a=Ys(n,s);let o=t;a!=null&&(o=Un(t,a));const i=o.shape.slice(),u=i.splice(s-n.length,n.length).reduce((h,f)=>h*f,1);i.push(u);const c=o.reshape(i);let d=bbt(c,e,r);if(d=d.reshape(o.shape),a!=null){const h=Cd(a);d=Un(d,h)}return d}const wbt={kernelName:Zv,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{axis:r}=n;let a=[];return r==null?a=s.shape.map((o,i)=>i):typeof r=="number"?a=[r]:a=r,{x:()=>_bt(s,t,a)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xbt={kernelName:em,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{const i=tn(t,Nt(s,"float32")),l=wr(n.shape,r);return l.length>0?Ne(Xt(i,l),n.shape):i},b:()=>{let i=Ie(t,Nt(n,"float32"));const l=wr(s.shape,r);l.length>0&&(i=Ne(Xt(i,l),s.shape));const u=is(s);return bs(tn(i,Nt(u,"float32")))}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cbt={kernelName:bm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,bs(is(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Sbt={kernelName:wm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e,s=Ie(Sd(n,6),_f(n));return{x:()=>Ie(t,Nt(s,"float32"))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tbt={kernelName:_m,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,Nt(_f(n),"float32"))}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kbt={kernelName:Jv,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ne(t,n.shape)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $bt={kernelName:ty,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[s]=e,r={dy:t,images:s};return{images:()=>Se.runKernel(h6,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ebt={kernelName:ey,inputsToSave:["images"],gradFunc:(t,e,n)=>{const[s]=e,r={dy:t,images:s};return{images:()=>Se.runKernel(d6,r,n)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ibt={kernelName:ny,gradFunc:(t,e,n)=>{const{dims:s}=n,r=Rn(s,t.shape);return{x:()=>Zo(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Nbt={kernelName:xm,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Abt={kernelName:Cm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>bs(tn(t,Ie(Wu(n,1.5),2)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dbt={kernelName:sy,inputsToSave:["condition"],gradFunc:(t,e)=>{const[n]=e;return{condition:()=>Nt(qn(n),"float32"),t:()=>Ie(t,Nt(n,t.dtype)),e:()=>Ie(t,Nt(Cy(n),t.dtype))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Obt={kernelName:Sm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>{const s=Da(n,on(0)),r=on(vx),a=on(yx),o=Ie(t,a),i=Ie(Ie(t,r),no(Nt(n,"float32")));return Pr(s,o,i)}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rbt={kernelName:Em,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,Ie(n,jt(on(1),n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Lbt={kernelName:$m,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pbt={kernelName:Tm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(yy(Nt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mbt={kernelName:km,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(M6(Nt(n,"float32")),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fbt={kernelName:ry,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{begin:r,size:a}=n,o=s.shape,[i,l]=mx(s,r,a),u=[];for(let c=0;c<t.rank;c++)u.push([i[c],o[c]-i[c]-l[c]]);return{x:()=>lc(t,u)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Bbt={kernelName:ly,outputsToSave:[!0],gradFunc:(t,e,n)=>{const[s]=e,{dim:r}=n,a=!0,o=Ie(t,s);return{logits:()=>jt(o,Ie(Xt(o,[r],a),s))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zbt={kernelName:Im,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,nl(n))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xP={kernelName:oy,gradFunc:(t,e,n)=>{const{blockShape:s,paddings:r}=n;return{x:()=>vy(t,s,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CP={kernelName:iy,gradFunc:(t,e,n)=>{const{axis:s}=n;return{x:()=>rr(t,s)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vbt={kernelName:Nm,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,Ie(ta(Nt(n,"float32")),2))}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Hbt={kernelName:w6,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(t,Ie(Nt(n,"float32"),2))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ubt={kernelName:Am,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=on(2);return{a:()=>Ie(t,Ie(r,jt(n,s))),b:()=>Ie(t,Ie(r,jt(s,n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wbt={kernelName:Pm,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jbt={kernelName:Dm,inputsToSave:["a","b"],gradFunc:(t,e)=>{const[n,s]=e,r=wn(n.shape,s.shape);return{a:()=>{let i=t;const l=wr(n.shape,r);return l.length>0&&(i=Xt(i,l)),Ne(i,n.shape)},b:()=>{let i=t;const l=wr(s.shape,r);return l.length>0&&(i=Xt(i,l)),Ne(bs(i),s.shape)}}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gbt={kernelName:ay,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,r=s.shape.slice(),{axis:a}=n;Rn(a,s.shape).forEach(u=>{r[u]=1});const i=Ne(t,r),l=Ie(i,Wa(s.shape,"float32"));return{x:()=>l}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qbt={kernelName:Om,inputsToSave:["x"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>tn(t,is(yy(n)))}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kbt={kernelName:Rm,outputsToSave:[!0],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Ie(jt(on(1),is(n)),t)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xbt={kernelName:Lm,inputsToSave:["x"],gradFunc:(t,e,n)=>{const[s]=e,{reps:r}=n;return{x:()=>{let o=qn(s);if(s.rank===1)for(let i=0;i<r[0];++i)o=mt(o,jn(t,[i*s.shape[0]],[s.shape[0]]));else if(s.rank===2)for(let i=0;i<r[0];++i)for(let l=0;l<r[1];++l)o=mt(o,jn(t,[i*s.shape[0],l*s.shape[1]],[s.shape[0],s.shape[1]]));else if(s.rank===3)for(let i=0;i<r[0];++i)for(let l=0;l<r[1];++l)for(let u=0;u<r[2];++u)o=mt(o,jn(t,[i*s.shape[0],l*s.shape[1],u*s.shape[2]],[s.shape[0],s.shape[1],s.shape[2]]));else if(s.rank===4)for(let i=0;i<r[0];++i)for(let l=0;l<r[1];++l)for(let u=0;u<r[2];++u)for(let c=0;c<r[3];++c)o=mt(o,jn(t,[i*s.shape[0],l*s.shape[1],u*s.shape[2],c*s.shape[3]],[s.shape[0],s.shape[1],s.shape[2],s.shape[3]]));else throw new Error(`Gradient for tile operation is not implemented for rank-${s.rank} tensors yet.`);return o}}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ybt={kernelName:_h,gradFunc:(t,e,n)=>{const s=n,{perm:r}=s,a=Cd(r);return{x:()=>Un(t,a)}}};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qbt={kernelName:cy,gradFunc:(t,e,n)=>{const s=n,{axis:r}=s;return{value:()=>Ea(t,r)}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zbt={kernelName:dy,inputsToSave:["segmentIds"],gradFunc:(t,e)=>{const[n]=e;return{x:()=>Jbt(t,n)}}};function Jbt(t,e){const n=du(e,qn(e)),s=Hm(t,n);let r=ic(e,on(0,"int32"));const a=s.rank-r.rank;for(let i=0;i<a;++i)r=Kr(r,i+1);r=Oi(r,Wa(s.shape,"bool"));const o=qn(s);return Pr(r,s,o)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const e_t={kernelName:hy,gradFunc:t=>({x:()=>qn(t)})};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t_t=[EK,Zvt,Jvt,eyt,tyt,nyt,syt,ryt,ayt,oyt,iyt,lyt,dyt,pyt,myt,gyt,vyt,yyt,byt,_yt,wyt,xyt,Syt,Cyt,$yt,Eyt,Iyt,Nyt,Ayt,Dyt,xbt,Oyt,Ryt,Lyt,Pyt,Myt,Byt,Fyt,zyt,Vyt,Hyt,Uyt,Wyt,jyt,Gyt,qyt,Kyt,Xyt,Yyt,Jyt,_P,_P,ebt,sbt,obt,ibt,lbt,ubt,cbt,dbt,hbt,fbt,pbt,mbt,gbt,wP,wP,vbt,ybt,wbt,Cbt,Sbt,Tbt,kbt,$bt,Ebt,Ibt,Nbt,Abt,Dbt,Obt,Rbt,Lbt,Pbt,Mbt,Fbt,Bbt,zbt,xP,xP,CP,CP,Vbt,Ubt,Hbt,Wbt,jbt,Gbt,qbt,Kbt,Xbt,Ybt,Qbt,Zbt,e_t];for(const t of t_t)Jj(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.abs=function(){return this.throwIfDisposed(),fr(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.acos=function(){return this.throwIfDisposed(),KE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.acosh=function(){return this.throwIfDisposed(),XE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.add=function(t){return this.throwIfDisposed(),mt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.all=function(t,e){return this.throwIfDisposed(),R6(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.any=function(t,e){return this.throwIfDisposed(),C1(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.argMax=function(t){return this.throwIfDisposed(),zh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.argMin=function(t){return this.throwIfDisposed(),YE(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.asScalar=function(){return this.throwIfDisposed(),ae(this.size===1,()=>"The array must have only 1 element."),Ne(this,[])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.asType=function(t){return this.throwIfDisposed(),Nt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.as1D=function(){return this.throwIfDisposed(),Ne(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.as2D=function(t,e){return this.throwIfDisposed(),Ne(this,[t,e])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.as3D=function(t,e,n){return this.throwIfDisposed(),Ne(this,[t,e,n])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.as4D=function(t,e,n,s){return this.throwIfDisposed(),Ne(this,[t,e,n,s])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.as5D=function(t,e,n,s,r){return this.throwIfDisposed(),Ne(this,[t,e,n,s,r])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.asin=function(){return this.throwIfDisposed(),QE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.asinh=function(){return this.throwIfDisposed(),ZE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.atan=function(){return this.throwIfDisposed(),JE(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.atan2=function(t){return this.throwIfDisposed(),eI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.atanh=function(){return this.throwIfDisposed(),tI(this)};rt().prototype.avgPool=function(t,e,n,s){return this.throwIfDisposed(),gy(this,t,e,n,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.batchToSpaceND=function(t,e){return this.throwIfDisposed(),vy(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.batchNorm=function(t,e,n,s,r){return this.throwIfDisposed(),Mm(this,t,e,n,s,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.broadcastTo=function(t){return this.throwIfDisposed(),wh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.cast=function(t){return this.throwIfDisposed(),Nt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.ceil=function(){return this.throwIfDisposed(),lI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.clipByValue=function(t,e){return this.throwIfDisposed(),to(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.concat=function(t,e){return this.throwIfDisposed(),t instanceof Xn&&(t=[t]),rr([this,...t],e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.conv1d=function(t,e,n,s,r,a){return this.throwIfDisposed(),L6(this,t,e,n,s,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.conv2dTranspose=function(t,e,n,s,r){return this.throwIfDisposed(),P6(this,t,e,n,s,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.conv2d=function(t,e,n,s,r,a){return this.throwIfDisposed(),Uu(this,t,e,n,s,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.cos=function(){return this.throwIfDisposed(),yy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.cosh=function(){return this.throwIfDisposed(),M6(this)};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.cumprod=function(t,e,n){return this.throwIfDisposed(),k1(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.cumsum=function(t,e,n){return this.throwIfDisposed(),F6(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.depthToSpace=function(t,e){return this.throwIfDisposed(),gI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.depthwiseConv2d=function(t,e,n,s,r,a){return this.throwIfDisposed(),Fm(this,t,e,n,s,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.dilation2d=function(t,e,n,s,r){return this.throwIfDisposed(),vI(this,t,e,n,s,r)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.divNoNan=function(t){return this.throwIfDisposed(),yI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.div=function(t){return this.throwIfDisposed(),tn(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.dot=function(t){return this.throwIfDisposed(),bI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.elu=function(){return this.throwIfDisposed(),Bm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.equal=function(t){return this.throwIfDisposed(),To(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.erf=function(){return this.throwIfDisposed(),_I(this)};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.euclideanNorm=function(t,e){return this.throwIfDisposed(),xI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.exp=function(){return this.throwIfDisposed(),no(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.expandDims=function(t){return this.throwIfDisposed(),Kr(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.expm1=function(){return this.throwIfDisposed(),CI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.fft=function(){return this.throwIfDisposed(),Ay(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.flatten=function(){return this.throwIfDisposed(),Ne(this,[this.size])};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.floor=function(){return this.throwIfDisposed(),Vm(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.floorDiv=function(t){return this.throwIfDisposed(),O6(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.gather=function(t,e,n){return this.throwIfDisposed(),Hm(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.greaterEqual=function(t){return this.throwIfDisposed(),ic(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.greater=function(t){return this.throwIfDisposed(),Da(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.ifft=function(){return this.throwIfDisposed(),h0(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.irfft=function(){return this.throwIfDisposed(),J6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.isFinite=function(){return this.throwIfDisposed(),SI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.isInf=function(){return this.throwIfDisposed(),TI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.isNaN=function(){return this.throwIfDisposed(),kI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.leakyRelu=function(t){return this.throwIfDisposed(),_y(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.lessEqual=function(t){return this.throwIfDisposed(),Sd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.less=function(t){return this.throwIfDisposed(),l0(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.localResponseNormalization=function(t,e,n,s){return this.throwIfDisposed(),$I(this,t,e,n,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logSigmoid=function(){return this.throwIfDisposed(),EI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logSoftmax=function(t){return this.throwIfDisposed(),V6(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logSumExp=function(t,e){return this.throwIfDisposed(),xy(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.log=function(){return this.throwIfDisposed(),ko(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.log1p=function(){return this.throwIfDisposed(),wy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logicalAnd=function(t){return this.throwIfDisposed(),Oi(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logicalNot=function(){return this.throwIfDisposed(),Cy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logicalOr=function(t){return this.throwIfDisposed(),H6(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.logicalXor=function(t){return this.throwIfDisposed(),II(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.matMul=function(t,e,n){return this.throwIfDisposed(),Dn(this,t,e,n)};rt().prototype.maxPool=function(t,e,n,s){return this.throwIfDisposed(),Sy(this,t,e,n,s)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.max=function(t,e){return this.throwIfDisposed(),Yo(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.maximum=function(t){return this.throwIfDisposed(),du(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.mean=function(t,e){return this.throwIfDisposed(),qs(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.min=function(t,e){return this.throwIfDisposed(),i0(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.minimum=function(t){return this.throwIfDisposed(),ad(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.mirrorPad=function(t,e){return this.throwIfDisposed(),AI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.mod=function(t){return this.throwIfDisposed(),DI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.mul=function(t){return this.throwIfDisposed(),Ie(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.neg=function(){return this.throwIfDisposed(),bs(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.norm=function(t,e,n){return this.throwIfDisposed(),zm(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.notEqual=function(t){return this.throwIfDisposed(),Wh(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.oneHot=function(t,e=1,n=0){return this.throwIfDisposed(),u0(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.onesLike=function(){return this.throwIfDisposed(),$o(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.pad=function(t,e){return this.throwIfDisposed(),lc(this,t,e)};rt().prototype.pool=function(t,e,n,s,r,a){return this.throwIfDisposed(),OI(this,t,e,n,s,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.pow=function(t){return this.throwIfDisposed(),Wu(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.prelu=function(t){return this.throwIfDisposed(),$y(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.prod=function(t,e){return this.throwIfDisposed(),RI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.reciprocal=function(){return this.throwIfDisposed(),WI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.relu=function(){return this.throwIfDisposed(),yl(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.relu6=function(){return this.throwIfDisposed(),j6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.reshapeAs=function(t){return this.throwIfDisposed(),Ne(this,t.shape)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.reshape=function(t){return this.throwIfDisposed(),Ne(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.resizeBilinear=function(t,e,n){return this.throwIfDisposed(),Nq(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.resizeNearestNeighbor=function(t,e,n){return this.throwIfDisposed(),Aq(this,t,e,n)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.reverse=function(t){return this.throwIfDisposed(),Zo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.rfft=function(){return this.throwIfDisposed(),Dy(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.round=function(){return this.throwIfDisposed(),G6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.rsqrt=function(){return this.throwIfDisposed(),q6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.selu=function(){return this.throwIfDisposed(),K6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.separableConv2d=function(t,e,n,s,r,a){return this.throwIfDisposed(),X6(this,t,e,n,s,r,a)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sigmoid=function(){return this.throwIfDisposed(),nl(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sign=function(){return this.throwIfDisposed(),jI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sin=function(){return this.throwIfDisposed(),Y6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sinh=function(){return this.throwIfDisposed(),Q6(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.slice=function(t,e){return this.throwIfDisposed(),jn(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.softmax=function(t){return this.throwIfDisposed(),Ny(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.softplus=function(){return this.throwIfDisposed(),yf(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.spaceToBatchND=function(t,e){return this.throwIfDisposed(),ky(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.split=function(t,e){return this.throwIfDisposed(),Ka(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sqrt=function(){return this.throwIfDisposed(),ta(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.square=function(){return this.throwIfDisposed(),is(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.squaredDifference=function(t){return this.throwIfDisposed(),ex(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.squeeze=function(t){return this.throwIfDisposed(),kd(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.stack=function(t,e){this.throwIfDisposed();const n=t instanceof Xn?[this,t]:[this,...t];return Ea(n,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.step=function(t){return this.throwIfDisposed(),_f(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.stridedSlice=function(t,e,n,s,r,a,o,i){return this.throwIfDisposed(),GI(this,t,e,n,s,r,a,o,i)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sub=function(t){return this.throwIfDisposed(),jt(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.sum=function(t,e){return this.throwIfDisposed(),Xt(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.tan=function(){return this.throwIfDisposed(),qI(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.tanh=function(){return this.throwIfDisposed(),Hh(this)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.tile=function(t){return this.throwIfDisposed(),Wo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.toBool=function(){return this.throwIfDisposed(),Nt(this,"bool")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.toFloat=function(){return this.throwIfDisposed(),Nt(this,"float32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.toInt=function(){return this.throwIfDisposed(),Nt(this,"int32")};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.topk=function(t,e){return this.throwIfDisposed(),YI(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.transpose=function(t){return this.throwIfDisposed(),Un(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.unique=function(t){return this.throwIfDisposed(),QI(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.unsortedSegmentSum=function(t,e){return this.throwIfDisposed(),sx(this,t,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.unstack=function(t){return this.throwIfDisposed(),Jo(this,t)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.where=function(t,e){return this.throwIfDisposed(),Pr(t,this,e)};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */rt().prototype.zerosLike=function(){return this.throwIfDisposed(),qn(this)};/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class kl extends Error{constructor(e){super(e),Object.setPrototypeOf(this,kl.prototype)}}class Si extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Si.prototype)}}class De extends Error{constructor(e){super(e),Object.setPrototypeOf(this,De.prototype)}}class Tn extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Tn.prototype)}}class BN extends Error{constructor(e){super(e),Object.setPrototypeOf(this,BN.prototype)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class NK{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let n;return this.cache.has(e)&&(n=this.cache.get(e),this.cache.delete(e),this.cache.set(e,n)),n}put(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const s=this.cache.keys().next().value;this.cache.delete(s)}this.cache.set(e,n)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let n=0;n<this.maxEntries-e;n++){const s=this.cache.keys().next().value;this.cache.delete(s)}this.maxEntries=e}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function qh(t,e){if(Array.isArray(t)){let n=[];for(let s=0;s<e;s++)n=n.concat(t);return n}else{const n=new Array(e);return n.fill(t),n}}function $l(t,e){if(!t)throw new BN(e)}function SP(t,e){let n=0;for(const s of t)s===e&&n++;return n}function Fa(t){return t.length===1?t[0]:t}function cs(t){return Array.isArray(t)?t:[t]}function bu(t){const n=t.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return n[0]!=="_"?n:"private"+n}function Jd(t){return t.length<=1||t.indexOf("_")===-1?t:t.replace(/[_]+(\w|$)/g,(e,n)=>n.toUpperCase())}let ri={};function zN(t){if(t==null)return null;const e={};return e.className=t.getClassName(),e.config=t.getConfig(),e}function tk(t){if(!(t==null||typeof t!="object"))if(Array.isArray(t))t.forEach(e=>tk(e));else{const e=Object.keys(t);for(const n of e){const s=t[n];s!=null&&typeof s=="object"&&(!Array.isArray(s)&&s.type==="ndarray"&&typeof s.value=="number"?t[n]=s.value:tk(s))}}}function Py(t,e={},n={},s="object",r=!1){if(typeof t=="string"){const a=t;let o;if(a in n)o=n[a];else if(a in ri)o=ri[a];else if(o=e[a],o==null)throw new De(`Unknown ${s}: ${t}. This may be due to one of the following reasons:
1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return o}else{const a=t;if(a.className==null||a.config==null)throw new De(`${s}: Improper config format: ${JSON.stringify(a)}.
'className' and 'config' must set.`);const o=a.className;let i,l;if(o in n?[i,l]=n[o]:o in ri?[i,l]=ri.className:o in e&&([i,l]=e[o]),i==null)throw new De(`Unknown ${s}: ${o}. This may be due to one of the following reasons:
1. The ${s} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.
2. The custom ${s} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(l!=null){const u={};for(const f of Object.keys(ri))u[f]=ri[f];for(const f of Object.keys(n))u[f]=n[f];const c=a.config;c.customObjects=u;const d=Object.assign({},ri);for(const f of Object.keys(n))ri[f]=n[f];tk(a.config);const h=l(i,a.config,n,r);return ri=Object.assign({},d),h}else{const u=Object.assign({},ri);for(const d of Object.keys(n))ri[d]=n[d];const c=new i(a.config);return ri=Object.assign({},u),c}}}function n_t(t,e){return t<e?-1:t>e?1:0}function Xb(t,e){return-1*n_t(t,e)}function Gc(t){if(t==null)return t;const e=[];for(const n of t)e.indexOf(n)===-1&&e.push(n);return e}function s_t(t){if(t==null)throw new De(`Invalid value in obj: ${JSON.stringify(t)}`);for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}function xf(t,e,n){if(n!=null&&t.indexOf(n)<0)throw new De(`${n} is not a valid ${e}.  Valid values are ${t} or null/undefined.`)}function VN(t,e,n=0,s=1/0){return $l(n>=0),$l(s>=n),Array.isArray(t)&&t.length>=n&&t.length<=s&&t.every(r=>typeof r===e)}function Rr(t,e){Array.isArray(t)?(ae(t.length>0,()=>`${e} is unexpectedly an empty array.`),t.forEach((n,s)=>Rr(n,`element ${s+1} of ${e}`))):ae(Number.isInteger(t)&&t>0,()=>`Expected ${e} to be a positive integer, but got ${AK(t)}.`)}function AK(t){return t===null?"null":Array.isArray(t)?"["+t.map(e=>AK(e)).join(",")+"]":typeof t=="string"?`"${t}"`:`${t}`}function r_t(t,e,n){let s=n!=null?n():qr(),r;return(...o)=>{const i=n!=null?n():qr();return i-s<e||(s=i,r=t(...o)),r}}function DK(t){return t==="relu"?"relu":t==="linear"?"linear":t==="elu"?"elu":null}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let a_t=0;function OK(){return a_t++}const Yb={};function bx(t=""){return t in Yb||(Yb[t]=0),Yb[t]+=1,t+Yb[t].toString()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const o_t=["channelsFirst","channelsLast"],i_t=["nearest","bilinear"],l_t=["valid","same","causal"],u_t=["max","avg"],c_t=["sum","mul","concat","ave"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Xf=new Map;function ur(t){xf(o_t,"DataFormat",t)}function d_t(t){xf(i_t,"InterpolationFormat",t)}function ti(t){xf(l_t,"PaddingMode",t)}function RK(t){xf(u_t,"PoolMode",t)}const D2=[],TP="/";function xh(t,e){D2.push(t);try{const n=e();return D2.pop(),n}catch(n){throw D2.pop(),n}}function h_t(){return D2.length===0?"":D2.join(TP)+TP}function LK(t){if(!MK(t))throw new Error("Not a valid tensor name: '"+t+"'");return h_t()+t}function PK(t){if(!MK(t))throw new Error("Not a valid tensor name: '"+t+"'");Xf.has(t)||Xf.set(t,0);const e=Xf.get(t);if(Xf.set(t,Xf.get(t)+1),e>0){const n=`${t}_${e}`;return Xf.set(n,1),n}else return t}const f_t=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function MK(t){return!!t.match(f_t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function p_t(t){return t===parseInt(t.toString(),10)}function qc(t,e,n){e==null&&(e=0),n==null&&(n=t.length);let s=1;for(let r=e;r<n;++r)s*=t[r];return s}function f0(t){if(t.length===0)return Number.NaN;let e=Number.POSITIVE_INFINITY;for(let n=0;n<t.length;n++){const s=t[n];s<e&&(e=s)}return e}function od(t){if(t.length===0)return Number.NaN;let e=Number.NEGATIVE_INFINITY;for(let n=0;n<t.length;n++){const s=t[n];s>e&&(e=s)}return e}function ll(t,e){if(e<t)throw new De(`end (${e}) < begin (${t}) is forbidden.`);const n=[];for(let s=t;s<e;++s)n.push(s);return n}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let SC;function kr(){return SC==null&&(SC=IG().epsilon()),SC}function ul(){return"channelsLast"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Hl(t,e){return Nt(t,e)}function My(t,e=-1){const n=t.shape.slice();return e<0&&(e=n.length+e+1),n.splice(e,0,1),Ne(t,n)}function m_t(t,e){return Ve(()=>{if(t.shape.length!==2)throw new De(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);const n=My(t,1);return nk(n,[1,e,1])})}function g_t(t){const e=[qc(t.shape)];return Ne(t,e)}function v_t(t){if(t.rank<=1)throw new De(`batchFlatten requires a minimum rank of 2. Got rank: ${t.rank}.`);const e=[t.shape[0],qc(t.shape,1)];return Ne(t,e)}function Ch(t,e,n){return Ve(()=>{switch(t.rank){case 1:return Ey(t,e,n);case 2:return Z6(t,[e,0],[n,t.shape[1]]);case 3:return Iy(t,[e,0,0],[n,t.shape[1],t.shape[2]]);case 4:return d0(t,[e,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3]]);case 5:return jn(t,[e,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4]]);case 6:return jn(t,[e,0,0,0,0,0],[n,t.shape[1],t.shape[2],t.shape[3],t.shape[4],t.shape[5]]);default:throw new De(`sliceAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}})}function TC(t,e,n){return Ve(()=>{switch(t.rank){case 1:return Ey(t,e,n);case 2:return Z6(t,[0,e],[t.shape[0],n]);case 3:return Iy(t,[0,0,e],[t.shape[0],t.shape[1],n]);case 4:return d0(t,[0,0,0,e],[t.shape[0],t.shape[1],t.shape[2],n]);default:throw new De(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function Qb(t,e,n,s){return Ve(()=>{switch(t.rank){case 1:return Ey(t,e,n);case 2:switch(s){case 1:return Ch(t,e,n);case 2:return TC(t,e,n);default:throw new De(`The axis is not within the rank of the tensor ${s}`)}case 3:switch(s){case 1:return Ch(t,e,n);case 2:return Iy(t,[0,e,0],[t.shape[0],n,t.shape[2]]);case 3:return TC(t,e,n);default:throw new De(`The axis is not within the rank of the tensor ${s}`)}case 4:switch(s){case 1:return Ch(t,e,n);case 2:return d0(t,[0,e,0,0],[t.shape[0],n,t.shape[2],t.shape[3]]);case 3:return d0(t,[0,0,e,0],[t.shape[0],t.shape[1],n,t.shape[3]]);case 4:return TC(t,e,n);default:throw new De(`The axis is not within the rank of the tensor ${s}`)}default:throw new De(`sliceAlongLastAxis() received an unsupported tensor rank: ${t.rank}`)}})}function HN(t,e=-1){let n;return e<0&&(n=t[0].rank,n!==0?e=n:e=0),e===t[0].rank&&(e=-1),rr(t,e)}function kP(t,e){switch(t.rank){case 1:return uI([t,e]);case 2:return cI([t,e],0);case 3:return dI([t,e],0);case 4:return hI([t,e],0);default:throw new De(`concatAlongFirstAxis() received an unsupported tensor rank: ${t.rank}`)}}function nk(t,e){if(Array.isArray(e)||(e=[e]),t.rank!==e.length)throw new De(`The length of input n (${e.length}) does not match the number of dimensions in input x (${t.rank})`);return Wo(t,e)}function _x(t,e=0,n=1,s,r){return W6(t,e,n,s,r)}function Ul(t,e,n,s){if(t.rank<2||e.rank<2)throw new Tn(`dot requires both inputs to be rank >= 2 but got x shape = ${t.shape} and y shape = ${e.shape}`);if(e.rank>=3){const r=t.shape.slice(-1)[0],a=e.shape.slice(-2)[0];if(r!==a)throw new Tn(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${t.shape} and  y shape = ${e.shape}`)}if(t.rank===2&&e.rank===2)return YT({a:t,b:e,transposeA:!1,transposeB:!1,bias:s?sk(t.rank,s,ul()):null,activation:n});{const r=t.shape.slice(),a=r.pop();t=Ne(t,[-1,a]);const o=e.shape.slice(),i=o.pop(),l=o.pop(),u=[...o,i],c=Array.from({length:e.rank},(p,m)=>m===0?e.rank-2:m<=e.rank-2?m-1:m);e=Ne(Un(e,c),[l,-1]);const d=[...r,...u];return Ne(YT({a:t,b:e,transposeA:!1,transposeB:!1,bias:s?sk(t.rank,s,ul()):null,activation:n}),d)}}function FK(t,e,n){return Ve(()=>(Array.isArray(e)?e=Zr(e,"int32"):e=Nt(e,"int32"),Hm(t,e,n)))}function Fy(t){return Ie(t,t)}function sk(t,e,n){const s=e.shape;if(e.rank!==1&&e.rank!==t)throw new De(`Unexpected bias dimensions: ${e.rank}; expected it to be 1 or ${t}`);if(t===5){if(n==="channelsFirst")return s.length===1?Ne(e,[1,s[0],1,1,1]):Ne(e,[1,s[3],s[0],s[1],s[2]]);if(n==="channelsLast")return s.length===1?Ne(e,[1,1,1,1,s[0]]):Ne(e,[1].concat(s))}else if(t===4){if(n==="channelsFirst")return s.length===1?Ne(e,[1,s[0],1,1]):Ne(e,[1,s[2],s[0],s[1]]);if(n==="channelsLast")return s.length===1?Ne(e,[1,1,1,s[0]]):Ne(e,[1].concat(s))}else if(t===3){if(n==="channelsFirst")return s.length===1?Ne(e,[1,s[0],1]):Ne(e,[1,s[1],s[0]]);if(n==="channelsLast")return s.length===1?Ne(e,[1,1,s[0]]):Ne(e,[1].concat(s))}else if(t<3)return e;throw new De(`Unsupported input rank by biasAdd: ${e.rank}`)}function bl(t,e,n){return Ve(()=>(n==null&&(n=ul()),ur(n),mt(t,sk(t.rank,e,n))))}function y_t(t,e=1){if(e!==1)throw new Tn(`Support for alpha values other than 1 (${e}) is not implemented yet.`);return Bm(t)}function b_t(t){return Ve(()=>tn(t,mt(fr(t),1)))}function BK(t,e,n,s){return Ve(()=>eN(t,e,n,s))}function __t(t){return Ve(()=>{const e=mt(.5,Ie(.2,t));return to(e,0,1)})}function By(t,e,n=!1){return n?t():e()}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const w_t=["fanIn","fanOut","fanAvg"],x_t=["normal","uniform","truncatedNormal"];/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function C_t(t){xf(w_t,"FanMode",t)}function S_t(t){xf(x_t,"Distribution",t)}class Mi extends wf{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class UN extends Mi{apply(e,n){return mr(e,n)}}UN.className="Zeros";bt(UN);class wx extends Mi{apply(e,n){return Wa(e,n)}}wx.className="Ones";bt(wx);class WN extends Mi{constructor(e){if(super(),typeof e!="object")throw new De(`Expected argument of type ConstantConfig but got ${e}`);if(e.value===void 0)throw new De(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Ve(()=>Ie(on(this.value),Wa(e,n)))}getConfig(){return{value:this.value}}}WN.className="Constant";bt(WN);class jN extends Mi{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Td(e,this.minval,this.maxval,n,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}jN.className="RandomUniform";bt(jN);class GN extends Mi{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Tn(`randomNormal does not support dType ${n}.`);return _x(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}GN.className="RandomNormal";bt(GN);class qN extends Mi{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Tn(`truncatedNormal does not support dType ${n}.`);return nx(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}qN.className="TruncatedNormal";bt(qN);class KN extends Mi{constructor(e){super(),this.gain=e.gain!=null?e.gain:1}apply(e,n){return Ve(()=>{if(e.length!==2||e[0]!==e[1])throw new De("Identity matrix initializer can only be used for 2D square matrices.");return Ie(this.gain,B6(e[0]))})}getConfig(){return{gain:this.gain}}}KN.className="Identity";bt(KN);function T_t(t,e="channelsLast"){let n,s;if(ur(e),t.length===2)n=t[0],s=t[1];else if([3,4,5].indexOf(t.length)!==-1){if(e==="channelsFirst"){const r=qc(t,2);n=t[1]*r,s=t[0]*r}else if(e==="channelsLast"){const r=qc(t,0,t.length-2);n=t[t.length-2]*r,s=t[t.length-1]*r}}else{const r=qc(t);n=Math.sqrt(r),s=Math.sqrt(r)}return[n,s]}class so extends Mi{constructor(e){if(super(),e.scale<0)throw new De(`scale must be a positive float. Got: ${e.scale}`);this.scale=e.scale==null?1:e.scale,this.mode=e.mode==null?"fanIn":e.mode,C_t(this.mode),this.distribution=e.distribution==null?"normal":e.distribution,S_t(this.distribution),this.seed=e.seed}apply(e,n){const s=T_t(e),r=s[0],a=s[1];let o=this.scale;if(this.mode==="fanIn"?o/=Math.max(1,r):this.mode==="fanOut"?o/=Math.max(1,a):o/=Math.max(1,(r+a)/2),this.distribution==="normal"){const i=Math.sqrt(o);if(n=n||"float32",n!=="float32"&&n!=="int32")throw new Tn(`${this.getClassName()} does not support dType ${n}.`);return nx(e,0,i,n,this.seed)}else{const i=Math.sqrt(3*o);return Td(e,-i,i,n,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}so.className="VarianceScaling";bt(so);class xx extends so{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return so.className}}xx.className="GlorotUniform";bt(xx);class Cx extends so{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return so.className}}Cx.className="GlorotNormal";bt(Cx);class Sx extends so{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return so.className}}Sx.className="HeNormal";bt(Sx);class Tx extends so{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return so.className}}Tx.className="HeUniform";bt(Tx);class kx extends so{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:e==null?null:e.seed})}getClassName(){return so.className}}kx.className="LeCunNormal";bt(kx);class $x extends so{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:e==null?null:e.seed})}getClassName(){return so.className}}$x.className="LeCunUniform";bt($x);class XN extends Mi{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=e.gain==null?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,n){return Ve(()=>{if(e.length<2)throw new Tn("Shape must be at least 2D.");if(n!=="int32"&&n!=="float32"&&n!==void 0)throw new TypeError(`Unsupported data type ${n}.`);n=n;const s=tt(e.slice(0,-1)),r=e[e.length-1],a=s*r;a>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${a}) elements: Slowness may result.`);const o=[Math.max(r,s),Math.min(r,s)],i=_x(o,0,1,n,this.seed),l=rN.qr(i,!1);let u=l[0];const d=l[1].flatten().stridedSlice([0],[Math.min(r,s)*Math.min(r,s)],[Math.min(r,s)+1]);return u=Ie(u,d.sign()),s<r&&(u=u.transpose()),Ie(on(this.gain),u.reshape(e))})}getConfig(){return{gain:this.gain,seed:this.seed}}}XN.className="Orthogonal";bt(XN);const $P={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function EP(t,e={}){return Py(t,Vo.getMap().classNameMap,e,"initializer")}function Ks(t){return zN(t)}function Ps(t){if(typeof t=="string"){const e=t in $P?$P[t]:t;if(e==="GlorotNormal")return new Cx;if(e==="GlorotUniform")return new xx;if(e==="HeNormal")return new Sx;if(e==="HeUniform")return new Tx;if(e==="LeCunNormal")return new kx;if(e==="LeCunUniform")return new $x;{const n={};return n.className=e,n.config={},EP(n)}}else return t instanceof Mi?t:EP(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function rk(t){return Array.isArray(t)&&Array.isArray(t[0])}function F3(t){return t.length===0?[]:Array.isArray(t[0])?t:[t]}function mn(t){let e;if(Array.isArray(t)){if(t.length!==1)throw new De(`Expected Tensor length to be 1; got ${t.length}`);e=t[0]}else e=t;return e}function es(t){if(Array.isArray(t)&&Array.isArray(t[0])){if(t.length===1)return t=t,t[0];throw new De(`Expected exactly 1 Shape; got ${t.length}`)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function B3(t){let e=0;for(const n of t)n.shape.length===0?e+=1:e+=n.shape.reduce((s,r)=>s*r);return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const IP="Variable";class zK{constructor(e,n="float32",s=IP,r=!0,a=null){this.dtype=n??"float32",this.shape=e.shape,this.id=OK(),s=s??IP,this.originalName=LK(s),this.name=PK(this.originalName),this.trainable_=r,this.constraint=a,this.val=ZI(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),k_t(this.val,e),this.val.id!==e.id&&(this.val.assign(e),this.constraint!=null&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function k_t(t,e){if(t.shape.toString()!==e.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(t.shape)+" vs. "+JSON.stringify(e.shape))}function ak(t){return t.map(e=>e.read())}function YN(t){t.forEach(e=>{e[0].write(e[1])})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class gr{constructor(e){this.dtype=e.dtype,this.shape=e.shape,e.shape!=null?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class cl{constructor(e,n,s,r,a,o,i){this.dtype=e,this.shape=n,this.sourceLayer=s,this.inputs=r,this.callArgs=a,this.outputTensorIndex=i,this.id=OK(),o!=null&&(this.originalName=LK(o),this.name=PK(this.originalName)),this.rank=n.length}}let $_t=0,Ex=class{constructor(e,n){this.callArgs=n,this.id=$_t++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const s of e.inboundLayers)s!=null&&s.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)n!=null?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}},E_t=0;class Ln extends wf{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=E_t++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const s=this.getClassName();n=bu(s)+"_"+bx(s)}if(this.name=n,this.trainable_=e.trainable==null?!0:e.trainable,e.inputShape!=null||e.batchInputShape!=null){let s;if(e.batchInputShape!=null)s=e.batchInputShape;else if(e.inputShape!=null){let a=null;e.batchSize!=null&&(a=e.batchSize),s=[a].concat(e.inputShape)}this.batchInputShape=s;let r=e.dtype;r==null&&(r=e.inputDType),r==null&&(r="float32"),this.dtype=r}e.weights!=null?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(this.inboundNodes.length===0)throw new Si(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new De(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return Fa(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return Fa(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new kl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(this.inboundNodes.length===0)throw new kl(`Layer ${this.name} is not connected, no input to return.`);return Fa(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(this.inboundNodes.length===0)throw new kl(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new kl(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Fa(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map(e=>e())}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach(n=>n.trainable=e),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter(e=>e.trainable):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter(e=>!e.trainable).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const n=cs(e);if(this.inputSpec==null||this.inputSpec.length===0)return;const s=cs(this.inputSpec);if(n.length!==s.length)throw new De(`Layer ${this.name} expects ${s.length} inputs, but it received ${n.length} input tensors. Input received: ${e}`);for(let r=0;r<n.length;r++){const a=n[r],o=s[r];if(o==null)continue;const i=a.rank;if(o.ndim!=null&&i!==o.ndim)throw new De(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${i}`);if(o.maxNDim!=null&&i>o.maxNDim)throw new De(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${i}`);if(o.minNDim!=null&&i<o.minNDim)throw new De(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${i}.`);if(o.dtype!=null&&a.dtype!==o.dtype)throw new De(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${a.dtype}.`);if(o.axes){const l=a.shape;for(const u in o.axes){const c=Number(u),d=o.axes[u],h=c>=0?l[c]:l[l.length+c];if(d!=null&&[d,null].indexOf(h)===-1)throw new De(`Input ${r} is incompatible with layer ${this.name}: expected axis ${c} of input shape to have value ${d} but got shape ${l}.`)}}if(o.shape!=null)for(let l=0;l<o.shape.length;++l){const u=o.shape[l],c=a.shape[l];if(u!=null&&c!=null&&u!==c)throw new De(`Input ${r} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${a.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){this._callHook!=null&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const s=cs(e),r=A_t(e),a=D_t(e);if(r===a)throw new De("Arguments to apply() must be all SymbolicTensors or all Tensors");return xh(this.name,()=>{if(!this.built){this.assertInputCompatibility(e);const o=[];for(const i of cs(e))o.push(i.shape);this.build(Fa(o)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),this._refCount===null&&a&&(this._refCount=1)}if(this.assertInputCompatibility(e),a){let o=this.call(e,n);this.supportsMasking&&this.setMaskMetadata(e,o);const i=cs(o),l=[];for(let u of i)s.indexOf(u)!==-1&&(u=u.clone()),l.push(u);if(o=Fa(l),this.activityRegularizer!=null)throw new Tn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}else{const o=I_t(e),i=this.computeOutputShape(o);let l;const u=N_t(e);if(this.warnOnIncompatibleInputShape(Array.isArray(e)?o[0]:o),i!=null&&i.length>0&&Array.isArray(i[0])?l=i.map((c,d)=>new cl(u,c,this,cs(e),n,this.name,d)):l=new cl(u,i,this,cs(e),n,this.name),this.addInboundNode(e,l,null,null,o,i,n),this._refCount++,this.activityRegularizer!=null)throw new Tn("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return l}})}warnOnIncompatibleInputShape(e){if(this.batchInputShape!=null)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach((s,r)=>{s!=null&&e[r]!=null&&e[r]!==s&&(n=!0)}),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(this.inboundNodes==null||this.inboundNodes.length===0)throw new kl(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const s=JSON.stringify(n.outputShapes);e.indexOf(s)===-1&&e.push(s)}if(e.length===1){const n=this.inboundNodes[0].outputShapes;return Array.isArray(n)&&Array.isArray(n[0])&&n.length===1?n[0]:n}else throw new kl(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Si(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return B3(this.weights)}build(e){this.built=!0}getWeights(e=!1){return ak(e?this.trainableWeights:this.weights)}setWeights(e){Ve(()=>{const n=this.weights;if(n.length!==e.length)throw new De(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(n.length===0)return;const s=[],r=ak(n);for(let a=0;a<r.length;++a){const o=r[a],i=n[a],l=e[a];if(!Bn(o.shape,l.shape))throw new De(`Layer weight shape ${o.shape} not compatible with provided weight shape ${l.shape}`);s.push([i,l])}YN(s)})}addWeight(e,n,s,r,a,o,i,l){if(this._addedWeightNames.indexOf(e)!==-1)throw new De(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),s==null&&(s="float32"),this.fastWeightInitDuringBuild&&(r=l!=null?l():Ps("zeros"));const u=r.apply(n,s),c=new zK(u,s,e,o,i);return u.dispose(),a!=null&&this.addLoss(()=>a.apply(c.read())),o==null&&(o=!0),o?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){e==null||Array.isArray(e)&&e.length===0||(e=cs(e),this._losses!==void 0&&this._losses!==null&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(n!=null)if(Array.isArray(n))n.forEach(s=>{if(s!=null)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)});else throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);return null}return n}setMaskMetadata(e,n,s){if(!this.supportsMasking)return;const r=this.computeMask(e,s);if(n instanceof Array&&r instanceof Array){if(n.length!==r.length)throw new Error(`${this.name} outputs ${n.length} tensors but ${r.length} masks for those tensors`);for(let a=0;a<n.length;a++)n[a].kerasMask=r[a]}else{if(r instanceof Array)throw new Error(`{this.name} outputs a single tensor but ${r.length} masks`);if(n instanceof Array)throw new Error(`{this.name} outputs ${n.length} tensors but only one mask`);n.kerasMask=r}}addInboundNode(e,n,s,r,a,o,i=null){const l=cs(e);n=cs(n),s=cs(s),r=cs(r),a=F3(a),o=F3(o);const u=[],c=[],d=[];for(const h of l)u.push(h.sourceLayer),c.push(h.nodeIndex),d.push(h.tensorIndex);new Ex({outboundLayer:this,inboundLayers:u,nodeIndices:c,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:s,outputMasks:r,inputShapes:a,outputShapes:o},i);for(let h=0;h<n.length;h++)n[h].sourceLayer=this,n[h].nodeIndex=this.inboundNodes.length-1,n[h].tensorIndex=h}getConfig(){const e={name:this.name,trainable:this.trainable};return this.batchInputShape!=null&&(e.batchInputShape=this.batchInputShape),this.dtype!=null&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach(e=>e.dispose()),this.weights.length}assertNotDisposed(){if(this._refCount===0)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(this._refCount===null)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return--this._refCount===0&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function I_t(t){t=cs(t);const e=[];for(const n of t)e.push(n.shape);return Fa(e)}function N_t(t){return"float32"}function VK(t,e,n){if((e==null||n!=null&&n>0)&&(e=t.sourceLayer,n=t.nodeIndex),e.inboundNodes.length===0)return[t];{const s=e.inboundNodes[n];if(s.inboundLayers.length===0)return s.inputTensors;{const r=[];for(let a=0;a<s.inboundLayers.length;a++){const o=s.inputTensors[a],i=s.inboundLayers[a],l=s.nodeIndices[a],u=VK(o,i,l);for(const c of u)r.indexOf(c)===-1&&r.push(c)}return r}}}function A_t(t){let e=!0;for(const n of cs(t))if(!(n instanceof cl)){e=!1;break}return e}function D_t(t){let e=!0;for(const n of cs(t))if(n instanceof cl){e=!1;break}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class jm extends Ln{constructor(e){if(super({dtype:e.dtype,name:e.name!=null?e.name:bx("input").toString()}),e.batchSize==null&&(e.batchSize=null),e.sparse==null&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,e.inputShape!=null&&e.batchInputShape!=null)throw new De("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(n==null){if(e.inputShape==null)throw new De("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(e.batchSize!=null)throw new De("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const s=e.dtype||"float32";this.batchInputShape=n,this.dtype=s,this.inputSpec=[{shape:n}];const r=new cl(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new Ex({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new De(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}jm.className="InputLayer";bt(jm);function HK(t){if(t.batchShape==null&&t.shape==null)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(t.batchShape!=null&&t.shape!=null)throw new De("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let e=t.batchShape;t.shape!=null&&e==null&&(e=[null].concat(t.shape));let n=t.dtype;return n==null&&(n="float32"),new jm({batchInputShape:e,name:t.name,dtype:n,sparse:t.sparse}).inboundNodes[0].outputTensors[0]}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function O_t(t,e){if(t.dtype==null||t.dtype===e.dtype)return e;try{return Nt(e,t.dtype)}catch{throw new De(`The dtype of the feed (${e.dtype}) can not be cast to the dtype of the key '${t.name}' (${t.dtype}).`)}}class Mc{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Mc)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(e==null)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,s){if(this.id2Value[e.id]==null)this.id2Value[e.id]=O_t(e,n),this.name2Id[e.name]=e.id,s!=null&&(this.id2Mask[e.id]=s);else throw new De(`Duplicate key: name=${e.name}, id=${e.id}`);return this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return this.id2Value[e.id]!=null}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof cl){if(this.id2Value[e.id]==null)throw new De(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}else{const n=this.name2Id[e];if(n==null)throw new De(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof cl){if(this.id2Value[e.id]==null)throw new De(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}else{const n=this.name2Id[e];if(n==null)throw new De(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){this.id2Mask!=null&&vn(this.id2Mask)}}const z3=new NK,V3=new NK;function R_t(t){z3!=null&&z3.setMaxEntries(t),V3!=null&&V3.setMaxEntries(t)}function u2(t,e,n,s){const r=n==null?!1:n.training,a=Array.isArray(t),o=a?t:[t],i=o.map(p=>p.name),l=[],u=e.names();for(const p of i)u.indexOf(p)!==-1?l.push(e.getValue(p)):l.push(null);s!=null&&(s.maxNumTensors=-1/0,s.minNumTensors=1/0);const c=i.join(",")+"|"+e.names().sort().join(",");let d=z3.get(c),h;if(d==null){const p=L_t(o,e);d=p.sorted,h=p.recipientCounts,z3.put(c,d),V3.put(c,h)}h={},r||Object.assign(h,V3.get(c));const f=new Mc(e);for(let p=0;p<d.length;++p){if(s!=null){const N=L3().numTensors;N>s.maxNumTensors&&(s.maxNumTensors=N),N<s.minNumTensors&&(s.minNumTensors=N)}const m=d[p],y=m.sourceLayer;if(y instanceof jm)continue;const v=[],b=[],w=[];let _=!1;for(const N of m.inputs){const O=f.getValue(N),L=f.getMask(N);v.push(O),b.push(L),L!=null&&(_=!0),r||(h[N.name]--,h[N.name]===0&&!e.hasKey(N)&&i.indexOf(N.name)===-1&&!O.isDisposed&&N.sourceLayer.stateful!==!0&&w.push(O))}_&&(n=n||{},n.mask=b[0]);const C=cs(y.apply(v,n));let x=null;y.supportsMasking&&(x=y.computeMask(v,b));const T=M_t(m),k=Array.isArray(T)?T:[T];for(let N=0;N<k.length;++N){f.hasKey(k[N])||f.add(k[N],C[N],Array.isArray(x)?x[0]:x);const O=i.indexOf(k[N].name);O!==-1&&(l[O]=C[N])}r||vn(w)}return f.disposeMasks(),a?l:l[0]}function L_t(t,e){ae(t!=null&&t.length>0,()=>"Expected at least one fetch, got none");let n=[],s={};if(t.length===1){const r=NP(t[0],e);n=r.sorted,s=r.recipientMap}else{const r=new Set;for(const a of t){const{sorted:o,recipientMap:i}=NP(a,e);for(const l of o)r.has(l.name)||(n.push(l),r.add(l.name));for(const l in i)s[l]==null&&(s[l]=new Set),i[l].forEach(u=>s[l].add(u))}}return{sorted:n,recipientCounts:P_t(s)}}function P_t(t){const e={};for(const n in t)e[n]=t[n].size;return e}function NP(t,e){const n=new Set,s=[],r={};for(const i of e.names())n.add(i);const a=[],o=[];for(a.push(t);a.length>0;){const i=a[a.length-1];if(n.has(i.name)){a.pop();continue}const l=o[o.length-1]===a.length-1;if(i.inputs.length===0||l)a.pop(),s.push(i),n.add(i.name),l&&o.pop();else{o.push(a.length-1);for(const u of i.inputs)r[u.name]==null&&(r[u.name]=new Set),r[u.name].add(i.name),!n.has(u.name)&&a.push(u)}}return{sorted:s,recipientMap:r}}function M_t(t){let e;if(t.sourceLayer.inboundNodes.length===1)e=t.sourceLayer.output;else{let n=null;for(let s=0;s<t.sourceLayer.inboundNodes.length;++s)for(const r of t.sourceLayer.inboundNodes[s].outputTensors)if(r.id===t.id){n=s;break}e=t.sourceLayer.getOutputAt(n)}return e}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F_t=ze();F_t.registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",()=>100,R_t);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function QN(t,e){return Ve(()=>ta(Xt(Ie(t,t),e,!0)))}class zy extends wf{getConfig(){return{}}}class ZN extends zy{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ve(()=>{const n=QN(e,this.axis),s=to(n,0,this.maxValue);return Ie(e,tn(s,mt(kr(),n)))})}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}ZN.className="MaxNorm";bt(ZN);class JN extends zy{constructor(e){super(),this.defaultAxis=0,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ve(()=>tn(e,mt(kr(),QN(e,this.axis))))}getConfig(){return{axis:this.axis}}}JN.className="UnitNorm";bt(JN);class e9 extends zy{apply(e){return yl(e)}}e9.className="NonNeg";bt(e9);class t9 extends zy{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=e.minValue!=null?e.minValue:this.defaultMinValue,this.maxValue=e.maxValue!=null?e.maxValue:this.defaultMaxValue,this.rate=e.rate!=null?e.rate:this.defaultRate,this.axis=e.axis!=null?e.axis:this.defaultAxis}apply(e){return Ve(()=>{const n=QN(e,this.axis),s=mt(Ie(this.rate,to(n,this.minValue,this.maxValue)),Ie(1-this.rate,n));return Ie(e,tn(s,mt(kr(),n)))})}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}t9.className="MinMaxNorm";bt(t9);const AP={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function $r(t){return zN(t)}function DP(t,e={}){return Py(t,Vo.getMap().classNameMap,e,"constraint")}function Er(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in AP?AP[t]:t,config:{}};return DP(n)}else return t instanceof zy?t:DP(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function B_t(t){return new ZN(t)}function z_t(t){return new JN(t)}function V_t(){return new e9}function H_t(t){return new t9(t)}const U_t=Object.freeze(Object.defineProperty({__proto__:null,maxNorm:B_t,minMaxNorm:H_t,nonNeg:V_t,unitNorm:z_t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function W_t(){return new UN}function j_t(){return new wx}function G_t(t){return new WN(t)}function q_t(t){return new jN(t)}function K_t(t){return new GN(t)}function X_t(t){return new qN(t)}function Y_t(t){return new KN(t)}function Q_t(t){return new so(t)}function Z_t(t){return new xx(t)}function J_t(t){return new Cx(t)}function e3t(t){return new Sx(t)}function t3t(t){return new Tx(t)}function n3t(t){return new kx(t)}function s3t(t){return new $x(t)}function r3t(t){return new XN(t)}const a3t=Object.freeze(Object.defineProperty({__proto__:null,constant:G_t,glorotNormal:J_t,glorotUniform:Z_t,heNormal:e3t,heUniform:t3t,identity:Y_t,leCunNormal:n3t,leCunUniform:s3t,ones:j_t,orthogonal:r3t,randomNormal:K_t,randomUniform:q_t,truncatedNormal:X_t,varianceScaling:Q_t,zeros:W_t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function Ic(t){if(t==null)return;const e=[],n=[],s=[];for(const r in t){const a=t[r];if(typeof a!="number"){const o=a;e.push(o.data()),n.push(r),s.push(o)}}if(e.length>0){const r=await Promise.all(e);for(let a=0;a<r.length;++a)t[n[a]]=r[a][0];vn(s)}}function UK(t){if(t!=null)for(const e in t){const n=t[e];typeof n!="number"&&n.dispose()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var OP;(function(t){t[t.SILENT=0]="SILENT",t[t.VERBOSE=1]="VERBOSE"})(OP||(OP={}));const o3t=125;class p0{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class WK{constructor(e,n=10){e==null&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onEpochBegin(e,n)}async onEpochEnd(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onEpochEnd(e,n)}async onBatchBegin(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onBatchBegin(e,n)}async onBatchEnd(e,n){n==null&&(n={});for(const s of this.callbacks)await s.onBatchEnd(e,n)}async onTrainBegin(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){e==null&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class i3t extends p0{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){n==null&&(n={});const s=n.size==null?0:n.size;this.seen+=s;for(const r in n){const a=n[r];if(typeof a=="number")this.totals.hasOwnProperty(r)||(this.totals[r]=0),this.totals[r]=this.totals[r]+a*s;else{let o;r in this.totals?o=this.totals[r]:this.totals[r]=0;const i=Ve(()=>mt(this.totals[r],Ie(a,s)));this.totals[r]=i,o!=null&&o.dispose()}}}async onEpochEnd(e,n){if(n!=null)for(const s of this.params.metrics)this.totals[s]!=null&&(typeof this.totals[s]=="number"?n[s]=this.totals[s]/this.seen:Ve(()=>{const r=Ie(tn(1,this.seen),this.totals[s]);n[s]=r,this.totals[s].dispose(),Tr(n[s])}))}}class jK extends p0{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){n==null&&(n={}),this.epoch.push(e);for(const s in n)this.history[s]==null&&(this.history[s]=[]),this.history[s].push(n[s])}async syncData(){const e=[],n=[],s=[];for(const a in this.history){const o=this.history[a];for(let i=0;i<o.length;++i)if(typeof o[i]!="number"){const l=o[i];e.push(l.data()),n.push(a),s.push(i)}}const r=await Promise.all(e);for(let a=0;a<r.length;++a)this.history[n[a]][s[a]].dispose(),this.history[n[a]][s[a]]=r[a][0]}}class GK extends p0{constructor(e,n){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||bN,this.yieldEvery=n||"auto",this.yieldEvery==="auto"&&(this.yieldEvery=o3t),this.yieldEvery==="never"&&e.onYield!=null)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");$3(this.yieldEvery)&&(this.maybeWait=r_t(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,s){const r=[];this.yield!=null&&(await Ic(s),r.push(this.yield(e,n,s))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,n){this.currentEpoch=e,this.epochBegin!=null&&(await Ic(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const s=[];this.epochEnd!=null&&(await Ic(n),s.push(this.epochEnd(e,n))),this.yieldEvery==="epoch"&&s.push(this.nextFrameFunc()),await Promise.all(s)}async onBatchBegin(e,n){this.batchBegin!=null&&(await Ic(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const s=[];this.batchEnd!=null&&(await Ic(n),s.push(this.batchEnd(e,n))),this.yieldEvery==="batch"?s.push(this.nextFrameFunc()):$3(this.yieldEvery)&&s.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(s)}async onTrainBegin(e){this.trainBegin!=null&&(await Ic(e),await this.trainBegin(e))}async onTrainEnd(e){this.trainEnd!=null&&(await Ic(e),await this.trainEnd(e))}}function qK(t,e){return t==null&&(t={}),t instanceof p0?[t]:Array.isArray(t)&&t[0]instanceof p0?t:cs(t).map(s=>new GK(s,e))}class Bo{constructor(){}static registerCallbackConstructor(e,n){ae(e>=0&&Number.isInteger(e),()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`),Bo.checkForDuplicate(n),Bo.constructors[e]==null&&(Bo.constructors[e]=[]),Bo.constructors[e].push(n)}static checkForDuplicate(e){for(const n in Bo.constructors)Bo.constructors[+n].forEach(r=>{if(r===e)throw new De("Duplicate callback constructor.")})}static clear(){Bo.constructors={}}static createCallbacks(e){const n=[];for(const s in Bo.constructors){const r=+s;e>=r&&n.push(...Bo.constructors[r])}return n.map(s=>new s)}}Bo.constructors={};function KK(t,e,n,s,r,a,o,i,l){const u=new jK,c=[new i3t,...Bo.createCallbacks(e)];t!=null&&c.push(...t),c.push(u);const d=new WK(c);return d.setParams({epochs:n,initialEpoch:s,samples:r,steps:a,batchSize:o,verbose:e,doValidation:i,metrics:l}),{callbackList:d,history:u}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function sl(t,e={},n=!1){return Py(t,Vo.getMap().classNameMap,e,"layer",n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function H3(t,e){return Ve(()=>{t.dtype!=="float32"&&(t=Nt(t,"float32"));const n=Xt(Fy(t),e,!0),s=vf(n.shape,kr()),r=ta(du(n,s));return tn(t,r)})}function Cf(t,e){return Ve(()=>qs(Fy(jt(e,t)),-1))}function Ix(t,e){return Ve(()=>qs(fr(jt(e,t)),-1))}function Gm(t,e){return Ve(()=>{const n=jt(t,e),s=to(fr(t),kr(),Number.MAX_VALUE),r=fr(tn(n,s));return Ie(100,qs(r,-1))})}function l3t(t,e){return Ve(()=>{const n=to(e,kr(),Number.MAX_VALUE),s=ko(mt(1,n)),r=to(t,kr(),Number.MAX_VALUE),a=ko(mt(1,r));return qs(Fy(jt(s,a)),-1)})}function u3t(t,e){return Ve(()=>{const n=du(0,jt(1,Ie(t,e)));return qs(Fy(n),-1)})}function c3t(t,e){return Ve(()=>{const n=du(0,jt(1,Ie(t,e)));return qs(n,-1)})}function d3t(t,e){return Ve(()=>{const n=Xt(Ie(t,e),-1),s=Yo(Ie(jt(1,t),e),-1);return du(0,mt(1,jt(s,n)))})}function h3t(t,e){return Ve(()=>{const n=Math.log(2),s=jt(e,t),r=jt(mt(s,yf(Ie(-2,s))),n);return qs(r,-1)})}function $1(t,e,n=!1){return Ve(()=>{if(n)e=Ny(e);else{const s=Xt(e,e.shape.length-1,!0);e=tn(e,s)}return e=to(e,kr(),1-kr()),bs(Xt(Ie(Nt(t,"float32"),ko(e)),e.shape.length-1))})}function U3(t,e,n=!1){return Ve(()=>{const s=Nt(Vm(g_t(t)),"int32");e=to(e,kr(),1-kr());const r=e.shape,a=Ne(u0(s,r[r.length-1]),r);return $1(a,e,n)})}function f3t(t,e){if(!Bn(t.shape,e.shape))throw new De(`logits and labels must have the same shape, but got shapes ${JSON.stringify(t.shape)} and ${JSON.stringify(e.shape)}`);return Ve(()=>{const n=yl(e),s=bs(fr(e));return mt(jt(n,Ie(e,t)),wy(no(s)))})}function Nx(t,e){return Ve(()=>{let n;return n=to(e,kr(),1-kr()),n=ko(tn(n,jt(1,n))),qs(f3t(t,n),-1)})}function p3t(t,e){return Ve(()=>{const n=to(t,kr(),1),s=to(e,kr(),1);return Xt(Ie(t,ko(tn(n,s))),-1)})}function m3t(t,e){return Ve(()=>{const n=ko(mt(kr(),e));return qs(jt(e,Ie(t,n)),-1)})}function n9(t,e){return Ve(()=>{const n=H3(t,-1),s=H3(e,-1),r=Ie(n,s);return bs(Xt(r,-1))})}const W3={meanSquaredError:Cf,meanAbsoluteError:Ix,meanAbsolutePercentageError:Gm,meanSquaredLogarithmicError:l3t,squaredHinge:u3t,hinge:c3t,categoricalHinge:d3t,logcosh:h3t,categoricalCrossentropy:$1,sparseCategoricalCrossentropy:U3,binaryCrossentropy:Nx,kullbackLeiblerDivergence:p3t,poisson:m3t,cosineProximity:n9};function kC(t){if(typeof t=="string"){if(t in W3)return W3[t];let e=`Unknown loss ${t}`;throw t.toLowerCase().includes("softmaxcrossentropy")&&(e=`Unknown loss ${t}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new De(e)}else return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function s9(t,e){return Ve(()=>{const n=Ie(.5,$o(e)),s=Hl(Da(e,n),t.dtype);return qs(To(t,s),-1)})}function r9(t,e){return Ve(()=>Hl(To(zh(t,-1),zh(e,-1)),"float32"))}function XK(t,e){return Ve(()=>Nt(Xt(Oi(To(t,1),To(e,1))),"float32"))}function g3t(t,e){return Ve(()=>Nt(Xt(Oi(To(t,1),To(e,0))),"float32"))}function v3t(t,e){return Ve(()=>Nt(Xt(Oi(To(t,0),To(e,1))),"float32"))}function YK(t,e){return Ve(()=>{const n=XK(t,e),s=v3t(t,e),r=mt(n,s);return Nt(Pr(Da(r,0),tn(n,r),0),"float32")})}function y3t(t,e){return Ve(()=>{const n=XK(t,e),s=g3t(t,e),r=mt(n,s);return Nt(Pr(Da(r,0),tn(n,r),0),"float32")})}function QK(t,e){return Nx(t,e)}function ZK(t,e){return t.rank===e.rank&&(t=kd(t,[t.rank-1])),e=zh(e,-1),e.dtype!==t.dtype&&(e=Nt(e,t.dtype)),Nt(To(t,e),"float32")}const b3t=Cf,_3t=Cf,w3t=Ix,x3t=Ix,C3t=Gm,S3t=Gm,a9=$1,T3t=n9,JK=U3,j3={binaryAccuracy:s9,categoricalAccuracy:r9,precision:YK,categoricalCrossentropy:a9,sparseCategoricalCrossentropy:JK,mse:b3t,MSE:_3t,mae:w3t,MAE:x3t,mape:C3t,MAPE:S3t,cosine:T3t};function k3t(t){if(typeof t=="string"&&t in j3)return j3[t];if(typeof t!="string"&&t!=null)return t;throw new De(`Unknown metric ${t}`)}function Zb(t){if($l(t!==null,`Unknown LossOrMetricFn ${t}`),typeof t=="string")return t;{let e;for(const n of Object.keys(W3))if(W3[n]===t){e=n;break}if(e!==void 0)return e;for(const n of Object.keys(j3))if(j3[n]===t){e=n;break}return e!==void 0?e:t.name}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $3t(t){const e={Adagrad:()=>Gd.adagrad(.01),Adadelta:()=>Gd.adadelta(1,.95,kr()),Adam:()=>Gd.adam(.001,.9,.999,kr()),Adamax:()=>Gd.adamax(.002,.9,.999,kr(),0),RMSProp:()=>Gd.rmsprop(.001,.9,0,kr()),SGD:()=>Gd.sgd(.01)};if(e.adagrad=e.Adagrad,e.adadelta=e.Adadelta,e.adam=e.Adam,e.adamax=e.Adamax,e.rmsprop=e.RMSProp,e.sgd=e.SGD,t in e)return e[t]();throw new De(`Unknown Optimizer ${t}`)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const RP=1*1024*1024;function LP(t,e,n=!1){if(t==null||typeof t!="object"||Object.getPrototypeOf(t)!==Object.prototype||!ok(t))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const s=JSON.stringify(t);s.length>RP&&console.warn(`User-defined metadata of model "${e}" is too large in size (length=${s.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= ${RP}.`)}}function ok(t){if(t===null)return!0;if(typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);for(const n of e)if(typeof n!="string"||!ok(t[n]))return!1;return!0}else if(Array.isArray(t)){for(const e of t)if(!ok(e))return!1;return!0}else return!1;else{const e=typeof t;return e==="string"||e==="number"||e==="boolean"}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function E3t(t,e,n,s=console.log){const r=N3t(t),a=["Layer (type)","Input Shape","Output shape","Param #"];r?(e=e||90,n=n||[.32,.61,.89,1]):(e=e||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map(c=>Math.floor(e*c)));let o;if(!r){a.push("Receives inputs"),o=[];for(const c in t.nodesByDepth)o.push(...t.nodesByDepth[c])}s("_".repeat(e)),G3(a,n,s),s("=".repeat(e));const i=t.layers;for(let c=0;c<i.length;++c)r?A3t(i[c],n,s):D3t(i[c],n,o,s),s((c===i.length-1?"=":"_").repeat(e));t.checkTrainableWeightsConsistency();const l=I3t(t),u=B3(t.nonTrainableWeights);s(`Total params: ${l+u}`),s(`Trainable params: ${l}`),s(`Non-trainable params: ${u}`),s("_".repeat(e))}function I3t(t){let e;return t.collectedTrainableWeights!=null?e=B3(t.collectedTrainableWeights):e=B3(t.trainableWeights),e}function N3t(t){let e=!0;const n=[],s=[];for(const r in t.nodesByDepth)n.push(t.nodesByDepth[r]);for(const r of n){if(r.length>1||r.length===1&&r[0].inboundLayers.length>1){e=!1;break}s.push(...r)}if(e)for(const r of t.layers){let a=!1;for(const o of r.inboundNodes)if(s.indexOf(o)!==-1)if(a){e=!1;break}else a=!0;if(!e)break}return e}function G3(t,e,n=console.log){let s="";for(let r=0;r<t.length;++r)r>0&&(s=s.slice(0,s.length-1)+" "),s+=t[r],s=s.slice(0,e[r]),s+=" ".repeat(e[r]-s.length);n(s)}function A3t(t,e,n){let s,r;try{r=t.inboundNodes.map(l=>JSON.stringify(l.inputShapes)).join(",")}catch{r="multiple"}try{s=JSON.stringify(t.outputShape)}catch{s="multiple"}const a=t.name,o=t.getClassName(),i=[`${a} (${o})`,r,s,t.countParams().toString()];G3(i,e,n)}function D3t(t,e,n,s){let r,a;try{a=t.inboundNodes.map(d=>JSON.stringify(d.inputShapes)).join(",")}catch{a="multiple"}try{r=JSON.stringify(t.outputShape)}catch{r="multiple"}const o=[];for(const d of t.inboundNodes)if(!(n!=null&&n.length>0&&n.indexOf(d)===-1))for(let h=0;h<d.inboundLayers.length;++h){const f=d.inboundLayers[h].name,p=d.nodeIndices[h],m=d.tensorIndices[h];o.push(`${f}[${p}][${m}]`)}const i=t.name,l=t.getClassName(),u=o.length===0?"":o[0],c=[`${i} (${l})`,a,r,t.countParams().toString(),u];G3(c,e,s);for(let d=1;d<o.length;++d)G3(["","","","",o[d]],e,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function eX(t,e,n){return(t==="inboundNodes"||t==="outputLayers"||t==="inputLayers")&&e===0&&typeof n=="string"}function E1(t,e){if(t===null)return null;if(typeof t=="string")return Jd(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],s=t.length;for(let r=0;r<s;++r){const a=t[r];eX(e,r,a)?n.push(a):n.push(E1(a,e))}return n}else{const n={};for(const s of Object.keys(t)){const r=t[s];if(s==="name"&&typeof r=="string")n[s]=r;else{const a=Jd(s);n[a]=E1(r,a)}}return n}}function ik(t,e){if(t==null)return null;if(typeof t=="string")return bu(t);if(typeof t=="number"||typeof t=="boolean")return t;if(t instanceof Array){const n=[],s=t.length;for(let r=0;r<s;++r){const a=t[r];eX(e,r,a)?n.push(a):n.push(ik(a,e))}return n}else{const n={};for(const s of Object.keys(t)){const r=t[s],a=bu(s);(s==="name"||s==="className")&&typeof r=="string"?n[a]=r:n[a]=ik(r,s)}return n}}/** @license See the LICENSE file. */const Ax="4.11.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const O3t=t=>{const e=Object.keys(t);if(e.length===0)return!1;const n=e[0].split("/");return!isNaN(parseInt(n[n.length-1],10))};class Gi extends Ln{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,this.name==null){const b=this.getClassName().toLowerCase();this.name=bx(b)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],Gc(this.inputs).length!==this.inputs.length)throw new De(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map(b=>b.name)}`);Gc(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map(b=>b.name)}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const b of this.outputs){const w=b.sourceLayer,_=b.nodeIndex,C=b.tensorIndex;this.outputLayers.push(w),this.outputLayersNodeIndices.push(_),this.outputLayersTensorIndices.push(C)}for(const b of this.inputs){const w=b.sourceLayer,_=b.nodeIndex,C=b.tensorIndex;$l(_===0,"input layer has >1 nodes"),$l(C===0,"input layer has >1 tensors"),this.inputLayers.push(w),this.inputLayersNodeIndices.push(_),this.inputLayersTensorIndices.push(C)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let b=0;b<this.inputLayers.length;b++){const w=this.inputLayers[b];if(!(w instanceof jm))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${b} (0-based) originates from layer type ${w.getClassName()}.`);this.inputNames.push(w.name),this.feedInputShapes.push(w.batchInputShape),this.feedInputNames.push(w.name)}for(const b of this.outputLayers)this.outputNames.push(b.name);this.internalInputShapes=this.inputs.map(b=>b.shape),this.internalOutputShapes=this.outputs.map(b=>b.shape);const n={},s={},r={},a={},o={},i=[],l=(b,w,_,C,x,T)=>{(C==null||x==null||T==null)&&(C=b.sourceLayer,x=b.nodeIndex,T=b.tensorIndex);const k=C.inboundNodes[x];if(_.indexOf(k)!==-1)throw new Si(`The tensor ${b.name} at layer "${C.name}" is part of a cycle.`);if(w.indexOf(k)!==-1)return;this.containerNodes.add(Gi.nodeKey(C,x)),C.id in o||(o[C.id]=Object.keys(o).length),_.indexOf(k)===-1&&_.push(k);const N=k.inboundLayers.length;for(let O=0;O<N;O++){const L=k.inputTensors[O],V=k.inboundLayers[O],H=k.nodeIndices[O],K=k.tensorIndices[O];l(L,w,_,V,H,K)}for(w.push(k);_.indexOf(k)>=0;)_.splice(_.indexOf(k),1);i.push(k)},u=[],c=[];for(const b of this.outputs)l(b,u,c);const d=i.slice().reverse();for(const b of d){s[b.id]=b,b.id in n||(n[b.id]=0);let w=n[b.id];const _=r[b.outboundLayer.id]==null?0:r[b.outboundLayer.id];w=Math.max(w,_),r[b.outboundLayer.id]=w,a[b.outboundLayer.id]=b.outboundLayer,n[b.id]=w;for(let C=0;C<b.inboundLayers.length;C++){const x=b.inboundLayers[C],T=b.nodeIndices[C],k=x.inboundNodes[T],N=n[k.id]==null?0:n[k.id];n[k.id]=Math.max(w+1,N),s[k.id]=k}}const h={};for(const b in n){const w=n[b];w in h||(h[w]=[]),h[w].push(s[b])}const f={};for(const b in r){const w=r[b];w in f||(f[w]=[]),f[w].push(a[b])}let p=Object.keys(f).map(b=>parseInt(b,10)).sort(Xb);this.layers=[];for(const b of p){const w=f[b];w.sort((_,C)=>{const x=o[_.id],T=o[C.id];return x<T?-1:x>T?1:0});for(const _ of w)_ instanceof Gi&&this.internalContainerRefs.push(_),this.layers.push(_)}this.layersByDepth=f,p=Object.keys(h).map(b=>parseInt(b,10)).sort(Xb);const m=this.inputs.slice(),y=[];for(const b of p)for(const w of h[b]){const _=w.outboundLayer;if(_!=null){for(const C of w.inputTensors)if(m.indexOf(C)===-1)throw new Si(`Graph disconnected: cannot obtain value for tensor ${C} at layer "${_.name}". The following previous layers were accessed without issue: ${y}`);for(const C of w.outputTensors)m.push(C);y.push(_.name)}}this.nodesByDepth=h;const v=this.layers.map(b=>b.name);for(const b of v){const w=v.filter(_=>_===b).length;if(w!==1)throw new Si(`The name "${b}" is used ${w} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(v))}this.outboundNodes=[],this.inboundNodes=[],new Ex({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map(b=>null),outputMasks:this.outputs.map(b=>null),inputShapes:this.inputs.map(b=>b.shape),outputShapes:this.outputs.map(b=>b.shape)}),this.built=!0,this._refCount=1}assertNotDisposed(){if(this._refCount===0)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(--this._refCount===0){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach(n=>{n._trainableWeights.forEach(s=>s.trainable=e)}),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new De("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const s of this.layers)n.push(...s.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const s={};let r=0;const a=O3t(e);a&&this.parseWeights(e);for(const i of this.layers)for(const[l,u]of i.weights.entries()){const c=a?`${u.name.split("/").slice(0,-1).join("/")+"/"}${l}`:u.originalName;if(s[c]!=null)throw new De(`Duplicate weight name: ${c}`);s[c]=u,r++}const o=[];for(const i in e){let l=i;if(s[i]==null){const u=i.split("/");l=u.slice(0,-2).concat([u[u.length-1]]).join("/")}if(s[l]!=null)o.push([s[l],e[i]]);else if(n)throw new De(`Provided weight data has no target variable: ${i}`);delete s[l]}if(n){const i=[];for(const l in s)i.push(l);if(i.length>0)throw new De(`${i.length} of ${r} weights are not set: ${i}`)}YN(o)}parseWeights(e){for(const n in Object.keys(e)){const s=n.split("/"),r=["vars","layer_checkpoint_dependencies"],a=s.map(o=>o.startsWith("_")?o.slice(1):o).filter(o=>!r.includes(o)).join("/");a!==n&&(e[a]=e[n],delete e[n])}}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion=`tfjs-layers ${Ax}`,n.backend="TensorFlow.js",n}toJSON(e,n=!0){const s=ik(this.updatedConfig());return n?JSON.stringify(s):s}call(e,n){return Ve(()=>{e=cs(e);const s=new Mc;for(let r=0;r<this.inputs.length;++r)s.add(this.inputs[r],e[r]);return u2(this.outputs,s,n)})}computeMask(e,n){return Ve(()=>{e=cs(e);let s;return n==null?s=qh(null,e.length):s=cs(n),this.runInternalGraph(e,s)[1]})}computeOutputShape(e){const n=F3(e);if(n.length!==this.inputLayers.length)throw new De(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const s={};for(let i=0;i<n.length;i++){const l=this.inputLayers[i],u=n[i],c=l.name+"_0_0";s[c]=u}const r=Object.keys(this.nodesByDepth).map(i=>parseInt(i,10)).sort(Xb);if(r.length>1)for(const i of r){const l=this.nodesByDepth[i];for(const u of l){const c=u.outboundLayer;if(this.inputLayers.map(m=>m.id).indexOf(c.id)!==-1)continue;const d=[];for(let m=0;m<u.inboundLayers.length;m++){const y=u.inboundLayers[m],v=u.nodeIndices[m],b=u.tensorIndices[m],w=`${y.name}_${v}_${b}`,_=s[w];d.push(_)}const h=c.computeOutputShape(Fa(d)),f=F3(h),p=c.inboundNodes.indexOf(u);for(let m=0;m<f.length;m++){const y=`${c.name}_${p}_${m}`;s[y]=f[m]}}}const a=[],o=[];for(let i=0;i<this.outputLayers.length;i++){const l=this.outputLayers[i],u=this.outputLayersNodeIndices[i],c=this.outputLayersTensorIndices[i],d=`${l.name}_${u}_${c}`;o.push(d)}for(let i=0;i<o.length;i++){const l=o[i];$l(l in s),a.push(s[l])}return Fa(a)}runInternalGraph(e,n){n==null&&(n=qh(null,e.length));const s={};for(let l=0;l<this.inputs.length;++l){const u=this.inputs[l],c=e[l],d=n[l];s[u.id]=[c,d]}const r=Object.keys(this.nodesByDepth).map(l=>parseInt(l,10)).sort(Xb);for(const l of r){const u=this.nodesByDepth[l];for(const c of u){const d=c.outboundLayer,h=c.inputTensors,f=c.outputTensors,p=new Array;for(const m of h)m.id in s&&p.push(s[m.id]);if(p.length===h.length){let m={},y,v,b,w;if(c.callArgs!=null&&(m=c.callArgs),p.length===1){const[_,C]=p[0];m.mask==null&&(m.mask=C),b=cs(d.call(_,m)),w=cs(d.computeMask(_,C)),y=[_],v=[C]}else y=p.map(_=>_[0]),v=p.map(_=>_[1]),m.mask==null&&(m.mask=v),b=cs(d.call(y,m)),w=cs(d.computeMask(y,v));if(d.activityRegularizer)throw new Tn("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let _=0;_<f.length;++_){const C=f[_],x=b[_],T=w[_];s[C.id]=[x,T]}}}}const a=[],o=[],i=[];for(const l of this.outputs){$l(l.id in s,`Could not compute output ${l.name} : ${l.id}`);const[u,c]=s[l.id];i.push(u.shape),a.push(u),o.push(c)}return[a,o,i]}buildNodeConversionMap(e){const n={};let s;for(const r of this.layers){s=r instanceof Gi?1:0;for(let a=0;a<r.inboundNodes.length;a++){const o=Gi.nodeKey(r,a);this.containerNodes.has(o)&&(n[o]=s,s+=1)}}return n}getLayer(e,n){if(n!=null)return this.findLayer(n);if(e==null)throw new De("Provide either a layer name or layer index");if(typeof e=="number")return this.findLayer(e);for(const s of this.layers)if(s.name===e)return s;throw new De(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new De(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return Ve(()=>{const e=[];for(const n of this.layers)for(let s=0;s<n.inboundNodes.length;++s){const r=Gi.nodeKey(n,s);this.containerNodes.has(r)&&e.push(...n.calculateLosses())}return e})}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),s=[];for(const o of this.layers){const i=o.getClassName(),l=o.getConfig(),u=[];for(let d=0;d<o.inboundNodes.length;d++){const h=o.inboundNodes[d],f=Gi.nodeKey(o,d);let p={};if(this.containerNodes.has(f)){if(h.callArgs)try{JSON.stringify(h.callArgs),p=h.callArgs}catch{console.warn(`Layer ${o.name} was passed non-serializable keyword arguments: ${h.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),p={}}if(h.inboundLayers.length>0){const m=[];for(let y=0;y<h.inboundLayers.length;y++){const v=h.inboundLayers[y],b=h.nodeIndices[y],w=h.tensorIndices[y],_=Gi.nodeKey(v,b);let C=n[_];C==null&&(C=0),m.push([v.name,C,w,p])}u.push(m)}}}const c={};c.name=o.name,c.className=i,c.config=l,c.inboundNodes=u,s.push(c)}e.layers=s;const r=[];for(let o=0;o<this.inputLayers.length;o++){const i=this.inputLayers[o],l=this.inputLayersNodeIndices[o],u=Gi.nodeKey(i,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const d=this.inputLayersTensorIndices[o];r.push([i.name,c,d])}e.inputLayers=r;const a=[];for(let o=0;o<this.outputLayers.length;o++){const i=this.outputLayers[o],l=this.outputLayersNodeIndices[o],u=Gi.nodeKey(i,l);if(!this.containerNodes.has(u))continue;let c=n[u];c==null&&(c=0);const d=this.outputLayersTensorIndices[o];a.push([i.name,c,d])}return e.outputLayers=a,e}static fromConfig(e,n,s={},r=!1){const a={},o={};function i(y,v){y.name in o?o[y.name].push(v):o[y.name]=[v]}function l(y,v){const b=[];let w;for(const _ of v){const C=_[0],x=_[1],T=_[2];if(w=_[3]==null?{}:_[3],!(C in a)){i(y,v);return}const k=a[C];if(k.inboundNodes.length<=x){i(y,v);return}const N=k.inboundNodes[x];b.push(N.outputTensors[T])}b.length>0&&y.apply(Fa(b),w)}function u(y){const v=y.name,b=sl(y,n.customObjects!=null?n.customObjects:{});b.setFastWeightInitDuringBuild(r),a[v]=b,y.inboundNodes.forEach(_=>{if(!(_ instanceof Array))throw new De(`Corrupted configuration, expected array for nodeData: ${_}`);i(b,_)})}const c=n.name,d=n.layers;for(const y of d)u(y);for(;!s_t(o);)for(const y of d){const v=a[y.name];if(v.name in o){const b=o[v.name];delete o[v.name];for(const w of b)l(v,w)}}const h=[],f=[],p=n.inputLayers;for(const y of p){const v=y[0],b=y[1],w=y[2];$l(v in a);const C=a[v].inboundNodes[b].outputTensors;h.push(C[w])}const m=n.outputLayers;for(const y of m){const v=y[0],b=y[1],w=y[2];$l(v in a);const C=a[v].inboundNodes[b].outputTensors;f.push(C[w])}return new e({inputs:h,outputs:f,name:c})}get stateful(){if(this._stateful)throw new De("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Ve(()=>{this.layers.forEach(e=>{e.stateful&&e.resetStates()})})}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function R3t(t,e,n){const s=e.length;if(t==null||Array.isArray(t)&&t.length===0)return e.map(r=>null);if(s===1)return Array.isArray(t)&&t.length===1?t:typeof t=="object"&&e[0]in t?[t[e[0]]]:[t];if(Array.isArray(t)){if(t.length!==s)throw new Error(`Provided ${n} is an array of ${t.length} element(s), but the model has ${s} outputs. Make sure a set of weights is provided for each model output.`);return t}else if(typeof t=="object"&&Object.keys(t).length>0&&typeof t[Object.keys(t)[0]]=="object"){const r=[];return e.forEach(a=>{a in t?r.push(t[a]):r.push(null)}),r}else throw new Error(`The model has multiple (${s}) outputs, so ${n} must be either an array with ${s} elements or an object with ${e} keys. Provided ${n} not understood: ${JSON.stringify(t)}`)}function tX(t,e){return R3t(t,e,"classWeight")}async function nX(t,e,n,s){if(e!=null||s!=null)throw new Error("Support sampleWeight is not implemented yet");if(n!=null){const r=Ve(()=>{if(t.shape.length===1)return zl(t);if(t.shape.length===2){if(t.shape[1]>1)return zh(t,1);if(t.shape[1]===1)return Ne(t,[t.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${t.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}else throw new Error(`Unexpected rank of target (y) tensor (${t.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)}),a=Array.from(await r.data());vn(r);const o=[];return a.forEach(i=>{if(n[i]==null)throw new Error(`classWeight must contain all classes in the training data. The class ${i} exists in the data but not in classWeight`);o.push(n[i])}),Zr(o,"float32")}else return null}function L3t(t,e){return Ie(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const P3t=32;function sX(t,e){let n,s;const r=e;n=r.xs,s=r.ys,ae(n!=null&&s!=null,()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${e}`);const a=PP("input",t.inputNames,n),o=PP("output",t.outputNames,s),i=a[0].shape[0];ae(a.length===t.inputs.length,()=>`LayersModel has ${t.inputs.length} inputs, but the dataset provides ${a.length} inputs.  (Expected input keys: ${JSON.stringify(t.inputNames)})`),ae(o.length===t.outputs.length,()=>`LayersModel has ${t.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(t.outputNames)})`);for(let l=0;l<a.length;l++)ae(a[l].shape[0]===i,()=>`Batch size mismatch: input ${t.inputNames[l]} has ${a[l].shape[0]}; expected  ${i} based on input ${t.inputNames[0]}.`);for(let l=0;l<o.length;l++)ae(o[l].shape[0]===i,()=>`Batch size mismatch: output ${t.outputNames[l]} has ${o[l].shape[0]}; expected  ${i} based on input ${t.inputNames[0]}.`);return{xs:a,ys:o}}function PP(t,e,n){if(n instanceof Xn)return[n];if(Array.isArray(n))return ae(n.length===e.length,()=>`Received an array of ${n.length} Tensors, but expected ${e.length} to match the ${t} keys ${e}.`),n;{const s=[];for(const r of e){if(n[r]==null)throw new De(`The feature data generated by the dataset lacks the required ${t} key '${r}'.`);s.push(n[r])}return s}}function M3t(t){if(t.length===3)throw new Tn("Validation with sample weights is not implemented yet.");return{xs:t[0],ys:t[1]}}async function F3t(t,e,n){const s=n.batchesPerEpoch!=null;if(ae(t.optimizer!=null,()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."),ae(n!=null,()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."),ae(n.epochs!=null&&n.epochs>0&&Number.isInteger(n.epochs),()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`),ae(!s||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`),ae(n.validationSplit==null,()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."),t.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");t.isTraining=!0;try{const r=n.validationData!=null;let a,o;if(r)if(MP(n.validationData))ae(n.validationBatches==null||n.validationBatches>0&&Number.isInteger(n.validationBatches),()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`);else{const y=M3t(n.validationData);a=y.xs,o=y.ys}const i=t.makeTrainFunction(),l=t.getDedupedMetricsNames();let u;r?u=l.slice().concat(l.map(y=>"val_"+y)):u=l.slice();const c=qK(n.callbacks,n.yieldEvery),d=n.verbose==null?1:n.verbose,{callbackList:h,history:f}=KK(c,d,n.epochs,null,null,B3t(e,n),null,r,u);h.setModel(t),t.history=f,await h.onTrainBegin(),t.stopTraining_=!1;let p=n.initialEpoch==null?0:n.initialEpoch,m=await e.iterator();for(;p<n.epochs;){const y={};await h.onEpochBegin(p);let v=0,b=0;for(s||(m=await e.iterator());!s||v<n.batchesPerEpoch;){const w=await m.next();if(s&&w.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${v} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, ${n.batchesPerEpoch*n.epochs} batches). You may need to use the repeat() function when building your dataset.`);break}if(w.value!=null){const{xs:_,ys:C}=sX(t,w.value),x={};x.batch=b,x.size=_[0].shape[0],await h.onBatchBegin(b,x);const T=[];if(n.classWeight!=null){const O=tX(n.classWeight,t.outputNames);for(let L=0;L<O.length;++L)T.push(await nX(C[L],null,O[L]))}const k=_.concat(C).concat(T),N=i(k);vn(k);for(let O=0;O<l.length;++O){const L=l[O],V=N[O];x[L]=V,Tr(V)}await h.onBatchEnd(b,x),UK(x),b++,v++}if(s?v>=n.batchesPerEpoch:w.done){if(r){let _;MP(n.validationData)?_=cs(await t.evaluateDataset(n.validationData,{batches:n.validationBatches})):_=cs(t.evaluate(a,o,{batchSize:n.validationBatchSize==null?P3t:n.validationBatchSize,verbose:0}));for(let C=0;C<t.metricsNames.length;++C)y[`val_${t.metricsNames[C]}`]=_[C]}break}if(t.stopTraining_)break}if(await h.onEpochEnd(p,y),p++,t.stopTraining_)break}return await h.onTrainEnd(),await t.history.syncData(),t.history}finally{t.isTraining=!1}}function B3t(t,e){let n=null;return e.batchesPerEpoch!=null?n=e.batchesPerEpoch:Number.isFinite(t.size)&&(n=t.size),n}function MP(t){return typeof t.iterator=="function"}function z3t(t){return typeof t.next=="function"}async function V3t(t,e,n){n=n||{};const s=n.batches!=null,r=t.testFunction;let a=[];if(n.verbose>0)throw new Tn("Verbose mode is not implemented yet.");ae(!s||n.batches>0&&Number.isInteger(n.batches),()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`);const o=z3t(e)?e:await e.iterator();let i=0,l=0;for(;!s||l<n.batches;){const u=await o.next();if(a=Ve(()=>{if(u.value){const{xs:c,ys:d}=sX(t,u.value),h=c.concat(d),f=Ve(()=>r(h));if(vn(h),l===0)for(let m=0;m<f.length;++m)a.push(on(0));const p=h[0].shape[0];for(let m=0;m<f.length;++m){const y=f[m],v=a[m];a[m]=Ve(()=>mt(a[m],Ie(p,y))),l>0&&vn(v)}vn(f),i+=p,++l}return a}),u.done){s&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let u=0;u<a.length;++u){const c=a[u];a[u]=tn(a[u],i),vn(c)}return Fa(a)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function $C(t){ae(t>0&&Number.isInteger(t),()=>`batchSize is required to be a positive integer, but got ${t}`)}function Fg(t,e,n){return t==null?[null]:Array.isArray(t)?t.map(s=>Ch(s,e,n-e)):Ch(t,e,n-e)}function lk(t,e){return Ve(()=>t==null?null:Array.isArray(t)?t.map(n=>lk(n,e)):FK(t,e.dtype==="int32"?e:Nt(e,"int32")))}function EC(t,e){const n=[];let s=0,r=null;for(;s<t;)r=s+e,r>=t&&(r=t),n.push([s,r]),s=r;return n}function rX(t){const e=[];t instanceof Xn&&(t=[t]);for(let n=0;n<t.length;++n){const s=t[n];if(s.rank===1)e.push(My(s,1));else{if(s.rank===0)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");e.push(s)}}return e}function Wi(t,e){if(t==null)return;const n=[];if(e instanceof Xn)n.push(e.id);else if(Array.isArray(e))e.forEach(r=>n.push(r.id));else if(e!=null)for(const r in e){const a=e[r];n.push(a.id)}const s=[];if(t instanceof Xn)n.indexOf(t.id)===-1&&s.push(t);else if(Array.isArray(t))t.forEach(r=>{n.indexOf(r.id)===-1&&s.push(r)});else if(t!=null)for(const r in t){const a=t[r];n.indexOf(a.id)===-1&&s.push(a)}s.forEach(r=>{r.isDisposed||r.dispose()})}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function H3t(t){return t instanceof Xn}function uk(t){return Array.isArray(t)}function FP(t){return!H3t(t)&&!uk(t)}function BP(t,e,n,s=!0,r=""){if(e==null||e.length===0){if(t!=null){let o=!1;if(uk(t)&&t.length>0)o=!0;else if(FP(t)){for(const i in t)if(t.hasOwnProperty(i)){o=!0;break}}else o=!0;if(o)throw new De(`Error when checking model ${r} expected no data, but got ${t}`)}return[]}if(t==null)return e.map(o=>null);let a;if(FP(t)){t=t,a=[];for(const o of e){if(t[o]==null)throw new De(`No data provided for "${o}". Need data for each key in: ${e}`);a.push(t[o])}}else if(uk(t)){if(t=t,t.length!==e.length)throw new De(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${e.length} Tensor(s), but instead got the following list of Tensor(s): ${t}`);a=t}else{if(t=t,e.length>1)throw new De(`The model ${r} expects ${e.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${t.shape}`);a=[t]}if(a=rX(a),n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const i=a[o];if(i.shape.length!==n[o].length)throw new De(`Error when checking ${r}: expected ${e[o]} to have ${n[o].length} dimension(s). but got array with shape ${i.shape}`);for(let l=0;l<n[o].length;++l){if(l===0&&!s)continue;const u=i.shape[l],c=n[o][l];if(c!=null&&c>=0&&u!==c)throw new De(`${r} expected a batch of elements where each example has shape [${n[o].slice(1,n[o].length)}] (i.e.,tensor shape [*,${n[o].slice(1,n[o].length)}]) but the ${r} received an input with ${i.shape[0]} examples, each with shape [${i.shape.slice(1,i.shape.length)}] (tensor shape [${i.shape}])`)}}return a}function U3t(t,e,n){const s=Gc(t.map(a=>a.shape[0]));s.sort();const r=Gc(e.map(a=>a.shape[0]));if(r.sort(),s.length>1)throw new De(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map(a=>a.shape))}`);if(r.length>1)throw new De(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map(a=>a.shape))}`);if(s.length>0&&r.length>0&&!Bn(s,r))throw new De(`Input Tensors should have the same number of samples as target Tensors. Found ${s[0]} input sample(s) and ${r[0]} target sample(s).`)}function W3t(t,e,n){const s=[Cf,Nx,$1];for(let r=0;r<t.length;++r){const a=t[r],o=e[r],i=n[r];if(o!=null){if(o===$1&&a.shape[a.shape.length-1]===1)throw new De(`You are passing a target array of shape ${a.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(s.indexOf(o)!==-1){const l=a.shape.slice(1),u=i.slice(1);for(let c=0;c<l.length;++c){const d=l[c],h=u[c];if(h!=null&&d!==h)throw new De(`A target Tensor with shape ${a.shape} was passed for an output of shape ${i}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}function zP(t,e,n,s=!0,r=""){let a;if(Array.isArray(t)){if(t.length!==e.length)throw new De(`Error when checking model ${r}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${e.length} Tensor(s), but instead got ${t.length} Tensors(s).`);a=t}else{if(e.length>1)throw new De(`The model expects ${e.length} ${r} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(t.shape)}.`);a=[t]}if(n!=null)for(let o=0;o<e.length;++o){if(n[o]==null)continue;const i=a[o];if(i.shape.length!==n[o].length)throw new De(`Error when checking ${r}: expected ${e[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(i.shape)}`);for(let l=0;l<n[o].length;++l){if(l===0&&!s)continue;const u=i.shape[l],c=n[o][l];if(c!=null&&c!==u)throw new De(`Error when checking ${r}: expected ${e[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(i.shape)}.`)}}}function j3t(t,e){if(t==null||Array.isArray(t)&&t.length===0)return e.map(s=>[]);let n;if(typeof t=="string"||typeof t=="function")n=[t];else if(Array.isArray(t)||typeof t=="object")n=t;else throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${t}`);if(Array.isArray(n))return e.map(s=>n);{const s=[];for(const r of e){let a=n.hasOwnProperty(r)?n[r]:[];Array.isArray(a)||(a=[a]),s.push(a)}return s}}const G3t="layers-model";class Au extends Gi{constructor(e){super(e),this.isTraining=!1}summary(e,n,s=console.log){if(!this.built)throw new De("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");E3t(this,e,n,s)}compile(e){if(e.loss==null&&(e.loss=[]),this.loss=e.loss,typeof e.optimizer=="string")this.optimizer_=$3t(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof cc))throw new De("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(!Array.isArray(e.loss)&&typeof e.loss!="string"&&typeof e.loss!="function"){e.loss=e.loss;for(const o in e.loss)if(this.outputNames.indexOf(o)===-1)throw new De(`Unknown entry in loss dictionary: "${o}". Only expected the following keys: ${this.outputNames}`);for(const o of this.outputNames)e.loss[o]==null&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(kC(e.loss[o]))}else if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new De(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);n=e.loss.map(i=>kC(i))}else{const o=kC(e.loss);this.outputs.forEach(i=>{n.push(o)})}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const i=this.internalOutputShapes[o],l=this.outputNames[o];this.feedOutputNames.push(l),this.feedOutputShapes.push(i),this.feedLossFns.push(this.lossFunctions[o])}const s=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],xh("loss",()=>{for(let o=0;o<this.outputs.length;++o){if(s.indexOf(o)!==-1)continue;const i=this.lossFunctions[o];this.outputs.length>1&&(this.metricsTensors.push([i,o]),this.metricsNames.push(this.outputNames[o]+"_loss"))}});const r=j3t(e.metrics,this.outputNames),a=(o,i,l)=>{this.outputNames.length>1&&(i=this.outputNames[o]+"_"+i),this.metricsNames.push(i),this.metricsTensors.push([l,o])};xh("metric",()=>{for(let o=0;o<this.outputs.length;++o){if(s.indexOf(o)!==-1)continue;const i=r[o];(u=>{const c="";let d,h,f;for(const p of u){if(typeof p=="string"&&["accuracy","acc","crossentropy","ce"].indexOf(p)!==-1){const y=this.internalOutputShapes[o];y[y.length-1]===1||this.lossFunctions[o]===Nx?["accuracy","acc"].indexOf(p)!==-1?h=s9:["crossentropy","ce"].indexOf(p)!==-1&&(h=QK):this.lossFunctions[o]===U3?["accuracy","acc"].indexOf(p)!==-1?h=ZK:["crossentropy","ce"].indexOf(p)!==-1&&(h=JK):["accuracy","acc"].indexOf(p)!==-1?h=r9:["crossentropy","ce"].indexOf(p)!==-1&&(h=a9);let v;["accuracy","acc"].indexOf(p)!==-1?v="acc":["crossentropy","ce"].indexOf(p)!==-1&&(v="ce"),f=h,d=c+v}else f=k3t(p),d=c+Zb(p);let m;xh(d,()=>{m=f}),a(o,d,m)}})(i)}}),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){this.collectedTrainableWeights!=null&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,s={}){const r=s.batchSize==null?32:s.batchSize;$C(r);const o=this.standardizeUserDataXY(e,n,!0,r);try{const i=o[0].concat(o[1]);this.makeTestFunction();const l=this.testFunction,u=this.testLoop(l,i,r,s.verbose,s.steps);return Fa(u)}finally{Wi(o[0],e),Wi(o[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),V3t(this,e,n)}checkNumSamples(e,n,s,r="steps"){let a;if(s!=null){if(a=null,n!=null)throw new De(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else if(e!=null)Array.isArray(e)?a=e[0].shape[0]:a=e.shape[0];else throw new De(`Either the input data should have a defined shape, or ${r} shoud be specified.`);return a}execute(e,n){if(Array.isArray(n)&&n.length===0)throw new De("`outputs` is an empty Array, which is not allowed.");const s=Array.isArray(n),r=s?n:[n],a=this.retrieveSymbolicTensors(r),o=new Mc;if(e instanceof Xn&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new De(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let l=0;l<this.inputs.length;++l)o.add(this.inputs[l],e[l])}else for(const l of this.inputs){const u=e[l.name];if(u==null)throw new De(`No value is provided for the model's input ${l.name}`);o.add(l,u)}const i=u2(a,o);return s?i:i[0]}retrieveSymbolicTensors(e){const n=qh(null,e.length);let s=e.length;for(const r of this.layers){const a=Array.isArray(r.output)?r.output:[r.output],o=a.map(i=>i.name);for(let i=0;i<e.length;++i){const l=o.indexOf(e[i]);if(l!==-1&&(n[i]=a[l],s--),s===0)break}if(s===0)break}if(s>0){const r=[];throw n.forEach((a,o)=>{a==null&&r.push(e[o])}),new De(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(r)}`)}return n}predictLoop(e,n=32,s=!1){return Ve(()=>{const r=this.checkNumSamples(e);if(s)throw new Tn("Verbose predictLoop() is not implemented yet.");const a=EC(r,n),o=this.outputs.map(i=>[]);for(let i=0;i<a.length;++i)Ve(()=>{const u=a[i][0],c=a[i][1],d=Fg(e,u,c),h=[];if(Array.isArray(d))for(let p=0;p<d.length;++p)h.push({key:this.inputs[p],value:d[p]});else h.push({key:this.inputs[0],value:d});const f=new Mc(h);return u2(this.outputs,f)}).forEach((u,c)=>o[c].push(u));return Fa(o.map(i=>rr(i,0)))})}predict(e,n={}){const s=rX(e);zP(s,this.inputNames,this.feedInputShapes,!1);try{const r=n.batchSize==null?32:n.batchSize;return $C(r),this.predictLoop(s,r)}finally{Wi(s,e)}}predictOnBatch(e){zP(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,s=!0,r){if(this.optimizer_==null)throw new Si("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const a=[];for(let o=0;o<this.feedOutputShapes.length;++o){const i=this.feedOutputShapes[o];this.feedLossFns[o]===U3?a.push(i.slice(0,i.length-1).concat([1])):a.push(i)}if(e=BP(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=BP(n,this.feedOutputNames,a,!1,"target"),U3t(e,n),W3t(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&r!=null&&r>0&&e[0].shape[0]%r!==0)throw new De(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,s,r,a=!0,o){const[i,l]=this.standardizeUserDataXY(e,n,a,o);if(s!=null)throw new Error("sample weight is not supported yet.");let u=null;if(r!=null){const c=tX(r,this.outputNames);u=[];for(let d=0;d<c.length;++d)u.push(await nX(l[d],null,c[d]))}return[i,l,u]}testLoop(e,n,s,r=0,a){return Ve(()=>{const o=this.checkNumSamples(n,s,a,"steps"),i=[];if(r>0)throw new Tn("Verbose mode is not implemented yet.");if(a!=null)throw new Tn("steps mode in testLoop() is not implemented yet");{const l=EC(o,s),u=Zr(ll(0,o));for(let c=0;c<l.length;++c){const d=l[c][0],h=l[c][1],f=Ch(u,d,h-d),p=lk(n,f),m=e(p);if(c===0)for(let y=0;y<m.length;++y)i.push(on(0));for(let y=0;y<m.length;++y){const v=m[y];i[y]=mt(i[y],Ie(h-d,v))}}for(let c=0;c<i.length;++c)i[c]=tn(i[c],o)}return i})}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let s=0;s<e.length;++s){const r=e[s];let a=r;if(SP(e,r)>1){const o=SP(e.slice(0,s),r);a+=`_${o}`}n.push(a)}return n}makeTrainFunction(){return e=>{const n=[],s=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),a=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+this.outputs.length*2),o=[],i=()=>{const d=[];for(let m=0;m<this.inputs.length;++m)d.push({key:this.inputs[m],value:s[m]});const h=new Mc(d),f=u2(this.outputs,h,{training:!0});let p;for(let m=0;m<this.lossFunctions.length;++m){const y=this.lossFunctions[m];let v=y(r[m],f[m]);a[m]!=null&&(v=L3t(v,a[m]));const b=qs(v);n.push(b),m===0?p=v:p=mt(p,v)}for(let m=0;m<this.metricsTensors.length;++m){let y;if(this.outputs.length>1&&m<this.outputs.length)y=n[m];else{const v=this.metricsTensors[m][0],b=this.metricsTensors[m][1];y=qs(v(r[b],f[b]))}Tr(y),o.push(y)}return p=qs(p),this.calculateLosses().forEach(m=>{p=mt(p,m)}),p},l=this.collectedTrainableWeights.map(d=>d.read());return[this.optimizer_.minimize(i,!0,l)].concat(o)}}makeTestFunction(){this.testFunction=e=>Ve(()=>{const n=[];let s;const r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let u=0;u<this.inputs.length;++u)o.push({key:this.inputs[u],value:r[u]});const i=new Mc(o),l=u2(this.outputs,i);for(let u=0;u<this.lossFunctions.length;++u){const c=this.lossFunctions[u],d=qs(c(a[u],l[u]));u===0?s=d:s=mt(s,d),n.push(s)}for(let u=0;u<this.metricsTensors.length;++u){const c=this.metricsTensors[u][0],d=this.metricsTensors[u][1],h=qs(c(a[d],l[d]));n.push(h)}return n})}async fit(e,n,s={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;let r,a,o,i,l,u,c,d,h;try{const f=s.batchSize==null?32:s.batchSize;$C(f);const m=await this.standardizeUserData(e,n,s.sampleWeight,s.classWeight,!1,f);r=m[0],a=m[1],h=m[2];let y=!1,v;if(s.validationData!=null&&s.validationData.length>0){if(y=!0,s.validationData.length===2)l=s.validationData[0],u=s.validationData[1];else throw s.validationData.length===3?new Tn("validationData including sample weights is not supported yet."):new De(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${s.validationData} is invalid.`);const O=await this.standardizeUserData(l,u,null,null,!0,f);c=O[0],d=O[1],v=c.concat(d)}else if(s.validationSplit!=null&&s.validationSplit>0&&s.validationSplit<1){y=!0;const N=Math.floor(r[0].shape[0]*(1-s.validationSplit)),O=r[0].shape[0];c=Fg(r,N,O),o=r,r=Fg(r,0,N),d=Fg(a,N,O),i=a,a=Fg(a,0,N),v=c.concat(d)}else s.validationSteps!=null&&(y=!0);const b=r.concat(a).concat(h);this.checkTrainableWeightsConsistency();const w=this.makeTrainFunction(),_=this.getDedupedMetricsNames();let C,x;y?(this.makeTestFunction(),C=this.testFunction,x=_.slice().concat(_.map(N=>"val_"+N))):(C=null,v=[],x=_.slice());const T=qK(s.callbacks,s.yieldEvery);return await this.fitLoop(w,b,_,f,s.epochs,s.verbose,T,C,v,s.shuffle,x,s.initialEpoch,null,null)}finally{this.isTraining=!1,Wi(r,e),Wi(a,n),Wi(o,e),Wi(i,n),Wi(c,l),Wi(d,u),h!=null&&vn(h)}}async fitLoop(e,n,s,r,a,o,i,l,u,c,d,h,f,p){r==null&&(r=32),a==null&&(a=1),c==null&&(c=!0),h==null&&(h=0);let m=!1;if(l!=null&&u!=null&&(m=!0),p!=null&&(m=!0,f==null))throw new De("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const y=this.checkNumSamples(n,r,f,"steps_per_epoch");let v;y!=null&&(v=ll(0,y)),o==null&&(o=1);const{callbackList:b,history:w}=KK(i,o,a,h,y,f,r,m,d);b.setModel(this),this.history=w,await b.onTrainBegin(),this.stopTraining_=!1;for(let _=h;_<a;++_){await b.onEpochBegin(_);const C={};if(f!=null)throw new Tn("stepsPerEpoch mode is not implemented yet.");{if(c==="batch")throw new Tn("batch shuffling is not implemneted yet");c&&NE(v);const x=Zr(v),T=EC(y,r);for(let k=0;k<T.length;++k){const N={};if(await b.onBatchBegin(k,N),Ve(()=>{const O=T[k][0],L=T[k][1],V=Ch(x,O,L-O);N.batch=k,N.size=L-O;const H=lk(n,V),K=e(H);for(let U=0;U<s.length;++U){const R=s[U],W=K[U];N[R]=W,Tr(W)}if(k===T.length-1&&m){const U=this.testLoop(l,u,r);for(let R=0;R<s.length;++R){const W=s[R],G=U[R];Tr(G),C["val_"+W]=G}}}),await b.onBatchEnd(k,N),UK(N),this.stopTraining_)break}x.dispose()}if(await b.onEpochEnd(_,C),this.stopTraining_)break}return await b.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,n){return F3t(this,e,n)}async trainOnBatch(e,n){const s=await this.standardizeUserData(e,n),r=s[0],a=s[1],i=this.makeTrainFunction()(r.concat(a)),l=[];for(const u of i){const c=await u.data();l.push(c[0])}return vn(i),Wi(s[0],e),Wi(s[1],n),Fa(l)}getNamedWeights(e){const n=[],s=e!=null&&e.trainableOnly,r=s?this.trainableWeights:this.weights,a=this.getWeights(s);for(let o=0;o<r.length;++o)s&&!r[o].trainable||n.push({name:r[o].originalName,tensor:a[o]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(e.refCountAfterDispose===0&&this.optimizer!=null&&this.isOptimizerOwned){const n=L3().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-L3().numTensors}return e}getLossIdentifiers(){let e;if(typeof this.loss=="string")e=bu(this.loss);else if(Array.isArray(this.loss)){for(const n of this.loss)if(typeof n!="string")throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map(n=>bu(n))}else{const n=Object.keys(this.loss);e={};const s=this.loss;for(const r of n)if(typeof s[r]=="string")e[r]=bu(s[r]);else throw new Error("Serialization of non-string loss is not supported.")}return e}getMetricIdentifiers(){if(typeof this.metrics=="string"||typeof this.metrics=="function")return[bu(Zb(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map(e=>bu(Zb(e)));{const e={};for(const n in this.metrics)e[n]=bu(Zb(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(e.weighted_metrics!=null)throw new Error("Loading weight_metrics is not supported yet.");if(e.loss_weights!=null)throw new Error("Loading loss_weights is not supported yet.");if(e.sample_weight_mode!=null)throw new Error("Loading sample_weight_mode is not supported yet.");const n=E1(e.optimizer_config),s=sl(n);let r;if(typeof e.loss=="string")r=Jd(e.loss);else if(Array.isArray(e.loss))r=e.loss.map(o=>Jd(o));else if(e.loss!=null){r={};for(const o in e.loss)r[o]=Jd(e.loss[o])}let a;if(Array.isArray(e.metrics))a=e.metrics.map(o=>Jd(o));else if(e.metrics!=null){a={};for(const o in e.metrics)a[o]=Jd(e.metrics[o])}this.compile({loss:r,metrics:a,optimizer:s})}async save(e,n){if(typeof e=="string"){const u=_G(e);if(u.length===0)throw new De(`Cannot find any save handlers for URL '${e}'`);if(u.length>1)throw new De(`Found more than one (${u.length}) save handlers for URL '${e}'`);e=u[0]}if(e.save==null)throw new De("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const s=await WT(this.getNamedWeights(n)),i={modelTopology:this.toJSON(null,!1),format:G3t,generatedBy:`TensorFlow.js tfjs-layers v${Ax}`,convertedBy:null};if((n==null?!1:n.includeOptimizer)&&this.optimizer!=null){i.trainingConfig=this.getTrainingConfig();const u="optimizer",{data:c,specs:d}=await WT(await this.optimizer.getWeights(),u);s.specs.push(...d),s.data=yG([s.data,c])}return this.userDefinedMetadata!=null&&(LP(this.userDefinedMetadata,this.name,!0),i.userDefinedMetadata=this.userDefinedMetadata),i.weightData=s.data,i.weightSpecs=s.specs,e.save(i)}setUserDefinedMetadata(e){LP(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}Au.className="Model";bt(Au);class aX extends Au{}aX.className="Functional";bt(aX);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */async function q3t(t,e){"modelTopology"in t||(t={modelTopology:t}),t=t;let n=t.modelTopology;n.model_config!=null&&(n=n.model_config);const s=E1(n),r=sl(s,e);if(t.weightsManifest!=null){const a=await Fq(t.weightsManifest,t.pathPrefix,r.weights.map(i=>i.originalName)),o={};for(const i of r.weights)o[i.originalName]=a[i.originalName];r.loadWeights(o),vn(a)}return r}async function K3t(t,e){if(e==null&&(e={}),typeof t=="string"){const n=wG(t,e);if(n.length===0)n.push(Vq(t,e));else if(n.length>1)throw new De(`Found more than one (${n.length}) load handlers for URL '${t}'`);t=n[0]}return X3t(t,void 0,e)}async function X3t(t,e,n){if(n==null&&(n={}),t.load==null)throw new De("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const s=await t.load();let r=s.modelTopology;r.model_config!=null&&(r=r.model_config);const a=n.strict==null?!0:n.strict,o=s.weightData!=null&&s.weightSpecs!=null&&a,i=sl(E1(r),e,o),l=s.trainingConfig;if(l!=null&&i.loadTrainingConfig(l),s.userDefinedMetadata!=null&&i.setUserDefinedMetadata(s.userDefinedMetadata),s.weightData!=null){if(s.weightSpecs==null)throw new De("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");const{modelWeights:u,optimizerWeights:c}=Y3t(s.weightData,s.weightSpecs);i.loadWeights(u,a),i.optimizer!=null&&c.length>0&&await i.optimizer.setWeights(c),vn(u),vn(c.map(d=>d.tensor))}return i}function Y3t(t,e){const n=VE(t,e),s={},r=[];return e.forEach(a=>{a.group==="optimizer"?r.push({name:a.name,tensor:n[a.name]}):s[a.name]=n[a.name]}),{modelWeights:s,optimizerWeights:r}}class Kh extends Au{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=e.name!=null?e.name:bx("sequential_"),e.layers!=null)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some(s=>s<0))throw new De(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof Kh||e instanceof Au;let s;if(n){if(s=e,s.outputs.length!==1)throw new De("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(s.inputs.length!==1)throw new De("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(this.outputs.length===0){if(e.inboundNodes.length===0){if(e.batchInputShape==null)throw new De("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const r=HK({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(r)}if(n)this.outputs=s.outputs,this.inputs=s.inputs;else{if(e.inboundNodes.length!==1)throw new De(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(e.inboundNodes[0].outputTensors.length!==1)throw new De("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=VK(this.outputs[0])}this.inboundNodes=[],new Ex({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:qh(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map(r=>r.shape),outputShapes:this.outputs[0].shape})}else{const r=e.apply(this.outputs[0]);if(Array.isArray(r))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[r],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(this.layers.length===0)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),this.layers.length===0)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return this.model==null&&this.build(),this.model.call(e,n)}build(e){if(es(e),this.inputs.length===0||this.outputs.length===0)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Au({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,s=console.log){this.built||this.build(),super.summary(e,n,s)}setWeights(e){this.model==null&&this.build(),this.model.setWeights(e)}evaluate(e,n,s={}){if(!this.built)throw new Si("The model needs to be compiled before being used.");return this.model.evaluate(e,n,s)}async evaluateDataset(e,n){if(!this.built)throw new Si("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return this.model==null&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return this.model==null&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return this.model==null?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,s={}){if(!this.built)throw new Si("The model needs to be compiled before being used.");return this.model.fit(e,n,s)}async fitDataset(e,n){if(!this.built)throw new Si("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,s={},r=!1){let a,o={};if(n instanceof Array){if(n[0].className==null||n[0].className==="Merge")throw new De("Legacy serialization format not supported yet.");a=n}else ae(n.layers!=null,()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."),a=n.layers,delete n.layers,o=n;const i=new e(o);if(!(i instanceof Kh))throw new Tn(`Sequential.fromConfig called on non-Sequential input: ${i}`);for(const l of a){const c=sl(l,void 0,r);r&&c.setFastWeightInitDuringBuild(!0),i.add(c)}return i}set stopTraining(e){if(this.model==null)throw new De("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(this.model==null)throw new De("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const s={};s.className=n.getClassName(),s.config=n.getConfig(),e.push(s)}return{name:this.name,layers:e}}}Kh.className="Sequential";bt(Kh);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Q3t(t){return new Au(t)}function Z3t(t){return new Kh(t)}function oX(t){return HK(t)}function J3t(t,e){Bo.registerCallbackConstructor(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */let oo=class extends wf{getConfig(){return{}}};class iX extends oo{apply(e,n=1){return y_t(e,n)}}iX.className="elu";bt(iX);class lX extends oo{apply(e){return K6(e)}}lX.className="selu";bt(lX);class uX extends oo{apply(e){return yl(e)}}uX.className="relu";bt(uX);class cX extends oo{apply(e){return Ve(()=>ad(6,yl(e)))}}cX.className="relu6";bt(cX);class dX extends oo{apply(e){return e}}dX.className="linear";bt(dX);class hX extends oo{apply(e){return nl(e)}}hX.className="sigmoid";bt(hX);class fX extends oo{apply(e){return __t(e)}}fX.className="hardSigmoid";bt(fX);class pX extends oo{apply(e){return yf(e)}}pX.className="softplus";bt(pX);class mX extends oo{apply(e){return b_t(e)}}mX.className="softsign";bt(mX);class gX extends oo{apply(e){return Hh(e)}}gX.className="tanh";bt(gX);let o9=class extends oo{apply(e,n=-1){return Ny(e,n)}};o9.className="softmax";bt(o9);class vX extends oo{apply(e,n=-1){return V6(e,n)}}vX.className="logSoftmax";bt(vX);class yX extends oo{apply(e,n=1){return Ve(()=>Ie(nl(Ie(e,n)),e))}}yX.className="swish";bt(yX);class bX extends oo{apply(e){return Ve(()=>Ie(e,Hh(yf(e))))}}bX.className="mish";bt(bX);function id(t){return t.getClassName()}function IC(t,e={}){return Py(t,Vo.getMap().classNameMap,e,"activation")}function ld(t){if(t==null){const e={};return e.className="linear",e.config={},IC(e)}if(typeof t=="string"){const e={};return e.className=t,e.config={},IC(e)}else return t instanceof oo?t:IC(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function i9(t){if(t!=null&&typeof t!="object")throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${t}`)}class _X extends wf{}class Vy extends _X{constructor(e){super(),i9(e),this.l1=e==null||e.l1==null?.01:e.l1,this.l2=e==null||e.l2==null?.01:e.l2,this.hasL1=this.l1!==0,this.hasL2=this.l2!==0}apply(e){return Ve(()=>{let n=mr([1]);return this.hasL1&&(n=mt(n,Xt(Ie(this.l1,fr(e))))),this.hasL2&&(n=mt(n,Xt(Ie(this.l2,Fy(e))))),Ne(n,[])})}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}Vy.className="L1L2";bt(Vy);function e4t(t){return i9(t),new Vy({l1:t!=null?t.l1:null,l2:0})}function t4t(t){return i9(t),new Vy({l2:t!=null?t.l2:null,l1:0})}const VP={l1l2:"L1L2"};function ps(t){return zN(t)}function HP(t,e={}){return Py(t,Vo.getMap().classNameMap,e,"regularizer")}function Fs(t){if(t==null)return null;if(typeof t=="string"){const n={className:t in VP?VP[t]:t,config:{}};return HP(n)}else return t instanceof _X?t:HP(t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class l9 extends Ln{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null&&(this.maxValue=e.maxValue)}call(e,n){e=mn(e);let s=yl(e);return this.maxValue!=null&&(s=to(s,0,this.maxValue)),s}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}l9.className="ReLU";bt(l9);class u9 extends Ln{constructor(e){super(e??{}),this.DEFAULT_ALPHA=.3,e==null&&(e={}),this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const s=mn(e);return _y(s,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}u9.className="LeakyReLU";bt(u9);class c9 extends Ln{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA_INITIALIZER="zeros",e==null&&(e={}),this.supportsMasking=!0,this.alphaInitializer=Ps(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Fs(e.alphaRegularizer),this.alphaConstraint=Er(e.alphaConstraint),e.sharedAxes==null)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else if(typeof e.sharedAxes=="number")this.sharedAxes=[e.sharedAxes];else throw new De(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`)}build(e){e=es(e);const n=e.slice(1);if(this.sharedAxes!=null)for(const r of this.sharedAxes)n[r-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const s={};if(this.sharedAxes!=null)for(let r=1;r<e.length;++r)s[r]=e[r];this.inputSpec=[new gr({ndim:e.length,axes:s})],this.built=!0}call(e,n){return e=mn(e),$y(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Ks(this.alphaInitializer),alphaRegularizer:ps(this.alphaRegularizer),alphaConstraint:$r(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}c9.className="PReLU";bt(c9);let d9=class extends Ln{constructor(e){if(super(e??{}),this.DEFAULT_ALPHA=1,e==null&&(e={}),e.alpha!=null&&e.alpha!==this.DEFAULT_ALPHA)throw new Tn(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=e.alpha==null?this.DEFAULT_ALPHA:e.alpha}call(e,n){const s=mn(e);return Bm(s)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}};d9.className="ELU";bt(d9);class h9 extends Ln{constructor(e){super(e??{}),this.DEFAULT_THETA=1,e==null&&(e={}),this.theta=e.theta==null?this.DEFAULT_THETA:e.theta}call(e,n){const s=mn(e);return Ie(s,Nt(Da(s,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}h9.className="ThresholdedReLU";bt(h9);class f9 extends Ln{constructor(e){super(e??{}),this.DEFAULT_AXIS=1,e==null&&(e={}),this.softmax=new o9().apply,this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis}call(e,n){return Ve(()=>{let s=mn(e);const r=n.mask;if(r!=null){const a=Ie(jt(Wa(s.shape),Nt(r,s.dtype)),on(-1e9));s=mt(s,a)}return this.axis instanceof Array?this.axis.length>1?no(jt(s,xy(s,this.axis,!0))):this.softmax(s,this.axis[0]):this.softmax(s,this.axis)})}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}f9.className="Softmax";bt(f9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Np(t,e,n){if(typeof t=="number")return qh(t,e);if(t.length!==e)throw new De(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${t.length} elements.`);for(let s=0;s<e;++s){const r=t[s];if(!p_t(r))throw new De(`The ${n} argument must be an integer or tuple of ${e} integers. Received: ${JSON.stringify(t)} including a non-integer number ${r}`)}return t}function rl(t,e,n,s,r=1){if(t==null)return t;const a=e+(e-1)*(r-1);let o;return n==="same"?o=t:o=t-a+1,Math.floor((o+s-1)/s)}function El(t,e,n,s){if(t==null)return null;if(s==="valid")t=t*e+od([n-e,0]);else if(s==="same")t=t*e;else throw new De(`Unsupport padding mode: ${s}.`);return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function p9(t,e){return Ve(()=>(ur(e),e==="channelsFirst"?Un(t,[0,2,3,1]):t))}function wX(t,e){return Ve(()=>(ur(e),e==="channelsFirst"?Un(t,[0,2,3,4,1]):t))}function n4t(t,e,n,s=1,r="valid",a,o=1){return Ve(()=>{if(a==null&&(a=ul()),ur(a),t.shape.length!==3)throw new De(`The input of a conv1dWithBias operation should be 3, but is ${t.shape.length} instead.`);if(e.shape.length!==3)throw new De(`The kernel for a conv1dWithBias operation should be 3, but is ${e.shape.length} instead`);if(n!=null&&n.shape.length!==1)throw new De(`The bias for a conv1dWithBias operation should be 1, but is ${e.shape.length} instead`);if(a==="channelsFirst"&&(t=Un(t,[0,2,1])),r==="causal")throw new Tn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let i=L6(t,e,s,r==="same"?"same":"valid","NWC",o);return n!=null&&(i=bl(i,n)),i})}function UP(t,e,n,s=[1,1],r="valid",a,o,i=null){return Ve(()=>{if(a==null&&(a=ul()),ur(a),t.rank!==3&&t.rank!==4)throw new De(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${t.rank}.`);if(e.rank!==3&&e.rank!==4)throw new De(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${t.rank}.`);let l=p9(t,a);if(r==="causal")throw new Tn("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=Sq({x:l,filter:e,strides:s,pad:r==="same"?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:i}),a==="channelsFirst"&&(l=Un(l,[0,3,1,2])),l})}function s4t(t,e,n,s=[1,1,1],r="valid",a,o){return Ve(()=>{if(a==null&&(a=ul()),ur(a),t.rank!==4&&t.rank!==5)throw new De(`conv3dWithBias expects input to be of rank 4 or 5, but received ${t.rank}.`);if(e.rank!==4&&e.rank!==5)throw new De(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${t.rank}.`);let i=wX(t,a);if(r==="causal")throw new Tn("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return i=pI(i,e,s,r==="same"?"same":"valid","NDHWC",o),n!=null&&(i=bl(i,n)),a==="channelsFirst"&&(i=Un(i,[0,4,1,2,3])),i})}class Dx extends Ln{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",Dx.verifyArgs(n),this.rank=e,Rr(this.rank,"rank"),this.rank!==1&&this.rank!==2&&this.rank!==3)throw new Tn(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Np(n.kernelSize,e,"kernelSize"),this.strides=Np(n.strides==null?1:n.strides,e,"strides"),this.padding=n.padding==null?"valid":n.padding,ti(this.padding),this.dataFormat=n.dataFormat==null?"channelsLast":n.dataFormat,ur(this.dataFormat),this.activation=ld(n.activation),this.useBias=n.useBias==null?!0:n.useBias,this.biasInitializer=Ps(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=Er(n.biasConstraint),this.biasRegularizer=Fs(n.biasRegularizer),this.activityRegularizer=Fs(n.activityRegularizer),this.dilationRate=Np(n.dilationRate==null?1:n.dilationRate,e,"dilationRate"),this.rank===1&&Array.isArray(this.dilationRate)&&this.dilationRate.length!==1)throw new De(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(this.rank===2){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==2)throw new De(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(this.rank===3){if(typeof this.dilationRate=="number")this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(this.dilationRate.length!==3)throw new De(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}}static verifyArgs(e){if($l("kernelSize"in e,"required key 'kernelSize' not in config"),typeof e.kernelSize!="number"&&!VN(e.kernelSize,"number",1,3))throw new De(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:id(this.activation),useBias:this.useBias,biasInitializer:Ks(this.biasInitializer),biasRegularizer:ps(this.biasRegularizer),activityRegularizer:ps(this.activityRegularizer),biasConstraint:$r(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class qm extends Dx{constructor(e,n){super(e,n),this.kernel=null,qm.verifyArgs(n),this.filters=n.filters,Rr(this.filters,"filters"),this.kernelInitializer=Ps(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=Er(n.kernelConstraint),this.kernelRegularizer=Fs(n.kernelRegularizer)}build(e){e=es(e);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new De(`The channel dimension of the input should be defined. Found ${e[n]}`);const s=e[n],r=this.kernelSize.concat([s,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:s}}],this.built=!0}call(e,n){return Ve(()=>{e=mn(e);let s;const r=this.bias==null?null:this.bias.read(),a=DK(this.activation.getClassName());if(a!=null&&this.rank===2)s=UP(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(this.rank===1)s=n4t(e,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(this.rank===2)s=UP(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else if(this.rank===3)s=s4t(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else throw new Tn("convolutions greater than 3D are not implemented yet.");this.activation!=null&&(s=this.activation.apply(s))}return s})}computeOutputShape(e){e=es(e);const n=[],s=this.dataFormat==="channelsLast"?e.slice(1,e.length-1):e.slice(2);for(let a=0;a<s.length;++a){const o=rl(s[a],this.kernelSize[a],this.padding,this.strides[a],typeof this.dilationRate=="number"?this.dilationRate:this.dilationRate[a]);n.push(o)}let r=[e[0]];return this.dataFormat==="channelsLast"?(r=r.concat(n),r.push(this.filters)):(r.push(this.filters),r=r.concat(n)),r}getConfig(){const e={filters:this.filters,kernelInitializer:Ks(this.kernelInitializer),kernelRegularizer:ps(this.kernelRegularizer),kernelConstraint:$r(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||typeof e.filters!="number"||e.filters<1)throw new De(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class Km extends qm{constructor(e){super(2,e),Km.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!VN(e.kernelSize,"number",1,2))throw new De(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}Km.className="Conv2D";bt(Km);class Xm extends qm{constructor(e){super(3,e),Xm.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!(Array.isArray(e.kernelSize)&&(e.kernelSize.length===1||e.kernelSize.length===3)))throw new De(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}Xm.className="Conv3D";bt(Xm);class m9 extends Km{constructor(e){if(super(e),this.inputSpec=[new gr({ndim:4})],this.padding!=="same"&&this.padding!=="valid")throw new De(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=es(e),e.length!==4)throw new De("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new De("The channel dimension of the inputs should be defined. Found `None`.");const s=e[n],r=this.kernelSize.concat([this.filters,s]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new gr({ndim:4,axes:{[n]:s}})],this.built=!0}call(e,n){return Ve(()=>{let s=mn(e);if(s.shape.length!==4)throw new De(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${s.shape.length}`);const r=s.shape,a=r[0];let o,i;this.dataFormat==="channelsFirst"?(o=2,i=3):(o=1,i=2);const l=r[o],u=r[i],c=this.kernelSize[0],d=this.kernelSize[1],h=this.strides[0],f=this.strides[1],p=El(l,h,c,this.padding),m=El(u,f,d,this.padding),y=[a,p,m,this.filters];this.dataFormat!=="channelsLast"&&(s=Un(s,[0,2,3,1]));let v=P6(s,this.kernel.read(),y,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(v=Un(v,[0,3,1,2])),this.bias!=null&&(v=bl(v,this.bias.read(),this.dataFormat)),this.activation!=null&&(v=this.activation.apply(v)),v})}computeOutputShape(e){e=es(e);const n=e.slice();let s,r,a;this.dataFormat==="channelsFirst"?(s=1,r=2,a=3):(s=3,r=1,a=2);const o=this.kernelSize[0],i=this.kernelSize[1],l=this.strides[0],u=this.strides[1];return n[s]=this.filters,n[r]=El(n[r],l,o,this.padding),n[a]=El(n[a],u,i,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}m9.className="Conv2DTranspose";bt(m9);class g9 extends Xm{constructor(e){if(super(e),this.inputSpec=[new gr({ndim:5})],this.padding!=="same"&&this.padding!=="valid")throw new De(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(e=es(e),e.length!==5)throw new De("Input should have rank 5; Received input shape: "+JSON.stringify(e));const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null)throw new De("The channel dimension of the inputs should be defined. Found `None`.");const s=e[n],r=this.kernelSize.concat([this.filters,s]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new gr({ndim:5,axes:{[n]:s}})],this.built=!0}call(e,n){return Ve(()=>{let s=mn(e);if(s.shape.length!==5)throw new De(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${s.shape.length}`);const r=s.shape,a=r[0];let o,i,l;this.dataFormat==="channelsFirst"?(l=2,o=3,i=4):(l=1,o=2,i=3);const u=r[l],c=r[o],d=r[i],h=this.kernelSize[0],f=this.kernelSize[1],p=this.kernelSize[2],m=this.strides[0],y=this.strides[1],v=this.strides[2],b=El(u,m,h,this.padding),w=El(c,y,f,this.padding),_=El(d,v,p,this.padding),C=[a,b,w,_,this.filters];this.dataFormat!=="channelsLast"&&(s=Un(s,[0,2,3,4,1]));let x=mI(s,this.kernel.read(),C,this.strides,this.padding);return this.dataFormat!=="channelsLast"&&(x=Un(x,[0,4,1,2,3])),this.bias!==null&&(x=bl(x,this.bias.read(),this.dataFormat)),this.activation!==null&&(x=this.activation.apply(x)),x})}computeOutputShape(e){e=es(e);const n=e.slice();let s,r,a,o;this.dataFormat==="channelsFirst"?(s=1,r=2,a=3,o=4):(s=4,r=1,a=2,o=3);const i=this.kernelSize[0],l=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],d=this.strides[1],h=this.strides[2];return n[s]=this.filters,n[r]=El(n[r],c,i,this.padding),n[a]=El(n[a],d,l,this.padding),n[o]=El(n[o],h,u,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}g9.className="Conv3DTranspose";bt(g9);class xX extends qm{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,n.filters==null)throw new De("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(n.kernelInitializer!=null||n.kernelRegularizer!=null||n.kernelConstraint!=null)throw new De("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(n.padding!=null&&n.padding!=="same"&&n.padding!=="valid")throw new De(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=n.depthMultiplier==null?1:n.depthMultiplier,this.depthwiseInitializer=Ps(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Fs(n.depthwiseRegularizer),this.depthwiseConstraint=Er(n.depthwiseConstraint),this.pointwiseInitializer=Ps(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Fs(n.pointwiseRegularizer),this.pointwiseConstraint=Er(n.pointwiseConstraint)}build(e){if(e=es(e),e.length<this.rank+2)throw new De(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[n]==null||e[n]<0)throw new De(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const s=e[n],r=this.kernelSize.concat([s,this.depthMultiplier]),a=[];for(let i=0;i<this.rank;++i)a.push(1);a.push(s*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new gr({ndim:this.rank+2,axes:{[n]:s}})],this.built=!0}call(e,n){return Ve(()=>{e=mn(e);let s;if(this.rank===1)throw new Tn("1D separable convolution is not implemented yet.");return this.rank===2&&(this.dataFormat==="channelsFirst"&&(e=Un(e,[0,2,3,1])),s=X6(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(s=bl(s,this.bias.read(),this.dataFormat)),this.activation!=null&&(s=this.activation.apply(s)),this.dataFormat==="channelsFirst"&&(s=Un(s,[0,3,1,2])),s})}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Ks(this.depthwiseInitializer),e.pointwiseInitializer=Ks(this.pointwiseInitializer),e.depthwiseRegularizer=ps(this.depthwiseRegularizer),e.pointwiseRegularizer=ps(this.pointwiseRegularizer),e.depthwiseConstraint=$r(this.depthwiseConstraint),e.pointwiseConstraint=$r(this.pointwiseConstraint),e}}xX.className="SeparableConv";class v9 extends xX{constructor(e){super(2,e)}}v9.className="SeparableConv2D";bt(v9);class Hy extends qm{constructor(e){super(1,e),Hy.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if(typeof e.kernelSize!="number"&&!VN(e.kernelSize,"number",1,1))throw new De(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}Hy.className="Conv1D";bt(Hy);class y9 extends Ln{constructor(e){super(e),typeof e.cropping=="number"?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:typeof e.cropping[0]=="number"?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=e.dataFormat===void 0?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return this.dataFormat==="channelsFirst"?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Ve(()=>{if(e=mn(e),this.dataFormat==="channelsLast"){const s=Qb(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return Qb(s,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}else{const s=Qb(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return Qb(s,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}})}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}y9.className="Cropping2D";bt(y9);class b9 extends Ln{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=e.size==null?this.DEFAULT_SIZE:e.size,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ur(this.dataFormat),this.interpolation=e.interpolation==null?"nearest":e.interpolation,d_t(this.interpolation)}computeOutputShape(e){if(this.dataFormat==="channelsFirst"){const n=e[2]==null?null:this.size[0]*e[2],s=e[3]==null?null:this.size[1]*e[3];return[e[0],e[1],n,s]}else{const n=e[1]==null?null:this.size[0]*e[1],s=e[2]==null?null:this.size[1]*e[2];return[e[0],n,s,e[3]]}}call(e,n){return Ve(()=>{let s=mn(e);const r=s.shape;if(this.dataFormat==="channelsFirst"){s=Un(s,[0,2,3,1]);const a=this.size[0]*r[2],o=this.size[1]*r[3],i=this.interpolation==="nearest"?Ci.resizeNearestNeighbor(s,[a,o]):Ci.resizeBilinear(s,[a,o]);return Un(i,[0,3,1,2])}else{const a=this.size[0]*r[1],o=this.size[1]*r[2];return this.interpolation==="nearest"?Ci.resizeNearestNeighbor(s,[a,o]):Ci.resizeBilinear(s,[a,o])}})}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}}b9.className="UpSampling2D";bt(b9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function r4t(t,e,n=[1,1],s="valid",r,a){return Ve(()=>{r==null&&(r=ul()),ur(r);let o=p9(t,r);if(t.rank!==4)throw new De(`Input for depthwiseConv2d is required to be 4-D, but is instead ${t.rank}-D`);if(e.rank!==4)throw new De(`depthwiseKernel is required to be 4-D, but is instead ${e.rank}-D`);return o=Fm(o,e,n,s==="same"?"same":"valid","NHWC",a),r==="channelsFirst"&&(o=Un(o,[0,3,1,2])),o})}class _9 extends Dx{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=e.depthMultiplier==null?1:e.depthMultiplier,this.depthwiseInitializer=Ps(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=Er(e.depthwiseConstraint),this.depthwiseRegularizer=Fs(e.depthwiseRegularizer)}build(e){if(e=es(e),e.length<4)throw new De(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n=this.dataFormat==="channelsFirst"?1:3;if(e[n]==null||e[n]<0)throw new De(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const s=e[n],r=[this.kernelSize[0],this.kernelSize[1],s,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[s*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ve(()=>{e=mn(e);let s=r4t(e,this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(s=bl(s,this.bias.read(),this.dataFormat)),this.activation!=null&&(s=this.activation.apply(s)),s})}computeOutputShape(e){e=es(e);const n=this.dataFormat==="channelsFirst"?e[2]:e[1],s=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=rl(n,this.kernelSize[0],this.padding,this.strides[0]),o=rl(s,this.kernelSize[1],this.padding,this.strides[1]);return this.dataFormat==="channelsFirst"?[e[0],r,a,o]:[e[0],a,o,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Ks(this.depthwiseInitializer),e.depthwiseRegularizer=ps(this.depthwiseRegularizer),e.depthwiseConstraint=$r(this.depthwiseRegularizer),e}}_9.className="DepthwiseConv2D";bt(_9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function CX(t,e,n,s){if(Array.isArray(t)){if(e!=null||n!=null)throw new De("When inputs is an array, neither initialState or constants should be provided");s!=null&&(n=t.slice(t.length-s,t.length),t=t.slice(0,t.length-s)),t.length>1&&(e=t.slice(1,t.length)),t=t[0]}function r(a){return a==null||Array.isArray(a)?a:[a]}return e=r(e),n=r(n),{inputs:t,initialState:e,constants:n}}function SX(t,e,n,s=!1,r,a,o=!1,i=!1){return Ve(()=>{const l=e.shape.length;if(l<3)throw new De(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(ll(2,l));if(e=Un(e,u),a!=null)throw new Tn("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),r!=null&&(r=Nt(Nt(r,"bool"),"float32"),r.rank===l-1&&(r=Kr(r,-1)),r=Un(r,u)),s&&(e=Zo(e,0),r!=null&&(r=Zo(r,0)));const c=[];let d,h=n;const f=e.shape[0],p=Jo(e);let m;r!=null&&(m=Jo(r));for(let v=0;v<f;++v){const b=p[v],w=Ve(()=>t(b,h));if(r==null)d=w[0],h=w[1];else{const _=Ve(()=>{const C=m[v],x=jt($o(C),C),T=mt(Ie(w[0],C),Ie(h[0],x)),k=h.map((N,O)=>mt(Ie(w[1][O],C),Ie(N,x)));return{output:T,newStates:k}});d=_.output,h=_.newStates}i&&c.push(d)}let y;return i&&(y=Ea(c,1)),[d,y,h]})}class _l extends Ln{constructor(e){super(e);let n;if(e.cell==null)throw new De("cell property is missing for the constructor of RNN.");if(Array.isArray(e.cell)?n=new Lx({cells:e.cell}):n=e.cell,n.stateSize==null)throw new De("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=e.returnSequences==null?!1:e.returnSequences,this.returnState=e.returnState==null?!1:e.returnState,this.goBackwards=e.goBackwards==null?!1:e.goBackwards,this._stateful=e.stateful==null?!1:e.stateful,this.unroll=e.unroll==null?!1:e.unroll,this.supportsMasking=!0,this.inputSpec=[new gr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;return ll(0,e).map(n=>null)}else return this.states_}setStates(e){this.states_=e}computeOutputShape(e){rk(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const s=n[0];let r;if(this.returnSequences?r=[e[0],e[1],s]:r=[e[0],s],this.returnState){const a=[];for(const o of n)a.push([e[0],o]);return[r].concat(a)}else return r}computeMask(e,n){return Ve(()=>{Array.isArray(n)&&(n=n[0]);const s=this.returnSequences?n:null;if(this.returnState){const r=this.states.map(a=>null);return[s].concat(r)}else return s})}get states(){if(this.states_==null){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let s=0;s<e;++s)n.push(null);return n}else return this.states_}set states(e){this.states_=e}build(e){if(this.numConstants!=null)throw new Tn("Constants support is not implemented in RNN yet.");rk(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,s=e.slice(2);this.inputSpec[0]=new gr({shape:[n,null,...s]});const r=[e[0]].concat(e.slice(2));this.cell.build(r);let a;if(Array.isArray(this.cell.stateSize)?a=this.cell.stateSize:a=[this.cell.stateSize],this.stateSpec!=null){if(!Bn(this.stateSpec.map(o=>o.shape[o.shape.length-1]),a))throw new De(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=a.map(o=>new gr({shape:[null,o]}));this.stateful&&this.resetStates()}resetStates(e,n=!1){Ve(()=>{if(!this.stateful)throw new kl("Cannot call resetStates() on an RNN Layer that is not stateful.");const s=this.inputSpec[0].shape[0];if(s==null)throw new De("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.states_==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>mr([s,r])):this.states_=[mr([s,this.cell.stateSize])];else if(e==null)vn(this.states_),this.keptStates!=null&&(vn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(r=>mr([s,r])):this.states_[0]=mr([s,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new De(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n===!0?this.keptStates.push(this.states_.slice()):vn(this.states_);for(let r=0;r<this.states_.length;++r){const a=e[r],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[r]:this.cell.stateSize,i=[s,o];if(!Bn(a.shape,i))throw new De(`State ${r} is incompatible with layer ${this.name}: expected shape=${i}, received shape=${a.shape}`);this.states_[r]=a}}this.states_=this.states_.map(r=>Tr(r.clone()))})}apply(e,n){let s=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const a=CX(e,s,r,this.numConstants);e=a.inputs,s=a.initialState,r=a.constants;let o=[],i=[];if(s!=null){n.initialState=s,o=o.concat(s),this.stateSpec=[];for(const u of s)this.stateSpec.push(new gr({shape:u.shape}));i=i.concat(this.stateSpec)}if(r!=null&&(n.constants=r,o=o.concat(r),this.numConstants=r.length),o[0]instanceof cl){const u=[e].concat(o),c=this.inputSpec.concat(i),d=this.inputSpec;this.inputSpec=c;const h=super.apply(u,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return Ve(()=>{const s=n==null?null:n.mask,r=n==null?null:n.training;let a=n==null?null:n.initialState;e=mn(e),a==null&&(this.stateful?a=this.states_:a=this.getInitialState(e));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(a.length!==o)throw new De(`RNN Layer has ${o} state(s) but was passed ${a.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const i={training:r},u=SX((p,m)=>{const y=this.cell.call([p].concat(m),i);return[y[0],y.slice(1)]},e,a,this.goBackwards,s,null,this.unroll,this.returnSequences),c=u[0],d=u[1],h=u[2];this.stateful&&this.resetStates(h,r);const f=this.returnSequences?d:c;return this.returnState?[f].concat(h):f})}getInitialState(e){return Ve(()=>{let n=mr(e.shape);return n=Xt(n,[1,2]),n=My(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map(s=>s>1?nk(n,[1,s]):n):this.cell.stateSize>1?[nk(n,[1,this.cell.stateSize])]:[n]})}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.cell!=null&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};this.numConstants!=null&&(n.numConstants=this.numConstants);const s=this.cell.getConfig();return this.getClassName()===_l.className&&(n.cell={className:this.cell.getClassName(),config:s}),Object.assign(Object.assign(Object.assign({},s),e),n)}static fromConfig(e,n,s={}){const r=n.cell,a=sl(r,s);return new e(Object.assign(n,{cell:a}))}}_l.className="RNN";bt(_l);class Uy extends Ln{}class Ox extends Uy{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Rr(this.units,"units"),this.activation=ld(e.activation==null?this.DEFAULT_ACTIVATION:e.activation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Ps(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Ps(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Ps(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Fs(e.kernelRegularizer),this.recurrentRegularizer=Fs(e.recurrentRegularizer),this.biasRegularizer=Fs(e.biasRegularizer),this.kernelConstraint=Er(e.kernelConstraint),this.recurrentConstraint=Er(e.recurrentConstraint),this.biasConstraint=Er(e.biasConstraint),this.dropout=f0([1,od([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=f0([1,od([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=es(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ve(()=>{if(e=e,e.length!==2)throw new De(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let s=e[1];e=e[0];const r=n.training==null?!1:n.training;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ud({ones:()=>$o(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ud({ones:()=>$o(s),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));let a;const o=this.dropoutMask,i=this.recurrentDropoutMask;o!=null?a=Ul(Ie(e,o),this.kernel.read()):a=Ul(e,this.kernel.read()),this.bias!=null&&(a=bl(a,this.bias.read())),i!=null&&(s=Ie(s,i));let l=mt(a,Ul(s,this.recurrentKernel.read()));return this.activation!=null&&(l=this.activation.apply(l)),[l,l]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:id(this.activation),useBias:this.useBias,kernelInitializer:Ks(this.kernelInitializer),recurrentInitializer:Ks(this.recurrentInitializer),biasInitializer:Ks(this.biasInitializer),kernelRegularizer:ps(this.kernelRegularizer),recurrentRegularizer:ps(this.recurrentRegularizer),biasRegularizer:ps(this.biasRegularizer),activityRegularizer:ps(this.activityRegularizer),kernelConstraint:$r(this.kernelConstraint),recurrentConstraint:$r(this.recurrentConstraint),biasConstraint:$r(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),n)}}Ox.className="SimpleRNNCell";bt(Ox);class w9 extends _l{constructor(e){e.cell=new Ox(e),super(e)}call(e,n){return Ve(()=>{this.cell.dropoutMask!=null&&(vn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const s=n==null?null:n.mask,r=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:a})})}static fromConfig(e,n){return new e(n)}}w9.className="SimpleRNN";bt(w9);class Rx extends Uy{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new De("GRUCell does not support reset_after parameter set to true.");this.units=e.units,Rr(this.units,"units"),this.activation=ld(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ld(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Ps(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Ps(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Ps(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Fs(e.kernelRegularizer),this.recurrentRegularizer=Fs(e.recurrentRegularizer),this.biasRegularizer=Fs(e.biasRegularizer),this.kernelConstraint=Er(e.kernelConstraint),this.recurrentConstraint=Er(e.recurrentConstraint),this.biasConstraint=Er(e.biasConstraint),this.dropout=f0([1,od([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=f0([1,od([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=es(e);const n=e[e.length-1];this.kernel=this.addWeight("kernel",[n,this.units*3],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*3],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units*3],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Ve(()=>{if(e=e,e.length!==2)throw new De(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const s=n.training==null?!1:n.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ud({ones:()=>$o(e),rate:this.dropout,training:s,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ud({ones:()=>$o(r),rate:this.recurrentDropout,training:s,count:3,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,o=this.recurrentDropoutMask;let i,l,u;0<this.dropout&&this.dropout<1&&(e=Ie(e,a[0]));let c=Ul(e,this.kernel.read());this.useBias&&(c=bl(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Ie(r,o[0]));const d=this.recurrentKernel.read(),[h,f]=Ka(d,[2*this.units,this.units],d.rank-1),p=Ul(r,h),[m,y,v]=Ka(c,3,c.rank-1),[b,w]=Ka(p,2,p.rank-1);i=this.recurrentActivation.apply(mt(m,b)),l=this.recurrentActivation.apply(mt(y,w));const _=Ul(Ie(l,r),f);u=this.activation.apply(mt(v,_));const C=mt(Ie(i,r),Ie(mt(1,bs(i)),u));return[C,C]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:id(this.activation),recurrentActivation:id(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ks(this.kernelInitializer),recurrentInitializer:Ks(this.recurrentInitializer),biasInitializer:Ks(this.biasInitializer),kernelRegularizer:ps(this.kernelRegularizer),recurrentRegularizer:ps(this.recurrentRegularizer),biasRegularizer:ps(this.biasRegularizer),activityRegularizer:ps(this.activityRegularizer),kernelConstraint:$r(this.kernelConstraint),recurrentConstraint:$r(this.recurrentConstraint),biasConstraint:$r(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),n)}}Rx.className="GRUCell";bt(Rx);class x9 extends _l{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Rx(e),super(e)}call(e,n){return Ve(()=>{this.cell.dropoutMask!=null&&(vn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const s=n==null?null:n.mask,r=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:a})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}x9.className="GRU";bt(x9);class Wy extends Uy{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,Rr(this.units,"units"),this.activation=ld(e.activation===void 0?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=ld(e.recurrentActivation===void 0?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=e.useBias==null?!0:e.useBias,this.kernelInitializer=Ps(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=Ps(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=Ps(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Fs(e.kernelRegularizer),this.recurrentRegularizer=Fs(e.recurrentRegularizer),this.biasRegularizer=Fs(e.biasRegularizer),this.kernelConstraint=Er(e.kernelConstraint),this.recurrentConstraint=Er(e.recurrentConstraint),this.biasConstraint=Er(e.biasConstraint),this.dropout=f0([1,od([0,e.dropout==null?0:e.dropout])]),this.recurrentDropout=f0([1,od([0,e.recurrentDropout==null?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;e=es(e);const s=e[e.length-1];this.kernel=this.addWeight("kernel",[s,this.units*4],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units*4],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint);let r;if(this.useBias){if(this.unitForgetBias){const a=this.biasInitializer,o=this.units;r=new(n=class extends Mi{apply(l,u){const c=a.apply([o]),d=new wx().apply([o]),h=a.apply([o*2]);return kP(kP(c,d),h)}},n.className="CustomInit",n)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[this.units*4],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Ve(()=>{const s=n.training==null?!1:n.training;if(e=e,e.length!==3)throw new De(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const a=e[2];e=e[0],0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ud({ones:()=>$o(e),rate:this.dropout,training:s,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ud({ones:()=>$o(r),rate:this.recurrentDropout,training:s,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,i=this.recurrentDropoutMask;let l,u,c,d;0<this.dropout&&this.dropout<1&&(e=Ie(e,o[0]));let h=Ul(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=Ie(r,i[0])),h=mt(h,Ul(r,this.recurrentKernel.read())),this.useBias&&(h=bl(h,this.bias.read()));const[f,p,m,y]=Ka(h,4,h.rank-1);l=this.recurrentActivation.apply(f),u=this.recurrentActivation.apply(p),c=mt(Ie(u,a),Ie(l,this.activation.apply(m))),d=this.recurrentActivation.apply(y);const v=Ie(d,this.activation.apply(c));return[v,v,c]})}getConfig(){const e=super.getConfig(),n={units:this.units,activation:id(this.activation),recurrentActivation:id(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ks(this.kernelInitializer),recurrentInitializer:Ks(this.recurrentInitializer),biasInitializer:Ks(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:ps(this.kernelRegularizer),recurrentRegularizer:ps(this.recurrentRegularizer),biasRegularizer:ps(this.biasRegularizer),activityRegularizer:ps(this.activityRegularizer),kernelConstraint:$r(this.kernelConstraint),recurrentConstraint:$r(this.recurrentConstraint),biasConstraint:$r(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),n)}}Wy.className="LSTMCell";bt(Wy);class C9 extends _l{constructor(e){e.implementation===0&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Wy(e),super(e)}call(e,n){return Ve(()=>{this.cell.dropoutMask!=null&&(vn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const s=n==null?null:n.mask,r=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:a})})}static fromConfig(e,n){return n.implmentation===0&&(n.implementation=1),new e(n)}}C9.className="LSTM";bt(C9);class Lx extends Uy{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Ve(()=>{e=e;let s=e.slice(1);const r=[];for(const i of this.cells.slice().reverse())Array.isArray(i.stateSize)?r.push(s.splice(0,i.stateSize.length)):r.push(s.splice(0,1));r.reverse();const a=[];let o;for(let i=0;i<this.cells.length;++i){const l=this.cells[i];s=r[i],i===0?o=[e[0]].concat(s):o=[o[0]].concat(s),o=l.call(o,n),a.push(o.slice(1))}s=[];for(const i of a.slice().reverse())s.push(...i);return[o[0]].concat(s)})}build(e){rk(e)&&(e=e[0]),e=e;let n;this.cells.forEach((s,r)=>{xh(`RNNCell_${r}`,()=>{s.build(e),Array.isArray(s.stateSize)?n=s.stateSize[0]:n=s.stateSize,e=[e[0],n]})}),this.built=!0}getConfig(){const e=super.getConfig(),n=a=>({className:a.getClassName(),config:a.getConfig()}),r={cells:this.cells.map(n)};return Object.assign(Object.assign({},e),r)}static fromConfig(e,n,s={}){const r=[];for(const a of n.cells)r.push(sl(a,s));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const s of this.cells)n.push(...s.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return ak(e)}setWeights(e){const n=[];for(const s of this.cells){const r=s.weights.length,a=e.splice(r);for(let o=0;o<s.weights.length;++o)n.push([s.weights[o],a[o]])}YN(n)}}Lx.className="StackedRNNCells";bt(Lx);function ud(t){const{ones:e,rate:n,training:s=!1,count:r=1,dropoutFunc:a}=t,o=()=>a!=null?a(e(),n):BK(e(),n),i=()=>By(o,e,s);return!r||r<=1?Tr(i().clone()):Array(r).fill(void 0).map(i).map(u=>Tr(u.clone()))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */var a4t=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};class TX extends _l{constructor(e){if(e.unroll)throw new Tn("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Tn("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new gr({ndim:5})]}call(e,n){return Ve(()=>{if(this.cell.dropoutMask!=null&&(vn(this.cell.dropoutMask),this.cell.dropoutMask=null),this.cell.recurrentDropoutMask!=null&&(vn(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new De("ConvRNN2D cell does not support constants");const s=n==null?null:n.mask,r=n==null?null:n.training,a=n==null?null:n.initialState;return super.call(e,{mask:s,training:r,initialState:a})})}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return Ve(()=>{const{stateSize:n}=this.cell,s=e.shape,r=this.computeSingleOutputShape(s),a=[r[0],...r.slice(2)],o=mr(a);return Array.isArray(n)?Array(n.length).fill(o):[o]})}resetStates(e,n=!1){Ve(()=>{if(!this.stateful)throw new kl("Cannot call resetStates() on an RNN Layer that is not stateful.");const s=this.inputSpec[0].shape,r=this.computeSingleOutputShape(s),a=[r[0],...r.slice(2)];if(s[0]==null)throw new De("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(this.getStates()==null)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>mr(a)):this.states_=[mr(a)];else if(e==null)vn(this.states_),this.keptStates!=null&&(vn(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map(()=>mr(a)):this.states_[0]=mr(a);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new De(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):vn(this.states_);for(let i=0;i<this.states_.length;++i){const l=e[i],u=a;if(!Bn(l.shape,u))throw new De(`State ${i} is incompatible with layer ${this.name}: expected shape=${u}, received shape=${l.shape}`);this.states_[i]=l}}this.states_=this.states_.map(i=>Tr(i.clone()))})}computeSingleOutputShape(e){const{dataFormat:n,filters:s,kernelSize:r,padding:a,strides:o,dilationRate:i}=this.cell,l=n==="channelsFirst",u=e[l?3:2],c=e[l?4:3],d=rl(u,r[0],a,o[0],i[0]),h=rl(c,r[1],a,o[1],i[1]);return[...e.slice(0,2),...l?[s,d,h]:[d,h,s]]}}TX.className="ConvRNN2D";class Px extends Wy{constructor(e){const{filters:n,kernelSize:s,strides:r,padding:a,dataFormat:o,dilationRate:i}=e;super(Object.assign(Object.assign({},e),{units:n})),this.filters=n,Rr(this.filters,"filters"),this.kernelSize=Np(s,2,"kernelSize"),this.kernelSize.forEach(l=>Rr(l,"kernelSize")),this.strides=Np(r||1,2,"strides"),this.strides.forEach(l=>Rr(l,"strides")),this.padding=a||"valid",ti(this.padding),this.dataFormat=o||"channelsLast",ur(this.dataFormat),this.dilationRate=Np(i||1,2,"dilationRate"),this.dilationRate.forEach(l=>Rr(l,"dilationRate"))}build(e){var n;e=es(e);const s=this.dataFormat==="channelsFirst"?1:e.length-1;if(e[s]==null)throw new De(`The channel dimension of the input should be defined. Found ${e[s]}`);const r=e[s],a=4,o=this.kernelSize.concat([r,this.filters*a]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,this.filters*a]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let l;if(this.unitForgetBias){const u=this.biasInitializer,c=this.filters;l=new(n=class extends Mi{apply(h,f){const p=u.apply([c]),m=Wa([c]),y=u.apply([c*2]);return HN([p,m,y])}},n.className="CustomInit",n)}else l=this.biasInitializer;this.bias=this.addWeight("bias",[this.filters*a],null,l,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return Ve(()=>{if(e.length!==3)throw new De(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const s=n.training||!1,r=e[0],a=e[1],o=e[2],i=4;0<this.dropout&&this.dropout<1&&this.dropoutMask==null&&(this.dropoutMask=ud({ones:()=>$o(r),rate:this.dropout,training:s,count:i,dropoutFunc:this.dropoutFunc}));const l=this.dropoutMask,u=(j,J,ne)=>!J||!J[ne]?j:Ie(J[ne],j);let c=u(r,l,0),d=u(r,l,1),h=u(r,l,2),f=u(r,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&this.recurrentDropoutMask==null&&(this.recurrentDropoutMask=ud({ones:()=>$o(a),rate:this.recurrentDropout,training:s,count:i,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let m=u(a,p,0),y=u(a,p,1),v=u(a,p,2),b=u(a,p,3);const w=3,[_,C,x,T]=Ka(this.kernel.read(),i,w),[k,N,O,L]=this.useBias?Ka(this.bias.read(),i):[null,null,null,null];c=this.inputConv(c,_,k,this.padding),d=this.inputConv(d,C,N,this.padding),h=this.inputConv(h,x,O,this.padding),f=this.inputConv(f,T,L,this.padding);const[V,H,K,U]=Ka(this.recurrentKernel.read(),i,w);m=this.recurrentConv(m,V),y=this.recurrentConv(y,H),v=this.recurrentConv(v,K),b=this.recurrentConv(b,U);const R=this.recurrentActivation.apply(mt(c,m)),W=this.recurrentActivation.apply(mt(d,y)),G=mt(Ie(W,o),Ie(R,this.activation.apply(mt(h,v)))),P=Ie(this.recurrentActivation.apply(mt(f,b)),this.activation.apply(G));return[P,P,G]})}getConfig(){const e=super.getConfig(),n=a4t(e,["units"]),s={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),s)}inputConv(e,n,s,r){const a=Uu(e,n,this.strides,r||"valid",this.dataFormat==="channelsFirst"?"NCHW":"NHWC",this.dilationRate);return s?bl(a,s,this.dataFormat):a}recurrentConv(e,n){return Uu(e,n,1,"same",this.dataFormat==="channelsFirst"?"NCHW":"NHWC")}}Px.className="ConvLSTM2DCell";bt(Px);class S9 extends TX{constructor(e){const n=new Px(e);super(Object.assign(Object.assign({},e),{cell:n}))}static fromConfig(e,n){return new e(n)}}S9.className="ConvLSTM2D";bt(S9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Mx extends Ln{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(this.noiseShape==null)return this.noiseShape;const n=e.shape,s=[];for(let r=0;r<this.noiseShape.length;++r)s.push(this.noiseShape[r]==null?n[r]:this.noiseShape[r]);return s}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e);if(0<this.rate&&this.rate<1){const r=n.training==null?!1:n.training,a=this.getNoiseShape(s);return By(()=>BK(s,this.rate,a,this.seed),()=>s,r)}return e})}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}Mx.className="Dropout";bt(Mx);class T9 extends Mx{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}T9.className="SpatialDropout1D";bt(T9);class k9 extends Ln{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.batchInputShape==null&&e.inputShape==null&&e.inputDim!=null){let n=null;e.batchSize!=null&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,Rr(this.units,"units"),this.activation=ld(e.activation),e.useBias!=null&&(this.useBias=e.useBias),this.kernelInitializer=Ps(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=Ps(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=Er(e.kernelConstraint),this.biasConstraint=Er(e.biasConstraint),this.kernelRegularizer=Fs(e.kernelRegularizer),this.biasRegularizer=Fs(e.biasRegularizer),this.activityRegularizer=Fs(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){e=es(e);const n=e[e.length-1];this.kernel==null&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){e=es(e);const n=e.slice();return n[n.length-1]=this.units,n}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e),r=DK(this.activation.getClassName());let a;return r!=null?a=Ul(s,this.kernel.read(),r,this.bias?this.bias.read():null):(a=Ul(s,this.kernel.read()),this.bias!=null&&(a=bl(a,this.bias.read())),this.activation!=null&&(a=this.activation.apply(a))),a})}getConfig(){const e={units:this.units,activation:id(this.activation),useBias:this.useBias,kernelInitializer:Ks(this.kernelInitializer),biasInitializer:Ks(this.biasInitializer),kernelRegularizer:ps(this.kernelRegularizer),biasRegularizer:ps(this.biasRegularizer),activityRegularizer:ps(this.activityRegularizer),kernelConstraint:$r(this.kernelConstraint),biasConstraint:$r(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}k9.className="Dense";bt(k9);class $9 extends Ln{constructor(e){e=e||{},super(e),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=es(e);for(const n of e.slice(1))if(n==null)throw new De(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],qc(e,1)]}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);let s=mn(e);if(this.dataFormat==="channelsFirst"&&s.rank>1){const r=[0];for(let a=2;a<s.rank;++a)r.push(a);r.push(1),s=Un(s,r)}return v_t(s)})}getConfig(){const e={};this.dataFormat!=null&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}$9.className="Flatten";bt($9);class E9 extends Ln{constructor(e){super(e),this.supportsMasking=!0,this.activation=ld(e.activation)}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e);return this.activation.apply(s)})}getConfig(){const e={activation:id(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}E9.className="Activation";bt(E9);class I9 extends Ln{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Ve(()=>(e=mn(e),m_t(e,this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}I9.className="RepeatVector";bt(I9);class N9 extends Ln{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||e==null}fixUnknownDimension(e,n){const s="Total size of new array must be unchanged.",r=n.slice();let a=1,o=null;for(let l=0;l<r.length;++l){const u=r[l];if(this.isUnknown(u))if(o===null)o=l;else throw new De("Can only specifiy one unknown dimension.");else a*=u}const i=qc(e);if(o!==null){if(a===0||i%a!==0)throw new De(s);r[o]=i/a}else if(i!==a)throw new De(s);return r}computeOutputShape(e){let n=!1;for(let s=0;s<e.length;++s)if(this.isUnknown(e[s])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e),r=s.shape,a=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return Ne(s,a)})}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}N9.className="Reshape";bt(N9);class A9 extends Ln{constructor(e){if(super(e),e.dims==null)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=ll(1,e.dims.length+1);if(!Bn(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new gr({ndim:this.dims.length+1})]}computeOutputShape(e){e=es(e);const n=e.slice();return this.dims.forEach((s,r)=>{n[r+1]=e[s]}),n}call(e,n){return Un(mn(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}A9.className="Permute";bt(A9);class D9 extends Ln{constructor(e){super(e??{}),this.supportsMasking=!0,e!=null?this.maskValue=e.maskValue==null?0:e.maskValue:this.maskValue=0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const s=mn(e);return C1(Wh(s,this.maskValue),-1)}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e),o=C1(Wh(s,this.maskValue),-1,!0);return Ie(s,Nt(o,s.dtype))})}}D9.className="Masking";bt(D9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class O9 extends Ln{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",e.batchInputShape==null&&e.inputShape==null){let n=null;e.batchSize!=null&&(n=e.batchSize),e.inputLength==null?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(cs(e.inputLength))}this.inputDim=e.inputDim,Rr(this.inputDim,"inputDim"),this.outputDim=e.outputDim,Rr(this.outputDim,"outputDim"),this.embeddingsInitializer=Ps(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Fs(e.embeddingsRegularizer),this.activityRegularizer=Fs(e.activityRegularizer),this.embeddingsConstraint=Er(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Ve(()=>this.maskZero?(e=mn(e),Wh(e,qn(e))):null)}computeOutputShape(e){if(e=es(e),this.inputLength==null)return[...e,this.outputDim];const n=cs(this.inputLength);if(n.length!==e.length-1)throw new De(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let s=0;for(let r=0;r<n.length;++r){const a=n[r],o=e[r+1];if(a!=null&&o!=null&&a!==o)throw new De(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);a==null&&(n[s]=o),s++}}return[e[0],...n,this.outputDim]}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);let s=mn(e);s.dtype!=="int32"&&(s=Hl(s,"int32"));const r=FK(this.embeddings.read(),Ne(s,[s.size]));return Ne(r,es(this.computeOutputShape(s.shape)))})}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Ks(this.embeddingsInitializer),embeddingsRegularizer:ps(this.embeddingsRegularizer),activityRegularizer:ps(this.activityRegularizer),embeddingsConstraint:$r(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}O9.className="Embedding";bt(O9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class Sf extends Ln{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Tn}computeElementwiseOpOutputShape(e,n){if(e==null||n==null)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(n.length===0)return e;const s=e.slice(0,e.length-n.length);for(let r=0;r<n.length;++r){const a=e[e.length-n.length+r],o=n[r];if(a==null||o==null||a<0||o<0)s.push(null);else if(a===1)s.push(o);else if(o===1)s.push(a);else{if(a!==o)throw new De("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));s.push(a)}}return s}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[es(e)]),e=e,e.length<2)throw new De(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const a of e)a!=null&&a[0]!==null&&n.push(a[0]);if(n=Gc(n),n.length>1)throw new De(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let s=e[0]==null?null:e[0].slice(1);for(let a=1;a<e.length;++a){const o=e[a]==null?null:e[a].slice(1);s=this.computeElementwiseOpOutputShape(s,o)}const r=e.map(a=>a.length);e.indexOf(null)===-1&&Gc(r).length===1?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Ve(()=>{if(e=e,this.reshapeRequired){const s=[],r=e.map(a=>a.rank);if(r.indexOf(null)===-1){const a=od(r);for(let o of e){const i=o.rank;for(let l=0;l<a-i;++l)o=My(o,1);s.push(o)}return this.mergeFunction(s)}else{let a=!1;for(const l of e){const u=l.rank;if(u==null){const c=l.shape,d=c[0],h=c.slice(1).concat([d]);let f=Ne(l,[d].concat(qc(c.slice(1))));f=Un(f,[1,0]),f=Ne(f,h),s.push(f),a=!0}else if(u>1){const c=ll(1,u).concat([0]);s.push(Un(l,c)),a=!0}else s.push(l)}let o=this.mergeFunction(s);const i=o.rank;if(a){if(i==null){const l=o.shape,u=l.length,c=l[u-1],d=[c].concat(l.slice(0,l.length-1));o=Ne(Un(Ne(o,[-1,c]),[1,0]),d)}else if(i>1){const l=[i-1].concat(ll(0,i-1));o=Un(o,l)}}return o}}else return this.mergeFunction(e)})}computeOutputShape(e){e=e;let n;e[0]==null?n=null:n=e[0].slice(1);for(let r=1;r<e.length;++r){const a=e[r]==null?null:e[r].slice(1);n=this.computeElementwiseOpOutputShape(n,a)}let s=[];for(const r of e)r!=null&&r[0]!==null&&s.push(r[0]);return s=Gc(s),s.length===1?n=s.concat(n):n=[null].concat(n),n}computeMask(e,n){return Ve(()=>{if(n==null)return null;if(!Array.isArray(n))throw new De("`mask` should be an Array");if(!Array.isArray(e))throw new De("`inputs` should be an Array");if(n.length!==e.length)throw new De(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every(r=>r==null))return null;n=n.map(r=>r==null?r:Kr(r,0));let s=n[0];for(let r=1;r<n.length-1;++r)s=Oi(s,n[r]);return s})}}class R9 extends Sf{constructor(e){super(e)}mergeFunction(e){return Ve(()=>{let n=e[0].clone();for(let s=1;s<e.length;++s)n=mt(n,e[s]);return n})}}R9.className="Add";bt(R9);class L9 extends Sf{constructor(e){super(e)}mergeFunction(e){return Ve(()=>{let n=e[0].clone();for(let s=1;s<e.length;++s)n=Ie(n,e[s]);return n})}}L9.className="Multiply";bt(L9);class P9 extends Sf{constructor(e){super(e)}mergeFunction(e){return Ve(()=>{let n=e[0].clone();for(let s=1;s<e.length;++s)n=mt(n,e[s]);return Ie(1/e.length,n)})}}P9.className="Average";bt(P9);class M9 extends Sf{constructor(e){super(e)}mergeFunction(e){return Ve(()=>{let n=e[0];for(let s=1;s<e.length;++s)n=du(n,e[s]);return n})}}M9.className="Maximum";bt(M9);class F9 extends Sf{constructor(e){super(e)}mergeFunction(e){return Ve(()=>{let n=e[0];for(let s=1;s<e.length;++s)n=ad(n,e[s]);return n})}}F9.className="Minimum";bt(F9);class B9 extends Sf{constructor(e){super(e),this.DEFAULT_AXIS=-1,e==null&&(e={}),this.axis=e.axis==null?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!(Array.isArray(e)&&Array.isArray(e[0]))||e.length===1)throw new De("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const r of e)if(r!=null){n=!1;break}if(n)return;const s=[];for(let r=0;r<e.length;++r){const a=e[r].slice();a.splice(this.axis,1);let o=!1;for(const i of s)if(Bn(i,a)){o=!0;break}o||s.push(a)}if(s.length>1)throw new De("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Ve(()=>HN(e,this.axis))}computeOutputShape(e){if(!(Array.isArray(e)&&Array.isArray(e[0])))throw new De("A `Concatenate` layer should be called on a list of inputs.");const n=e,s=n[0].slice(),r=this.axis<0?s.length+this.axis:this.axis;for(const a of n.slice(1)){if(s[r]==null||a[r]==null){s[r]=null;break}s[r]+=a[r]}return s}computeMask(e,n){if(n==null)return null;if(!Array.isArray(n))throw new De("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new De("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new De(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return Ve(()=>{let s=!0;if(n.forEach(o=>{if(o!=null){s=!1;return}}),s)return null;const r=[];for(let o=0;o<e.length;++o)n[o]==null?r.push(Nt($o(e[o]),"bool")):n[o].rank<e[o].rank?r.push(Kr(n[o],-1)):r.push(n[o]);const a=rr(r,this.axis);return R6(a,-1,!1)})}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}B9.className="Concatenate";bt(B9);function Bg(t,e){for(;t<0;)t+=e;return t}function o4t(t,e,n){if(t.shape.length>3||e.shape.length>3)throw new Tn("batchDot is not implemented for tensors of 4D or higher rank yet");if(ae(t.shape.length>=2,()=>`batchDot requires the rank of x to be >= 2, but got ${t.shape.length}`),ae(t.shape.length>=2,()=>`batchDot requires the rank of y to be >= 2, but got ${e.shape.length}`),typeof n=="number"&&(n=[n,n]),t.dtype==="complex64"||e.dtype==="complex64")throw new Tn("batchDot is not implemented for complex64-type Tensors yet.");const s=t.shape.length,r=e.shape.length;n==null&&(n=[s-1,r-2]);const a=n;return Ve(()=>{let o;if(s>r){o=s-r;const l=[];for(let u=0;u<o;++u)l.push(1);e=Ne(e,e.shape.concat(l))}else if(r>s){o=r-s;const l=[];for(let u=0;u<o;++u)l.push(1);t=Ne(t,t.shape.concat(l))}else o=0;let i;if(t.shape.length===2&&e.shape.length===2)a[0]===a[1]?i=Xt(Ie(t,e),a[0]):i=Xt(Ie(Un(t,[1,0]),e),a[1]);else{const l=a[0]!==t.shape.length-1,u=a[1]===e.shape.length-1;i=Dn(t,e,l,u)}if(o>0){let l;s>r?l=s+r-3:l=s-1;const u=[];for(let c=l;c<l+o;++c)u.push(c);i=kd(i,u)}return i.shape.length===1&&(i=Kr(i,1)),i})}class z9 extends Sf{constructor(e){super(e),this.axes=e.axes,this.normalize=e.normalize==null?!1:e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){ae(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0],s=e[1];if(n.length>3||s.length>3)throw new Tn("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,s);if(n[r[0]]!==s[r[1]])throw new De(`Dimension incompatibility: ${n[r[0]]} !== ${s[r[1]]}`)}mergeFunction(e){if(e.length!==2)throw new De(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n=e[0],s=e[1],r;return Array.isArray(this.axes)?r=this.axes.map((a,o)=>Bg(a,e[o].shape.length)):r=[Bg(this.axes,n.shape.length),Bg(this.axes,s.shape.length)],this.normalize&&(n=H3(n,r[0]),s=H3(s,r[1])),o4t(n,s,r)}interpretAxes(e,n){let s;return Array.isArray(this.axes)?s=this.axes:s=[Bg(this.axes,e.length),Bg(this.axes,n.length)],s}computeOutputShape(e){ae(Array.isArray(e)&&e.length===2&&Array.isArray(e[0])&&Array.isArray(e[1]),()=>"A `Dot` layer should be called on a list of exactly 2 inputs.");const n=e[0].slice(),s=e[1].slice();if(n.length>3||s.length>3)throw new Tn("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(n,s);n.splice(r[0],1),s.splice(r[1],1),s.splice(0,1);const a=n.concat(s);return a.length===1&&a.push(1),a}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}z9.className="Dot";bt(z9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class V9 extends Ln{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e);return By(()=>mt(_x(s.shape,0,this.stddev),s),()=>s,n.training||!1)})}}V9.className="GaussianNoise";bt(V9);class H9 extends Ln{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Ve(()=>{this.invokeCallHook(e,n);const s=mn(e);return this.rate>0&&this.rate<1?By(()=>{const a=Math.sqrt(this.rate/(1-this.rate));return Ie(s,_x(s.shape,1,a))},()=>s,n.training||!1):s})}}H9.className="GaussianDropout";bt(H9);class U9 extends Ln{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||mn(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Ve(()=>{if(this.rate<1&&this.rate>0){const s=this._getNoiseShape(e);return By(()=>{const a=mn(e),l=-1.6732632423543772*1.0507009873554805;let u=ic(Td(s),this.rate);u=Hl(u,"float32");const c=((1-this.rate)*(1+this.rate*l**2))**-.5,d=-c*l*this.rate,h=mt(Ie(a,u),Ie(mt(u,-1),l));return mt(Ie(h,c),d)},()=>mn(e),n.training||!1)}return e})}}U9.className="AlphaDropout";bt(U9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function I1(t,e,n,s,r,a=.001){let o;if(t.rank===2)o=rI(t,e,n,s,r,a);else if(t.rank===3)o=aI(t,e,n,s,r,a);else if(t.rank===4)o=oI(t,e,n,s,r,a);else throw new Tn(`batchNormalization is not implemented for array of rank ${t.rank} yet`);return o}function i4t(t,e,n,s,r=.001){return Ve(()=>{const a=Ty(t,s),o=a.mean,i=a.variance;return[I1(t,o,i,n,e,r),o,i]})}function l4t(t,e,n,s,r=.001){return Ve(()=>{const a=Ty(t,s),o=a.mean,i=a.variance,l=[];for(const p of ll(0,t.rank))s.indexOf(p)!==-1?l.push(1):l.push(t.shape[p]);const u=Ne(o,l),c=Ne(i,l),d=e==null?null:Ne(e,l),h=n==null?null:Ne(n,l);return[I1(t,u,c,h,d,r),o,i]})}function u4t(t,e,n,s,r=.001){return Bn(s.slice().sort(),ll(0,t.rank-1))?i4t(t,e,n,s,r):l4t(t,e,n,s,r)}class W9 extends Ln{constructor(e){e==null&&(e={}),super(e),this.supportsMasking=!0,this.axis=e.axis==null?-1:e.axis,this.momentum=e.momentum==null?.99:e.momentum,this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Ps(e.betaInitializer||"zeros"),this.gammaInitializer=Ps(e.gammaInitializer||"ones"),this.movingMeanInitializer=Ps(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=Ps(e.movingVarianceInitializer||"ones"),this.betaConstraint=Er(e.betaConstraint),this.gammaConstraint=Er(e.gammaConstraint),this.betaRegularizer=Fs(e.betaRegularizer),this.gammaRegularizer=Fs(e.gammaRegularizer)}build(e){e=es(e);const n=this.axis>=0?this.axis:this.axis+e.length,s=e[n];if(s==null)throw new De(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new gr({ndim:e.length,axes:{[n]:s}})];const r=[s];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Ve(()=>{const s=n.training==null?!1:n.training,r=mn(e),a=r.shape,o=a.length,i=ll(0,o),l=this.axis>=0?this.axis:this.axis+o;i.splice(l,1);const u=qh(1,o);u[l]=a[l];const c=i.slice();c.sort();const d=!Bn(c,ll(0,o).slice(0,o-1)),h=()=>{if(d){const b=Ne(this.movingMean.read(),u),w=Ne(this.movingVariance.read(),u),_=this.center?Ne(this.beta.read(),u):null,C=this.scale?Ne(this.gamma.read(),u):null;return I1(r,b,w,_,C,this.epsilon)}else return I1(r,this.movingMean.read(),this.movingVariance.read(),this.beta==null?null:this.beta.read(),this.gamma==null?null:this.gamma.read(),this.epsilon)};if(!s)return h();const[f,p,m]=u4t(r,this.gamma.read(),this.beta.read(),i,this.epsilon),y=(b,w,_)=>{Ve(()=>{const C=1-_,x=b.read(),T=Ie(jt(x,w),C);b.write(jt(x,T))})};return(()=>{y(this.movingMean,p,this.momentum),y(this.movingVariance,m,this.momentum)})(),f})}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ks(this.betaInitializer),gammaInitializer:Ks(this.gammaInitializer),movingMeanInitializer:Ks(this.movingMeanInitializer),movingVarianceInitializer:Ks(this.movingVarianceInitializer),betaRegularizer:ps(this.betaRegularizer),gammaRegularizer:ps(this.gammaRegularizer),betaConstraint:$r(this.betaConstraint),gammaConstraint:$r(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}W9.className="BatchNormalization";bt(W9);class j9 extends Ln{constructor(e){if(e==null&&(e={}),super(e),this.axis=e.axis==null?-1:e.axis,typeof this.axis=="number"){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else if(Array.isArray(this.axis)){for(const n of this.axis)if(!Number.isInteger(n))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}else throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);this.epsilon=e.epsilon==null?.001:e.epsilon,this.center=e.center==null?!0:e.center,this.scale=e.scale==null?!0:e.scale,this.betaInitializer=Ps(e.betaInitializer||"zeros"),this.gammaInitializer=Ps(e.gammaInitializer||"ones"),this.betaRegularizer=Fs(e.betaRegularizer),this.gammaRegularizer=Fs(e.gammaRegularizer),this.supportsMasking=!0}build(e){e=es(e);const n=e.length;typeof this.axis=="number"&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=n);for(const a of this.axis)if(a<0||a>=n)throw new Error(`Invalid axis: ${a}`);if(this.axis.length!==Gc(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const s=this.axis.map(a=>e[a]),r=!0;this.scale?this.gamma=this.addWeight("gamma",s,"float32",this.gammaInitializer,this.gammaRegularizer,r):this.gamma=null,this.center?this.beta=this.addWeight("beta",s,"float32",this.betaInitializer,this.betaRegularizer,r):this.beta=null,this.built=!0}call(e,n){const s=mn(e),r=s.shape,a=r.length;return Ve(()=>{let{mean:i,variance:l}=Ty(s,this.axis,!0);const u=qh(1,a);for(const m of this.axis)u[m]=r[m];const c=m=>m!=null&&m.shape.length!==a?Ne(m,u):m;let d=this.scale?c(this.gamma.read()):null,h=this.center?c(this.beta.read()):null;const f=[],p=[];for(let m=0;m<a;++m)this.axis.indexOf(m)!==-1?(f.push(r[m]),p.push(1)):(f.push(1),p.push(r[m]));return i=Wo(i,f),l=Wo(l,f),d!=null&&(d=Wo(d,p)),h!=null&&(h=Wo(h,p)),I1(s,i,l,h,d,this.epsilon)})}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ks(this.betaInitializer),gammaInitializer:Ks(this.gammaInitializer),betaRegularizer:ps(this.betaRegularizer),gammaRegularizer:ps(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}j9.className="LayerNormalization";bt(j9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function c4t(t,e,n){return Ve(()=>{if(t.rank!==4)throw new De(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(e==null&&(e=[[1,1],[1,1]]),e.length!==2||e[0].length!==2||e[1].length!==2)throw new De("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(n==null&&(n=ul()),n!=="channelsLast"&&n!=="channelsFirst")throw new De(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let s;return n==="channelsFirst"?s=[[0,0],[0,0],e[0],e[1]]:s=[[0,0],e[0],e[1],[0,0]],lc(t,s)})}class G9 extends Ln{constructor(e){if(e==null&&(e={}),super(e),this.dataFormat=e.dataFormat==null?ul():e.dataFormat,e.padding==null)this.padding=[[1,1],[1,1]];else if(typeof e.padding=="number")this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,e.padding.length!==2)throw new De(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,s;if(typeof e.padding[0]=="number")n=[e.padding[0],e.padding[0]],s=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,e.padding[0].length!==2)throw new De(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],e.padding[1].length!==2)throw new De(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);s=e.padding[1]}this.padding=[n,s]}this.inputSpec=[new gr({ndim:4})]}computeOutputShape(e){e=es(e);let n,s;return this.dataFormat==="channelsFirst"?(e[2]!=null&&e[2]>=0?n=e[2]+this.padding[0][0]+this.padding[0][1]:n=null,e[3]!=null&&e[3]>=0?s=e[3]+this.padding[1][0]+this.padding[1][1]:s=null,[e[0],e[1],n,s]):(e[1]!=null&&e[1]>=0?n=e[1]+this.padding[0][0]+this.padding[0][1]:n=null,e[2]!=null&&e[2]>=0?s=e[2]+this.padding[1][0]+this.padding[1][1]:s=null,[e[0],n,s,e[3]])}call(e,n){return Ve(()=>c4t(mn(e),this.padding,this.dataFormat))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}G9.className="ZeroPadding2D";bt(G9);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Fx(t,e,n,s,r,a){return Ve(()=>{ur(r),RK(a),ti(s),n==null&&(n=[1,1]),s==null&&(s="valid"),r==null&&(r=ul()),a==null&&(a="max"),t=p9(t,r);let o;const i=s==="same"?"same":"valid";return a==="max"?o=Sy(t,e,n,i):o=gy(t,e,n,i),r==="channelsFirst"&&(o=Un(o,[0,3,1,2])),o})}function kX(t,e,n,s,r,a){return Ve(()=>{ur(r),RK(a),ti(s),n==null&&(n=[1,1,1]),s==null&&(s="valid"),r==null&&(r=ul()),a==null&&(a="max"),t=wX(t,r);let o;const i=s==="same"?"same":"valid";return a==="max"?o=NI(t,e,n,i):o=sI(t,e,n,i),r==="channelsFirst"&&(o=Un(o,[0,4,1,2,3])),o})}class $X extends Ln{constructor(e){if(e.poolSize==null&&(e.poolSize=2),super(e),typeof e.poolSize=="number")this.poolSize=[e.poolSize];else if(Array.isArray(e.poolSize)&&e.poolSize.length===1&&typeof e.poolSize[0]=="number")this.poolSize=e.poolSize;else throw new De(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);if(Rr(this.poolSize,"poolSize"),e.strides==null)this.strides=this.poolSize;else if(typeof e.strides=="number")this.strides=[e.strides];else if(Array.isArray(e.strides)&&e.strides.length===1&&typeof e.strides[0]=="number")this.strides=e.strides;else throw new De(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);Rr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,ti(this.padding),this.inputSpec=[new gr({ndim:3})]}computeOutputShape(e){e=es(e);const n=rl(e[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Ve(()=>{this.invokeCallHook(e,n),e=My(mn(e),2);const s=this.poolingFunction(mn(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return kd(s,[2])})}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class q9 extends $X{constructor(e){super(e)}poolingFunction(e,n,s,r,a){return ur(a),ti(r),Fx(e,n,s,r,a,"max")}}q9.className="MaxPooling1D";bt(q9);class K9 extends $X{constructor(e){super(e)}poolingFunction(e,n,s,r,a){return ur(a),ti(r),Fx(e,n,s,r,a,"avg")}}K9.className="AveragePooling1D";bt(K9);class EX extends Ln{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==2)throw new De(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];Rr(this.poolSize,"poolSize"),Rr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ur(this.dataFormat),ti(this.padding),this.inputSpec=[new gr({ndim:4})]}computeOutputShape(e){e=es(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],s=this.dataFormat==="channelsFirst"?e[3]:e[2];return n=rl(n,this.poolSize[0],this.padding,this.strides[0]),s=rl(s,this.poolSize[1],this.padding,this.strides[1]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,s]:[e[0],n,s,e[3]]}call(e,n){return Ve(()=>(this.invokeCallHook(e,n),this.poolingFunction(mn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class X9 extends EX{constructor(e){super(e)}poolingFunction(e,n,s,r,a){return ur(a),ti(r),Fx(e,n,s,r,a,"max")}}X9.className="MaxPooling2D";bt(X9);class Y9 extends EX{constructor(e){super(e)}poolingFunction(e,n,s,r,a){return ur(a),ti(r),Fx(e,n,s,r,a,"avg")}}Y9.className="AveragePooling2D";bt(Y9);class IX extends Ln{constructor(e){if(e.poolSize==null&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],e.strides==null)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(e.strides.length!==3)throw new De(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];Rr(this.poolSize,"poolSize"),Rr(this.strides,"strides"),this.padding=e.padding==null?"valid":e.padding,this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ur(this.dataFormat),ti(this.padding),this.inputSpec=[new gr({ndim:5})]}computeOutputShape(e){e=es(e);let n=this.dataFormat==="channelsFirst"?e[2]:e[1],s=this.dataFormat==="channelsFirst"?e[3]:e[2],r=this.dataFormat==="channelsFirst"?e[4]:e[3];return n=rl(n,this.poolSize[0],this.padding,this.strides[0]),s=rl(s,this.poolSize[1],this.padding,this.strides[1]),r=rl(r,this.poolSize[2],this.padding,this.strides[2]),this.dataFormat==="channelsFirst"?[e[0],e[1],n,s,r]:[e[0],n,s,r,e[4]]}call(e,n){return Ve(()=>(this.invokeCallHook(e,n),this.poolingFunction(mn(e),this.poolSize,this.strides,this.padding,this.dataFormat)))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class Q9 extends IX{constructor(e){super(e)}poolingFunction(e,n,s,r,a){return ur(a),ti(r),kX(e,n,s,r,a,"max")}}Q9.className="MaxPooling3D";bt(Q9);class Z9 extends IX{constructor(e){super(e)}poolingFunction(e,n,s,r,a){return ur(a),ti(r),kX(e,n,s,r,a,"avg")}}Z9.className="AveragePooling3D";bt(Z9);class NX extends Ln{constructor(e){super(e),this.inputSpec=[new gr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new Tn}}class J9 extends NX{constructor(e){super(e||{})}call(e,n){return Ve(()=>{const s=mn(e);return qs(s,1)})}}J9.className="GlobalAveragePooling1D";bt(J9);class eA extends NX{constructor(e){super(e||{})}call(e,n){return Ve(()=>{const s=mn(e);return Yo(s,1)})}}eA.className="GlobalMaxPooling1D";bt(eA);class AX extends Ln{constructor(e){super(e),this.dataFormat=e.dataFormat==null?"channelsLast":e.dataFormat,ur(this.dataFormat),this.inputSpec=[new gr({ndim:4})]}computeOutputShape(e){return e=e,this.dataFormat==="channelsLast"?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new Tn}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class tA extends AX{call(e,n){return Ve(()=>{const s=mn(e);return this.dataFormat==="channelsLast"?qs(s,[1,2]):qs(s,[2,3])})}}tA.className="GlobalAveragePooling2D";bt(tA);class nA extends AX{call(e,n){return Ve(()=>{const s=mn(e);return this.dataFormat==="channelsLast"?Yo(s,[1,2]):Yo(s,[2,3])})}}nA.className="GlobalMaxPooling2D";bt(nA);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class DX extends Ln{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return this.layer!=null?this.layer.trainable:!1}set trainable(e){this.layer!=null&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.layer!=null&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,s={}){const r=n.layer,a=sl(r,s);delete n.layer;const o={layer:a};return Object.assign(o,n),new e(o)}}class sA extends DX{constructor(e){super(e),this.supportsMasking=!0}build(e){if(e=es(e),e.length<3)throw new De(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){e=es(e);const n=[e[0]].concat(e.slice(2)),s=this.layer.computeOutputShape(n),r=e[1];return[s[0],r].concat(s.slice(1))}call(e,n){return Ve(()=>(e=mn(e),SX((o,i)=>[mn(this.layer.call(o,n)),[]],e,[],!1,null,null,!1,!0)[1]))}}sA.className="TimeDistributed";bt(sA);function d4t(t){xf(c_t,"BidirectionalMergeMode",t)}const h4t="concat";class rA extends DX{constructor(e){super(e);const n=e.layer.getConfig(),s={};s.className=e.layer.getClassName(),s.config=n,this.forwardLayer=sl(s),n.goBackwards=n.goBackwards!==!0;const r={};if(r.className=e.layer.getClassName(),r.config=n,this.backwardLayer=sl(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=e.mergeMode===void 0?h4t:e.mergeMode,d4t(this.mergeMode),e.weights)throw new Tn("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,this.forwardLayer!=null&&(this.forwardLayer.trainable=e),this.backwardLayer!=null&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,s=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,s)),this.backwardLayer.setWeights(e.slice(s))}computeOutputShape(e){let n=this.forwardLayer.computeOutputShape(e);Array.isArray(n)&&Array.isArray(n[0])||(n=[n]),n=n;let s,r,a;return this.returnState&&(a=n.slice(1)),s=n[0],s=s,this.mergeMode==="concat"?(s[s.length-1]*=2,r=[s]):this.mergeMode==null?r=[s,s.slice()]:r=[s],this.returnState?this.mergeMode==null?r.concat(a).concat(a.slice()):[s].concat(a).concat(a.slice()):Fa(r)}apply(e,n){let s=n==null?null:n.initialState,r=n==null?null:n.constants;n==null&&(n={});const a=CX(e,s,r,this.numConstants);if(e=a.inputs,s=a.initialState,r=a.constants,Array.isArray(e)&&(s=e.slice(1),e=e[0]),(s==null||s.length===0)&&r==null)return super.apply(e,n);const o=[],i=[];if(s!=null){const u=s.length;if(u%2>0)throw new De("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=s,o.push(...s);const c=s.map(d=>new gr({shape:d.shape}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),i.push(...c)}if(r!=null)throw new Tn("Support for constants in Bidirectional layers is not implemented yet.");const l=o[0]instanceof cl;for(const u of o)if(u instanceof cl!==l)throw new De("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const u=[e].concat(o),c=this.inputSpec.concat(i),d=this.inputSpec;this.inputSpec=c;const h=super.apply(u,n);return this.inputSpec=d,h}else return super.apply(e,n)}call(e,n){return Ve(()=>{const s=n.initialState;let r,a;if(s==null)r=this.forwardLayer.call(e,n),a=this.backwardLayer.call(e,n);else{const l=s.slice(0,s.length/2),u=s.slice(s.length/2);r=this.forwardLayer.call(e,Object.assign(n,{initialState:l})),a=this.backwardLayer.call(e,Object.assign(n,{initialState:u}))}let o;this.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),this.returnSequences&&(a=Zo(a,1));let i;return this.mergeMode==="concat"?i=HN([r,a]):this.mergeMode==="sum"?i=mt(r,a):this.mergeMode==="ave"?i=Ie(.5,mt(r,a)):this.mergeMode==="mul"?i=Ie(r,a):this.mergeMode==null&&(i=[r,a]),this.returnState?this.mergeMode==null?i.concat(o):[i].concat(o):i})}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){xh(this.forwardLayer.name,()=>{this.forwardLayer.build(e)}),xh(this.backwardLayer.name,()=>{this.backwardLayer.build(e)}),this.built=!0}computeMask(e,n){Array.isArray(n)&&(n=n[0]);let s;if(this.returnSequences?this.mergeMode==null?s=[n,n]:s=n:this.mergeMode==null?s=[null,null]:s=null,this.returnState){const a=this.forwardLayer.states.map(o=>null);return Array.isArray(s)?s.concat(a).concat(a):[s].concat(a).concat(a)}else return s}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),this.forwardLayer!=null&&this.forwardLayer.setFastWeightInitDuringBuild(e),this.backwardLayer!=null&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const s=sl(n.layer);if(delete n.layer,n.numConstants!=null)throw new Tn("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=n;return r.layer=s,new e(r)}}rA.className="Bidirectional";bt(rA);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class aA extends Ln{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Ve(()=>(e=mn(e),e.dtype!=="float32"&&(e=Hl(e,"float32")),mt(Ie(e,this.scale),this.offset)))}}aA.className="Rescaling";bt(aA);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const{resizeBilinear:f4t,cropAndResize:p4t}=Ci;class oA extends Ln{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,n,s,r,a,o,i,l){return Ve(()=>{let u,c=!1;const d=n/o,h=s/i,f=(r+n)/o,p=(a+s)/i,m=[d,h,f,p],y=[];e.rank===3?(c=!0,u=Ea([e])):u=e;for(let C=0;C<u.shape[0];C++)y.push(m);const v=xo(y,[y.length,4]),b=jh(0,y.length,1,"int32"),_=p4t(u,v,b,[r,a],"nearest");return Hl(c?mn(Jo(_)):_,l)})}upsize(e,n,s,r){return Ve(()=>{const a=f4t(e,[n,s]);return Hl(a,r)})}call(e,n){return Ve(()=>{const s=mn(e),r=s.dtype,a=s.shape,o=a[a.length-3],i=a[a.length-2];let l=0;o!==this.height&&(l=Math.floor((o-this.height)/2));let u=0;return i!==this.width&&(u=Math.floor((i-this.width)/2),u===0&&(u=1)),l>=0&&u>=0?this.centerCrop(s,l,u,this.height,this.width,o,i,r):this.upsize(e,this.height,this.width,r)})}getConfig(){const e={height:this.height,width:this.width},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=es(e);const n=e.length-3,s=e.length-2;return e[n]=this.height,e[s]=this.width,e}}oA.className="CenterCrop";bt(oA);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function m4t(t,e,n,s){let r=mn(t);if(r.dtype!=="int32"&&(r=Hl(r,"int32")),e==="int")return r;const a=r.shape;if(r.rank===0&&(r=Kr(r,-1)),e==="oneHot"&&r.shape[r.shape.length-1]!==1&&(r=Kr(r,-1)),r.rank>2)throw new De(`When outputMode is not int, maximum output rank is 2 Received outputMode ${e} and input shape ${a} which would result in output rank ${r.rank}.`);const o=["multiHot","oneHot"].includes(e),i=r;let l;if(typeof s<"u"&&e==="count"?l=P3(i,s,n,o):l=P3(i,[],n,o),e!=="tfIdf")return l;if(s)return Ie(l,s);throw new De("When outputMode is 'tfIdf', weights must be provided.")}/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class iA extends Ln{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){return e=es(e),e==null?[this.numTokens]:this.outputMode==="oneHot"&&e[e.length-1]!==1?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,n){return Ve(()=>{e=mn(e),e.dtype!=="int32"&&(e=Hl(e,"int32"));let s;if(typeof n.countWeights<"u"){if(this.outputMode!=="count")throw new De(`countWeights is not used when outputMode !== count.
              Received countWeights=${n.countWeights}`);s=mn(n.countWeights)}const r=Yo(e),a=i0(e),o=Da(this.numTokens,r).bufferSync().get(0),i=ic(a,0).bufferSync().get(0);if(!(o&&i))throw new De(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return m4t(e,this.outputMode,this.numTokens,s)})}}iA.className="CategoryEncoding";bt(iA);/**
 * @license
 * Copyright 2022 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const g4t=["bilinear","nearest"],WP=new Set(g4t);class lA extends Ln{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation)if(WP.has(e.interpolation))this.interpolation=e.interpolation;else throw new De(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);else this.interpolation="bilinear";this.cropToAspectRatio=!!e.cropToAspectRatio}computeOutputShape(e){e=es(e);const n=e[2];return[this.height,this.width,n]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},n=super.getConfig();return Object.assign(e,n),e}call(e,n){return Ve(()=>{const s=[this.height,this.width];if(this.interpolation==="bilinear")return Ci.resizeBilinear(e,s,!this.cropToAspectRatio);if(this.interpolation==="nearest")return Ci.resizeNearestNeighbor(e,s,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...WP]} are supported`)})}}lA.className="Resizing";bt(lA);/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class OX{constructor(e){this.seed=e}next(){if(this.seed!==void 0)return this.seed++}}OX.className="RandomSeed";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class RX extends Ln{constructor(e){super(e),this.randomGenerator=new OX(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},n=super.getConfig();return Object.assign(e,n),e}}RX.className="BaseRandomLayer";/**
 * @license
 * Copyright 2023 CodeSmith LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const v4t=["bilinear","nearest"],jP=new Set(v4t);class uA extends RX{constructor(e){super(e);const{factor:n,interpolation:s="bilinear"}=e;if(this.factor=n,Array.isArray(this.factor)&&this.factor.length===2)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else if(!Array.isArray(this.factor)&&this.factor>0)this.widthLower=-this.factor,this.widthUpper=this.factor;else throw new De(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);if(this.widthLower<-1||this.widthUpper<-1)throw new De(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new De(`factor cannot have upper bound less than lower bound.
        Got upper bound: ${this.widthUpper}.
        Got lower bound: ${this.widthLower}
      `);if(s)if(jP.has(s))this.interpolation=s;else throw new De(`Invalid interpolation parameter: ${s} is not implemented`)}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},n=super.getConfig();return Object.assign(e,n),e}computeOutputShape(e){e=es(e);const n=e[2];return[this.imgHeight,-1,n]}call(e,n){return Ve(()=>{const s=mn(e);this.imgHeight=s.shape[s.shape.length-3];const r=s.shape[s.shape.length-2];this.widthFactor=Td([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let a=this.widthFactor.dataSync()[0]*r;a=Math.round(a);const o=[this.imgHeight,a];switch(this.interpolation){case"bilinear":return Ci.resizeBilinear(e,o);case"nearest":return Ci.resizeNearestNeighbor(e,o);default:throw new Error(`Interpolation is ${this.interpolation}
          but only ${[...jP]} are supported`)}})}}uA.className="RandomWidth";bt(uA);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function y4t(t){return new jm(t)}function b4t(t){return new d9(t)}function _4t(t){return new l9(t)}function w4t(t){return new u9(t)}function x4t(t){return new c9(t)}function C4t(t){return new f9(t)}function S4t(t){return new h9(t)}function T4t(t){return new Hy(t)}function k4t(t){return new Km(t)}function $4t(t){return new m9(t)}function E4t(t){return new Xm(t)}function I4t(t){return new g9(t)}function N4t(t){return new v9(t)}function A4t(t){return new y9(t)}function D4t(t){return new b9(t)}function O4t(t){return new _9(t)}function R4t(t){return new E9(t)}function L4t(t){return new k9(t)}function P4t(t){return new Mx(t)}function M4t(t){return new T9(t)}function F4t(t){return new $9(t)}function B4t(t){return new I9(t)}function z4t(t){return new N9(t)}function V4t(t){return new A9(t)}function H4t(t){return new O9(t)}function U4t(t){return new R9(t)}function W4t(t){return new P9(t)}function j4t(t){return new B9(t)}function G4t(t){return new M9(t)}function q4t(t){return new F9(t)}function K4t(t){return new L9(t)}function X4t(t){return new z9(t)}function Y4t(t){return new W9(t)}function Q4t(t){return new j9(t)}function Z4t(t){return new G9(t)}function cA(t){return new K9(t)}function J4t(t){return cA(t)}function ewt(t){return cA(t)}function dA(t){return new Y9(t)}function twt(t){return dA(t)}function nwt(t){return dA(t)}function hA(t){return new Z9(t)}function swt(t){return hA(t)}function rwt(t){return hA(t)}function awt(t){return new J9(t)}function owt(t){return new tA(t)}function LX(t){return new eA(t)}function PX(t){return new nA(t)}function MX(t){return new q9(t)}function FX(t){return new X9(t)}function iwt(t){return new Q9(t)}function lwt(t){return new x9(t)}function uwt(t){return new Rx(t)}function cwt(t){return new C9(t)}function dwt(t){return new Wy(t)}function hwt(t){return new w9(t)}function fwt(t){return new Ox(t)}function pwt(t){return new S9(t)}function mwt(t){return new Px(t)}function gwt(t){return new _l(t)}function vwt(t){return new Lx(t)}function ywt(t){return new rA(t)}function bwt(t){return new sA(t)}const _wt=LX,wwt=PX,xwt=MX,Cwt=FX;function Swt(t){return new V9(t)}function Twt(t){return new H9(t)}function kwt(t){return new U9(t)}function $wt(t){return new D9(t)}function Ewt(t){return new aA(t)}function Iwt(t){return new oA(t)}function Nwt(t){return new lA(t)}function Awt(t){return new iA(t)}function Dwt(t){return new uA(t)}const Owt=Object.freeze(Object.defineProperty({__proto__:null,Layer:Ln,RNN:_l,RNNCell:Uy,activation:R4t,add:U4t,alphaDropout:kwt,average:W4t,averagePooling1d:cA,averagePooling2d:dA,averagePooling3d:hA,avgPool1d:J4t,avgPool2d:twt,avgPool3d:swt,avgPooling1d:ewt,avgPooling2d:nwt,avgPooling3d:rwt,batchNormalization:Y4t,bidirectional:ywt,categoryEncoding:Awt,centerCrop:Iwt,concatenate:j4t,conv1d:T4t,conv2d:k4t,conv2dTranspose:$4t,conv3d:E4t,conv3dTranspose:I4t,convLstm2d:pwt,convLstm2dCell:mwt,cropping2D:A4t,dense:L4t,depthwiseConv2d:O4t,dot:X4t,dropout:P4t,elu:b4t,embedding:H4t,flatten:F4t,gaussianDropout:Twt,gaussianNoise:Swt,globalAveragePooling1d:awt,globalAveragePooling2d:owt,globalMaxPool1d:_wt,globalMaxPool2d:wwt,globalMaxPooling1d:LX,globalMaxPooling2d:PX,gru:lwt,gruCell:uwt,input:oX,inputLayer:y4t,layerNormalization:Q4t,leakyReLU:w4t,lstm:cwt,lstmCell:dwt,masking:$wt,maxPool1d:xwt,maxPool2d:Cwt,maxPooling1d:MX,maxPooling2d:FX,maxPooling3d:iwt,maximum:G4t,minimum:q4t,multiply:K4t,permute:V4t,prelu:x4t,randomWidth:Dwt,reLU:_4t,repeatVector:B4t,rescaling:Ewt,reshape:z4t,resizing:Nwt,rnn:gwt,separableConv2d:N4t,simpleRNN:hwt,simpleRNNCell:fwt,softmax:C4t,spatialDropout1d:M4t,stackedRNNCells:vwt,thresholdedReLU:S4t,timeDistributed:bwt,upSampling2d:D4t,zeroPadding2d:Z4t},Symbol.toStringTag,{value:"Module"}));function Rwt(t,e){return s9(t,e)}function Lwt(t,e){return QK(t,e)}function Pwt(t,e){return ZK(t,e)}function Mwt(t,e){return r9(t,e)}function Fwt(t,e){return a9(t,e)}function Bwt(t,e){return YK(t,e)}function zwt(t,e){return y3t(t,e)}function Vwt(t,e){return n9(t,e)}function Hwt(t,e){return Ix(t,e)}function Uwt(t,e){return Gm(t,e)}function Wwt(t,e){return Gm(t,e)}function jwt(t,e){return Gm(t,e)}function Gwt(t,e){return Cf(t,e)}function qwt(t,e){return Cf(t,e)}function Kwt(t,e){return Cf(t,e)}const Xwt=Object.freeze(Object.defineProperty({__proto__:null,MAPE:Wwt,MSE:qwt,binaryAccuracy:Rwt,binaryCrossentropy:Lwt,categoricalAccuracy:Mwt,categoricalCrossentropy:Fwt,cosineProximity:Vwt,mape:jwt,meanAbsoluteError:Hwt,meanAbsolutePercentageError:Uwt,meanSquaredError:Gwt,mse:Kwt,precision:Bwt,recall:zwt,sparseCategoricalAccuracy:Pwt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */const Ywt=Object.freeze(Object.defineProperty({__proto__:null,modelFromJSON:q3t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */function Qwt(t){return new Vy(t)}function Zwt(t){return e4t(t)}function Jwt(t){return t4t(t)}const e6t=Object.freeze(Object.defineProperty({__proto__:null,l1:Zwt,l1l2:Qwt,l2:Jwt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Use of this source code is governed by an MIT-style
 * license that can be found in the LICENSE file or at
 * https://opensource.org/licenses/MIT.
 * =============================================================================
 */class BX extends p0{constructor(){super(...arguments),this.model=null}setModel(e){if(!(e instanceof Au))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}function Jb(t,e){return t<e}function GP(t,e){return t>e}class zX extends BX{constructor(e){if(super(),e==null&&(e={}),e.restoreBestWeights)throw new Tn("restoreBestWeights = True is not implemented in EarlyStopping yet.");this.monitor=e.monitor||"val_loss",this.minDelta=Math.abs(e.minDelta||0),this.patience=e.patience||0,this.verbose=e.verbose||0,this.mode=e.mode||"auto",this.baseline=e.baseline,["auto","min","max"].indexOf(this.mode)===-1&&(console.warn(`EarlyStopping mode '${this.mode}' is invalid. Falling back to mode 'auto'.`),this.mode="auto"),this.mode==="min"?this.monitorFunc=Jb:this.mode==="max"?this.monitorFunc=GP:this.monitor.indexOf("acc")!==-1?this.monitorFunc=GP:this.monitorFunc=Jb,this.monitorFunc===Jb&&(this.minDelta*=-1)}async onTrainBegin(e){this.wait=0,this.stoppedEpoch=0,this.baseline!=null?this.best=this.baseline:this.best=this.monitorFunc===Jb?1/0:-1/0}async onEpochEnd(e,n){await Ic(n);const s=this.getMonitorValue(n);s!=null&&(this.monitorFunc(s-this.minDelta,this.best)?(this.best=s,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}async onTrainEnd(e){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}getMonitorValue(e){e==null&&(e={});const n=e[this.monitor];return n==null&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. Available metrics are: ${Object.keys(e)}`),n}}function t6t(t){return new zX(t)}const n6t={earlyStopping:t6t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const s6t=ze();s6t.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var ci;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(ci||(ci={}));var qP;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(qP||(qP={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fA={};function r6t(t,e){const n={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};fA[t]=n}function VX(t){return fA[t]}function a6t(t){delete fA[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y(t,e,n,s,r){const a=e.inputParams[t];if(a&&a.inputIndexStart!==void 0){const i=a.inputIndexStart,l=a.inputIndexEnd===0?void 0:a.inputIndexEnd===void 0?i+1:a.inputIndexEnd,u=i<0?e.inputNames.length+i:i;if(a.type==="tensor")return Xr(e.inputNames[u],n,s,r);if(a.type==="tensors"){const h=e.inputs.slice(i,l);return e.inputNames.slice(i,l).filter((p,m)=>{var y;return((y=h[m])===null||y===void 0?void 0:y.op)!=="NoOp"}).map(p=>Xr(p,n,s,r))}const c=Xr(e.inputNames[u],n,s,r),d=c.dataSync();return a.type==="number"?d[0]:Xo(c.shape,d)}const o=e.attrParams[t];return o&&o.value}function Xr(t,e,n,s){const[r,a]=fo(t,n);if(s!=null){const i=s.getHashTableHandleByName(r);if(i!=null)return i}const o=n.currentContextIds.find(i=>!!e[q3(r,i)]);return o!==void 0?e[q3(r,o)][a]:void 0}function KP(t,e,n){return e[q3(t,n.currentContextId)]}function _u(t,e){const[n,s,r]=fo(t,e);return[q3(n,e&&e.currentContextId),s,r]}function q3(t,e){return e?`${t}-${e}`:t}function fo(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const a=e.parseNodeNameCache.get(t);if(a!=null)return a}const s=t.split(":");let r;if(s.length===1)r=[t,0,void 0];else{const a=s[0],o=s.length===3?s[1]:void 0,i=Number(s[s.length-1]);r=[a,i,o]}return n&&e.parseNodeNameCache.set(t,r),r}function V_(t,e,n){let s=Y("pad",t,e,n);if(s==="explicit"){s=Y("explicitPaddings",t,e,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let a=0;a<4;a++)r[a][0]=s[a*2],r[a][1]=s[a*2+1];return r}return s}function wu(t){return t.kept?t:zl(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const o6t=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],i6t=Object.freeze(Object.defineProperty({__proto__:null,json:o6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l6t=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],u6t=Object.freeze(Object.defineProperty({__proto__:null,json:l6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c6t=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],d6t=Object.freeze(Object.defineProperty({__proto__:null,json:c6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h6t=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],f6t=Object.freeze(Object.defineProperty({__proto__:null,json:h6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p6t=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],m6t=Object.freeze(Object.defineProperty({__proto__:null,json:p6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g6t=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],v6t=Object.freeze(Object.defineProperty({__proto__:null,json:g6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y6t=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],b6t=Object.freeze(Object.defineProperty({__proto__:null,json:y6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _6t=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],w6t=Object.freeze(Object.defineProperty({__proto__:null,json:_6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x6t=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],C6t=Object.freeze(Object.defineProperty({__proto__:null,json:x6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S6t=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],T6t=Object.freeze(Object.defineProperty({__proto__:null,json:S6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const k6t=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],$6t=Object.freeze(Object.defineProperty({__proto__:null,json:k6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const E6t=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],I6t=Object.freeze(Object.defineProperty({__proto__:null,json:E6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N6t=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],A6t=Object.freeze(Object.defineProperty({__proto__:null,json:N6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const D6t=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],O6t=Object.freeze(Object.defineProperty({__proto__:null,json:D6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R6t=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],L6t=Object.freeze(Object.defineProperty({__proto__:null,json:R6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P6t=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],M6t=Object.freeze(Object.defineProperty({__proto__:null,json:P6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F6t=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],B6t=Object.freeze(Object.defineProperty({__proto__:null,json:F6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z6t=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],V6t=Object.freeze(Object.defineProperty({__proto__:null,json:z6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H6t=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],U6t=Object.freeze(Object.defineProperty({__proto__:null,json:H6t},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XP{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[i6t,u6t,d6t,f6t,m6t,v6t,b6t,w6t,C6t,T6t,$6t,I6t,A6t,O6t,L6t,M6t,B6t,V6t,U6t],n=[].concat(...e.map(s=>s.json));this.opMappers=n.reduce((s,r)=>(s[r.tfOpName]=r,s),{})}transformGraph(e,n={}){const s=e.node,r=[],a=[],o=[],i=s.reduce((m,y)=>(m[y.name]=this.mapNode(y),y.op.startsWith("Placeholder")?r.push(m[y.name]):y.op==="Const"?a.push(m[y.name]):(y.input==null||y.input.length===0)&&o.push(m[y.name]),m),{});let l=[];const u=[];let c={},d={};n!=null&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));const h=Object.keys(i);h.forEach(m=>{const y=i[m];y.inputNames.forEach((v,b)=>{const[w,,_]=_u(v),C=i[w];if(C.outputs!=null){const x=C.outputs.indexOf(_);if(x!==-1){const T=`${w}:${x}`;y.inputNames[b]=T}}y.inputs.push(C),C.children.push(y)})}),Object.keys(d).length===0?h.forEach(m=>{const y=i[m];y.children.length===0&&u.push(y)}):Object.keys(d).forEach(m=>{const[y]=_u(m),v=i[y];v!=null&&(v.signatureKey=d[m],u.push(v))}),Object.keys(c).length>0?Object.keys(c).forEach(m=>{const[y]=_u(m),v=i[y];v&&(v.signatureKey=c[m],l.push(v))}):l=r;let f={};e.library!=null&&e.library.function!=null&&(f=e.library.function.reduce((m,y)=>(m[y.signature.name]=this.mapFunction(y),m),{}));const p={nodes:i,inputs:l,outputs:u,weights:a,placeholders:r,signature:n,functions:f};return o.length>0&&(p.initNodes=o),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,s)=>(n[e[s].name]=s,n),{})}mapNode(e){const n=VX(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const s={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(r=>r.startsWith("^")?r.slice(1):r),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(s.inputParams=n.inputs.reduce((r,a)=>(r[a.name]={type:a.type,inputIndexStart:a.start,inputIndexEnd:a.end},r),{})),n.attrs!=null&&(s.attrParams=n.attrs.reduce((r,a)=>{const o=a.type;let i;switch(a.type){case"string":i=ck(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=ck(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"string[]":i=vk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=vk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number":i=hk(e.attr,a.tfName,a.defaultValue||0),i===void 0&&a.tfDeprecatedName&&(i=hk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"number[]":i=gk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=gk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool":i=dk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=dk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"bool[]":i=bk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=bk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape":i=mk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=mk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"shape[]":i=yk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=yk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype":i=fk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=fk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"dtype[]":i=pk(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=pk(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"func":i=YP(e.attr,a.tfName,a.defaultValue),i===void 0&&a.tfDeprecatedName&&(i=YP(e.attr,a.tfDeprecatedName,a.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${a.type} for op: ${e.op}`)}return r[a.name]={value:i,type:o},r},{})),s}mapFunction(e){const n=e.nodeDef,s=[],r=[];let a={};n!=null&&(a=n.reduce((d,h)=>(d[h.name]=this.mapNode(h),h.op==="Const"&&r.push(d[h.name]),d),{}));const o=[],i=[];e.signature.inputArg.forEach(d=>{const[h]=_u(d.name),f={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:pA(d.type),type:"dtype"}},children:[]};f.signatureKey=d.name,o.push(f),a[h]=f}),Object.keys(a).forEach(d=>{const h=a[d];h.inputNames.forEach((f,p)=>{const[m,,y]=_u(f),v=a[m];if(v.outputs!=null){const b=v.outputs.indexOf(y);if(b!==-1){const w=`${m}:${b}`;h.inputNames[p]=w}}h.inputs.push(v),v.children.push(h)})});const u=e.ret;e.signature.outputArg.forEach(d=>{const[h,f]=_u(u[d.name]),p=a[h];p!=null&&(p.defaultOutput=f,i.push(p))});const c=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:i,weights:r,placeholders:s,signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,s)=>(n[s.name]=this.mapArgToTensorInfo(s),n),{}),outputs:e.signature.outputArg.reduce((n,s)=>(n[s.name]=this.mapArgToTensorInfo(s,e.ret),n),{})}}mapArgToTensorInfo(e,n){let s=e.name;return n!=null&&(s=n[s]),{name:s,dtype:e.type}}}function W6t(t){const e=ze().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function HX(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):W6t(t);return e?n:n.toLowerCase()}function ck(t,e,n,s=!1){const r=t[e];return r!=null?HX(r.s,s):n}function dk(t,e,n){const s=t[e];return s?s.b:n}function hk(t,e,n){const s=t[e]||{},r=s.i!=null?s.i:s.f!=null?s.f:n;return typeof r=="number"?r:parseInt(r,10)}function pA(t){switch(typeof t=="string"&&(t=ci[t]),t){case ci.DT_FLOAT:case ci.DT_HALF:return"float32";case ci.DT_INT32:case ci.DT_INT64:case ci.DT_INT8:case ci.DT_UINT8:return"int32";case ci.DT_BOOL:return"bool";case ci.DT_DOUBLE:return"float32";case ci.DT_STRING:return"string";default:return null}}function YP(t,e,n){const s=t[e];return s&&s.func?s.func.name:n}function fk(t,e,n){const s=t[e];return s&&s.type?pA(s.type):n}function pk(t,e,n){const s=t[e];return s&&s.list&&s.list.type?s.list.type.map(r=>pA(r)):n}function UX(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function mk(t,e,n){const s=t[e];return s&&s.shape?UX(s.shape):n}function gk(t,e,n){const s=t[e];return s?((s.list.f&&s.list.f.length?s.list.f:s.list.i)||[]).map(r=>typeof r=="number"?r:parseInt(r,10)):n}function vk(t,e,n,s=!1){const r=t[e];return r&&r.list&&r.list.s?r.list.s.map(a=>HX(a,s)):n}function yk(t,e,n){const s=t[e];return s&&s.list&&s.list.shape?s.list.shape.map(r=>UX(r)):n}function bk(t,e,n){const s=t[e];return s&&s.list&&s.list.b?s.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class j6t{constructor(e,n,s){this.node=e,this.tensorMap=n,this.context=s,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(r=>this.getInput(r)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((r,a)=>(r[a]=this.getAttr(a),r),{}))}getInput(e){return Xr(e,this.tensorMap,this.context)}getAttr(e,n){const s=this.node.rawAttrs[e];if(s.tensor!=null)return Xr(e,this.tensorMap,this.context);if(s.i!=null||s.f!=null)return hk(this.node.rawAttrs,e,n);if(s.s!=null)return ck(this.node.rawAttrs,e,n);if(s.b!=null)return dk(this.node.rawAttrs,e,n);if(s.shape!=null)return mk(this.node.rawAttrs,e,n);if(s.type!=null)return fk(this.node.rawAttrs,e,n);if(s.list!=null){if(s.list.i!=null||s.list.f!=null)return gk(this.node.rawAttrs,e,n);if(s.list.s!=null)return vk(this.node.rawAttrs,e,n);if(s.list.shape!=null)return yk(this.node.rawAttrs,e,n);if(s.list.b!=null)return bk(this.node.rawAttrs,e,n);if(s.list.type!=null)return pk(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const la=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:zE,abs:fr,acos:KE,acosh:XE,add:mt,addN:NG,all:R6,any:C1,argMax:zh,argMin:YE,asin:QE,asinh:ZE,atan:JE,atan2:eI,atanh:tI,avgPool:gy,avgPool3d:sI,basicLSTMCell:AG,batchNorm:Mm,batchNorm2d:rI,batchNorm3d:aI,batchNorm4d:oI,batchToSpaceND:vy,bincount:iI,bitwiseAnd:DG,booleanMaskAsync:yq,broadcastArgs:OG,broadcastTo:wh,buffer:En,cast:Nt,ceil:lI,clipByValue:to,clone:zl,complex:Hu,concat:rr,concat1d:uI,concat2d:cI,concat3d:dI,concat4d:hI,conv1d:L6,conv2d:Uu,conv2dTranspose:P6,conv3d:pI,conv3dTranspose:mI,cos:yy,cosh:M6,cosineWindow:ax,cumprod:k1,cumsum:F6,denseBincount:P3,depthToSpace:gI,depthwiseConv2d:Fm,diag:LG,dilation2d:vI,div:tn,divNoNan:yI,dot:bI,dropout:eN,einsum:Zd,elu:Bm,enclosingPowerOfTwo:tN,ensureShape:PG,equal:To,erf:_I,euclideanNorm:xI,exp:no,expandDims:Kr,expm1:CI,eye:B6,fft:Ay,fill:vf,floor:Vm,floorDiv:O6,fused:$q,gather:Hm,gatherND:xq,greater:Da,greaterEqual:ic,ifft:h0,imag:by,image:Ci,inTopKAsync:Cq,irfft:J6,isFinite:SI,isInf:TI,isNaN:kI,leakyRelu:_y,less:l0,lessEqual:Sd,linalg:rN,linspace:BG,localResponseNormalization:$I,log:ko,log1p:wy,logSigmoid:EI,logSoftmax:V6,logSumExp:xy,logicalAnd:Oi,logicalNot:Cy,logicalOr:H6,logicalXor:II,losses:Rq,lowerBound:VG,matMul:Dn,max:Yo,maxPool:Sy,maxPool3d:NI,maxPoolWithArgmax:HG,maximum:du,mean:qs,meshgrid:UG,min:i0,minimum:ad,mirrorPad:AI,mod:DI,moments:Ty,movingAverage:bq,mul:Ie,multiRNNCell:WG,multinomial:jG,neg:bs,norm:zm,notEqual:Wh,oneHot:u0,ones:Wa,onesLike:$o,op:$e,outerProduct:GG,pad:lc,pad1d:qG,pad2d:KG,pad3d:XG,pad4d:YG,pool:OI,pow:Wu,prelu:$y,print:GE,prod:RI,raggedGather:QG,raggedRange:ZG,raggedTensorToTensor:JG,rand:eq,randomGamma:aq,randomNormal:W6,randomStandardNormal:oq,randomUniform:Td,randomUniformInt:iq,range:jh,real:c0,reciprocal:WI,relu:yl,relu6:j6,reshape:Ne,reverse:Zo,reverse1d:lq,reverse2d:uq,reverse3d:cq,reverse4d:dq,rfft:Dy,round:G6,rsqrt:q6,scalar:on,scatterND:_q,searchSorted:U6,selu:K6,separableConv2d:X6,setdiff1dAsync:hq,sigmoid:nl,sign:jI,signal:Oq,sin:Y6,sinh:Q6,slice:jn,slice1d:Ey,slice2d:Z6,slice3d:Iy,slice4d:d0,softmax:Ny,softplus:yf,spaceToBatchND:ky,sparse:Lq,sparseToDense:wq,spectral:Dq,split:Ka,sqrt:ta,square:is,squaredDifference:ex,squeeze:kd,stack:Ea,step:_f,stridedSlice:GI,string:Pq,sub:jt,sum:Xt,tan:qI,tanh:Hh,tensor:xo,tensor1d:Zr,tensor2d:jc,tensor3d:KI,tensor4d:fq,tensor5d:pq,tensor6d:mq,tensorScatterUpdate:gq,tile:Wo,topk:YI,transpose:Un,truncatedNormal:nx,unique:QI,unsortedSegmentSum:sx,unstack:Jo,upperBound:vq,variable:ZI,where:Pr,whereAsync:JI,zeros:mr,zerosLike:qn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G6t=(t,e,n,s=la)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[s.add(Y("a",t,e,n),Y("b",t,e,n))];case"AddN":return[s.addN(Y("tensors",t,e,n))];case"FloorMod":case"Mod":return[s.mod(Y("a",t,e,n),Y("b",t,e,n))];case"Mul":return[s.mul(Y("a",t,e,n),Y("b",t,e,n))];case"RealDiv":case"Div":return[s.div(Y("a",t,e,n),Y("b",t,e,n))];case"DivNoNan":return[s.divNoNan(Y("a",t,e,n),Y("b",t,e,n))];case"FloorDiv":return[s.floorDiv(Y("a",t,e,n),Y("b",t,e,n))];case"Sub":return[s.sub(Y("a",t,e,n),Y("b",t,e,n))];case"Minimum":return[s.minimum(Y("a",t,e,n),Y("b",t,e,n))];case"Maximum":return[s.maximum(Y("a",t,e,n),Y("b",t,e,n))];case"Pow":return[s.pow(Y("a",t,e,n),Y("b",t,e,n))];case"SquaredDifference":return[s.squaredDifference(Y("a",t,e,n),Y("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q6t=(t,e,n,s=la)=>{switch(t.op){case"Abs":case"ComplexAbs":return[s.abs(Y("x",t,e,n))];case"Acos":return[s.acos(Y("x",t,e,n))];case"Acosh":return[s.acosh(Y("x",t,e,n))];case"Asin":return[s.asin(Y("x",t,e,n))];case"Asinh":return[s.asinh(Y("x",t,e,n))];case"Atan":return[s.atan(Y("x",t,e,n))];case"Atan2":return[s.atan2(Y("x",t,e,n),Y("y",t,e,n))];case"Atanh":return[s.atanh(Y("x",t,e,n))];case"Ceil":return[s.ceil(Y("x",t,e,n))];case"Complex":return[s.complex(Y("real",t,e,n),Y("imag",t,e,n))];case"Cos":return[s.cos(Y("x",t,e,n))];case"Cosh":return[s.cosh(Y("x",t,e,n))];case"Elu":return[s.elu(Y("x",t,e,n))];case"Erf":return[s.erf(Y("x",t,e,n))];case"Exp":return[s.exp(Y("x",t,e,n))];case"Expm1":return[s.expm1(Y("x",t,e,n))];case"Floor":return[s.floor(Y("x",t,e,n))];case"Log":return[s.log(Y("x",t,e,n))];case"Log1p":return[s.log1p(Y("x",t,e,n))];case"Imag":return[s.imag(Y("x",t,e,n))];case"Neg":return[s.neg(Y("x",t,e,n))];case"Reciprocal":return[s.reciprocal(Y("x",t,e,n))];case"Real":return[s.real(Y("x",t,e,n))];case"Relu":return[s.relu(Y("x",t,e,n))];case"Round":return[s.round(Y("x",t,e,n))];case"Selu":return[s.selu(Y("x",t,e,n))];case"Sigmoid":return[s.sigmoid(Y("x",t,e,n))];case"Sin":return[s.sin(Y("x",t,e,n))];case"Sign":return[s.sign(Y("x",t,e,n))];case"Sinh":return[s.sinh(Y("x",t,e,n))];case"Softplus":return[s.softplus(Y("x",t,e,n))];case"Sqrt":return[s.sqrt(Y("x",t,e,n))];case"Square":return[s.square(Y("x",t,e,n))];case"Tanh":return[s.tanh(Y("x",t,e,n))];case"Tan":return[s.tan(Y("x",t,e,n))];case"ClipByValue":return[s.clipByValue(Y("x",t,e,n),Y("clipValueMin",t,e,n),Y("clipValueMax",t,e,n))];case"Relu6":return[s.relu6(Y("x",t,e,n))];case"Rsqrt":return[s.rsqrt(Xr(t.inputNames[0],e,n))];case"LeakyRelu":return[s.leakyRelu(Y("x",t,e,n),Y("alpha",t,e,n))];case"Prelu":return[s.prelu(Y("x",t,e,n),Y("alpha",t,e,n))];case"IsNan":return[s.isNaN(Xr(t.inputNames[0],e,n))];case"IsInf":return[s.isInf(Xr(t.inputNames[0],e,n))];case"IsFinite":return[s.isFinite(Xr(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hi(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){ae(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let s=0;s<t.length;s++){const r=t[s],a=e[s];ae(r<0||a<0||r===a,()=>n+` Shapes ${t} and ${e} must match`)}}}function QP(t){return!(typeof t=="number"||t.some(e=>e<0))}function zg(t,e,n){let s=_k(t,n);const r=!QP(s);if(r&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${s}`);if(r&&e.forEach(a=>{s=_k(a.shape,s)}),!QP(s))throw new Error(`Non-fully-defined elementShape: ${s}`);return s}function _k(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let s=0;s<t.length;++s){const r=t[s],a=e[s];if(r>=0&&a>=0&&r!==a)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[s]=r>=0?r:a}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K6t{constructor(e,n,s,r,a,o,i){this.name=e,this.dtype=n,this.maxSize=s,this.elementShape=r,this.identicalElementShapes=a,this.dynamicSize=o,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=on(0),Tr(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const s=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),hi(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),s.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(s.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);s.tensor=n,Tr(n),s.written=!0,this.tensors[e]=s}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((s,r)=>this.write(s,n[r]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let r=0;r<this.size();r++)e.push(r)}if(e.length===0)return xo([],[0].concat(this.elementShape));const s=this.readMany(e);return hi(this.elementShape,s[0].shape,"TensorArray shape mismatch: "),Ea(s,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return xo([],[0].concat(this.elementShape));const n=[];for(let r=0;r<this.size();r++)n.push(r);const s=this.readMany(n);return hi(this.elementShape,s[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${s[0].shape})`),rr(s,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const s=Math.max(...e);if(!this.dynamicSize&&s>=this.maxSize)throw new Error(`Max index must be < array size (${s}  vs. ${this.maxSize})`);this.writeMany(e,Jo(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let s=0;const r=e.map(l=>(s+=l,s));if(s!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${s}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const a=s===0?0:n.size/s,o=[];Ve(()=>{n=Ne(n,[1,s,a]);for(let l=0;l<e.length;++l){const c=[0,l===0?0:r[l-1],0],d=[1,e[l],a];o[l]=Ne(jn(n,c,d),this.elementShape)}return o});const i=[];for(let l=0;l<e.length;l++)i[l]=l;this.writeMany(i,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Xh{get id(){return this.idTensor.id}constructor(e,n,s,r=-1){this.tensors=e,this.elementShape=n,this.elementDtype=s,e!=null&&e.forEach(a=>{if(s!==a.dtype)throw new Error(`Invalid data types; op elements ${s}, but list elements ${a.dtype}`);hi(n,a.shape,"TensorList shape mismatch: "),Tr(a)}),this.idTensor=on(0),this.maxNumElements=r,Tr(this.idTensor)}copy(){return new Xh([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,s=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(s!==-1&&this.tensors.length!==s)throw new Error(`Operation expected a list with ${s} elements but got a list with ${this.tensors.length} elements.`);hi(e,this.elementShape,"TensorList shape mismatch: ");const r=zg(this.elementShape,this.tensors,e);return Ve(()=>{const a=this.tensors.map(o=>Ne(o,r));return Ea(a,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const s=zg(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,hi(r.shape,e,"TensorList shape mismatch: "),Ne(r,s)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(hi(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Tr(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Xh([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let s=0;s<Math.min(this.tensors.length,e);++s)n.tensors[s]=this.tensors[s];return n}getItem(e,n,s){if(s!==this.elementDtype)throw new Error(`Invalid data types; op elements ${s}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);hi(this.tensors[e].shape,n,"TensorList shape mismatch: ");const r=zg(this.elementShape,this.tensors,n);return Ne(this.tensors[e],r)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);hi(this.elementShape,n.shape,"TensorList shape mismatch: "),Tr(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,s){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);hi(this.elementShape,s,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=zg(this.elementShape,this.tensors,s);return e.length===0?xo([],[0].concat(r)):Ve(()=>{const a=e.map(o=>Ne(this.tensors[o],r));return Ea(a,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);hi(this.elementShape,n,"TensorList shape mismatch: ");const s=zg(this.elementShape,this.tensors,n);return this.size()===0?xo([],[0].concat(s)):Ve(()=>{const r=this.tensors.map(a=>Ne(a,s));return rr(r,0)})}}function X6t(t,e,n){const s=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const r=t.shape.slice(1);hi(r,e,"TensorList shape mismatch: ");const a=Jo(t);return new Xh(a,e,s)}function Y6t(t,e,n,s){return new Xh([],t,e,s)}function Q6t(t,e,n,s){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const r=Math.max(...e);if(s!=null&&s!==-1&&r>=s)throw new Error(`Max index must be < array size (${r}  vs. ${s})`);const a=new Xh([],n,t.dtype,s),o=Jo(t,0);return e.forEach((i,l)=>{a.setItem(i,o[l])}),a}function Z6t(t,e,n){let s=0;const r=e.map(c=>(s+=c,s));if(s!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${s}, and tensor's shape is: ${t.shape}`);const a=t.shape.slice(1),o=_k(a,n),i=s===0?0:t.size/s,l=Ve(()=>{const c=[];t=Ne(t,[1,s,i]);for(let d=0;d<e.length;++d){const f=[0,d===0?0:r[d-1],0],p=[1,e[d],i];c[d]=Ne(jn(t,f,p),o)}return t.dispose(),c}),u=new Xh([],n,t.dtype,e.length);for(let c=0;c<l.length;c++)u.setItem(c,l[c]);return u}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J6t=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const s=Y("thenBranch",t,e,n),r=Y("elseBranch",t,e,n),a=Y("cond",t,e,n),o=Y("args",t,e,n);return(await a.data())[0]?n.functionMap[s].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const s=Y("body",t,e,n),r=Y("cond",t,e,n),a=Y("args",t,e,n),o=await n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap),i=a.map(c=>c.id);let l=await o[0].data();o.forEach(c=>{!c.kept&&i.indexOf(c.id)===-1&&c.dispose()});let u=a;for(;l[0];){const c=u;u=await n.functionMap[s].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);const d=u.map(f=>f.id);c.forEach(f=>{!f.kept&&i.indexOf(f.id)===-1&&d.indexOf(f.id)===-1&&f.dispose()});const h=await n.functionMap[r].executeFunctionAsync(u,n.tensorArrayMap,n.tensorListMap);l=await h[0].data(),h.forEach(f=>{!f.kept&&i.indexOf(f.id)===-1&&d.indexOf(f.id)===-1&&f.dispose()})}return u}case"LoopCond":{const s=Y("pred",t,e,n);return[wu(s)]}case"Switch":{const s=Y("pred",t,e,n);let r=Y("data",t,e,n);return r.kept||(r=wu(r)),(await s.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const s=t.inputNames.find(r=>Xr(r,e,n)!==void 0);if(s){const r=Xr(s,e,n);return[wu(r)]}return}case"Enter":{const s=Y("frameName",t,e,n),r=Y("tensor",t,e,n);return n.enterFrame(s),[wu(r)]}case"Exit":{const s=Y("tensor",t,e,n);return n.exitFrame(),[wu(s)]}case"NextIteration":{const s=Y("tensor",t,e,n);return n.nextIteration(),[wu(s)]}case"TensorArrayV3":{const s=Y("size",t,e,n),r=Y("dtype",t,e,n),a=Y("elementShape",t,e,n),o=Y("dynamicSize",t,e,n),i=Y("clearAfterRead",t,e,n),l=Y("identicalElementShapes",t,e,n),u=Y("name",t,e,n),c=new K6t(u,r,s,a,l,o,i);return n.addTensorArray(c),[c.idTensor,on(1)]}case"TensorArrayWriteV3":{const s=Y("tensorArrayId",t,e,n),r=Y("index",t,e,n),a=Y("tensor",t,e,n),o=n.getTensorArray(s.id);return o.write(r,a),[o.idTensor]}case"TensorArrayReadV3":{const s=Y("tensorArrayId",t,e,n),r=Y("index",t,e,n);return[n.getTensorArray(s.id).read(r)]}case"TensorArrayGatherV3":{const s=Y("tensorArrayId",t,e,n),r=Y("indices",t,e,n),a=Y("dtype",t,e,n);return[n.getTensorArray(s.id).gather(r,a)]}case"TensorArrayScatterV3":{const s=Y("tensorArrayId",t,e,n),r=Y("indices",t,e,n),a=Y("tensor",t,e,n),o=n.getTensorArray(s.id);return o.scatter(r,a),[o.idTensor]}case"TensorArrayConcatV3":{const s=Y("tensorArrayId",t,e,n),r=n.getTensorArray(s.id),a=Y("dtype",t,e,n);return[r.concat(a)]}case"TensorArraySplitV3":{const s=Y("tensorArrayId",t,e,n),r=Y("tensor",t,e,n),a=Y("lengths",t,e,n),o=n.getTensorArray(s.id);return o.split(a,r),[o.idTensor]}case"TensorArraySizeV3":{const s=Y("tensorArrayId",t,e,n),r=n.getTensorArray(s.id);return[on(r.size(),"int32")]}case"TensorArrayCloseV3":{const s=Y("tensorArrayId",t,e,n),r=n.getTensorArray(s.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const s=Y("tensorListId",t,e,n),r=Y("index",t,e,n),a=Y("tensor",t,e,n),o=n.getTensorList(s.id);return o.setItem(r,a),[o.idTensor]}case"TensorListGetItem":{const s=Y("tensorListId",t,e,n),r=Y("index",t,e,n),a=Y("elementShape",t,e,n),o=Y("elementDType",t,e,n);return[n.getTensorList(s.id).getItem(r,a,o)]}case"TensorListScatterV2":case"TensorListScatter":{const s=Y("indices",t,e,n),r=Y("tensor",t,e,n),a=Y("elementShape",t,e,n),o=Y("numElements",t,e,n),i=Q6t(r,s,a,o);return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const s=Y("elementShape",t,e,n),r=Y("elementDType",t,e,n);let a;t.op==="TensorListReserve"?a="numElements":a="maxNumElements";const o=Y(a,t,e,n),i=t.op==="TensorListReserve"?-1:o,l=Y6t(s,r,o,i);return n.addTensorList(l),[l.idTensor]}case"TensorListGather":{const s=Y("tensorListId",t,e,n),r=Y("indices",t,e,n),a=Y("elementShape",t,e,n),o=Y("elementDType",t,e,n);return[n.getTensorList(s.id).gather(r,o,a)]}case"TensorListStack":{const s=Y("tensorListId",t,e,n),r=Y("elementShape",t,e,n),a=Y("elementDType",t,e,n),o=Y("numElements",t,e,n);return[n.getTensorList(s.id).stack(r,a,o)]}case"TensorListFromTensor":{const s=Y("tensor",t,e,n),r=Y("elementShape",t,e,n),a=Y("elementDType",t,e,n),o=X6t(s,r,a);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const s=Y("tensorListId",t,e,n),r=n.getTensorList(s.id),a=Y("dtype",t,e,n),o=Y("elementShape",t,e,n);return[r.concat(a,o)]}case"TensorListPushBack":{const s=Y("tensorListId",t,e,n),r=Y("tensor",t,e,n),a=n.getTensorList(s.id);return a.pushBack(r),[a.idTensor]}case"TensorListPopBack":{const s=Y("tensorListId",t,e,n),r=Y("elementShape",t,e,n),a=Y("elementDType",t,e,n);return[n.getTensorList(s.id).popBack(r,a)]}case"TensorListSplit":{const s=Y("tensor",t,e,n),r=Y("elementShape",t,e,n),a=Y("lengths",t,e,n),o=Z6t(s,a,r);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const s=Y("tensorListId",t,e,n),r=n.getTensorList(s.id);return[on(r.size(),"int32")]}case"TensorListResize":{const s=Y("tensorListId",t,e,n),r=Y("size",t,e,n),o=n.getTensorList(s.id).resize(r);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZP(t,e,n){const[s,r]=Y("fusedOps",t,e,n),a=s==="biasadd",o=!a,i=r==="prelu",l=s==="fusedbatchnorm",u=Y("numArgs",t,e,n);if(a){if(i&&u!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&a&&u!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const c=Y("strides",t,e,n),d=V_(t,e,n),h=Y("dataFormat",t,e,n).toUpperCase(),f=Y("dilations",t,e,n);let[p,m]=Y("args",t,e,n);o&&(m=p,p=void 0);const y=Y("leakyreluAlpha",t,e,n);return{stride:c,pad:d,dataFormat:h,dilations:f,biasArg:p,preluArg:m,activationFunc:r,leakyreluAlpha:y}}const ext=(t,e,n,s=la)=>{switch(t.op){case"Conv1D":{const r=Y("stride",t,e,n),a=Y("pad",t,e,n),o=Y("dataFormat",t,e,n).toUpperCase(),i=Y("dilation",t,e,n);return[s.conv1d(Y("x",t,e,n),Y("filter",t,e,n),r,a,o,i)]}case"Conv2D":{const r=Y("strides",t,e,n),a=V_(t,e,n),o=Y("dataFormat",t,e,n).toUpperCase(),i=Y("dilations",t,e,n);return[s.conv2d(Y("x",t,e,n),Y("filter",t,e,n),[r[1],r[2]],a,o,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:r,pad:a,dataFormat:o,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ZP(t,e,n);return[s.fused.conv2d({x:Y("x",t,e,n),filter:Y("filter",t,e,n),strides:[r[1],r[2]],pad:a,dataFormat:o,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:a,dataFormat:o,dilations:i,biasArg:l,preluArg:u,activationFunc:c,leakyreluAlpha:d}=ZP(t,e,n);return[s.fused.depthwiseConv2d({x:Y("x",t,e,n),filter:Y("filter",t,e,n),strides:[r[1],r[2]],pad:a,dataFormat:o,dilations:[i[1],i[2]],bias:l,activation:c,preluActivationWeights:u,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=Y("outputShape",t,e,n),a=Y("strides",t,e,n),o=V_(t,e,n);return[s.conv2dTranspose(Y("x",t,e,n),Y("filter",t,e,n),r,[a[1],a[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=Y("strides",t,e,n),a=V_(t,e,n),o=Y("dilations",t,e,n),i=Y("dataFormat",t,e,n).toUpperCase();return[s.depthwiseConv2d(Y("input",t,e,n),Y("filter",t,e,n),[r[1],r[2]],a,i,[o[1],o[2]])]}case"Conv3D":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("dataFormat",t,e,n).toUpperCase(),i=Y("dilations",t,e,n);return[s.conv3d(Y("x",t,e,n),Y("filter",t,e,n),[r[1],r[2],r[3]],a,o,[i[1],i[2],i[3]])]}case"AvgPool":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("kernelSize",t,e,n);return[s.avgPool(Y("x",t,e,n),[o[1],o[2]],[r[1],r[2]],a)]}case"MaxPool":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("kernelSize",t,e,n);return[s.maxPool(Y("x",t,e,n),[o[1],o[2]],[r[1],r[2]],a)]}case"MaxPoolWithArgmax":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("kernelSize",t,e,n),i=Y("includeBatchInIndex",t,e,n),{result:l,indexes:u}=s.maxPoolWithArgmax(Y("x",t,e,n),[o[1],o[2]],[r[1],r[2]],a,i);return[l,u]}case"AvgPool3D":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("kernelSize",t,e,n);return[s.avgPool3d(Y("x",t,e,n),[o[1],o[2],o[3]],[r[1],r[2],r[3]],a)]}case"MaxPool3D":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("kernelSize",t,e,n);return[s.maxPool3d(Y("x",t,e,n),[o[1],o[2],o[3]],[r[1],r[2],r[3]],a)]}case"Dilation2D":{const r=Y("strides",t,e,n),a=Y("pad",t,e,n),o=Y("dilations",t,e,n),i=r[1],l=r[2],u=o[1],c=o[2];return[s.dilation2d(Y("x",t,e,n),Y("filter",t,e,n),[i,l],a,[u,c],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const txt=(t,e,n,s=la)=>{switch(t.op){case"Fill":{const r=Y("shape",t,e,n),a=Y("dtype",t,e,n),o=Y("value",t,e,n);return[s.fill(r,o,a)]}case"LinSpace":{const r=Y("start",t,e,n),a=Y("stop",t,e,n),o=Y("num",t,e,n);return[s.linspace(r,a,o)]}case"Multinomial":{const r=Y("logits",t,e,n),a=Y("numSamples",t,e,n),o=Y("seed",t,e,n);return[s.multinomial(r,a,o)]}case"OneHot":{const r=Y("indices",t,e,n),a=Y("depth",t,e,n),o=Y("onValue",t,e,n),i=Y("offValue",t,e,n),l=Y("dtype",t,e,n);return[s.oneHot(r,a,o,i,l)]}case"Ones":return[s.ones(Y("shape",t,e,n),Y("dtype",t,e,n))];case"OnesLike":return[s.onesLike(Y("x",t,e,n))];case"RandomStandardNormal":return[s.randomStandardNormal(Y("shape",t,e,n),Y("dtype",t,e,n),Y("seed",t,e,n))];case"RandomUniform":return[s.randomUniform(Y("shape",t,e,n),Y("minval",t,e,n),Y("maxval",t,e,n),Y("dtype",t,e,n))];case"RandomUniformInt":return[s.randomUniformInt(Y("shape",t,e,n),Y("minval",t,e,n),Y("maxval",t,e,n),Y("seed",t,e,n))];case"Range":{const r=Y("start",t,e,n),a=Y("stop",t,e,n),o=Y("step",t,e,n);return[s.range(r,a,o,Y("dtype",t,e,n))]}case"TruncatedNormal":{const r=Y("shape",t,e,n),a=Y("mean",t,e,n),o=Y("stdDev",t,e,n),i=Y("seed",t,e,n);return[s.truncatedNormal(r,a,o,Y("dtype",t,e,n),i)]}case"Zeros":return[s.zeros(Y("shape",t,e,n),Y("dtype",t,e,n))];case"ZerosLike":return[s.zerosLike(Y("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NC(t,e,n){const s=Y("boxes",t,e,n),r=Y("scores",t,e,n),a=Y("maxOutputSize",t,e,n),o=Y("iouThreshold",t,e,n),i=Y("scoreThreshold",t,e,n),l=Y("softNmsSigma",t,e,n);return{boxes:s,scores:r,maxOutputSize:a,iouThreshold:o,scoreThreshold:i,softNmsSigma:l}}const nxt=async(t,e,n,s,r=la)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:o,maxOutputSize:i,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=NC(t,e,n),d=await r.image.nonMaxSuppressionWithScoreAsync(a,o,i,l,u,c);return[d.selectedIndices,d.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:o,maxOutputSize:i,iouThreshold:l,scoreThreshold:u}=NC(t,e,n),c=Y("padToMaxOutputSize",t,e,n),d=await r.image.nonMaxSuppressionPaddedAsync(a,o,i,l,u,c);return[d.selectedIndices,d.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:o,maxOutputSize:i,iouThreshold:l,scoreThreshold:u}=NC(t,e,n);return[await r.image.nonMaxSuppressionAsync(a,o,i,l,u)]}case"Where":{const a=r.cast(Y("condition",t,e,n),"bool"),o=[await r.whereAsync(a)];return a.dispose(),o}case"ListDiff":return r.setdiff1dAsync(Y("x",t,e,n),Y("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sxt=(t,e,n,s=la)=>{switch(t.op){case"LowerBound":{const r=Y("sortedSequence",t,e,n),a=Y("values",t,e,n);return[s.lowerBound(r,a)]}case"TopKV2":{const r=Y("x",t,e,n),a=Y("k",t,e,n),o=Y("sorted",t,e,n),i=s.topk(r,a,o);return[i.values,i.indices]}case"UpperBound":{const r=Y("sortedSequence",t,e,n),a=Y("values",t,e,n);return[s.upperBound(r,a)]}case"Unique":{const r=Y("x",t,e,n),a=s.unique(r);return[a.values,a.indices]}case"UniqueV2":{const r=Y("x",t,e,n),a=Y("axis",t,e,n),o=s.unique(r,a);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rxt=(t,e,n,s=la)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const r=Y("default",t,e,n);return[Xr(t.name,e,n)||r];case"Placeholder":return[Xr(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const c=Y("x",t,e,n);return[wu(c)]}case"IdentityN":return Y("x",t,e,n).map(c=>wu(c));case"Snapshot":const a=Y("x",t,e,n);return[wu(a)];case"Shape":return[s.tensor1d(Y("x",t,e,n).shape,"int32")];case"ShapeN":return Y("x",t,e,n).map(c=>s.tensor1d(c.shape));case"Size":return[s.scalar(Y("x",t,e,n).size,"int32")];case"Rank":return[s.scalar(Y("x",t,e,n).rank,"int32")];case"NoOp":return[s.scalar(1)];case"Print":const o=Y("x",t,e,n),i=Y("data",t,e,n),l=Y("message",t,e,n),u=Y("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(l);for(let c=0;c<i.length;c++)console.log(Array.prototype.slice.call(i[c].dataSync()).slice(0,u));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class axt{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=on(0),this.tensorMap=new Map,Tr(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return on(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const s=await e.data();return this.tensorMap.forEach(r=>r.dispose()),this.tensorMap.clear(),Ve(()=>{const r=Jo(n),a=s.length,o=r.length;ae(a===o,()=>`The number of elements doesn't match, keys has ${a} elements, the values has ${o} elements.`);for(let i=0;i<a;i++){const l=s[i],u=r[i];Tr(u),this.tensorMap.set(l,u)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const s=await e.data();return Ve(()=>{const r=[];for(let a=0;a<s.length;a++){const o=s[a],i=this.findWithDefault(o,n);r.push(i)}return Ea(r)})}findWithDefault(e,n){const s=this.tensorMap.get(e);return s??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oxt=async(t,e,n,s)=>{switch(t.op){case"HashTable":case"HashTableV2":{const r=s.getHashTableHandleByName(t.name);if(r!=null)return[r];{const a=Y("keyDType",t,e,n),o=Y("valueDType",t,e,n),i=new axt(a,o);return s.addHashTable(t.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=Y("tableHandle",t,e,n,s),a=Y("keys",t,e,n),o=Y("values",t,e,n);return[await s.getHashTableById(r.id).import(a,o)]}case"LookupTableFind":case"LookupTableFindV2":{const r=Y("tableHandle",t,e,n,s),a=Y("keys",t,e,n),o=Y("defaultValue",t,e,n);return[await s.getHashTableById(r.id).find(a,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=Y("tableHandle",t,e,n,s);return[s.getHashTableById(r.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ixt=(t,e,n,s=la)=>{switch(t.op){case"ResizeBilinear":{const r=Y("images",t,e,n),a=Y("size",t,e,n),o=Y("alignCorners",t,e,n),i=Y("halfPixelCenters",t,e,n);return[s.image.resizeBilinear(r,[a[0],a[1]],o,i)]}case"ResizeNearestNeighbor":{const r=Y("images",t,e,n),a=Y("size",t,e,n),o=Y("alignCorners",t,e,n),i=Y("halfPixelCenters",t,e,n);return[s.image.resizeNearestNeighbor(r,[a[0],a[1]],o,i)]}case"CropAndResize":{const r=Y("image",t,e,n),a=Y("boxes",t,e,n),o=Y("boxInd",t,e,n),i=Y("cropSize",t,e,n),l=Y("method",t,e,n),u=Y("extrapolationValue",t,e,n);return[s.image.cropAndResize(r,a,o,i,l,u)]}case"ImageProjectiveTransformV3":{const r=Y("images",t,e,n),a=Y("transforms",t,e,n),o=Y("outputShape",t,e,n),i=Y("fillValue",t,e,n),l=Y("interpolation",t,e,n),u=Y("fillMode",t,e,n);return[s.image.transform(r,a,l.toLowerCase(),u.toLowerCase(),i,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lxt=(t,e,n,s=la)=>{switch(t.op){case"Equal":return[s.equal(Y("a",t,e,n),Y("b",t,e,n))];case"NotEqual":return[s.notEqual(Y("a",t,e,n),Y("b",t,e,n))];case"Greater":return[s.greater(Y("a",t,e,n),Y("b",t,e,n))];case"GreaterEqual":return[s.greaterEqual(Y("a",t,e,n),Y("b",t,e,n))];case"Less":return[s.less(Y("a",t,e,n),Y("b",t,e,n))];case"LessEqual":return[s.lessEqual(Y("a",t,e,n),Y("b",t,e,n))];case"LogicalAnd":return[s.logicalAnd(Y("a",t,e,n),Y("b",t,e,n))];case"LogicalNot":return[s.logicalNot(Y("a",t,e,n))];case"LogicalOr":return[s.logicalOr(Y("a",t,e,n),Y("b",t,e,n))];case"Select":case"SelectV2":return[s.where(Y("condition",t,e,n),Y("a",t,e,n),Y("b",t,e,n))];case"BitwiseAnd":return[s.bitwiseAnd(Y("a",t,e,n),Y("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uxt=(t,e,n,s=la)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[s.matMul(Y("a",t,e,n),Y("b",t,e,n),Y("transposeA",t,e,n),Y("transposeB",t,e,n))];case"Einsum":return[s.einsum(Y("equation",t,e,n),...Y("tensors",t,e,n))];case"Transpose":return[s.transpose(Y("x",t,e,n),Y("perm",t,e,n))];case"_FusedMatMul":const[r,a]=Y("fusedOps",t,e,n),o=r==="biasadd",i=a==="prelu",l=Y("numArgs",t,e,n),u=Y("leakyreluAlpha",t,e,n);if(o){if(i&&l!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&l!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,d]=Y("args",t,e,n);return[s.fused.matMul({a:Y("a",t,e,n),b:Y("b",t,e,n),transposeA:Y("transposeA",t,e,n),transposeB:Y("transposeB",t,e,n),bias:c,activation:a,preluActivationWeights:d,leakyreluAlpha:u})];case"MatrixBandPart":return[s.linalg.bandPart(Y("a",t,e,n),Y("numLower",t,e,n),Y("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cxt=(t,e,n,s=la)=>{switch(t.op){case"EuclideanNorm":return[s.euclideanNorm(Y("x",t,e,n),Y("axis",t,e,n),Y("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[s.batchNorm(Y("x",t,e,n),Y("mean",t,e,n),Y("variance",t,e,n),Y("offset",t,e,n),Y("scale",t,e,n),Y("epsilon",t,e,n))];case"FusedBatchNormV3":return[s.batchNorm(Y("x",t,e,n),Y("mean",t,e,n),Y("variance",t,e,n),Y("offset",t,e,n),Y("scale",t,e,n),Y("epsilon",t,e,n))];case"LRN":return[s.localResponseNormalization(Y("x",t,e,n),Y("radius",t,e,n),Y("bias",t,e,n),Y("alpha",t,e,n),Y("beta",t,e,n))];case"Softmax":return[s.softmax(Y("x",t,e,n))];case"LogSoftmax":return[s.logSoftmax(Y("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dxt=(t,e,n,s=la)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:a}=s.raggedGather(Y("paramsNestedSplits",t,e,n),Y("paramsDenseValues",t,e,n),Y("indices",t,e,n),Y("outputRaggedRank",t,e,n));return r.concat(a)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:a}=s.raggedRange(Y("starts",t,e,n),Y("limits",t,e,n),Y("splits",t,e,n));return[r,a]}case"RaggedTensorToTensor":return[s.raggedTensorToTensor(Y("shape",t,e,n),Y("values",t,e,n),Y("defaultValue",t,e,n),Y("rowPartitionTensors",t,e,n),Y("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hxt=(t,e,n,s=la)=>{switch(t.op){case"Max":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.max(Y("x",t,e,n),i,l)]}case"Mean":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.mean(Y("x",t,e,n),i,l)]}case"Min":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.min(Y("x",t,e,n),i,l)]}case"Sum":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.sum(Y("x",t,e,n),i,l)]}case"All":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.all(Y("x",t,e,n),i,l)]}case"Any":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.any(Y("x",t,e,n),i,l)]}case"ArgMax":{const i=Y("axis",t,e,n);return[s.argMax(Y("x",t,e,n),i)]}case"ArgMin":{const i=Y("axis",t,e,n);return[s.argMin(Y("x",t,e,n),i)]}case"Prod":{const i=Y("axis",t,e,n),l=Y("keepDims",t,e,n);return[s.prod(Y("x",t,e,n),i,l)]}case"Cumprod":{const i=Y("axis",t,e,n),l=Y("exclusive",t,e,n),u=Y("reverse",t,e,n);return[s.cumprod(Y("x",t,e,n),i,l,u)]}case"Cumsum":{const i=Y("axis",t,e,n),l=Y("exclusive",t,e,n),u=Y("reverse",t,e,n);return[s.cumsum(Y("x",t,e,n),i,l,u)]}case"Bincount":const r=Y("x",t,e,n),a=Y("weights",t,e,n),o=Y("size",t,e,n);return[s.bincount(r,a,o)];case"DenseBincount":{const i=Y("x",t,e,n),l=Y("weights",t,e,n),u=Y("size",t,e,n),c=Y("binaryOutput",t,e,n);return[s.denseBincount(i,l,u,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fxt=(t,e,n,s=la)=>{switch(t.op){case"ConcatV2":case"Concat":{const r=Y("n",t,e,n),a=Y("axis",t,e,n);let o=Y("tensors",t,e,n);return o=o.slice(0,r),[s.concat(o,a)]}case"Gather":{const r=Y("x",t,e,n),a=Y("indices",t,e,n);return[s.gather(r,s.cast(a,"int32"),0)]}case"GatherV2":{const r=Y("axis",t,e,n),a=Y("batchDims",t,e,n),o=Y("x",t,e,n),i=Y("indices",t,e,n);return[s.gather(o,s.cast(i,"int32"),r,a)]}case"Reverse":{const r=Y("dims",t,e,n),a=[];for(let i=0;i<r.length;i++)r[i]&&a.push(i);const o=Y("x",t,e,n);return[s.reverse(o,a)]}case"ReverseV2":{const r=Y("axis",t,e,n),a=Y("x",t,e,n);return[s.reverse(a,r)]}case"Slice":{const r=Y("begin",t,e,n),a=Y("size",t,e,n);return[s.slice(Y("x",t,e,n),r,a)]}case"StridedSlice":{const r=Y("begin",t,e,n),a=Y("end",t,e,n),o=Y("strides",t,e,n),i=Y("beginMask",t,e,n),l=Y("endMask",t,e,n),u=Y("ellipsisMask",t,e,n),c=Y("newAxisMask",t,e,n),d=Y("shrinkAxisMask",t,e,n),h=Y("x",t,e,n);return[s.stridedSlice(h,r,a,o,i,l,u,c,d)]}case"Pack":return Ve(()=>{const r=Y("axis",t,e,n),a=Y("tensors",t,e,n),o=a[0].shape,i=s.squeeze(a[0]).shape,l=a.map(u=>{const c=Bn(u.shape,o);if(!c&&!Bn(s.squeeze(u).shape,i))throw new Error("the input tensors shape does not match");return c?u:s.reshape(u,o)});return[s.stack(l,r)]});case"Unpack":{const r=Y("axis",t,e,n),a=Y("tensor",t,e,n);return s.unstack(a,r)}case"Tile":{const r=Y("reps",t,e,n);return[s.tile(Y("x",t,e,n),r)]}case"Split":case"SplitV":{const r=Y("axis",t,e,n),a=Y("numOrSizeSplits",t,e,n),o=Y("x",t,e,n);return s.split(o,a,r)}case"ScatterNd":{const r=Y("indices",t,e,n),a=Y("values",t,e,n),o=Y("shape",t,e,n);return[s.scatterND(r,a,o)]}case"GatherNd":{const r=Y("x",t,e,n),a=Y("indices",t,e,n);return[s.gatherND(r,a)]}case"SparseToDense":{const r=Y("sparseIndices",t,e,n),a=Y("outputShape",t,e,n),o=Y("sparseValues",t,e,n),i=Y("defaultValue",t,e,n);return[s.sparseToDense(r,o,a,o.dtype===i.dtype?i:s.cast(i,o.dtype))]}case"TensorScatterUpdate":{const r=Y("indices",t,e,n),a=Y("values",t,e,n),o=Y("tensor",t,e,n);return[s.tensorScatterUpdate(o,r,a)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pxt=(t,e,n,s=la)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:a,emptyRowIndicator:o,reverseIndexMap:i}=s.sparse.sparseFillEmptyRows(Y("indices",t,e,n),Y("values",t,e,n),Y("denseShape",t,e,n),Y("defaultValue",t,e,n));return[r,a,o,i]}case"SparseReshape":{const{outputIndices:r,outputShape:a}=s.sparse.sparseReshape(Y("inputIndices",t,e,n),Y("inputShape",t,e,n),Y("newShape",t,e,n));return[r,a]}case"SparseSegmentMean":return[s.sparse.sparseSegmentMean(Y("data",t,e,n),Y("indices",t,e,n),Y("segmentIds",t,e,n))];case"SparseSegmentSum":return[s.sparse.sparseSegmentSum(Y("data",t,e,n),Y("indices",t,e,n),Y("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mxt=(t,e,n,s=la)=>{switch(t.op){case"FFT":return[s.fft(Y("x",t,e,n))];case"IFFT":return[s.ifft(Y("x",t,e,n))];case"RFFT":return[s.rfft(Y("x",t,e,n))];case"IRFFT":return[s.irfft(Y("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gxt=(t,e,n,s=la)=>{switch(t.op){case"StaticRegexReplace":return[s.string.staticRegexReplace(Y("input",t,e,n),Y("pattern",t,e,n),Y("rewrite",t,e,n),Y("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:r,nGramsSplits:a}=s.string.stringNGrams(Y("data",t,e,n),Y("dataSplits",t,e,n),Y("separator",t,e,n),Y("nGramWidths",t,e,n),Y("leftPad",t,e,n),Y("rightPad",t,e,n),Y("padWidth",t,e,n),Y("preserveShortSequences",t,e,n));return[r,a]}case"StringSplit":{const{indices:r,values:a,shape:o}=s.string.stringSplit(Y("input",t,e,n),Y("delimiter",t,e,n),Y("skipEmpty",t,e,n));return[r,a,o]}case"StringToHashBucketFast":return[s.string.stringToHashBucketFast(Y("input",t,e,n),Y("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vxt=(t,e,n,s=la)=>{switch(t.op){case"Cast":return[s.cast(Y("x",t,e,n),Y("dtype",t,e,n))];case"ExpandDims":{const r=Y("axis",t,e,n);return[s.expandDims(Y("x",t,e,n),r)]}case"Squeeze":{const r=Y("axis",t,e,n);return[s.squeeze(Y("x",t,e,n),r)]}case"Reshape":return[s.reshape(Y("x",t,e,n),Y("shape",t,e,n))];case"EnsureShape":return[s.ensureShape(Y("x",t,e,n),Y("shape",t,e,n))];case"MirrorPad":return[s.mirrorPad(Y("x",t,e,n),Y("padding",t,e,n),Y("mode",t,e,n))];case"PadV2":case"Pad":return[s.pad(Y("x",t,e,n),Y("padding",t,e,n),Y("constantValue",t,e,n))];case"SpaceToBatchND":{const r=Y("blockShape",t,e,n),a=Y("paddings",t,e,n);return[s.spaceToBatchND(Y("x",t,e,n),r,a)]}case"BatchToSpaceND":{const r=Y("blockShape",t,e,n),a=Y("crops",t,e,n);return[s.batchToSpaceND(Y("x",t,e,n),r,a)]}case"DepthToSpace":{const r=Y("blockSize",t,e,n),a=Y("dataFormat",t,e,n).toUpperCase();return[s.depthToSpace(Y("x",t,e,n),r,a)]}case"BroadcastTo":return[s.broadcastTo(Y("x",t,e,n),Y("shape",t,e,n))];case"BroadcastArgs":return[s.broadcastArgs(Y("s0",t,e,n),Y("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JP(t,e,n,s,r=Ve){const a=((o,i,l)=>{switch(o.category){case"arithmetic":return r(()=>G6t(o,i,l));case"basic_math":return r(()=>q6t(o,i,l));case"control":return J6t(o,i,l);case"convolution":return r(()=>ext(o,i,l));case"creation":return r(()=>txt(o,i,l));case"dynamic":return nxt(o,i,l);case"evaluation":return r(()=>sxt(o,i,l));case"image":return r(()=>ixt(o,i,l));case"graph":return r(()=>rxt(o,i,l));case"logical":return r(()=>lxt(o,i,l));case"matrices":return r(()=>uxt(o,i,l));case"normalization":return r(()=>cxt(o,i,l));case"ragged":return r(()=>dxt(o,i,l));case"reduction":return r(()=>hxt(o,i,l));case"slice_join":return r(()=>fxt(o,i,l));case"sparse":return r(()=>pxt(o,i,l));case"spectral":return r(()=>mxt(o,i,l));case"string":return r(()=>gxt(o,i,l));case"transformation":return r(()=>vxt(o,i,l));case"hash_table":return oxt(o,i,l,s);case"custom":const u=VX(o.op);if(u&&u.customExecutor)return u.customExecutor(new j6t(o,i,l));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Bu(a)?a.then(o=>[].concat(o)):[].concat(a)}class eM{constructor(e={},n={},s={},r={},a){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=s,this.functionMap=r,this.parseNodeNameCache=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const s=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(s))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tM(t,e,n,s){const r=new Set,a=[];let o=null,i=null;const l=new Set,u=new Set(Object.keys(t).map(h=>fo(h)[0]));s=s||[];const c=new Set(s.map(h=>fo(h.name)[0])),d=[...e];for(;d.length>0;){const h=d.pop();if((eh(h)||Txt(h)||kxt(h))&&o==null&&(o=h,i=o.children.map(f=>f.name).filter(f=>r.has(f))),r.add(h.name),n[h.name]==null&&!u.has(h.name)&&!c.has(h.name)){if(h.inputs.length===0){a.push(h.name);continue}h.inputs.forEach(f=>{l.has(f.name)||(l.add(f.name),d.push(f))})}}return{inputs:t,outputs:e,usedNodes:r,missingInputs:a,dynamicNode:o,syncInputs:i}}function yxt(t,e){const{usedNodes:n,inputs:s}=e,r=Object.keys(s).map(y=>fo(y)[0]).map(y=>t.nodes[y]),a=t.initNodes||[],o=y=>n.has(typeof y=="string"?y:y.name);function i(y){return[...new Map(y.map(v=>[v.name,v])).values()]}const l=i([...r,...t.weights,...a]).filter(o),u=i([...l,...Object.values(t.nodes)]).filter(o),c=new Map(u.map(y=>[y.name,y])),d={};for(const y of u){d[y.name]=d[y.name]||0;for(const v of y.children)o(v)||(d[v.name]=Number.POSITIVE_INFINITY),d[v.name]=(d[v.name]||0)+1}const h=Object.entries(d).filter(([,y])=>y===0).map(([y])=>y),f=[...h];for(;h.length>0;){const y=h.pop(),v=c.get(y);for(const b of v.children.filter(o))--d[b.name]===0&&(f.push(b.name),h.push(b.name))}const p=f.map(y=>c.get(y)),m=bxt(p,l);return _xt(m,l),m}function bxt(t,e){const n=new Map(t.map(o=>[o.name,o])),s=e.map(o=>o.name),r=new Set(s);for(;s.length>0;){const o=s.pop(),i=n.get(o);for(const l of i.children)!n.has(l.name)||r.has(l.name)||(r.add(l.name),s.push(l.name))}return t.filter(o=>r.has(o.name))}class e_ extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function _xt(t,e){const n=new Map(t.map((i,l)=>[i.name,l])),s=new Set(e.map(i=>i.name)),r=i=>s.has(typeof i=="string"?i:i.name),a=new Set(t.map(i=>i.name)),o=i=>a.has(typeof i=="string"?i:i.name);for(const i of t){for(const l of i.children.filter(o)){if(!n.has(l.name))throw new e_(`Child ${l.name} of node ${i.name} is unreachable.`);if(n.get(i.name)>n.get(l.name))throw new e_(`Node ${i.name} is scheduled to run after its child ${l.name}.`)}if(!r(i))for(const l of i.inputs){if(!n.has(l.name))throw new e_(`Input ${l.name} of node ${i.name} is unreachable.`);if(n.get(l.name)>n.get(i.name))throw new e_(`Node ${i.name} is scheduled to run before its input ${l.name}.`)}}}function wxt(t){const e=new Map(t.map((i,l)=>[i.name,l])),n=Number.MAX_SAFE_INTEGER,s=t.map((i,l)=>eh(i)?n:l),r=i=>{const l=s[e.get(i.name)];return l??-1},a=t.map((i,l)=>i.children.map(r).reduce((u,c)=>Math.max(u,c),s[l])),o=new Map;for(let i=0;i<t.length;++i){const l=a[i];if(l===n)continue;const u=t[i],c=t[l];o.has(c.name)||o.set(c.name,[]),o.get(c.name).push(u)}return o}const xxt=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),Cxt=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),Sxt=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function eh(t){return xxt.has(t.op)}function Txt(t){return Cxt.has(t.op)}function kxt(t){return Sxt.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class K3{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(s=>e[s].map(r=>r.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(s=>{this._functionExecutorMap[s]=new K3(e.functions[s],this)})}getCompilationKey(e,n){const s=e.map(a=>a.name).sort(),r=n.map(a=>a.name).sort();return s.join(this.SEPARATOR)+"--"+r.join(this.SEPARATOR)}compile(e,n){const s=tM(e,n,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:a,syncInputs:o}=s;if(a!=null)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(r.length>0){const u=n.map(d=>d.name),c=Object.keys(e);throw new Error(`Cannot compute the outputs [${u}] from the provided inputs [${c}]. Missing the following inputs: [${r}]`)}const i=yxt(this.graph,s),l=wxt(i);return{orderedNodes:i,nodeLiveUntilMap:l}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Tr(n),n}cloneTensorList(e){return e?e.map(s=>this.cloneAndKeepTensor(s)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,s])=>[n,this.cloneTensorList(s)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const s=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const r=s.map(h=>this.graph.nodes[fo(h)[0]]),a=n.map(h=>fo(h)[0]),o=new Set(a);let i=a.map(h=>this.graph.nodes[h]);i.length===0&&(i=this._outputs);const l=this.getCompilationKey(r,i);let u=this.compiledMap.get(l);u==null&&(u=this.compile(e,i),this.compiledMap.set(l,u));try{this.keepIntermediateTensors=ze().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const c={},d={};return Ve(()=>{const h=new eM(this.weightMap,c,d,this.functionExecutorMap,this.parseNodeNameCache),f=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(v=>{const[b,w]=fo(v,h),_=[];_[w]=e[v],f[b]=_,this.keepIntermediateTensors&&(this.clonedTensorsMap[b]=this.cloneTensorList(_))});const p=this.getFrozenTensorIds(f),{orderedNodes:m,nodeLiveUntilMap:y}=u;for(const v of m){if(f[v.name])continue;const b=JP(v,f,h,this._resourceManager);if(Bu(b))throw new Error(`The execution of the op '${v.op}' returned a promise. Please use model.executeAsync() instead.`);f[v.name]=b,this.keepIntermediateTensors&&(this.clonedTensorsMap[v.name]=this.cloneTensorList(b)),this.checkTensorForDisposalWithNodeLiveUntilInfo(v,f,h,p,o,y.get(v.name))}return this.parent==null&&h.dispose(p),n.map(v=>Xr(v,f,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(s=>e[s]).map(s=>s.map(r=>r.id)));return new Set(n)}checkTensorForDisposal(e,n,s,r,a,o,i){if(!(eh(n)||o.has(e))){for(const l of s[e])l!=null&&(i[l.id]=(i[l.id]||0)+n.children.length);for(const l of n.inputs){if(eh(l))continue;const u=KP(l.name,s,r);if(u!=null)for(const c of u){if(!c||c.kept||a.has(c.id))continue;const d=i[c.id];d===1?(c.dispose(),delete i[c.id]):d!=null&&i[c.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,s,r,a,o){function i(l){return eh(l)||a.has(l.name)}if(!(eh(e)||o==null))for(const l of o){if(i(l))continue;const u=KP(l.name,n,s);for(const c of u)!c||c.kept||r.has(c.id)||c.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,s=!1,r={},a={}){this.disposeIntermediateTensors(),s||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=ze().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const o=new eM(this.weightMap,r,a,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,o,n,s),l=n.map(h=>Xr(h,i,o)),u=l.map(h=>h.id),c=Object.keys(e).map(h=>e[h].id),d=new Set([...u,...c,...this.weightIds]);return Object.values(i).forEach(h=>{h.forEach(f=>{f&&!f.isDisposed&&!d.has(f.id)&&f.dispose()})}),this.parent==null&&o.dispose(d),l}async executeFunctionAsync(e,n,s){const r=e.reduce((a,o,i)=>(a[this.inputs[i].name]=o,a),{});return this._executeAsync(r,this.outputNodes,!0,n,s)}async executeWithControlFlow(e,n,s,r){const a=Object.keys(e),o=a.map(_=>this.graph.nodes[fo(_)[0]]),i=s.map(_=>fo(_)[0]),l=new Set(i);let u=i.map(_=>this.graph.nodes[_]);u.length===0&&(u=this._outputs);const{usedNodes:c,missingInputs:d,dynamicNode:h,syncInputs:f}=tM(e,u,this.weightMap,this._initNodes),p=[...o,...this.graph.weights,...this._initNodes||[]].map(_=>({node:_,contexts:n.currentContext})),m=Object.assign({},this.weightMap);Object.keys(e).forEach(_=>{const[C,x]=fo(_),T=[];T[x]=e[_],m[C]=T});const y={},v=this.getFrozenTensorIds(m),b={};for(;p.length>0;){const _=this.processStack(o,p,n,m,b,v,l,y,c);await Promise.all(_)}h==null&&!r&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const w=u.filter(_=>!eh(_)&&!Xr(_.name,m,n)).map(_=>_.name);if(w.length>0){let _="";throw h!=null&&(_=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${f}]`),new Error(`Cannot compute the outputs [${w}] from the provided inputs [${a}]. Consider providing the following inputs: [${d}]. ${_}`)}return m}processStack(e,n,s,r,a,o,i,l,u){const c=[];for(;n.length>0;){const d=n.pop();s.currentContext=d.contexts;let h="";if(d.node.op==="Enter"&&Y("isConstant",d.node,r,s)&&([h]=_u(d.node.name,s)),r[d.node.name]==null){const f=JP(d.node,r,s,this._resourceManager);h||([h]=_u(d.node.name,s));const p=s.currentContext;Bu(f)?c.push(f.then(m=>(r[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),s.currentContext=p,this.checkTensorForDisposal(h,d.node,r,s,o,i,l),this.processChildNodes(d.node,n,s,r,a,u),m))):(r[h]=f,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(f)),this.checkTensorForDisposal(h,d.node,r,s,o,i,l),this.processChildNodes(d.node,n,s,r,a,u))}else this.processChildNodes(d.node,n,s,r,a,u)}return c}processChildNodes(e,n,s,r,a,o){e.children.forEach(i=>{const[l]=_u(i.name,s);a[l]||!o.has(i.name)||(i.op==="Merge"?i.inputNames.some(u=>!!Xr(u,r,s))&&(a[l]=!0,n.push({contexts:s.currentContext,node:i})):i.inputNames.every(u=>!!Xr(u,r,s))&&(a[l]=!0,n.push({contexts:s.currentContext,node:i})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const s=e[n],[r]=fo(n),a=this.graph.nodes[r];if(a.attrParams.shape&&a.attrParams.shape.value){const o=a.attrParams.shape.value,i=o.length===s.shape.length&&s.shape.every((l,u)=>o[u]===-1||o[u]===l);ae(i,()=>`The shape of dict['${a.name}'] provided in model.execute(dict) must be [${o}], but was [${s.shape}]`)}a.attrParams.dtype&&a.attrParams.dtype.value&&ae(s.dtype===a.attrParams.dtype.value,()=>`The dtype of dict['${a.name}'] provided in model.execute(dict) must be ${a.attrParams.dtype.value}, but was ${s.dtype}`)})}mapInputs(e){var n,s;const r={};for(const a in e){const o=(s=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||s===void 0?void 0:s[a];o!=null?r[o.name]=e[a]:r[a]=e[a]}return r}checkInputs(e){const n=Object.keys(e).filter(s=>{const[r]=fo(s);return this.graph.nodes[r]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var s,r;const a=(r=(s=this._signature)===null||s===void 0?void 0:s.outputs)===null||r===void 0?void 0:r[n];return a!=null?a.name:n},{})}checkOutputs(e){e.forEach(n=>{const[s]=fo(n);if(!this.graph.nodes[s])throw new Error(`The output '${n}' is not found in the graph`)})}}class $xt{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ext="?tfjs-format=file",Ixt="model.json";class mA{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},s=fN){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=s,n==null&&(this.loadOptions={}),this.resourceManager=new $xt}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Bu(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let s=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const a=this.artifacts.userDefinedMetadata;a.signature!=null&&(s=a.signature),a.structuredOutputKeys!=null&&(this.structuredOutputKeys=a.structuredOutputKeys)}this.signature=s,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const r=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new K3(XP.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const a=XP.Instance.transformGraph(e.modelInitializer);this.initializer=new K3(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const s=this.io.getSaveHandlers(e);if(s.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(s.length>1)throw new Error(`Found more than one (${s.length}) save handlers for URL '${e}'`);e=s[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof Xn?[e]:e,s={};return n.forEach((r,a)=>s[this.structuredOutputKeys[a]]=r),s}return e}predict(e,n){const s=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(s)}async predictAsync(e,n){const s=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(s)}normalizeInputs(e){var n;if(!(e instanceof Xn)&&!Array.isArray(e)){const a=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(a!=null)for(const o in a){const i=a[o];i.resourceId!=null&&(e[o]=this.resourceIdToCapturedInput[i.resourceId])}return e}e=Array.isArray(e)?e:[e];const s=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+s!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-s} non-resource placeholders, while there are ${e.length} input tensors provided.`);let r=0;return this.inputNodes.reduce((a,o)=>{var i,l,u;const c=(u=(l=(i=this.signature)===null||i===void 0?void 0:i.inputs)===null||l===void 0?void 0:l[o])===null||u===void 0?void 0:u.resourceId;return c!=null?a[o]=this.resourceIdToCapturedInput[c]:a[o]=e[r++],a},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,s=Object.keys(n);for(let r=0;r<s.length;r++){const a=s[r],o=n[a];this.resourceIdToCapturedInput[o.resourceId]=e[r]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const s=this.executor.execute(e,n);return s.length>1?s:s[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const s=await this.executor.executeAsync(e,n);return s.length>1?s:s[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,s)=>(n[s]=[e[s]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&vn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function gA(t,e={},n=fN){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=Axt(t));const s=new mA(t,e,n);return await s.load(),s}function Nxt(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[s,r]=t;if(!s)throw new Error("modelJSON must be the first element of the array");if(!r||!(r instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in s))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in s))throw new Error("Model JSON is missing 'weightsManifest'");const a=jE(s.weightsManifest),o=UE(s,a,r);e=M3(o)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=M3(t);else throw new Error("Unknown model format");const n=new mA(e);return n.load(),n}function Axt(t){return t.endsWith("/")||(t=t+"/"),`${t}${Ixt}${Ext}`}/** @license See the LICENSE file. */const WX="4.11.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function Dxt(t,e){return X3(t,e)}function X3(t,e,n=new Map,s=new Set){if(t==null)return null;if(typeof Blob=="function"&&t instanceof Blob)return t.slice();if(s.has(t))throw new Error("Circular references are not supported.");if(n.has(t))return n.get(t);const r=e(t);if(r.recurse&&r.value!==null)throw new Error("A deep map function may not return both a value and recurse=true.");if(r.recurse)if(m0(t)){const a=Array.isArray(t)?[]:{};s.add(t);for(const o in t){const i=t[o],l=X3(i,e,n,s);a[o]=l}return s.delete(t),t.__proto__&&(a.__proto__=t.__proto__),a}else throw new Error(`Can't recurse into non-iterable type: ${t}`);else return n.set(t,r.value),r.value}function Oxt(t,e=GX){return jX(t,e)}function jX(t,e,n=new Set){const s=t[0];if(n.has(s))throw new Error("Circular references are not supported.");const r=e(t);if(r.recurse&&r.value!==null)throw new Error("A deep zip function may not return both a value and recurse=true.");if(r.recurse)if(m0(s)){const a=Array.isArray(s)?[]:{};n.add(s);for(const o in s){const i=t.map(u=>u[o]),l=jX(i,e,n);a[o]=l}return n.delete(s),a}else throw new Error(`Can't recurse into non-iterable type: ${s}`);else return r.value}function GX(t){return t===null?null:m0(t[0])?{value:null,recurse:!0}:{value:t,recurse:!1}}async function qX(t,e){const n=new Map;X3(t,e,n);for(const r of Array.from(n.keys())){const a=n.get(r);if(Bu(a)){const o=await a;n.set(r,o)}}return X3(t,e,n)}function m0(t){let e=!1;if(ze().get("IS_BROWSER"))e=t instanceof TextDecoder;else{const{StringDecoder:n}=require("string_decoder");e=t instanceof n}return t!=null&&!ArrayBuffer.isView(t)&&(Array.isArray(t)||typeof t=="object"&&!(t instanceof Xn)&&!(t instanceof Promise)&&!e)}function Rxt(t){return t==null||Lxt(t)||Array.isArray(t)||typeof t=="object"&&t instanceof Xn||Sr(t)}function Lxt(t){return t===null||typeof t!="object"&&typeof t!="function"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function Pxt(t){return Dxt(t,Mxt)}function Mxt(t){return t instanceof Xn?{value:t.clone(),recurse:!1}:m0(t)?{value:null,recurse:!0}:{value:t,recurse:!1}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class KX{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,e==null)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,n){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=n}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return this.length()===0}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const n of e)this.push(n)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const n=this.wrap(this.begin+e),s=this.get(n);return this.set(n,this.pop()),s}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class Bx extends KX{constructor(){super(Bx.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=this.capacity*2,n=new Array(e),s=this.length();for(let r=0;r<s;r++)n[r]=this.get(this.wrap(this.begin+r));this.data=n,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=s}}Bx.INITIAL_CAPACITY=32;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function XX(t){return new zxt(t)}function vA(t){return new Vxt(t)}function Fxt(t,e){return new YX(t,e)}function Bxt(t,e=Fc.FAIL){return new Yxt(t,e)}class zr{async toArray(){const e=[];let n=await this.next();for(;!n.done;)e.push(n.value),n=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),n=[];let s=await e.next();for(;!s.done;)n.push(s.value),s=await e.next();return n}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let n=await this.next(),s=e(n.value);for(;!n.done&&s;)n=await this.next(),s=e(n.value)}handleErrors(e){return new Kxt(this,e)}filter(e){return new Gxt(this,e)}map(e){return new qxt(this,e)}mapAsync(e){return new nM(this,e)}serialMapAsync(e){return new nM(this,e).serial()}flatmap(e){return new Xxt(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile(n=>n===!0)}rowMajorBatch(e,n=!0){return new jxt(this,e,n)}columnMajorBatch(e,n=!0,s=GX){return this.rowMajorBatch(e,n).map(a=>Oxt(a,s))}concatenate(e,n){return new YX(XX([this,e]),n)}take(e){return e<0||e==null?this:new Wxt(this,e)}skip(e){return e<0||e==null?this:new Uxt(this,e)}prefetch(e){return new QX(this,e)}shuffle(e,n){return new Qxt(this,e,n)}serial(){return new Hxt(this)}}class zxt extends zr{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:Pxt(e),done:!1}}}class Vxt extends zr{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class Hxt extends zr{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){return this.upstream.next()}}class Uxt extends zr{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;vn(e.value)}return this.upstream.next()}}class Wxt extends zr{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class jxt extends zr{constructor(e,n,s=!0){super(),this.upstream=e,this.batchSize=n,this.enableSmallLastBatch=s,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const n=await this.upstream.next();if(n.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(n.value)}return{value:e,done:!1}}}class Gxt extends zr{constructor(e,n){super(),this.upstream=e,this.predicate=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;vn(e.value)}}}class qxt extends zr{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=Vu(e.value),s=this.transform(e.value),r=Vu(s);for(const a of n)D6(a,r)||a.dispose();return{value:s,done:!1}}}class Kxt extends zr{constructor(e,n){super(),this.upstream=e,this.handler=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class nM extends zr{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=Vu(e.value),s=await this.transform(e.value),r=Vu(s);for(const a of n)D6(a,r)||a.dispose();return{value:s,done:!1}}}class yA extends zr{constructor(){super(),this.outputQueue=new Bx,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}async serialNext(){for(;this.outputQueue.length()===0;)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class Xxt extends yA{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const n=Vu(e.value),s=this.transform(e.value),r=Vu(s);this.outputQueue.pushAll(s);for(const a of n)D6(a,r)||a.dispose();return!0}}class YX extends zr{constructor(e,n){super(),this.baseErrorHandler=n,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,this.iterator==null){const s=await this.moreIterators.next();if(s.done)return{value:null,done:!0};this.iterator=s.value,this.baseErrorHandler!=null&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const n=await this.iterator.next();return n.done?(this.iterator=null,this.readFromChain(e)):n}}var Fc;(function(t){t[t.FAIL=0]="FAIL",t[t.SHORTEST=1]="SHORTEST",t[t.LONGEST=2]="LONGEST"})(Fc||(Fc={}));class Yxt extends zr{constructor(e,n=Fc.FAIL){super(),this.iterators=e,this.mismatchMode=n,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}async nextState(e){await e;let n=0,s=0;function r(o){return o instanceof zr?{value:o.next().then(l=>(n++,l.done&&s++,l.value)),recurse:!1}:{value:null,recurse:!0}}const a=await qX(this.iterators,r);if(n===s)return{value:null,done:!0};if(s>0)switch(this.mismatchMode){case Fc.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case Fc.SHORTEST:return{value:null,done:!0};case Fc.LONGEST:}return this.count++,{value:a,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class QX extends zr{constructor(e,n){super(),this.upstream=e,this.bufferSize=n,this.buffer=new KX(n)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class Qxt extends QX{constructor(e,n,s){super(e,n),this.upstream=e,this.windowSize=n,this.upstreamExhausted=!1,this.random=Um.alea(s||qr().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then(()=>this.serialNext()),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),n=await this.buffer.shuffleExcise(e);if(n.done)this.upstreamExhausted=!0;else return this.refill(),n}return{value:null,done:!0}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class Ym{constructor(){this.size=null}batch(e,n=!0){const s=this;ae(e>0,()=>`batchSize needs to be positive, but it is
      ${e}`);let r;return this.size===1/0||this.size==null?r=this.size:n?r=Math.ceil(this.size/e):r=Math.floor(this.size/e),co(async()=>(await s.iterator()).columnMajorBatch(e,n,e8t),r)}concatenate(e){const n=this;let s;return this.size===1/0||e.size===1/0?s=1/0:this.size!=null&&e.size!=null?s=this.size+e.size:s=null,co(async()=>(await n.iterator()).concatenate(await e.iterator()),s)}filter(e){const n=this;let s;return this.size===1/0?s=1/0:s=null,co(async()=>(await n.iterator()).filter(r=>Ve(()=>e(r))),s)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const n=this;return co(async()=>(await n.iterator()).map(s=>Ve(()=>e(s))),this.size)}mapAsync(e){const n=this;return co(async()=>(await n.iterator()).mapAsync(e),this.size)}prefetch(e){if(e==null)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const n=this;return co(async()=>(await n.iterator()).prefetch(e),this.size)}repeat(e){const n=this;let s;return this.size!=null&&e>0?s=this.size*e:e===0?s=0:this.size!=null&&(e===void 0||e<0)?s=1/0:s=null,co(async()=>{const r=vA(async()=>({value:await n.iterator(),done:!1}));return Fxt(r.take(e))},s)}skip(e){const n=this;let s;return this.size!=null&&e>=0&&this.size>=e?s=this.size-e:this.size!=null&&(this.size<e||e===void 0||e<0)?s=0:s=null,co(async()=>(await n.iterator()).skip(e),s)}shuffle(e,n,s=!0){if(e==null||e<0)throw this.size==null?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,a=Um.alea(n||qr().toString());return co(async()=>{let o=a.int32();return s&&(o+=a.int32()),(await r.iterator()).shuffle(e,o.toString())},this.size)}take(e){const n=this;let s;return this.size!=null&&this.size>e?s=e:this.size!=null&&this.size<=e?s=this.size:s=null,co(async()=>(await n.iterator()).take(e),s)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}Ym.MAX_BUFFER_SIZE=1e4;function co(t,e=null){return new class extends Ym{constructor(){super(...arguments),this.size=e}async iterator(){return t()}}}function Zxt(t){return co(async()=>XX(t),t.length)}function Jxt(t){if(!m0(t))throw new Error("The argument to zip() must be an object or array.");let e;if(Array.isArray(t))for(let n=0;n<t.length;n++)e=e==null?t[n].size:Math.min(e,t[n].size);else if(t instanceof Object)for(const n in t)e=e==null?t[n].size:Math.min(e,t[n].size);return co(async()=>{const n=await qX(t,s=>{if(s instanceof Ym)return{value:s.iterator(),recurse:!1};if(m0(s))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")});return Bxt(n,Fc.SHORTEST)},e)}function e8t(t){if(t===null)return null;const e=t[0];return Rxt(e)?{value:t8t(t),recurse:!1}:{value:null,recurse:!0}}function t8t(t){if(t.length===0)throw new Error("Can't make a batch of zero elements.");return t[0]instanceof Xn?Ea(t):xo(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class ZX extends Ym{constructor(e){super(),this.input=e}async iterator(){return(await this.input.iterator()).decodeUTF8().split(`
`).map(r=>(r.endsWith("\r")&&(r=r.slice(0,-1)),r))}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */const t_='"',Vg=Symbol("out"),sM=Symbol("field"),n_=Symbol("quote"),AC=Symbol("quoteafterquote"),rM=Symbol("quoteinquote");class JX extends Ym{async columnNames(){return this.columnNamesValidated||await this.setColumnNames(),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}async setColumnNames(){const e=await this.maybeReadHeaderLine();if(!this.fullColumnNames&&!e)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&e&&ae(e.length===this.fullColumnNames.length,()=>"The length of provided columnNames ("+this.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+e.length.toString()+")."),this.fullColumnNames||(this.fullColumnNames=e);const n=this.fullColumnNames.reduce((r,a)=>(r[a]=r[a]+1||1,r),{}),s=Object.keys(n).filter(r=>n[r]>1);if(ae(s.length===0,()=>"Duplicate column names found: "+s.toString()),this.columnConfigs){for(const r of Object.keys(this.columnConfigs))if(this.fullColumnNames.indexOf(r)===-1)throw new Error('The key "'+r+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}async maybeReadHeaderLine(){if(this.hasHeader){const n=await(await this.base.iterator()).next();if(n.done)throw new Error("No data was found for CSV parsing.");const s=n.value;return this.parseRow(s,!1)}else return null}constructor(e,n){super(),this.input=e,this.hasHeader=!0,this.fullColumnNames=null,this.columnNamesValidated=!1,this.columnConfigs=null,this.configuredColumnsOnly=!1,this.delimiter=",",this.delimWhitespace=!1,this.base=new ZX(e),n||(n={}),this.hasHeader=n.hasHeader!==!1,this.fullColumnNames=n.columnNames,this.columnConfigs=n.columnConfigs,this.configuredColumnsOnly=n.configuredColumnsOnly,n.delimWhitespace?(ae(n.delimiter==null,()=>"Delimiter should not be provided when delimWhitespace is true."),this.delimWhitespace=!0,this.delimiter=" "):this.delimiter=n.delimiter?n.delimiter:","}async iterator(){this.columnNamesValidated||await this.setColumnNames();let e=await this.base.iterator();return this.hasHeader&&(e=e.skip(1)),e.map(n=>this.makeDataElement(n))}makeDataElement(e){const n=this.parseRow(e),s={},r={};for(let a=0;a<this.fullColumnNames.length;a++){const o=this.fullColumnNames[a],i=this.columnConfigs?this.columnConfigs[o]:null;if(!(this.configuredColumnsOnly&&!i)){const l=n[a];let u=null;if(l==="")if(i&&i.default!==void 0)u=i.default;else{if(i&&(i.required||i.isLabel))throw new Error(`Required column ${o} is empty in this line: ${e}`);u=void 0}else{const c=Number(l);if(isNaN(c))i&&i.dtype==="bool"?u=this.getBoolean(l):u=l;else if(!i||!i.dtype)u=c;else switch(i.dtype){case"float32":u=c;break;case"int32":u=Math.floor(c);break;case"bool":u=this.getBoolean(l);break;default:u=c}}i&&i.isLabel?r[o]=u:s[o]=u}}return Object.keys(r).length===0?s:{xs:s,ys:r}}getBoolean(e){return e==="1"||e.toLowerCase()==="true"?1:0}parseRow(e,n=!0){const s=[];let r=0;const a=e.length;let o=Vg;for(let i=0;i<a;i++)switch(o){case Vg:switch(e.charAt(i)){case t_:r=i+1,o=n_;break;case this.delimiter:if(r=i+1,this.delimiter===" "&&this.delimWhitespace)break;s.push(""),o=Vg;break;default:o=sM,r=i;break}break;case sM:switch(e.charAt(i)){case this.delimiter:s.push(e.substring(r,i)),o=Vg,r=i+1;break}break;case n_:switch(e.charAt(i)){case t_:o=AC;break}break;case AC:switch(e.charAt(i)){case this.delimiter:s.push(e.substring(r,i-1)),o=Vg,r=i+1;break;case t_:o=n_;break;default:o=rM;break}break;case rM:switch(e.charAt(i)){case t_:o=n_;break}break}if(o===AC?s.push(e.substring(r,a-1)):s.push(e.substring(r)),n&&s.length!==this.fullColumnNames.length)throw new Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${s}`);return s}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class bA extends zr{constructor(e){super(),this.microphoneConfig=e,this.isClosed=!1,this.fftSize=e.fftSize||1024;const n=Math.log2(this.fftSize);if(this.fftSize<0||n<4||n>14||!Number.isInteger(n))throw new Error(`Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ${this.fftSize}`);if(this.numFrames=e.numFramesPerSpectrogram||43,this.sampleRateHz=e.sampleRateHz,this.columnTruncateLength=e.columnTruncateLength||this.fftSize,this.audioTrackConstraints=e.audioTrackConstraints,this.smoothingTimeConstant=e.smoothingTimeConstant||0,this.includeSpectrogram=e.includeSpectrogram!==!1,this.includeWaveform=e.includeWaveform===!0,!this.includeSpectrogram&&!this.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.")}summary(){return"microphone"}static async create(e={}){if(!ze().get("IS_BROWSER"))throw new Error("microphone API is only supported in browser environment.");const n=new bA(e);return await n.start(),n}async start(){try{this.stream=await navigator.mediaDevices.getUserMedia({audio:this.audioTrackConstraints==null?!0:this.audioTrackConstraints,video:!1})}catch(s){throw new Error(`Error thrown while initializing video stream: ${s.message}`)}if(!this.stream)throw new Error("Could not obtain audio from microphone.");const e=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new e,!this.sampleRateHz)this.sampleRateHz=this.audioContext.sampleRate;else if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error(`Mismatch in sampling rate: Expected: ${this.sampleRateHz}; Actual: ${this.audioContext.sampleRate}`);const n=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=this.fftSize*2,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}async next(){if(this.isClosed)return{value:null,done:!0};let e,n;const s=await this.getAudioData();if(this.includeSpectrogram){const r=this.flattenQueue(s.freqDataQueue);e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){const r=this.flattenQueue(s.timeDataQueue);n=this.getTensorFromAudioDataArray(r,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:e,waveform:n},done:!1}}async capture(){return(await this.next()).value}async getAudioData(){const e=[],n=[];let s=0;return new Promise(r=>{const a=setInterval(()=>{this.includeSpectrogram&&(this.analyser.getFloatFrequencyData(this.freqData),this.freqData[0]===-1/0&&r({freqDataQueue:e,timeDataQueue:n}),e.push(this.freqData.slice(0,this.columnTruncateLength))),this.includeWaveform&&(this.analyser.getFloatTimeDomainData(this.timeData),n.push(this.timeData.slice())),++s===this.numFrames&&(clearInterval(a),r({freqDataQueue:e,timeDataQueue:n}))},this.fftSize/this.sampleRateHz*1e3)})}stop(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),this.stream!=null&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}toArray(){throw new Error("Can not convert infinite audio stream to array.")}getSampleRate(){return this.sampleRateHz}flattenQueue(e){const n=e[0].length,s=new Float32Array(e.length*n);return e.forEach((r,a)=>s.set(r,a*n)),s}getTensorFromAudioDataArray(e,n){const s=new Float32Array(tt(n));return s.set(e,s.length-e.length),xo(s,n)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class _A extends zr{constructor(e,n){if(super(),this.webcamVideoElement=e,this.webcamConfig=n,this.isClosed=!0,this.resize=!1,this.needToResize())if(this.resize=!0,this.cropSize=[this.webcamConfig.resizeHeight,this.webcamConfig.resizeWidth],this.cropBoxInd=Zr([0],"int32"),this.webcamConfig.centerCrop){const s=this.webcamConfig.resizeWidth*1/this.webcamVideoElement.width,r=this.webcamConfig.resizeHeight*1/this.webcamVideoElement.height,a=(1-s)/2,o=(1-r)/2,i=a+s,l=r+o;this.cropBox=jc([o,a,l,i],[1,4])}else this.cropBox=jc([0,0,1,1],[1,4])}summary(){return"webcam"}static async create(e,n={}){if(!ze().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!n.resizeWidth||!n.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=n.resizeWidth,e.height=n.resizeHeight}const s=new _A(e,n);return await s.start(),s}async start(){this.webcamConfig.facingMode&&ae(this.webcamConfig.facingMode==="user"||this.webcamConfig.facingMode==="environment",()=>`Invalid webcam facing mode: ${this.webcamConfig.facingMode}. Please provide 'user' or 'environment'`);try{this.stream=await navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(e){throw e.message=`Error thrown while initializing video stream: ${e.message}`,e}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(e){console.log(e),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise(e=>{this.webcamVideoElement.onloadedmetadata=()=>{e()}})}async next(){if(this.isClosed)return{value:null,done:!0};let e;try{e=jq(this.webcamVideoElement)}catch(n){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(n)}`)}if(this.resize)try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(n){throw new Error(`Error thrown cropping the video: ${n.message}`)}finally{e.dispose()}else return{value:e,done:!1}}needToResize(){return!!(this.webcamConfig.resizeWidth&&this.webcamConfig.resizeHeight&&(this.webcamVideoElement.width!==this.webcamConfig.resizeWidth||this.webcamVideoElement.height!==this.webcamConfig.resizeHeight))}cropAndResizeFrame(e){return Ve(()=>{const n=Kr(Nt(e,"float32"),0);let s;s=Ci.cropAndResize(n,this.cropBox,this.cropBoxInd,this.cropSize,"bilinear");const r=s.shape;return Ne(s,r.slice(1))})}async capture(){return(await this.next()).value}stop(){this.stream.getTracks().forEach(n=>n.stop());try{this.webcamVideoElement.srcObject=null}catch(n){console.log(n),this.webcamVideoElement.src=null}this.isClosed=!0}toArray(){throw new Error("Can not convert infinite video stream to array.")}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class eY{}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class tY extends zr{split(e){return new n8t(this,e)}}class n8t extends tY{constructor(e,n){super(),this.upstream=e,this.impl=new s8t(e,n)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class s8t extends yA{constructor(e,n){super(),this.upstream=e,this.separator=n,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const e=await this.upstream.next();if(e.done)return this.carryover===""?!1:(this.outputQueue.push(this.carryover),this.carryover="",!0);const n=e.value.split(this.separator);n[0]=this.carryover+n[0];for(const s of n.slice(0,-1))this.outputQueue.push(s);return this.carryover=n[n.length-1],!0}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class r8t extends zr{decodeUTF8(){return new a8t(this)}}class a8t extends tY{constructor(e){super(),this.upstream=e,this.impl=new o8t(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class o8t extends yA{constructor(e){if(super(),this.upstream=e,ze().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{const{StringDecoder:n}=require("string_decoder");this.decoder=new n("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){const e=await this.upstream.next();let n;if(e.done)return!1;n=e.value;let s;return ze().get("IS_BROWSER")?s=this.decoder.decode(n,{stream:!0}):s=this.decoder.write(Buffer.from(n.buffer)),this.outputQueue.push(s),!0}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class nY extends r8t{constructor(e,n={}){super(),this.file=e,this.options=n,ae(e instanceof Uint8Array||(ze().get("IS_BROWSER")?e instanceof File||e instanceof Blob:!1),()=>"FileChunkIterator only supports File, Blob and Uint8Array right now."),this.offset=n.offset||0,this.chunkSize=n.chunkSize||1024*1024}summary(){return`FileChunks ${this.file}`}async next(){return this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size)?{value:null,done:!0}:{value:await new Promise((n,s)=>{const r=this.offset+this.chunkSize;if(this.file instanceof Uint8Array)n(new Uint8Array(this.file.slice(this.offset,r)));else{const a=new FileReader;a.onload=i=>{let l=a.result;if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),!(l instanceof Uint8Array))return s(new TypeError("FileReader returned unknown type."));n(l)},a.onabort=i=>s(new Error("Aborted")),a.onerror=i=>s(new Error(i.type));const o=this.file.slice(this.offset,r);a.readAsArrayBuffer(o)}this.offset=r}),done:!1}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */async function i8t(t,e={},n){let s,r;typeof t=="string"?s=t:(s=t.url,r=l8t(t));const a=await(n||cG)(s,r);if(a.ok){const o=new Uint8Array(await a.arrayBuffer());return new nY(o,e)}else throw new Error(a.statusText)}const l8t=t=>({method:t.method,headers:t.headers,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function sY(t){return typeof t=="string"&&t.slice(0,7)==="file://"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class rY extends eY{constructor(e,n={}){super(),this.input=e,this.options=n}async iterator(){if(sY(this.input)&&ze().get("IS_NODE")){const e=require("fs");this.input=e.readFileSync(this.input.slice(7))}return new nY(this.input,this.options)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */class aY extends eY{constructor(e,n={}){super(),this.url=e,this.fileOptions=n}async iterator(){return sY(this.url)?new rY(this.url,this.fileOptions).iterator():i8t(this.url,this.fileOptions)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */function u8t(t,e={}){return new JX(new aY(t),e)}function c8t(t){const e=vA(t);return co(async()=>e)}function d8t(t){return co(async()=>{const e=await t();return vA(()=>e.next())})}async function h8t(t,e){return _A.create(t,e)}async function f8t(t){return bA.create(t)}/** @license See the LICENSE file. */const oY="4.11.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p8t=Object.freeze(Object.defineProperty({__proto__:null,CSVDataset:JX,Dataset:Ym,FileDataSource:rY,TextLineDataset:ZX,URLDataSource:aY,array:Zxt,csv:u8t,func:c8t,generator:d8t,microphone:f8t,version_data:oY,webcam:h8t,zip:Jxt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jt(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ae(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m8t=rx;class jy extends xw{nextDataId(){return jy.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new IE(this,qi())}write(e,n,s){this.firstUse&&(this.firstUse=!1,ze().get("IS_NODE")&&zo(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:s,refCount:1}),r}makeTensorInfo(e,n,s){let r;if(n==="string"&&s!=null&&s.length>0&&Dl(s[0])){const a=s.map(o=>Bl(o));r=this.write(a,e,n)}else r=this.write(s,e,n);return{dataId:r,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,s,r,a){this.data.set(e,{values:n,dtype:r,refCount:a})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:s}=this.data.get(e);if(n==="complex64"){const r=this.readSync(s.real.dataId),a=this.readSync(s.imag.dataId);return ju(r,a)}return Kj(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const s=n.map(r=>zu(r));return En(e.shape,e.dtype,s)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return En(e.shape,e.dtype,n)}makeOutput(e,n,s){return qi().makeTensorFromTensorInfo(this.makeTensorInfo(n,s,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:s}=this.data.get(e);s!=null&&(this.disposeData(s.real.dataId,!0),this.disposeData(s.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=qr();return e(),{kernelMs:qr()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){Jt([e],"where");const n=this.readSync(e.dataId);return m8t(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}jy.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iY(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const g8t=t=>{const{x:e}=t.inputs,n=t.backend;Jt(e,"abs");let s=new Float32Array(tt(e.shape));const r=n.data.get(e.dataId).values;return s=iY(r),n.makeOutput(s,e.shape,e.dtype)},v8t={kernelName:cv,backendName:"cpu",kernelFunc:g8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cr(t){return(e,n,s,r,a)=>{const o=wn(e,n),i=o.length,l=sn(o),u=tt(o),c=Br(a,u),d=e.length,h=n.length,f=sn(e),p=sn(n),m=Uh(e,o),y=Uh(n,o);if(m.length+y.length===0)for(let v=0;v<c.length;++v)c[v]=t(s[v%s.length],r[v%r.length]);else for(let v=0;v<c.length;++v){const b=pf(v,i,l),w=b.slice(-d);m.forEach(T=>w[T]=0);const _=tl(w,d,f),C=b.slice(-h);y.forEach(T=>C[T]=0);const x=tl(C,h,p);c[v]=t(s[_],r[x])}return[c,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mo(t){const{inputs:e,backend:n}=t,{real:s,imag:r}=e,a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values,i=n.makeTensorInfo(s.shape,"complex64"),l=n.data.get(i.dataId);return l.complexTensorInfos={real:n.makeTensorInfo(s.shape,"float32",a),imag:n.makeTensorInfo(r.shape,"float32",o)},i}const y8t={kernelName:Aw,backendName:"cpu",kernelFunc:mo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y3(t,e,n="float32"){if(n==="complex64"){const r=Y3(t,e,"float32"),a=Y3(t,e,"float32");return mo({inputs:{real:r,imag:a},backend:t})}const s=ea(tt(e),n);return t.makeTensorInfo(e,n,s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nu(t){const{inputs:e,backend:n}=t,{x:s}=e;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const b8t={kernelName:lm,backendName:"cpu",kernelFunc:nu};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yh(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.data.get(s.dataId).complexTensorInfos.real,a=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,a)}const _8t={kernelName:c6,backendName:"cpu",kernelFunc:Yh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lY(t,e,n,s){if(s==="int32"){const r=Int32Array.from(t);return[e,"int32",r]}if(s==="bool"){const r=_d([0],n),[a,o]=cr((i,l)=>i!==l?1:0)(e,[],t,r,"bool");return[o,"bool",a]}throw new Error(`Error in Cast: failed to cast ${n} to ${s}`)}function cd(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dtype:a}=s;if(a==="complex64"){if(r.dtype==="complex64")return nu({inputs:{x:r},backend:n});const c=Y3(n,r.shape,r.dtype),d=cd({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),h=mo({inputs:{real:d,imag:c},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),h}if(r.dtype==="complex64"){const c=Yh({inputs:{input:r},backend:n}),d=cd({inputs:{x:c},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(c),d}if(!DE(r.dtype,a)){const c=nu({inputs:{x:r},backend:n});return{dataId:c.dataId,shape:c.shape,dtype:a}}const o=n.data.get(r.dataId).values,[i,l,u]=lY(o,r.shape,r.dtype,a);return n.makeTensorInfo(i,l,u)}const w8t={kernelName:X0,backendName:"cpu",kernelFunc:cd};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nr(t,e,n,s){return n==null?({inputs:r,backend:a})=>{const{a:o,b:i}=r,l=a;Jt([o,i],t);const u=l.data.get(o.dataId).values,c=l.data.get(i.dataId).values,d=o.dtype==="string"?Gu(u):u,h=o.dtype==="string"?Gu(c):c,f=s||o.dtype,[p,m]=e(o.shape,i.shape,d,h,f);return l.makeTensorInfo(m,f,p)}:({inputs:r,backend:a})=>{const{a:o,b:i}=r,l=a;if(o.dtype==="complex64"||i.dtype==="complex64"){const u=cd({inputs:{x:o},backend:l,attrs:{dtype:"complex64"}}),c=l.data.get(u.dataId),d=c.complexTensorInfos.real,h=c.complexTensorInfos.imag,f=l.data.get(d.dataId).values,p=l.data.get(h.dataId).values,m=cd({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),y=l.data.get(m.dataId),v=y.complexTensorInfos.real,b=y.complexTensorInfos.imag,w=l.data.get(v.dataId).values,_=l.data.get(b.dataId).values,[C,x,T]=n(o.shape,i.shape,f,p,w,_),k=l.makeTensorInfo(T,"float32",C),N=l.makeTensorInfo(T,"float32",x),O=mo({inputs:{real:k,imag:N},backend:l});return l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(m),l.disposeIntermediateTensorInfo(k),l.disposeIntermediateTensorInfo(N),O}else{const u=l.data.get(o.dataId).values,c=l.data.get(i.dataId).values,d=s||o.dtype,[h,f]=e(o.shape,i.shape,u,c,d);return l.makeTensorInfo(f,d,h)}}}function wA(t){return(e,n,s,r,a,o)=>{const i=wn(e,n),l=tt(i),u=i.length,c=sn(i),d=Br("float32",l),h=Br("float32",l),f=Uh(e,i),p=Uh(n,i),m=ju(s,r),y=ju(a,o),v=e.length,b=sn(e),w=n.length,_=sn(n);if(f.length+p.length===0)for(let C=0;C<d.length;C++){const x=C%m.length,T=C%y.length,k=t(m[x*2],m[x*2+1],y[T*2],y[T*2+1]);d[C]=k.real,h[C]=k.imag}else for(let C=0;C<d.length;C++){const x=pf(C,u,c),T=x.slice(-v);f.forEach(V=>T[V]=0);const k=tl(T,v,b),N=x.slice(-w);p.forEach(V=>N[V]=0);const O=tl(N,w,_),L=t(m[k*2],m[k*2+1],y[O*2],y[O*2+1]);d[C]=L.real,h[C]=L.imag}return[d,h,i]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uY=cr((t,e)=>t+e),x8t=wA((t,e,n,s)=>({real:t+n,imag:e+s})),g0=Nr(mf,uY,x8t),C8t={kernelName:mf,backendName:"cpu",kernelFunc:g0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xA(t,e,n,s,r){const a=tt(s),o=ea(r,n);for(let i=0;i<t.length;i++){const l=t[i];if(l<0)throw new Error("Input x must be non-negative!");l>=r||(a>0?o[l]+=e[i]:o[l]+=1)}return o}function cY(t,e,n,s=!1){const r=t.shape[0],a=t.shape[1],o=En([r,n],e.dtype);for(let i=0;i<r;i++)for(let l=0;l<a;l++){const u=t.get(i,l);if(u<0)throw new Error("Input x must be non-negative!");u>=n||(s?o.set(1,i,u):e.size>0?o.set(o.get(i,u)+e.get(i,l),i,u):o.set(o.get(i,u)+1,i,u))}return o}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dY=cr((t,e)=>t&e),S8t=Nr(yv,dY),T8t={kernelName:yv,backendName:"cpu",kernelFunc:S8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hu(t){return(e,n,s)=>{const r=Zs(n,e.length);for(let a=0;a<e.length;++a)r[a]=t(e[a],s);return r}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function as(t,e,n){const s=hu(e);return Ed(t,s,n)}function Ed(t,e,n){return({inputs:s,attrs:r,backend:a})=>{const{x:o}=s;Jt(o,t);const i=a,l=i.data.get(o.dataId).values;let u;if(o.dtype==="string"){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=Gu(l)}else u=l;const c=n||o.dtype,d=e(u,c,r);return i.makeTensorInfo(o.shape,c,d)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hY=hu(t=>Math.ceil(t)),k8t=Ed(Y0,hY),$8t={kernelName:Y0,backendName:"cpu",kernelFunc:k8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fY(t,e,n,s){const r=Zs(n,tt(e));if(s&&n!=="string"){let a=0;t.forEach(o=>{const i=tt(o.shape);r.set(o.vals,a),a+=i})}else{let a=0;t.forEach(o=>{const i=n==="string"?Gu(o.vals):o.vals;let l=0;for(let u=0;u<o.shape[0];++u){const c=u*e[1]+a;for(let d=0;d<o.shape[1];++d)r[c+d]=i[l++]}a+=o.shape[1]})}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pY=cr((t,e)=>t===e?1:0),mY=Nr($v,pY,null,"bool"),E8t={kernelName:$v,backendName:"cpu",kernelFunc:mY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gY=hu(t=>Math.exp(t)),vY=Ed(sm,gY,"float32"),I8t={kernelName:sm,backendName:"cpu",kernelFunc:vY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yY=hu(t=>Math.expm1(t)),N8t=Ed(rm,yY),A8t={kernelName:rm,backendName:"cpu",kernelFunc:N8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bY=hu(t=>Math.floor(t)),D8t=Ed(am,bY),O8t={kernelName:am,backendName:"cpu",kernelFunc:D8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Y=cr((t,e)=>Math.floor(t/e)),R8t=Nr(om,_Y,null,"int32"),L8t={kernelName:om,backendName:"cpu",kernelFunc:R8t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wY(t,e,n,s,r,a,o,i,l){const u=En([s,a],n);for(let c=0;c<s;c++){const d=[];let h=0;for(let f=0;f<r;f++){const p=t[c*r+f];h+=p*o[f],d.push(p)}if(h<0||h>=l/a)throw new Error(`Invalid indices: ${d} does not index into ${i}`);for(let f=0;f<a;f++)u.values[c*a+f]=e.get(...e.indexToLoc(h*a+f))}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xY(t,e,n){const s=En(n,t.dtype);for(let r=0;r<s.size;++r){const o=s.indexToLoc(r).slice(),i=o[0],l=o[2],u=e.locToIndex([i,l]);o[2]=e.values[u];const c=t.locToIndex(o);0<=c&&c<t.values.length&&(s.values[r]=t.values[c])}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CY=cr((t,e)=>t>e?1:0),P8t=Nr(Av,CY,null,"bool"),M8t={kernelName:Av,backendName:"cpu",kernelFunc:P8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SY=cr((t,e)=>t>=e?1:0),F8t=Nr(im,SY,null,"bool"),B8t={kernelName:im,backendName:"cpu",kernelFunc:F8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TY=cr((t,e)=>t<e?1:0),z8t=Nr(Ov,TY,null,"bool"),V8t={kernelName:Ov,backendName:"cpu",kernelFunc:z8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kY=cr((t,e)=>t<=e?1:0),H8t=Nr(Rv,kY,null,"bool"),U8t={kernelName:Rv,backendName:"cpu",kernelFunc:H8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Y(t,e,n){const s=(e-t)/(n-1),r=ea(n,"float32");r[0]=t;for(let a=1;a<r.length;a++)r[a]=r[a-1]+s;return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EY=hu(t=>Math.log(t)),W8t=Ed(hm,EY),j8t={kernelName:hm,backendName:"cpu",kernelFunc:W8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IY(t,e,n,s){const r=Br(s,tt(n));for(let a=0;a<r.length;++a){const o=a*e;let i=t[o];for(let l=0;l<e;++l){const u=t[o+l];(Number.isNaN(u)||u>i)&&(i=u)}r[a]=i}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NY=cr((t,e)=>Math.max(t,e)),G8t=Nr(pm,NY),q8t={kernelName:pm,backendName:"cpu",kernelFunc:G8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AY=cr((t,e)=>Math.min(t,e)),K8t=Nr(mm,AY),X8t={kernelName:mm,backendName:"cpu",kernelFunc:K8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CA=cr((t,e)=>t*e),Y8t=wA((t,e,n,s)=>({real:t*n-e*s,imag:t*s+e*n})),zx=Nr(vm,CA,Y8t),Q8t={kernelName:vm,backendName:"cpu",kernelFunc:zx};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DY(t,e,n){const s=rc(-1,n);return CA([],e,s,t,n)}function Z8t(t){const{inputs:e,backend:n}=t,{x:s}=e;Jt(s,"neg");const r=n.data.get(s.dataId).values,[a,o]=DY(r,s.shape,s.dtype);return n.makeTensorInfo(o,s.dtype,a)}const J8t={kernelName:jv,backendName:"cpu",kernelFunc:Z8t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OY=cr((t,e)=>t!==e?1:0),eCt=Nr(Gv,OY,null,"bool"),tCt={kernelName:Gv,backendName:"cpu",kernelFunc:eCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SA(t,e,n,s,r){const a=e.length,o=tt(e),i=sn(e),l=sn(r),u=Br(n,tt(r));for(let c=0;c<o;++c){const d=pf(c,a,i),h=new Array(d.length);for(let p=0;p<h.length;p++)h[p]=d[s[p]];const f=tl(h,a,l);u[f]=t[c]}return u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ro(t){const{inputs:e,attrs:n,backend:s}=t,{x:r}=e,{perm:a}=n;Jt(r,"transpose");const o=r.shape.length,i=new Array(o);for(let d=0;d<i.length;d++)i[d]=r.shape[a[d]];const l=s.data.get(r.dataId).values,u=SA(l,r.shape,r.dtype,a,i);return{dataId:s.write(u,i,r.dtype),shape:i,dtype:r.dtype}}const nCt={kernelName:_h,backendName:"cpu",kernelFunc:ro};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RY(t,e,n,s){const[r,a]=Hr(t,s),o=Ja(e,"int32"),i=ea(tt(r),o),l=tt(a);for(let u=0;u<i.length;++u){const c=u*l;let d=1;for(let h=0;h<l;++h)d*=n[c+h];i[u]=d}return{outVals:i,outShape:r,outDtype:o}}function sCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s;Jt(r,"prod");const i=r.shape.length,l=Rn(a,r.shape),u=Ys(l,i);let c=l,d=r;const h=[];u!=null&&(d=ro({inputs:{x:r},backend:n,attrs:{perm:u}}),h.push(d),c=lr(c.length,i));const f=n.data.get(d.dataId).values,{outVals:p,outShape:m,outDtype:y}=RY(d.shape,d.dtype,f,c);let v=m;return o&&(v=ir(m,l)),h.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(v,y,p)}const rCt={kernelName:Zv,backendName:"cpu",kernelFunc:sCt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aCt(t,e,n){t.forEach((s,r)=>{if(s<0||s>=n){const a=pf(r,e.length,sn(e)).join(",");throw new Error(`indices[${a}] = ${s} is not in [0, ${n})`)}})}function oCt(t,e){for(let n=0;n<t.length;++n){const s=t[n],r=n===t.length-1?e:t[n+1].length;if(s.length===0)throw new Error("Ragged splits may not be empty");if(s[0]<0)throw new Error("Ragged splits must be non-negative");if(s[s.length-1]>r)throw new Error("Ragged splits must not point past values");for(let a=1;a<s.length;++a)if(s[a-1]>s[a])throw new Error("Ragged splits must be sorted in ascending order")}}function iCt(t,e,n,s){const r=[];let a=0;const o=e.length-1+n.length,i=new Array(o).fill(null).map(()=>[0]);oCt(n,s);let l=1;for(let u=0;u<e.length-1;++u){l*=e[u];const c=e[u+1];for(let d=1;d<l+1;++d)i[u].push(d*c)}for(let u=0;u<t.length;++u){let c=t[u],d=t[u]+1;for(let h=0;h<n.length;++h){const f=n[h],p=h+e.length-1;if(p>=0){const m=i[p],y=m[m.length-1]-f[c];for(let v=c;v<d;++v)i[p].push(f[v+1]+y)}c=f[c],d=f[d]}d!==c&&(r.push([c,d]),a+=d-c)}return{outSplits:i,valueSlices:r,numValues:a}}function lCt(t){const e=[];for(let n=0;n<t.length;++n){const s=t[n].length,r=Zs("int32",s);e.push(r),t[n].forEach((a,o)=>r[o]=a)}return e}function aM(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let s=e;s<t.length;s++)n[e-1]*=t[s];return n}function uCt(t,e,n,s,r,a){const o=aM(e,2)[1],i=aM(a,2)[1];let l=0;for(const u of n)for(let c=u[0];c<u[1];++c){for(let d=0;d<s;++d)r[l*i+d]=t[c*o+d];++l}}function cCt(t,e,n,s,r){const a=e.slice();a[0]=r;const o=Zs(n,tt(a)),i=t.length,l=i===0?0:i/e[0];return uCt(t,e,s,l,o,a),[o,a]}function LY(t,e,n,s,r,a,o,i){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const l=e[0][0]-1;if(aCt(a,o,l),s.length===0)throw new Error("params.rank must be nonzero");const u=s[0],{outSplits:c,valueSlices:d,numValues:h}=iCt(a,o,t,u),f=lCt(c),p=cCt(n,s,r,d,h);return[f,p[0],p[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oM=2147483647;function PY(t,e,n,s,r,a,o){if(e.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const i=e.length===0,l=r.length===0,u=o.length===0,c=[];i||c.push(e[0]),l||c.push(r[0]),u||c.push(o[0]);for(let y=1;y<c.length;++y)if(c[y]!==c[y-1])throw new Error("starts, limits, and deltas must have the same shape");const d=c.length===0?1:c[0],h=Zs("int32",d+1);h[0]=0;for(let y=0;y<d;++y){const v=i?t[0]:t[y],b=l?s[0]:s[y],w=u?a[0]:a[y];if(w===0)throw new Error("Requires delta != 0");let _;if(w>0&&b<v||w<0&&b>v)_=0;else if(_=Math.ceil(Math.abs((b-v)/w)),_>oM)throw new Error(`Requires ((limit - start) / delta) <= ${oM}`);h[y+1]=h[y]+_}const f=h[d],p=Zs(n,f);let m=0;for(let y=0;y<d;++y){const v=h[y+1]-h[y];let b=i?t[0]:t[y];const w=u?a[0]:a[y];for(let _=0;_<v;++_)p[m++]=b,b+=w}return[h,p]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ai=Xi;class Q3{constructor(e,n,s,r,a,o,i,l,u,c){this.shape=e,this.shapeShape=n,this.values=s,this.valuesShape=r,this.valuesDType=a,this.defaultValue=o,this.defaultValueShape=i,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=rK(c),this.raggedRank=aK(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===ai.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===ai.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case ai.VALUE_ROWIDS:return Q3.getMaxWidthValueRowID(n);case ai.ROW_SPLITS:return Q3.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${ai[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let s=0;for(let r=0;r<n-1;++r){const a=e[r+1]-e[r];a>s&&(s=a)}return s}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let s=0,r=e[0],a=0;for(let o=1;o<n;++o){const i=e[o];i!==r&&(r=i,a=Math.max(o-s,a),s=o)}return Math.max(n-s,a)}tensorShapeFromTensor(e,n,s=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return lM(e,s)}calculateOutputSize(e){const n=this.valuesShape,s=this.defaultValueShape;oK(s,n);const r=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=sK(this.raggedRank,r,n);o[0]<0&&(o[0]=e);for(let i=1;i<=this.raggedRank;++i)o[i]<0&&(o[i]=this.getMaxWidth(i));return o}calculateFirstParentOutputIndex(e,n,s){const r=Math.min(e,s),a=[];let o=0;for(let i=0;i<r;++i,o+=n)a.push(o);for(let i=r;i<e;++i)a.push(-1);return ae(a.length===e,()=>"Final length of result must be equal to firstDimension."),a}calculateOutputIndexRowSplit(e,n,s,r){const a=e.length,o=[];for(let i=0;i<a-1;++i){const l=e[i+1]-e[i];let u=Math.min(r,l),c=n[i];c===-1&&(u=0);for(let d=0;d<u;++d)o.push(c),c+=s;for(let d=0;d<l-u;++d)o.push(-1)}if(a>0&&o.length!==e[a-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,n,s,r){const a=e.length,o=[];if(a===0)return[];let i=0,l=e[0];if(l>=n.length)throw new Error(`Got currentValueRowId=${l}, which is not less than ${n.length}`);let u=n[l];o.push(u);for(let c=1;c<a;++c){const d=e[c];if(d===l)u>=0&&(++i,i<r?u+=s:u=-1);else{if(i=0,l=d,d>=n.length)throw new Error(`Got nextValueRowId=${d} which is not less than ${n.length}`);u=n[d]}o.push(u)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,n,s,r){const a=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case ai.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,n,s,r);case ai.ROW_SPLITS:if(a.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(a,n,s,r);default:throw new Error(`Unsupported partition type: ${ai[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case ai.FIRST_DIM_SIZE:return e[0];case ai.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case ai.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${ai[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),s=this.calculateOutputSize(n),r=new Array(this.raggedRank+1);r[r.length-1]=1;for(let l=r.length-2;l>=0;--l)r[l]=r[l+1]*s[l+1];const a=lM(s,!1),o=Zs(this.valuesDType,tt(a));if(r[0]*s[0]>0){let l=this.calculateFirstParentOutputIndex(n,r[0],s[0]);for(let u=1;u<=this.raggedRank;++u)l=this.calculateOutputIndex(u-1,l,r[u],s[u]);this.setOutput(this.raggedRank,l,o,a)}return[a,o]}setOutput(e,n,s,r){if(s.length===0)return;const a=this.values,o=s;let i=r.slice();i=i.slice(e+1);const l=tt(i),u=n.length;let c=this.defaultValue;if(c.length!==l&&c.length!==1){const p=this.defaultValueShape;Ve(()=>{const m=Ne(c,p);c=wh(m,i).dataSync()})}let d=0,h=0,f=0;for(let p=0;p<=u;++p){let m=p<u?n[p]:-1;if(m===f){++f;continue}if(h<f){const y=a.subarray(d*l),v=o.subarray(h*l),b=(f-h)*l;iM(v,y,b)}if(p>=u){const y=s.length;m=Math.floor(y/l)}if(m>f)if(this.defaultValue.length===1)o.subarray(f*l,m*l).fill(this.defaultValue[0]),f=m;else for(;m>f;){const y=o.slice(f*l);iM(y,c,l),++f}m<0?(d=p+1,h=f):(d=p,h=f,f=h+1)}}}function iM(t,e,n){for(let s=0;s<n;s++)t[s]=e[s]}function lM(t,e){const n=[];for(let s of t){if(s<0){if(!e)throw new Error(`Dimension ${s} must be >= 0`);if(s<-1)throw new Error(`Dimension ${s} must be >= -1`);s=-1}n.push(s)}return n}function MY(t,e,n,s,r,a,o,i,l,u){return new Q3(t,e,n,s,r,a,o,i,l,u).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FY(t,e,n,s){const r=t===e,a=t<e&&n<0,o=e<t&&n>1;if(r||a||o)return ea(0,s);const i=Math.abs(Math.ceil((e-t)/n)),l=ea(i,s);e<t&&n===1&&(n=-1),l[0]=t;for(let u=1;u<l.length;u++)l[u]=l[u-1]+n;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BY=hu(t=>1/Math.sqrt(t)),dCt=Ed(Cm,BY),hCt={kernelName:Cm,backendName:"cpu",kernelFunc:dCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fh(t,e,n,s,r,a,o,i,l,u){const c=[s/r,r],d=t.values,h=e.values;if(s===0)return En(n,e.dtype);const f=l instanceof yr?l:En(c,e.dtype);typeof l=="string"||typeof l=="number"?f.values.fill(l):typeof l=="boolean"&&f.values.fill(+l);for(let p=0;p<a;p++){const m=[];let y=0;for(let v=0;v<o;v++){const b=d[p*o+v];m.push(b),y+=b*i[v]}if(y<0||y>=s/r)throw new Error(`Invalid indices: ${m} does not index into ${n}`);for(let v=0;v<r;v++)u?f.values[y*r+v]+=h[p*r+v]:f.values[y*r+v]=e.rank===0?h[0]:h[p*r+v]}return f}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fCt=hu(t=>1/(1+Math.exp(-t))),zY=as(Em,t=>1/(1+Math.exp(-t))),pCt={kernelName:Em,backendName:"cpu",kernelFunc:zY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VY(t,e,n,s,r){const a=gN(s,e,n),o=tt(n),i=sn(s);if(a){const d=vN(e,i);return r==="string"?t.slice(d,d+o):t.subarray(d,d+o)}const l=r==="string"?Gu(t):t,u=En(s,r,l),c=En(n,r);for(let d=0;d<c.size;++d){const h=c.indexToLoc(d),f=h.map((p,m)=>p+e[m]);c.set(u.get(...f),...h)}return r==="string"?kK(c.values):c.values}function Qh(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:a,size:o}=s;Jt(r,"slice");const[i,l]=mx(r,a,o);pN(r,i,l);const u=n.data.get(r.dataId).values,c=VY(u,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,c)}const mCt={kernelName:ry,backendName:"cpu",kernelFunc:Qh};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HY(t,e,n,s,r,a,o){const i=e[0],l=a[0],u=new Array(l),c=new Array(i),d=e[1];if(l===0){if(i!==0)throw new Error(fK(i));const y=Zs(n,0),v=Zs(r,0);return[y,[0,d],v,u,c]}let h=!0,f=0;const p=new Array(l).fill(0);for(let y=0;y<i;++y){const v=t[y*d];if(v<0)throw new Error(pK(y,v));if(v>=l)throw new Error(mK(y,v,l));++p[v],h=h&&v>=f,f=v}let m=!0;for(let y=0;y<l;++y){const v=p[y]===0;u[y]=v,m=m&&!v,p[y]=Math.max(p[y],1),y>0&&(p[y]+=p[y-1])}if(m&&h){const y=t,v=s;for(let b=0;b<i;++b)c[b]=b;return[y,[i,d],v,u,c]}else{const y=p[l-1],v=Zs(n,y*d),b=Zs(r,y),w=new Array(l).fill(0);for(let _=0;_<i;++_){const C=t[_*d],x=w[C],T=(C===0?0:p[C-1])+x;w[C]++;for(let k=0;k<d;++k)v[T*d+k]=t[_*d+k];b[T]=s[_],c[_]=T}for(let _=0;_<l;++_)if(w[_]===0){const x=_===0?0:p[_-1];v[x*d+0]=_;for(let T=1;T<d;++T)v[x*d+T]=0;b[x]=o}return[v,[y,d],b,u,c]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UY(t,e,n,s,r){const a=tt(s),o=e[0],i=r.length,l=[];let u=1,c=-1;for(let y=0;y<i;++y){const v=r[y];if(v===-1){if(c!==-1)throw new Error(gK(c,y));c=y,l.push(1)}else{if(v<0)throw new Error(vK(y,v));u*=v,l.push(v)}}if(c!==-1){if(u<=0)throw new Error(yK());const y=Math.trunc(a/u);if(u*y!==a)throw new Error(bK(s,l));l[c]=y}if(tt(l)!==a)throw new Error(_K(s,l));const h=s.length,f=[];if(h>0){f[h-1]=1;for(let y=h-2;y>=0;--y)f[y]=f[y+1]*s[y+1]}const p=[];if(i>0){p[i-1]=1;for(let y=i-2;y>=0;--y)p[y]=p[y+1]*l[y+1]}const m=Zs(n,o*i);for(let y=0;y<o;++y){let v=0;for(let b=0;b<h;++b)v+=t[y*h+b]*f[b];for(let b=0;b<i;++b)m[y*i+b]=Math.trunc(v/p[b]),v%=p[b]}return[m,[o,i],l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TA(t,e,n,s,r,a=!1,o=0){const i=s.length,l=[e[0],t.length/e[0]],u=l[1],d=i>0?r[i-1]+1:0;if(d<0)throw new Error(ek());const h=e.slice();h[0]=d;const f=h.reduce((w,_)=>w*_,1),p=Zs(n,f);if(i===0)return d>0&&p.fill(o),[p,h];if(d<=0)throw new Error(ek());let m=0,y=1,v=0,b=r[m];for(;;){let w=0;if(y<i){if(w=r[y],b===w){++y;continue}if(b>=w)throw new Error(wK())}if(b<0||b>=d)throw new Error(xK(b,d));b>v&&p.fill(o,v*u,b*u);for(let _=m;_<y;++_){const C=s[_];if(C<0||C>=l[0])throw new Error(CK(_,s[_],l[0]));for(let x=0;x<u;x++)p[b*u+x]+=t[C*u+x]}if(a)for(let _=0;_<u;_++)p[b*u+_]/=y-m;if(m=y,++y,v=b+1,b=w,y>i)break}return v<d&&p.fill(o,v*u,d*u),[p,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gCt=hu(t=>Math.sqrt(t)),vCt=as(Nm,t=>Math.sqrt(t)),yCt={kernelName:Nm,backendName:"cpu",kernelFunc:vCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WY=cr((t,e)=>{const n=t-e;return n*n}),bCt=Nr(Am,WY),_Ct={kernelName:Am,backendName:"cpu",kernelFunc:bCt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jY=hu((t,e)=>{const{pattern:n,replaceGlobal:s,rewrite:r}=e;return t.replace(new RegExp(n,s?"g":""),r)}),wCt=Ed(uy,jY),xCt={kernelName:uy,backendName:"cpu",kernelFunc:wCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GY(t,e,n,s){const r=En(t,e.dtype);for(let a=0;a<r.size;a++){const o=r.indexToLoc(a),i=new Array(o.length);for(let l=0;l<i.length;l++)i[l]=o[l]*n[l]+s[l];r.set(e.get(...i),...o)}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class CCt{constructor(e,n,s,r,a,o){this.separator=Bl(e),this.nGramWidths=n,this.leftPad=Bl(s),this.rightPad=Bl(r),this.padWidth=a,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const s=this.getPadWidth(n);return Math.max(0,e+2*s-n+1)}createNGrams(e,n,s,r,a,o){for(let i=0;i<a;++i){const l=this.getPadWidth(o),u=Math.max(0,l-i),c=Math.max(0,l-(a-(i+1))),d=o-(u+c),h=n+(u>0?0:i-l);let f=0;f+=u*this.leftPad.length;for(let b=0;b<d;++b)f+=e[h+b].length;f+=c*this.rightPad.length;const p=u+c+d-1;f+=p*this.separator.length,s[r+i]=new Uint8Array(f);const m=s[r+i];let y=0;const v=b=>b.forEach(w=>m[y++]=w);for(let b=0;b<u;++b)v(this.leftPad),v(this.separator);for(let b=0;b<d-1;++b)v(e[h+b]),v(this.separator);if(d>0){v(e[h+d-1]);for(let b=0;b<c;++b)v(this.separator),v(this.rightPad)}else{for(let b=0;b<c-1;++b)v(this.rightPad),v(this.separator);v(this.rightPad)}}}compute(e,n){const s=e.length,r=n.length;if(r>0){let l=n[0];if(l!==0)throw new Error(`First split value must be 0, got ${l}`);for(let u=1;u<r;++u){let c=n[u]>=l;if(c=c&&n[u]<=s,!c)throw new Error(`Invalid split value ${n[u]}, must be in [${l}, ${s}]`);l=n[u]}if(l!==s)throw new Error(`Last split value must be data size. Expected ${s}, got ${l}`)}const a=r-1,o=Zs("int32",r);if(s===0||r===0){const l=new Array(s);for(let u=0;u<=a;++u)o[u]=0;return[l,o]}o[0]=0;for(let l=1;l<=a;++l){const u=n[l]-n[l-1];let c=0;this.nGramWidths.forEach(d=>{c+=this.getNumNGrams(u,d)}),this.preserveShort&&u>0&&c===0&&(c=1),o[l]=o[l-1]+c}const i=new Array(o[a]);for(let l=0;l<a;++l){const u=n[l];let c=o[l];if(this.nGramWidths.forEach(d=>{const h=n[l+1]-n[l],f=this.getNumNGrams(h,d);this.createNGrams(e,u,i,c,f,d),c+=f}),this.preserveShort&&c===o[l]){const d=n[l+1]-n[l];if(d===0)continue;const h=d+2*this.padWidth;this.createNGrams(e,u,i,c,1,h)}}return[i,o]}}function qY(t,e,n,s,r,a,o,i){return new CCt(n,s,r,a,o,i).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SCt(t,e,n,s){if(!t.length)return;if(e.length===0){for(let a=0;a<t.length;++a)s.push(t.subarray(a,a+1));return}if(e.length===1){const a=e[0];let o=t.indexOf(a);for(;o!==-1;){const i=t.subarray(0,o);(!n||i.length!==0)&&s.push(i),t=t.subarray(o+1),o=t.indexOf(a)}(!n||t.length!==0)&&s.push(t);return}let r=0;for(let a=0;a<t.length+1;a++)if(a===t.length||e.indexOf(t[a])!==-1){const o=t.subarray(r,a);(!n||o.length!==0)&&s.push(o),r=a+1}}function KY(t,e,n){const s=t.length,r=[];let a=0,o=0;const i=new Array(s);for(let h=0;h<s;++h){const f=r.length;SCt(t[h],e,n,r);const p=r.length-f;i[h]=p,a+=p,o=Math.max(o,p)}const l=Zs("int32",a*2),u=new Array(a),c=[s,o];let d=0;for(let h=0;h<s;++h)for(let f=0;f<i[h];++f)l[d*2]=h,l[d*2+1]=f,u[d]=r[d],++d;return[l,u,c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XY(t,e){const n=Zs("int32",t.length);for(let s=0;s<t.length;++s)n[s]=uG(t[s]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YY=cr((t,e)=>t-e),TCt=wA((t,e,n,s)=>({real:t-n,imag:e-s})),kA=Nr(Dm,YY,TCt),kCt={kernelName:Dm,backendName:"cpu",kernelFunc:kA};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QY(t,e){const n=new Array(t.rank);for(let r=0;r<n.length;r++)n[r]=t.shape[r]*e[r];const s=En(n,t.dtype);for(let r=0;r<s.values.length;++r){const a=s.indexToLoc(r),o=new Array(t.rank);for(let l=0;l<o.length;l++)o[l]=a[l]%t.shape[l];const i=t.locToIndex(o);s.values[r]=t.values[i]}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c2=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function ZY(t,e,n=0,s=t.length-1){for(;s>n;){if(s-n>600){const i=s-n+1,l=e-n+1,u=Math.log(i),c=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*c*(i-c)/i)*Math.sign(l-i/2),h=Math.max(n,Math.floor(e-l*c/i+d)),f=Math.min(s,Math.floor(e+(i-l)*c/i+d));ZY(t,e,h,f)}const r=t[e];let a=n,o=s;for(Cu(t,n,e),c2(t[s],r)>0&&Cu(t,n,s);a<o;){for(Cu(t,a,o),a++,o--;c2(t[a],r)<0;)a=a+1;for(;c2(t[o],r)>0;)o=o-1}c2(t[n],r)===0?Cu(t,n,o):(o=o+1,Cu(t,o,s)),o<=e&&(n=o+1),e<=o&&(s=o-1)}}function JY(t,e,n,s,r){const a=e[e.length-1],[o,i]=[t.length/a,a],l=Br(n,o*s),u=Br("int32",o*s);for(let d=0;d<o;d++){const h=d*i,f=t.subarray(h,h+i);let p=new Array(f.length);f.forEach((b,w)=>p[w]={value:b,index:w}),s<p.length&&(ZY(p,s),p=p.slice(0,s)),r&&p.sort(c2);const m=d*s,y=l.subarray(m,m+s),v=u.subarray(m,m+s);for(let b=0;b<s;b++)y[b]=p[b].value,v[b]=p[b].index}const c=e.slice();return c[c.length-1]=s,[En(c,n,l),En(c,"int32",u)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eQ(t,e,n,s){const r=Rn(e,n)[0],a=[1,n[0],1];for(let p=0;p<r;p++)a[0]*=n[p];a[1]=n[r];for(let p=r+1;p<n.length;p++)a[2]*=n[p];const o=new Map,i=new Int32Array(n[r]),l=new yr(a,s,t),u=[],c=a[0]===1&&a[2]===1;for(let p=0;p<n[r];p++){let m;if(c)m=t[p].toString();else{const v=[];for(let b=0;b<a[0];b++)for(let w=0;w<a[2];w++)v.push(l.get(b,p,w));m=v.join(",")}const y=o.get(m);if(y!=null)i[p]=y;else{const v=o.size;o.set(m,v),i[p]=v,u.push(p)}}const d=a.slice();d[1]=o.size;const h=new yr(d,s);u.forEach((p,m)=>{for(let y=0;y<a[0];y++)for(let v=0;v<a[2];v++)h.set(l.get(y,p,v),y,m,v)});const f=n.slice();return f[r]=d[1],{outputValues:h.values,outputShape:f,indices:i}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tQ=Object.freeze(Object.defineProperty({__proto__:null,addImpl:uY,bincountImpl:xA,bincountReduceImpl:cY,bitwiseAndImpl:dY,castImpl:lY,ceilImpl:hY,concatImpl:fY,equalImpl:pY,expImpl:gY,expm1Impl:yY,floorDivImpl:_Y,floorImpl:bY,gatherNdImpl:wY,gatherV2Impl:xY,greaterEqualImpl:SY,greaterImpl:CY,lessEqualImpl:kY,lessImpl:TY,linSpaceImpl:$Y,logImpl:EY,maxImpl:IY,maximumImpl:NY,minimumImpl:AY,multiplyImpl:CA,negImpl:DY,notEqualImpl:OY,prodImpl:RY,raggedGatherImpl:LY,raggedRangeImpl:PY,raggedTensorToTensorImpl:MY,rangeImpl:FY,rsqrtImpl:BY,scatterImpl:fh,sigmoidImpl:fCt,simpleAbsImpl:iY,sliceImpl:VY,sparseFillEmptyRowsImpl:HY,sparseReshapeImpl:UY,sparseSegmentReductionImpl:TA,sqrtImpl:gCt,squaredDifferenceImpl:WY,staticRegexReplaceImpl:jY,stridedSliceImpl:GY,stringNGramsImpl:qY,stringSplitImpl:KY,stringToHashBucketFastImpl:XY,subImpl:YY,tileImpl:QY,topKImpl:JY,transposeImpl:SA,uniqueImpl:eQ},Symbol.toStringTag,{value:"Module"}));/** @license See the LICENSE file. */const nQ="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */qE("cpu",()=>new jy,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sQ=as(tm,t=>t>=0?t:Math.exp(t)-1),$Ct={kernelName:tm,backendName:"cpu",kernelFunc:sQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rQ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{alpha:a}=s;Jt([r],"leakyRelu");const o=tt(r.shape),i=n.data.get(r.dataId).values,l=Br("float32",o);for(let u=0;u<i.length;u++)l[u]=i[u]<0?a*i[u]:i[u];return n.makeTensorInfo(r.shape,"float32",l)}const ECt={kernelName:Dv,backendName:"cpu",kernelFunc:rQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ICt=cr((t,e)=>t<0?e*t:t);function aQ(t){const{inputs:e,backend:n}=t,{x:s,alpha:r}=e;Jt([s,r],"prelu");const a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values,[i,l]=ICt(s.shape,r.shape,a,o,"float32");return n.makeTensorInfo(l,"float32",i)}const NCt={kernelName:Qv,backendName:"cpu",kernelFunc:aQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oQ=as(_m,t=>Math.max(0,t)),ACt={kernelName:_m,backendName:"cpu",kernelFunc:oQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iQ=as(wm,t=>Math.min(Math.max(0,t),6)),DCt={kernelName:wm,backendName:"cpu",kernelFunc:iQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z3(t,e,n,s,r){if(n==="linear")return nu({inputs:{x:e},backend:t});if(n==="relu")return oQ({inputs:{x:e},backend:t});if(n==="elu")return sQ({inputs:{x:e},backend:t});if(n==="relu6")return iQ({inputs:{x:e},backend:t});if(n==="prelu")return aQ({inputs:{x:e,alpha:s},backend:t});if(n==="leakyrelu")return rQ({inputs:{x:e},backend:t,attrs:{alpha:r}});if(n==="sigmoid")return zY({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _s(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{shape:a}=s,o=tt(r.shape),i=AE(a,o),l=tt(i);ae(o===l,()=>`The new shape (${i}) has ${l} elements and the old shape (${r.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(r.dataId);const u=n.data.get(r.dataId);if(u.complexTensorInfos!=null){const c=u.complexTensorInfos.real,d=u.complexTensorInfos.imag;c.shape=i,d.shape=i}return{dataId:r.dataId,shape:i,dtype:r.dtype}}const OCt={kernelName:Jv,backendName:"cpu",kernelFunc:_s};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lQ(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:a}=e,{transposeA:o,transposeB:i}=s;Jt([r,a],"matMul");const l=r.shape.length,u=a.shape.length,c=o?r.shape[l-2]:r.shape[l-1],d=i?a.shape[u-1]:a.shape[u-2],h=o?r.shape[l-1]:r.shape[l-2],f=i?a.shape[u-2]:a.shape[u-1],p=r.shape.slice(0,-2),m=a.shape.slice(0,-2),y=tt(p),v=tt(m),w=wn(r.shape.slice(0,-2),a.shape.slice(0,-2)).concat([h,f]);ae(c===d,()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${r.shape} and ${a.shape} and transposeA=${o} and transposeB=${i} must match.`);const _=o?[y,c,h]:[y,h,c],C=i?[v,f,d]:[v,d,f],x=_s({inputs:{x:r},backend:n,attrs:{shape:_}}),T=_s({inputs:{x:a},backend:n,attrs:{shape:C}}),k=o?x.shape[1]:x.shape[2],N=o?x.shape[2]:x.shape[1],O=i?T.shape[1]:T.shape[2],L=Math.max(y,v),V=n.data.get(x.dataId).values,H=n.data.get(T.dataId).values,K=sn(x.shape),U=sn(T.shape),[R,W,G]=o?[K[0],1,K[1]]:[K[0],K[1],1],[P,j,J]=i?[1,U[1],U[0]]:[U[1],1,U[0]],ne=N*O,te=En([L,N,O],x.dtype),de=te.values,me=n.blockSize;for(let _e=0;_e<L;_e++){const ee=_e%y,he=_e%v;for(let le=0;le<N;le+=me){const ue=Math.min(le+me,N);for(let re=0;re<O;re+=me){const we=Math.min(re+me,O);for(let Ae=0;Ae<k;Ae+=me){const Ue=Math.min(Ae+me,k);for(let at=le;at<ue;at++)for(let ot=re;ot<we;ot++){let Pe=0;for(let je=Ae;je<Ue;je++){const dt=V[ee*R+at*W+je*G],Qe=H[je*P+ot*j+he*J];Pe+=dt*Qe}de[_e*ne+(at*O+ot)]+=Pe}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(T),n.makeTensorInfo(w,te.dtype,te.values)}const RCt={kernelName:gv,backendName:"cpu",kernelFunc:lQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LCt(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:a,bias:o,preluActivationWeights:i}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=s;let h,f,p;const m=[];h=lQ({inputs:{a:r,b:a},attrs:{transposeA:l,transposeB:u},backend:n}),o&&(f=g0({inputs:{a:h,b:o},backend:n}),m.push(h),h=f),c&&(p=Z3(n,h,c,i,d),m.push(h),h=p);for(const v of m)n.disposeIntermediateTensorInfo(v);return h}const PCt={kernelName:g1,backendName:"cpu",kernelFunc:LCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MCt=as(H0,t=>Math.acos(t)),FCt={kernelName:H0,backendName:"cpu",kernelFunc:MCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BCt=as(U0,t=>Math.acosh(t)),zCt={kernelName:U0,backendName:"cpu",kernelFunc:BCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VCt(t){const{inputs:e,backend:n}=t,s=e;Jt(e,"addN");const r=s.map(i=>n.data.get(i.dataId).values),a=En(s[0].shape,s[0].dtype),o=a.values;for(let i=0;i<s.length;i++){const l=r[i];for(let u=0;u<o.length;u++)o[u]+=l[u]}return n.makeTensorInfo(a.shape,a.dtype,a.values)}const HCt={kernelName:dv,backendName:"cpu",kernelFunc:VCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s;Jt(r,"all");const i=Rn(a,r.shape);let l=i;const u=Ys(l,r.shape.length);let c=r;u!=null&&(c=ro({inputs:{x:r},backend:n,attrs:{perm:u}}),l=lr(l.length,r.shape.length)),ia("all",l,c.shape.length);const[d,h]=Hr(c.shape,l),f=tt(h),p=ea(tt(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const b=v*f;let w=m[b];for(let _=0;_<f;++_){const C=m[b+_];w=w&&C}p[v]=w}u!=null&&n.disposeIntermediateTensorInfo(c);const y=n.makeTensorInfo(d,c.dtype,p);if(o){const v=ir(d,i),b=_s({inputs:{x:y},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(y),b}return y}const WCt={kernelName:Tw,backendName:"cpu",kernelFunc:UCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s;Jt(r,"any");const i=Rn(a,r.shape);let l=i;const u=Ys(l,r.shape.length);let c=r;u!=null&&(c=ro({inputs:{x:r},backend:n,attrs:{perm:u}}),l=lr(l.length,r.shape.length)),ia("any",l,c.shape.length);const[d,h]=Hr(c.shape,l),f=tt(h),p=ea(tt(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const b=v*f;let w=m[b];for(let _=0;_<f;++_){const C=m[b+_];w=w||C}p[v]=w}u!=null&&n.disposeIntermediateTensorInfo(c);const y=n.makeTensorInfo(d,c.dtype,p);if(o){const v=ir(d,i),b=_s({inputs:{x:y},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(y),b}return y}const GCt={kernelName:kw,backendName:"cpu",kernelFunc:jCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a}=s;Jt(r,"argMax");let o=Rn(a,r.shape);const i=Ys(o,r.shape.length);let l=r;const u=[];i!=null&&(l=ro({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),o=lr(o.length,l.shape.length)),o=[o[0]],ia("argMax",o,l.shape.length);const[c,d]=Hr(l.shape,o),h=tt(c),f=ea(h,"int32"),p=tt(d),m=n.data.get(l.dataId).values;for(let y=0;y<f.length;++y){const v=y*p;let b=m[v],w=0;for(let _=0;_<p;++_){const C=m[v+_];C>b&&(b=C,w=_)}f[y]=w}return u.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(c,"int32",f)}const KCt={kernelName:hv,backendName:"cpu",kernelFunc:qCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XCt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a}=s;Jt(r,"argMin");let o=Rn(a,r.shape);const i=Ys(o,r.shape.length);let l=r;const u=[];i!=null&&(l=ro({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),o=lr(o.length,l.shape.length)),o=[o[0]],ia("argMin",o,l.shape.length);const[c,d]=Hr(l.shape,o),h=tt(c),f=ea(h,"int32"),p=tt(d),m=n.data.get(l.dataId).values;for(let y=0;y<f.length;++y){const v=y*p;let b=m[v],w=0;for(let _=0;_<p;++_){const C=m[v+_];C<b&&(b=C,w=_)}f[y]=w}return u.forEach(y=>n.disposeIntermediateTensorInfo(y)),n.makeTensorInfo(c,"int32",f)}const YCt={kernelName:fv,backendName:"cpu",kernelFunc:XCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QCt=as(W0,t=>Math.asin(t)),ZCt={kernelName:W0,backendName:"cpu",kernelFunc:QCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JCt=as(j0,t=>Math.asinh(t)),eSt={kernelName:j0,backendName:"cpu",kernelFunc:JCt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tSt=as(G0,t=>Math.atan(t)),nSt={kernelName:G0,backendName:"cpu",kernelFunc:tSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sSt=cr((t,e)=>Math.atan2(t,e)),rSt=Nr(K0,sSt),aSt={kernelName:K0,backendName:"cpu",kernelFunc:rSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oSt=as(q0,t=>Math.atanh(t)),iSt={kernelName:q0,backendName:"cpu",kernelFunc:oSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $A(t,e,n,s,r,a){const o=r.strideHeight,i=r.strideWidth,l=r.dilationHeight,u=r.dilationWidth,c=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,p=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=En(r.outShape,n),y=m.values,v=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],w=r.outShape[3];for(let _=0;_<r.batchSize;++_){const C=_*v,x=_*s[0];for(let T=0;T<r.inChannels;++T)for(let k=0;k<r.outHeight;++k){const N=k*o-h,O=Math.max(0,N),L=Math.min(r.inHeight,c+N),V=C+k*b;for(let H=0;H<r.outWidth;++H){const K=H*i-f,U=Math.max(0,K),R=Math.min(r.inWidth,d+K);let W=p,G=0,P=0;for(let J=O;J<L;J+=l){const ne=x+J*s[1];for(let te=U;te<R;te+=u){const de=ne+te*s[2],me=t[de+T];a==="max"&&me>W?W=me:a==="avg"&&(G+=me,P++)}if(isNaN(W))break}const j=V+H*w+T;y[j]=a==="avg"?G/P:W}}}return m}function uQ(t,e,n,s,r=!1,a=!1){const o=En(s.outShape,"int32"),i=s.strideHeight,l=s.strideWidth,u=s.dilationHeight,c=s.dilationWidth,d=s.effectiveFilterHeight,h=s.effectiveFilterWidth,f=s.padInfo.top,p=s.padInfo.left,m=En(e,n,t);for(let y=0;y<s.batchSize;++y)for(let v=0;v<s.inChannels;++v)for(let b=0;b<s.outHeight;++b){const w=b*i-f;let _=w;for(;_<0;)_+=u;const C=Math.min(s.inHeight,d+w);for(let x=0;x<s.outWidth;++x){const T=x*l-p;let k=T;for(;k<0;)k+=c;const N=Math.min(s.inWidth,h+T);let O=Number.NEGATIVE_INFINITY,L=-1;for(let V=_;V<C;V+=u){const H=V-w;for(let K=k;K<N;K+=c){const U=K-T,R=m.get(y,V,K,v);R>O&&(O=R,r?L=a?((y*s.inHeight+V)*s.inWidth+K)*s.inChannels+v:(V*s.inWidth+K)*s.inChannels+v:L=H*h+U)}}o.set(L,y,b,x,v)}}return o}function cQ(t,e,n,s,r,a){const o=r.strideDepth,i=r.strideHeight,l=r.strideWidth,u=r.dilationDepth,c=r.dilationHeight,d=r.dilationWidth,h=r.effectiveFilterDepth,f=r.effectiveFilterHeight,p=r.effectiveFilterWidth,m=r.padInfo.front,y=r.padInfo.top,v=r.padInfo.left,b=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=En(r.outShape,n),_=w.values,C=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],x=r.outShape[2]*r.outShape[3]*r.outShape[4],T=r.outShape[3]*r.outShape[4],k=r.outShape[4];for(let N=0;N<r.batchSize;++N){const O=N*C,L=N*s[0];for(let V=0;V<r.inChannels;++V)for(let H=0;H<r.outDepth;++H){const K=H*o-m;let U=K;for(;U<0;)U+=u;const R=Math.min(r.inDepth,h+K),W=O+H*x;for(let G=0;G<r.outHeight;++G){const P=G*i-y;let j=P;for(;j<0;)j+=c;const J=Math.min(r.inHeight,f+P),ne=W+G*T;for(let te=0;te<r.outWidth;++te){const de=te*l-v;let me=de;for(;me<0;)me+=d;const _e=Math.min(r.inWidth,p+de),ee=ne+te*k;let he=b,le=0,ue=0;for(let we=U;we<R;we+=u){const Ae=L+we*s[1];for(let Ue=j;Ue<J;Ue+=c){const at=Ae+Ue*s[2];for(let ot=me;ot<_e;ot+=d){const Pe=at+ot*s[3],je=t[Pe+V];if(a==="max"&&je>he?he=je:a==="avg"&&(le+=je,ue++),isNaN(he))break}if(isNaN(he))break}if(isNaN(he))break}const re=ee+V;_[re]=a==="avg"?le/Math.max(ue,1):he}}}}return w}function lSt(t,e){const n=En(e.outShape,"int32"),s=e.strideDepth,r=e.strideHeight,a=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,l=e.dilationWidth,u=e.effectiveFilterDepth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.front,f=e.padInfo.top,p=e.padInfo.left;for(let m=0;m<e.batchSize;++m)for(let y=0;y<e.inChannels;++y)for(let v=0;v<e.outDepth;++v){const b=v*s-h;let w=b;for(;w<0;)w+=o;const _=Math.min(e.inDepth,u+b);for(let C=0;C<e.outHeight;++C){const x=C*r-f;let T=x;for(;T<0;)T+=i;const k=Math.min(e.inHeight,c+x);for(let N=0;N<e.outWidth;++N){const O=N*a-p;let L=O;for(;L<0;)L+=l;const V=Math.min(e.inWidth,d+O);let H=Number.NEGATIVE_INFINITY,K=-1;for(let U=w;U<_;U+=o){const R=U-b;for(let W=T;W<k;W+=i){const G=W-x;for(let P=L;P<V;P+=l){const j=P-O,J=t.get(m,U,W,P,y);J>=H&&(H=J,K=R*c*d+G*c+j)}}}n.set(K,m,v,C,N,y)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;Jt(r,"avgPool");const{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=s,u=1;ae(oa(o,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Pi(r.shape,a,o,u,i,l);let d;if(c.filterWidth===1&&c.filterHeight===1&&Bn(c.inShape,c.outShape))d=nu({inputs:{x:r},backend:n});else{const h=n.data.get(r.dataId).values,f=sn(r.shape),p=$A(h,r.shape,r.dtype,f,c,"avg");d=n.makeTensorInfo(c.outShape,r.dtype,p.values)}return d}const cSt={kernelName:pv,backendName:"cpu",kernelFunc:uSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:a,strides:o,pad:i,dimRoundingMode:l,dataFormat:u}=s;Jt(r,"avgPool3d");const c=ac(r.shape,a,o,1,i,l,u),d=n.data.get(r.dataId).values,h=cQ(d,r.shape,r.dtype,sn(r.shape),c,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const hSt={kernelName:mv,backendName:"cpu",kernelFunc:dSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fSt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a}=e,{filterSize:o,strides:i,pad:l,dimRoundingMode:u}=s;Jt([r,a],"avgPool3DGrad");const c=ac(a.shape,o,i,1,l,u),d=c.strideDepth,h=c.strideHeight,f=c.strideWidth,p=c.filterDepth,m=c.filterHeight,y=c.filterWidth,v=c.dilationDepth,b=c.dilationHeight,w=c.dilationWidth,_=c.effectiveFilterDepth,C=c.effectiveFilterHeight,x=c.effectiveFilterWidth,T=_-1-c.padInfo.front,k=x-1-c.padInfo.left,N=C-1-c.padInfo.top,O=En(a.shape,"float32"),L=1/(p*m*y),V=n.bufferSync(r);for(let H=0;H<c.batchSize;++H)for(let K=0;K<c.inChannels;++K)for(let U=0;U<c.inDepth;++U)for(let R=0;R<c.inHeight;++R)for(let W=0;W<c.inWidth;++W){const G=U-T,P=R-N,j=W-k;let J=0;for(let ne=0;ne<_;ne+=v){const te=(G+ne)/d;if(!(te<0||te>=c.outDepth||Math.floor(te)!==te))for(let de=0;de<C;de+=b){const me=(P+de)/h;if(!(me<0||me>=c.outHeight||Math.floor(me)!==me))for(let _e=0;_e<x;_e+=w){const ee=(j+_e)/f;if(ee<0||ee>=c.outWidth||Math.floor(ee)!==ee)continue;const he=V.get(H,te,me,ee,K);J+=he}}}O.set(J*L,H,U,R,W,K)}return n.makeTensorInfo(O.shape,O.dtype,O.values)}const pSt={kernelName:Ew,backendName:"cpu",kernelFunc:fSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mSt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a}=e,o=a;Jt([r,a],"avgPoolGrad");const{filterSize:i,strides:l,pad:u}=s,c=Pi(o.shape,i,l,1,u),d=c.strideHeight,h=c.strideWidth,f=c.filterHeight,p=c.filterWidth,m=c.dilationHeight,y=c.dilationWidth,v=c.effectiveFilterHeight,b=c.effectiveFilterWidth,w=b-1-c.padInfo.left,_=v-1-c.padInfo.top,C=En(o.shape,"float32"),x=1/(f*p),T=n.data.get(r.dataId).values,k=En(r.shape,"float32",T);for(let N=0;N<c.batchSize;++N)for(let O=0;O<c.inChannels;++O)for(let L=0;L<c.inHeight;++L)for(let V=0;V<c.inWidth;++V){const H=L-_,K=V-w;let U=0;for(let R=0;R<v;R+=m){const W=(H+R)/d;if(!(W<0||W>=c.outHeight||Math.floor(W)!==W))for(let G=0;G<b;G+=y){const P=(K+G)/h;if(P<0||P>=c.outWidth||Math.floor(P)!==P)continue;const j=k.get(N,W,P,O);U+=j}}C.set(U*x,N,L,V,O)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const gSt={kernelName:$w,backendName:"cpu",kernelFunc:mSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,scale:a,offset:o,mean:i,variance:l}=e;ae(i.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ae(o==null||i.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ae(a==null||i.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),Jt([r,i,l,a,o],"batchNorm");let{varianceEpsilon:u}=s;u==null&&(u=.001);const c=n.data.get(r.dataId).values,d=n.data.get(i.dataId).values,h=n.data.get(l.dataId).values,f=a?n.data.get(a.dataId).values:new Float32Array([1]),p=o?n.data.get(o.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),y=p.length,v=f.length,b=h.length,w=d.length;let _=0,C=0,x=0,T=0;for(let k=0;k<c.length;++k)m[k]=p[_++]+(c[k]-d[C++])*f[x++]/Math.sqrt(h[T++]+u),_>=y&&(_=0),C>=w&&(C=0),x>=v&&(x=0),T>=b&&(T=0);return n.makeTensorInfo(r.shape,r.dtype,m)}const ySt={kernelName:Iv,backendName:"cpu",kernelFunc:vSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:a,crops:o}=s;Jt([r],"batchToSpaceND");const i=a.reduce((v,b)=>v*b),l=Oy(r.shape,a,i),u=Ry(l.length,a.length),c=Ly(r.shape,a,i),d=CN(o,a.length),h=SN(c,o,a.length),f=_s({inputs:{x:r},backend:n,attrs:{shape:l}}),p=ro({inputs:{x:f},backend:n,attrs:{perm:u}}),m=_s({inputs:{x:p},backend:n,attrs:{shape:c}}),y=Qh({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const _St={kernelName:vv,backendName:"cpu",kernelFunc:bSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:a}=e,{size:o}=s,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=xA(i,l,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,u)}const xSt={kernelName:Iw,backendName:"cpu",kernelFunc:wSt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CSt(t){const{inputs:e,backend:n}=t,{s0:s,s1:r}=e,a=n.data.get(s.dataId).values,o=n.data.get(r.dataId).values,i=wn(Array.from(a),Array.from(o));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}const SSt={kernelName:Nw,backendName:"cpu",kernelFunc:CSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TSt=as(Q0,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),kSt={kernelName:Q0,backendName:"cpu",kernelFunc:TSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $St=t=>{const{x:e}=t.inputs,n=t.backend,s=new Float32Array(tt(e.shape)),r=n.data.get(e.dataId),a=r.complexTensorInfos.real,o=r.complexTensorInfos.imag,i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values;for(let u=0;u<i.length;u++){const c=i[u],d=l[u];s[u]=Math.hypot(c,d)}return n.makeOutput(s,e.shape,"float32")},ESt={kernelName:bv,backendName:"cpu",kernelFunc:$St};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v0(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.data.get(s.dataId).complexTensorInfos.imag,a=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,a)}const ISt={kernelName:Yw,backendName:"cpu",kernelFunc:v0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y0(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s,a=Rn(r,e[0].shape)[0],o=e.map(m=>m.shape);_N(o,a);let i=Vl(e.map(m=>m.shape),a);if(tt(i)===0)return n.makeTensorInfo(i,e[0].dtype,[]);const l=e.filter(m=>tt(m.shape)>0);if(l.length===1)return nu({inputs:{x:l[0]},backend:n});if(l[0].dtype==="complex64"){const m=l.map(_=>Yh({inputs:{input:_},backend:n})),y=l.map(_=>v0({inputs:{input:_},backend:n})),v=y0({inputs:m,backend:n,attrs:{axis:a}}),b=y0({inputs:y,backend:n,attrs:{axis:a}}),w=mo({inputs:{real:v,imag:b},backend:n});return m.forEach(_=>n.disposeIntermediateTensorInfo(_)),y.forEach(_=>n.disposeIntermediateTensorInfo(_)),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),w}const u=l.map(m=>{const v=[-1,tt(m.shape.slice(a))];return _s({inputs:{x:m},backend:n,attrs:{shape:v}})}),c=u.map(m=>({vals:n.data.get(m.dataId).values,shape:m.shape}));i=Vl(u.map(m=>m.shape),1);const d=u[0].shape[0]===1,h=fY(c,i,e[0].dtype,d),f=Vl(l.map(m=>m.shape),a),p=n.makeTensorInfo(f,e[0].dtype,h);return u.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const NSt={kernelName:_v,backendName:"cpu",kernelFunc:y0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dQ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dataFormat:l,dilations:u,dimRoundingMode:c}=s;Jt([r,a],"conv2d");const d=oc(l),h=Vr(r.shape,a.shape,o,u,i,c,!1,d),f=h.filterHeight,p=h.filterWidth,m=h.dilationHeight,y=h.dilationWidth,v=h.padInfo.left,b=h.padInfo.top,w=h.dataFormat==="channelsLast",_=new yr(h.outShape,r.dtype),C=sn(r.shape),x=sn(a.shape),T=C[0],k=w?C[1]:C[2],N=w?C[2]:1,O=w?1:C[1],L=_.strides[0],V=w?_.strides[1]:_.strides[2],H=w?_.strides[2]:1,K=w?1:_.strides[1],U=n.data.get(r.dataId).values,R=n.data.get(a.dataId).values,W=_.values;for(let G=0;G<h.batchSize;++G){const P=G*T,j=G*L;for(let J=0;J<h.outHeight;++J){const ne=j+J*V,te=J*h.strideHeight-b;for(let de=0;de<f;++de){const me=te+de*m;if(me<0||me>=h.inHeight)continue;const _e=de*x[0],ee=P+me*k;for(let he=0;he<h.outWidth;++he){const le=ne+he*H,ue=he*h.strideWidth-v;for(let re=0;re<p;++re){const we=ue+re*y;if(we<0||we>=h.inWidth)continue;const Ae=_e+re*x[1],Ue=ee+we*N;let at=Ae;for(let ot=0;ot<h.inChannels;++ot){const Pe=U[Ue+ot*O];for(let je=0;je<h.outChannels;++je)W[le+je*K]+=Pe*R[at+je];at+=h.outChannels}}}}}}return n.makeTensorInfo(_.shape,_.dtype,W)}const ASt={kernelName:wv,backendName:"cpu",kernelFunc:dQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:a}=e,{strides:o,pad:i,dataFormat:l,dimRoundingMode:u,filterShape:c}=s;Jt([r,a],"conv2dBackpropFilter");const d=oc(l),h=Vr(r.shape,c,o,1,i,u,!1,d),{strideHeight:f,strideWidth:p,filterHeight:m,filterWidth:y}=h,v=h.dataFormat==="channelsLast",b=new yr(h.filterShape,"float32"),w=h.padInfo.left,_=h.padInfo.top,C=n.data.get(r.dataId).values,x=n.data.get(a.dataId).values,T=new yr(r.shape,r.dtype,C),k=new yr(a.shape,a.dtype,x);for(let N=0;N<m;++N){const O=Math.max(0,Math.ceil((_-N)/f)),L=Math.min(h.outHeight,(h.inHeight+_-N)/f);for(let V=0;V<y;++V){const H=Math.max(0,Math.ceil((w-V)/p)),K=Math.min(h.outWidth,(h.inWidth+w-V)/p);for(let U=0;U<h.inChannels;++U)for(let R=0;R<h.outChannels;++R){let W=0;for(let G=0;G<h.batchSize;++G)for(let P=O;P<L;++P){const j=N+P*f-_;for(let J=H;J<K;++J){const ne=V+J*p-w;v?W+=T.get(G,j,ne,U)*k.get(G,P,J,R):W+=T.get(G,U,j,ne)*k.get(G,R,P,J)}}b.set(W,N,V,U,R)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const OSt={kernelName:Dw,backendName:"cpu",kernelFunc:DSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RSt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:a}=e,{inputShape:o,strides:i,pad:l,dataFormat:u,dimRoundingMode:c}=s;Jt([r,a],"conv2dBackpropInput");const d=sn(a.shape),h=sn(r.shape);let f=oc(u);const p=Vr(o,a.shape,i,1,l,c,!1,f),m=new yr(p.inShape,"float32"),y=m.values,v=n.data.get(r.dataId).values,b=n.data.get(a.dataId).values,[w,_,C]=d,{batchSize:x,filterHeight:T,filterWidth:k,inChannels:N,inHeight:O,inWidth:L,outChannels:V,outHeight:H,outWidth:K,strideHeight:U,strideWidth:R}=p;f=p.dataFormat;const W=T-1-p.padInfo.top,G=k-1-p.padInfo.left,P=f==="channelsLast",j=m.strides[0],J=P?m.strides[1]:m.strides[2],ne=P?m.strides[2]:1,te=P?1:m.strides[1],de=h[0],me=P?h[1]:h[2],_e=P?h[2]:1,ee=P?1:h[1];for(let he=0;he<x;++he)for(let le=0;le<N;++le)for(let ue=0;ue<O;++ue){const re=ue-W,we=Math.max(0,Math.ceil(re/U)),Ae=Math.min(H,(T+re)/U);for(let Ue=0;Ue<L;++Ue){const at=Ue-G,ot=Math.max(0,Math.ceil(at/R)),Pe=Math.min(K,(k+at)/R);let je=0;for(let Qe=we;Qe<Ae;++Qe){const wt=Qe*U-re;for(let vt=ot;vt<Pe;++vt){const Ge=vt*R-at,fe=de*he+me*Qe+_e*vt,_t=w*(T-1-wt)+_*(k-1-Ge)+C*le;for(let Dt=0;Dt<V;++Dt){const Qt=v[fe+ee*Dt],rn=b[_t+Dt];je+=Qt*rn}}}const dt=j*he+J*ue+ne*Ue+te*le;y[dt]=je}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}const LSt={kernelName:xv,backendName:"cpu",kernelFunc:RSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dilations:l}=s;Jt([r,a],"conv3d");const u=xd(r.shape,a.shape,o,l,i),{filterDepth:c,filterHeight:d,filterWidth:h,dilationDepth:f,dilationHeight:p,dilationWidth:m,padInfo:y}=u,v=y.front,b=y.left,w=y.top,_=new yr(u.outShape,r.dtype),C=n.data.get(r.dataId).values,x=n.data.get(a.dataId).values,T=_.values,k=sn(r.shape),N=sn(a.shape);for(let O=0;O<u.batchSize;++O){const L=O*k[0],V=O*_.strides[0];for(let H=0;H<u.outDepth;++H){const K=V+H*_.strides[1],U=H*u.strideDepth-v;for(let R=0;R<c;++R){const W=U+R*f;if(W<0||W>=u.inDepth)continue;const G=R*N[0],P=L+W*k[1];for(let j=0;j<u.outHeight;++j){const J=K+j*_.strides[2],ne=j*u.strideHeight-w;for(let te=0;te<d;++te){const de=ne+te*p;if(de<0||de>=u.inHeight)continue;const me=G+te*N[1],_e=P+de*k[2];for(let ee=0;ee<u.outWidth;++ee){const he=J+ee*u.outChannels,le=ee*u.strideWidth-b;for(let ue=0;ue<h;++ue){const re=le+ue*m;if(re<0||re>=u.inWidth)continue;const we=me+ue*N[2],Ae=_e+re*u.inChannels;let Ue=we;for(let at=0;at<u.inChannels;++at){const ot=C[Ae+at];for(let Pe=0;Pe<u.outChannels;++Pe)T[he+Pe]+=ot*x[Ue+Pe];Ue+=u.outChannels}}}}}}}}return n.makeTensorInfo(_.shape,_.dtype,_.values)}const MSt={kernelName:Cv,backendName:"cpu",kernelFunc:PSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:a}=e,{strides:o,pad:i,filterShape:l}=s;Jt([r,a],"conv3dBackpropFilterV2");const u=sn(r.shape),c=sn(a.shape),d=xd(r.shape,l,o,1,i),h=d.strideDepth,f=d.strideHeight,p=d.strideWidth,m=d.filterDepth,y=d.filterHeight,v=d.filterWidth,b=new yr(d.filterShape,"float32"),w=b.values,[_,C,x,T]=b.strides,k=n.data.get(a.dataId).values,[N,O,L,V]=c,H=n.data.get(r.dataId).values,[K,U,R,W]=u,G=d.padInfo.front,P=d.padInfo.left,j=d.padInfo.top;for(let J=0;J<m;++J){const ne=Math.max(0,Math.ceil((G-J)/h)),te=Math.min(d.outDepth,(d.inDepth+G-J)/h),de=J*_;for(let me=0;me<y;++me){const _e=Math.max(0,Math.ceil((j-me)/f)),ee=Math.min(d.outHeight,(d.inHeight+j-me)/f),he=me*C+de;for(let le=0;le<v;++le){const ue=Math.max(0,Math.ceil((P-le)/p)),re=Math.min(d.outWidth,(d.inWidth+P-le)/p),we=le*x+he;for(let Ae=0;Ae<d.inChannels;++Ae){const Ue=Ae*T+we;for(let at=0;at<d.outChannels;++at){let ot=0;for(let Pe=0;Pe<d.batchSize;++Pe){const je=Pe*K,dt=Pe*N;for(let Qe=ne;Qe<te;++Qe){const vt=(J+Qe*h-G)*U+je,Ge=Qe*O+dt;for(let fe=_e;fe<ee;++fe){const Dt=(me+fe*f-j)*R+vt,Qt=fe*L+Ge;for(let rn=ue;rn<re;++rn){const Ct=(le+rn*p-P)*W+Dt,It=rn*V+Qt;ot+=H[Ct+Ae]*k[It+at]}}}}w[Ue+at]=ot}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const BSt={kernelName:Ow,backendName:"cpu",kernelFunc:FSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zSt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:a}=e,{pad:o,strides:i,inputShape:l}=s;Jt([r],"conv3dBackpropInputV2");const u=sn(r.shape),c=sn(a.shape),d=xd(l,a.shape,i,1,o),h=new yr(d.inShape,"float32"),f=h.values,[p,m,y,v]=h.strides,b=n.data.get(r.dataId).values,[w,_,C,x]=u,T=n.data.get(a.dataId).values,[k,N,O,L]=c,{batchSize:V,filterDepth:H,filterHeight:K,filterWidth:U,inChannels:R,inDepth:W,inHeight:G,inWidth:P,outChannels:j,outDepth:J,outHeight:ne,outWidth:te,strideDepth:de,strideHeight:me,strideWidth:_e}=d,ee=H-1-d.padInfo.front,he=K-1-d.padInfo.top,le=U-1-d.padInfo.left;for(let ue=0;ue<V;++ue)for(let re=0;re<R;++re)for(let we=0;we<W;++we){const Ae=we-ee,Ue=Math.max(0,Math.ceil(Ae/de)),at=Math.min(J,(H+Ae)/de);for(let ot=0;ot<G;++ot){const Pe=ot-he,je=Math.max(0,Math.ceil(Pe/me)),dt=Math.min(ne,(K+Pe)/me);for(let Qe=0;Qe<P;++Qe){const wt=Qe-le,vt=Math.max(0,Math.ceil(wt/_e)),Ge=Math.min(te,(U+wt)/_e);let fe=0;for(let _t=Ue;_t<at;++_t){const Dt=_t*de-Ae;for(let Qt=je;Qt<dt;++Qt){const rn=Qt*me-Pe;for(let Cn=vt;Cn<Ge;++Cn){const Ct=Cn*_e-wt,It=w*ue+_*_t+C*Qt+x*Cn,Re=k*(H-1-Dt)+N*(K-1-rn)+O*(U-1-Ct)+L*re;for(let ut=0;ut<j;++ut){const xe=b[It+ut],Ke=T[Re+ut];fe+=xe*Ke}}}}f[p*ue+m*we+y*ot+v*Qe+re]=fe}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const VSt={kernelName:Rw,backendName:"cpu",kernelFunc:zSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HSt=as(Z0,t=>Math.cos(t)),USt={kernelName:Z0,backendName:"cpu",kernelFunc:HSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WSt=as(J0,t=>Math.cosh(t)),jSt={kernelName:J0,backendName:"cpu",kernelFunc:WSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GSt(t){const{inputs:e,backend:n,attrs:s}=t,{image:r,boxes:a,boxInd:o}=e,{cropSize:i,method:l,extrapolationValue:u}=s,[c,d,h,f]=r.shape,p=a.shape[0],[m,y]=i,v=En([p,m,y,f],"float32"),b=n.data.get(a.dataId).values,w=n.data.get(o.dataId).values,_=n.data.get(r.dataId).values,C=sn(r.shape),x=sn(v.shape);for(let T=0;T<p;T++){const k=T*4,N=b[k],O=b[k+1],L=b[k+2],V=b[k+3],H=w[T];if(H>=c)continue;const K=m>1?(L-N)*(d-1)/(m-1):0,U=y>1?(V-O)*(h-1)/(y-1):0;for(let R=0;R<m;R++){const W=m>1?N*(d-1)+R*K:.5*(N+L)*(d-1);if(W<0||W>d-1){for(let G=0;G<y;G++)for(let P=0;P<f;P++){const j=P+G*x[2]+R*x[1]+T*x[0];v.values[j]=u}continue}if(l==="bilinear"){const G=Math.floor(W),P=Math.ceil(W),j=W-G;for(let J=0;J<y;J++){const ne=y>1?O*(h-1)+J*U:.5*(O+V)*(h-1);if(ne<0||ne>h-1){for(let _e=0;_e<f;_e++){const ee=_e+J*x[2]+R*x[1]+T*x[0];v.values[ee]=u}continue}const te=Math.floor(ne),de=Math.ceil(ne),me=ne-te;for(let _e=0;_e<f;_e++){let ee=_e+te*C[2]+G*C[1]+H*C[0];const he=_[ee];ee=_e+de*C[2]+G*C[1]+H*C[0];const le=_[ee];ee=_e+te*C[2]+P*C[1]+H*C[0];const ue=_[ee];ee=_e+de*C[2]+P*C[1]+H*C[0];const re=_[ee],we=he+(le-he)*me,Ae=ue+(re-ue)*me;ee=_e+J*x[2]+R*x[1]+T*x[0],v.values[ee]=we+(Ae-we)*j}}}else for(let G=0;G<y;++G){const P=y>1?O*(h-1)+G*U:.5*(O+V)*(h-1);if(P<0||P>h-1){for(let ne=0;ne<f;ne++){const te=ne+G*x[2]+R*x[1]+T*x[0];v.values[te]=u}continue}const j=Math.round(P),J=Math.round(W);for(let ne=0;ne<f;ne++){const te=ne+j*C[2]+J*C[1]+H*C[0],de=ne+G*x[2]+R*x[1]+T*x[0];v.values[de]=_[te]}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const qSt={kernelName:Pw,backendName:"cpu",kernelFunc:GSt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,exclusive:o,reverse:i}=s;Jt(r,"cumprod");const l=Ys([a],r.shape.length);let u=r;l!=null&&(u=ro({inputs:{x:r},backend:n,attrs:{perm:l}}));const c=lr(1,r.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=Ja(u.dtype,"int32"),h=Sw(tt(u.shape),d),f=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=i?(v,b)=>v+p-b-1:(v,b)=>v+b;for(let v=0;v<f.length;v+=p)for(let b=0;b<p;b++){const w=m(v,b);if(b===0)h[w]=o?1:f[w];else{const _=m(v,b-1);h[w]=o?f[_]*h[_]:f[w]*h[_]}}const y=n.makeTensorInfo(u.shape,d,h);if(l!=null){const v=Cd(l),b=ro({inputs:{x:y},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(u),b}return y}const XSt={kernelName:Lw,backendName:"cpu",kernelFunc:KSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,exclusive:o,reverse:i}=s;Jt(r,"cumsum");const l=Ys([a],r.shape.length);let u=r;l!=null&&(u=ro({inputs:{x:r},backend:n,attrs:{perm:l}}));const c=lr(1,r.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=Ja(u.dtype,"int32"),h=ea(tt(u.shape),d),f=n.data.get(u.dataId).values,p=u.shape[u.shape.length-1],m=i?(v,b)=>v+p-b-1:(v,b)=>v+b;for(let v=0;v<f.length;v+=p)for(let b=0;b<p;b++){const w=m(v,b);if(b===0)h[w]=o?0:f[w];else{const _=m(v,b-1);h[w]=o?f[_]+h[_]:f[w]+h[_]}}const y=n.makeTensorInfo(u.shape,d,h);if(l!=null){const v=Cd(l),b=ro({inputs:{x:y},backend:n,attrs:{perm:v}});return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(u),b}return y}const QSt={kernelName:Sv,backendName:"cpu",kernelFunc:YSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZSt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:a}=e,{size:o,binaryOutput:i}=s;if(r.shape.length===1){const l=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=xA(l,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}else if(r.shape.length===2){const l=n.bufferSync(r),u=n.bufferSync(a),c=cY(l,u,o,i);return n.makeTensorInfo(c.shape,a.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const JSt={kernelName:Mw,backendName:"cpu",kernelFunc:ZSt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eTt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockSize:a,dataFormat:o}=s;ae(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const i=r.shape[0],l=r.shape[1],u=r.shape[2],c=r.shape[3],d=l*a,h=u*a,f=c/(a*a),p=n.data.get(r.dataId).values,m=new Float32Array(i*d*h*f);let y=0;for(let v=0;v<i;++v)for(let b=0;b<d;++b){const w=Math.floor(b/a),_=b%a;for(let C=0;C<h;++C){const x=Math.floor(C/a),T=C%a,k=(_*a+T)*f;for(let N=0;N<f;++N){const L=N+k+c*(x+u*(w+l*v));m[y++]=p[L]}}}return n.makeTensorInfo([i,d,h,f],r.dtype,m)}const tTt={kernelName:Fw,backendName:"cpu",kernelFunc:eTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hQ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dilations:l,dimRoundingMode:u}=s;Jt([r,a],"depthwiseConv2DNative");const c=sn(r.shape),d=sn(a.shape);let h=l;h==null&&(h=[1,1]),ae(oa(o,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${h}'`);const f=Vr(r.shape,a.shape,o,h,i,u,!0),{filterHeight:p,filterWidth:m,dilationHeight:y,dilationWidth:v,padInfo:b}=f,w=b.left,_=b.top,C=f.outChannels/f.inChannels,x=new yr(f.outShape,r.dtype),T=n.data.get(r.dataId).values,k=n.data.get(a.dataId).values,N=x.values;for(let O=0;O<f.batchSize;++O){const L=O*c[0],V=O*x.strides[0];for(let H=0;H<f.outHeight;++H){const K=V+H*x.strides[1],U=H*f.strideHeight-_;for(let R=0;R<p;++R){const W=U+R*y;if(W<0||W>=f.inHeight)continue;const G=R*d[0],P=L+W*c[1];for(let j=0;j<f.outWidth;++j){const J=K+j*x.strides[2],ne=j*f.strideWidth-w;for(let te=0;te<m;++te){const de=ne+te*v;if(de<0||de>=f.inWidth)continue;const me=G+te*d[1],_e=P+de*f.inChannels;let ee=J,he=me;for(let le=0;le<f.inChannels;++le){const ue=T[_e+le];for(let re=0;re<C;++re)N[ee+re]+=ue*k[he+re];ee+=C,he+=C}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const nTt={kernelName:Tv,backendName:"cpu",kernelFunc:hQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sTt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:a}=e,{strides:o,dilations:i,pad:l,dimRoundingMode:u,filterShape:c}=s;Jt([r,a],"depthwiseConv2dNativeBackpropFilter");const d=Vr(r.shape,c,o,i,l,u,!0),{strideHeight:h,strideWidth:f,filterHeight:p,filterWidth:m}=d,y=new yr(d.filterShape,"float32"),v=d.padInfo.left,b=d.padInfo.top,w=d.outChannels/d.inChannels,_=n.data.get(r.dataId).values,C=new yr(r.shape,r.dtype,_),x=n.data.get(a.dataId).values,T=new yr(a.shape,a.dtype,x);for(let k=0;k<p;++k){const N=Math.max(0,Math.ceil((b-k)/h)),O=Math.min(d.outHeight,(d.inHeight+b-k)/h);for(let L=0;L<m;++L){const V=Math.max(0,Math.ceil((v-L)/f)),H=Math.min(d.outWidth,(d.inWidth+v-L)/f);for(let K=0;K<d.outChannels;++K){const U=Math.trunc(K/w),R=K%w;let W=0;for(let G=0;G<d.batchSize;++G)for(let P=N;P<O;++P){const j=k+P*h-b;for(let J=V;J<H;++J){const ne=L+J*f-v;W+=C.get(G,j,ne,U)*T.get(G,P,J,K)}}y.set(W,k,L,U,R)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const rTt={kernelName:Bw,backendName:"cpu",kernelFunc:sTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aTt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:a}=e,{strides:o,dilations:i,pad:l,dimRoundingMode:u,inputShape:c}=s;Jt([r,a],"depthwiseConv2DNativeBackpropInput");const d=sn(r.shape),h=sn(a.shape),f=Vr(c,a.shape,o,i,l,u,!0),p=new yr(f.inShape,"float32"),m=p.values,[y,v,b]=p.strides,w=n.data.get(r.dataId).values,[_,C,x]=d,T=n.data.get(a.dataId).values,[k,N,O]=h,{batchSize:L,filterHeight:V,filterWidth:H,inChannels:K,inHeight:U,inWidth:R,outChannels:W,outHeight:G,outWidth:P,strideHeight:j,strideWidth:J}=f,ne=V-1-f.padInfo.top,te=H-1-f.padInfo.left,de=W/K;for(let me=0;me<L;++me)for(let _e=0;_e<K;++_e)for(let ee=0;ee<U;++ee){const he=ee-ne,le=Math.max(0,Math.ceil(he/j)),ue=Math.min(G,(V+he)/j);for(let re=0;re<R;++re){const we=re-te,Ae=Math.max(0,Math.ceil(we/J)),Ue=Math.min(P,(H+we)/J);let at=0;for(let ot=le;ot<ue;++ot){const Pe=ot*j-he;for(let je=Ae;je<Ue;++je){const dt=je*J-we,Qe=_*me+C*ot+x*je,wt=k*(V-1-Pe)+N*(H-1-dt)+O*_e;for(let vt=0;vt<de;++vt){const Ge=_e*de+vt,fe=w[Qe+Ge],_t=T[wt+vt];at+=fe*_t}}}m[y*me+v*ee+b*re+_e]=at}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}const oTt={kernelName:zw,backendName:"cpu",kernelFunc:aTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iTt(t){const{inputs:e,backend:n}=t,{x:s}=e,r=tt(s.shape),a=n.data.get(s.dataId).values,o=En([r,r],s.dtype),i=o.values;for(let u=0;u<a.length;u++)i[u*r+u]=a[u];const l=[...s.shape,...s.shape];return n.makeTensorInfo(l,o.dtype,o.values)}const lTt={kernelName:Vw,backendName:"cpu",kernelFunc:iTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uTt={kernelName:kv,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:s,filter:r}=t,{strides:a,pad:o,dilations:i}=n,l=e,u=l.data.get(s.dataId).values,c=s.shape.length,d=l.data.get(r.dataId).values,h=r.shape.length,{batchSize:f,inHeight:p,inWidth:m,inChannels:y,outHeight:v,outWidth:b,padInfo:w,strideHeight:_,strideWidth:C,filterHeight:x,filterWidth:T,dilationHeight:k,dilationWidth:N,outShape:O}=my(s.shape,r.shape,a,o,"NHWC",i),L=tt(O),V=O.length,H=Zs(s.dtype,L);for(let U=0;U<f;++U)for(let R=0;R<v;++R){const W=R*_-w.top;for(let G=0;G<b;++G){const P=G*C-w.left;for(let j=0;j<y;++j){let J=Number.MIN_SAFE_INTEGER;for(let te=0;te<x;++te){const de=W+te*k;if(de>=0&&de<p)for(let me=0;me<T;++me){const _e=P+me*N;if(_e>=0&&_e<m){const ee=tl([U,de,_e,j],c,sn(s.shape)),he=tl([te,me,j],h,sn(r.shape)),le=u[ee]+d[he];le>J&&(J=le)}}}const ne=tl([U,R,G,j],V,sn(O));H[ne]=J}}}return{dataId:l.write(_d(H,s.dtype),O,s.dtype),shape:O,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cTt={kernelName:N3,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:s,filter:r,dy:a}=t,{strides:o,pad:i,dilations:l}=n,u=e,c=Xo(s.shape,u.data.get(s.dataId).values),d=Xo(r.shape,u.data.get(r.dataId).values),{batchSize:h,inHeight:f,inWidth:p,inChannels:m,outHeight:y,outWidth:v,padInfo:b,strideHeight:w,strideWidth:_,filterHeight:C,filterWidth:x,dilationHeight:T,dilationWidth:k,outShape:N}=my(s.shape,r.shape,o,i,"NHWC",l);ae(a.rank===N.length,()=>`Error in ${N3}, dy must have the same rank as output ${N.length}, but got ${a.rank}`);const O=Xo(N,u.data.get(a.dataId).values),L=OE(r.shape,r.dtype);for(let H=0;H<h;++H)for(let K=0;K<y;++K){const U=K*w-b.top;for(let R=0;R<v;++R){const W=R*_-b.left;for(let G=0;G<m;++G){let P=Number.MIN_SAFE_INTEGER,j=0,J=0;for(let ne=0;ne<C;++ne){const te=U+ne*T;if(te>=0&&te<f)for(let de=0;de<x;++de){const me=W+de*k;if(me>=0&&me<p){const _e=c[H][te][me][G]+d[ne][de][G];_e>P&&(P=_e,j=ne,J=de)}}}L[j][J][G]+=O[H][K][R][G]}}}return{dataId:u.write(_d(L,s.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dTt={kernelName:I3,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:s,filter:r,dy:a}=t,{strides:o,pad:i,dilations:l}=n,u=e,c=Xo(s.shape,u.data.get(s.dataId).values),d=Xo(r.shape,u.data.get(r.dataId).values),{batchSize:h,inHeight:f,inWidth:p,inChannels:m,outHeight:y,outWidth:v,padInfo:b,strideHeight:w,strideWidth:_,filterHeight:C,filterWidth:x,dilationHeight:T,dilationWidth:k,outShape:N}=my(s.shape,r.shape,o,i,"NHWC",l);ae(a.rank===N.length,()=>`Error in ${I3}, dy must have the same rank as output ${N.length}, but got ${a.rank}`);const O=Xo(N,u.data.get(a.dataId).values),L=OE(s.shape,s.dtype);for(let H=0;H<h;++H)for(let K=0;K<y;++K){const U=K*w-b.top;for(let R=0;R<v;++R){const W=R*_-b.left;for(let G=0;G<m;++G){let P=Number.MIN_SAFE_INTEGER,j=U<0?0:U,J=W<0?0:W;for(let ne=0;ne<C;++ne){const te=U+ne*T;if(te>=0&&te<f)for(let de=0;de<x;++de){const me=W+de*k;if(me>=0&&me<p){const _e=c[H][te][me][G]+d[ne][de][G];_e>P&&(P=_e,j=te,J=me)}}}L[H][j][J][G]+=O[H][K][R][G]}}}return{dataId:u.write(_d(L,s.dtype),s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hTt(t){const{inputs:e,backend:n,attrs:s}=t,{image:r}=e,{canvas:a,options:o}=s,{contextOptions:i,imageOptions:l}=o||{},u=(l==null?void 0:l.alpha)||1,c=(i==null?void 0:i.contextType)||"2d";if(c!=="2d")throw new Error(`Context type ${i.contextType} is not supported by the CPU backend.`);const d=a.getContext(c,(i==null?void 0:i.contextAttributes)||{});if(d==null)throw new Error(`Could not get the context with ${c} type.`);const[h,f]=r.shape.slice(0,2),p=r.shape.length===2?1:r.shape[2],m=n.data.get(r.dataId).values,y=r.dtype==="float32"?255:1,v=new Uint8ClampedArray(f*h*4);for(let w=0;w<h*f;++w){const _=[0,0,0,255*u];for(let x=0;x<p;x++){const T=m[w*p+x];if(r.dtype==="float32"){if(T<0||T>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${T}.`)}else if(r.dtype==="int32"&&(T<0||T>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${T}.`);p===1?(_[0]=T*y,_[1]=T*y,_[2]=T*y):_[x]=T*y}const C=w*4;v[C+0]=Math.round(_[0]),v[C+1]=Math.round(_[1]),v[C+2]=Math.round(_[2]),v[C+3]=Math.round(_[3])}a.width=f,a.height=h;const b=new ImageData(v,f,h);return d.putImageData(b,0,0),r}const fTt={kernelName:Hw,backendName:"cpu",kernelFunc:hTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gy(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s;Jt(r,"sum");let i;r.dtype==="bool"?i=cd({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):i=nu({inputs:{x:r},backend:n});const l=i.shape.length,u=Rn(a,i.shape),c=Ys(u,l);let d=u,h=i;c!=null&&(h=ro({inputs:{x:i},backend:n,attrs:{perm:c}}),d=lr(d.length,l)),ia("sum",d,h.shape.length);const[f,p]=Hr(h.shape,d),m=Ja(h.dtype,"int32");let y=Y3(n,f,m);const v=tt(p),b=n.data.get(y.dataId).values,w=n.data.get(h.dataId).values;for(let _=0;_<b.length;++_){const C=_*v;let x=0;for(let T=0;T<v;++T)x+=w[C+T];b[_]=x}if(o){const _=ir(y.shape,u),C=y;y=_s({inputs:{x:y},backend:n,attrs:{shape:_}}),n.disposeIntermediateTensorInfo(C)}return n.disposeIntermediateTensorInfo(i),c!=null&&n.disposeIntermediateTensorInfo(h),y}const pTt={kernelName:ay,backendName:"cpu",kernelFunc:Gy};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mTt(t){const{inputs:e,backend:n,attrs:s}=t,{equation:r}=s,a=e,{allDims:o,summedDims:i,idDims:l}=DN(r,a.length);RN(o.length,l,a);const{path:u,steps:c}=LN(i,l),d=c.length;let h=null,f=o.length;const p=[];for(let m=0;m<d;++m){for(const y of c[m]){const{permutationIndices:v,expandDims:b}=ON(f,l[y]);let w;PN(v)?w=a[y]:(w=ro({inputs:{x:a[y]},backend:n,attrs:{perm:v}}),p.push(w));const _=w.shape.slice();for(let C=0;C<b.length;++C)_.splice(b[C],0,1);Bn(w.shape,_)||(w=_s({inputs:{x:w},backend:n,attrs:{shape:_}}),p.push(w)),h===null?h=w:(h=zx({inputs:{a:w,b:h},backend:n}),p.push(h))}m<d-1&&(u[m]>=0&&(h=Gy({inputs:{x:h},backend:n,attrs:{axis:u[m]-(o.length-f),keepDims:!1}}),p.push(h)),f--)}for(const m of p)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const gTt={kernelName:Uw,backendName:"cpu",kernelFunc:mTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vTt(t){const{inputs:e,backend:n}=t,{dy:s,y:r}=e;Jt([s,r],"eluGrad");const a=new Float32Array(tt(r.shape)),o=n.data.get(r.dataId).values,i=n.data.get(s.dataId).values;for(let l=0;l<o.length;++l){const u=o[l];u>=0?a[l]=i[l]:a[l]=i[l]*(u+1)}return n.makeTensorInfo(r.shape,"float32",a)}const yTt={kernelName:Ww,backendName:"cpu",kernelFunc:vTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bTt=TN,_Tt=kN,wTt=$N,xTt=EN,CTt=IN,STt=NN,TTt=as(nm,t=>{const e=Math.sign(t),n=Math.abs(t),s=1/(1+bTt*n);return e*(1-((((STt*s+CTt)*s+xTt)*s+wTt)*s+_Tt)*s*Math.exp(-n*n))}),kTt={kernelName:nm,backendName:"cpu",kernelFunc:TTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J3(t){const{inputs:e,backend:n,attrs:s}=t,{input:r}=e,{dim:a}=s,o=r.shape.length,i=r.shape.slice();let l=a;return a<0&&(ae(-(o+1)<=a,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+a+1),i.splice(l,0,1),_s({inputs:{x:r},backend:n,attrs:{shape:i}})}const $Tt={kernelName:Ev,backendName:"cpu",kernelFunc:J3};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ETt=cr((t,e)=>t/e),EA=Nr(em,ETt),wk={kernelName:em,backendName:"cpu",kernelFunc:EA};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fQ(t,e,n){const s=t.shape,r=s[0],a=s[1],o=n.data.get(t.dataId),i=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,u=[r,a],c=tt(u),d=Br("float32",c),h=Br("float32",c);for(let y=0;y<r;y++){const v=Qh({inputs:{x:i},backend:n,attrs:{begin:[y,0],size:[1,a]}}),b=Qh({inputs:{x:l},backend:n,attrs:{begin:[y,0],size:[1,a]}}),w=mo({inputs:{real:v,imag:b},backend:n}),{real:_,imag:C}=ITt(w,e,n),x=ju(_,C);for(let T=0;T<a;T++){const k=AN(x,T);d[y*a+T]=k.real,h[y*a+T]=k.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(w)}const f=n.makeTensorInfo(u,"float32",d),p=n.makeTensorInfo(u,"float32",h),m=mo({inputs:{real:f,imag:p},backend:n});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),m}function ITt(t,e,n){const s=tt(t.shape),r=n.data.get(t.dataId),a=n.data.get(r.complexTensorInfos.real.dataId).values,o=n.data.get(r.complexTensorInfos.imag.dataId).values;if(NTt(s)){const i=xk(a,o,s,e,n),l=[t.shape[0],t.shape[1]];if(e){const u=n.makeTensorInfo(l,"float32",i.real),c=n.makeTensorInfo(l,"float32",i.imag),d=n.makeTensorInfo([],"float32",rc(s,"float32")),h=nu({inputs:{x:d},backend:n}),f=wk.kernelFunc({inputs:{a:u,b:d},backend:n}),p=wk.kernelFunc({inputs:{a:c,b:h},backend:n}),m=n.data.get(f.dataId).values,y=n.data.get(p.dataId).values;return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),{real:m,imag:y}}return i}else{const i=ju(a,o),l=ATt(i,s,e);return iK(l)}}function NTt(t){return(t&t-1)===0}function xk(t,e,n,s,r){if(n===1)return{real:t,imag:e};const a=ju(t,e),o=n/2,i=lK(a),l=i.real,u=i.imag,c=[l.length],d=r.makeTensorInfo(c,"float32",l),h=r.makeTensorInfo(c,"float32",u),f=mo({inputs:{real:d,imag:h},backend:r}),p=uK(a),m=p.real,y=p.imag,v=[m.length],b=r.makeTensorInfo(v,"float32",m),w=r.makeTensorInfo(v,"float32",y),_=mo({inputs:{real:b,imag:w},backend:r}),C=xk(l,u,o,s,r),x=C.real,T=C.imag,k=[x.length],N=r.makeTensorInfo(k,"float32",x),O=r.makeTensorInfo(k,"float32",T),L=mo({inputs:{real:N,imag:O},backend:r}),V=xk(m,y,o,s,r),H=V.real,K=V.imag,U=[H.length],R=r.makeTensorInfo(U,"float32",H),W=r.makeTensorInfo(U,"float32",K),G=mo({inputs:{real:R,imag:W},backend:r}),P=dK(n,s),j=[P.real.length],J=r.makeTensorInfo(j,"float32",P.real),ne=r.makeTensorInfo(j,"float32",P.imag),te=mo({inputs:{real:J,imag:ne},backend:r}),de=zx({inputs:{a:te,b:G},backend:r}),me=g0({inputs:{a:L,b:de},backend:r}),_e=kA({inputs:{a:L,b:de},backend:r}),ee=Yh({inputs:{input:me},backend:r}),he=Yh({inputs:{input:_e},backend:r}),le=v0({inputs:{input:me},backend:r}),ue=v0({inputs:{input:_e},backend:r}),re=y0({inputs:[ee,he],backend:r,attrs:{axis:0}}),we=y0({inputs:[le,ue],backend:r,attrs:{axis:0}}),Ae=r.data.get(re.dataId).values,Ue=r.data.get(we.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(N),r.disposeIntermediateTensorInfo(O),r.disposeIntermediateTensorInfo(L),r.disposeIntermediateTensorInfo(R),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(J),r.disposeIntermediateTensorInfo(ne),r.disposeIntermediateTensorInfo(te),r.disposeIntermediateTensorInfo(de),r.disposeIntermediateTensorInfo(me),r.disposeIntermediateTensorInfo(_e),r.disposeIntermediateTensorInfo(ee),r.disposeIntermediateTensorInfo(le),r.disposeIntermediateTensorInfo(he),r.disposeIntermediateTensorInfo(ue),r.disposeIntermediateTensorInfo(re),r.disposeIntermediateTensorInfo(we),{real:Ae,imag:Ue}}function ATt(t,e,n){const s=new Float32Array(e*2);for(let r=0;r<e;r++){let a=0,o=0;for(let i=0;i<e;i++){const l=hK(r*i,e,n),u=AN(t,i);a+=u.real*l.real-u.imag*l.imag,o+=u.real*l.imag+u.imag*l.real}n&&(a/=e,o/=e),cK(s,a,o,r)}return s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DTt(t){const{inputs:e,backend:n}=t,{input:s}=e,r=tt(s.shape),a=s.shape[s.shape.length-1],o=r/a,i=_s({inputs:{x:s},backend:n,attrs:{shape:[o,a]}}),l=fQ(i,!1,n),u=_s({inputs:{x:l},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}const OTt={kernelName:jw,backendName:"cpu",kernelFunc:DTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IA(t){const{backend:e,attrs:n}=t,{shape:s,value:r,dtype:a}=n,o=a||ff(r),i=Zs(o,tt(s));return LTt(i,r,o),e.makeTensorInfo(s,o,i)}const RTt={kernelName:Gw,backendName:"cpu",kernelFunc:IA};function LTt(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PTt={kernelName:qw,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:s}=t,r=n,a=Br(s.dtype,tt(s.shape)),[o,i,l,u]=s.shape,c=r.data.get(s.dataId).values;for(let h=0;h<o;h++){const f=h*l*i*u;for(let p=0;p<i;p++){const m=p*(l*u);for(let y=0;y<l;y++){const v=y*u;for(let b=0;b<u;b++){const w=Math.round(l-y-1),_=f+m+v+b;let C=c[_];if(w>=0&&w<l){const x=w*u,T=f+m+x+b;C=c[T]}a[_]=C}}}}return{dataId:r.write(a,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MTt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a,bias:o,preluActivationWeights:i}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=s;let m=dQ({inputs:{x:r,filter:a},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h}});if(o){const y=m;if(c==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const v=_s({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=g0({inputs:{a:m,b:v},backend:n}),n.disposeIntermediateTensorInfo(v)}else m=g0({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(y)}if(f){const y=m;if(c==="NCHW"&&f==="prelu"&&i.shape.length===1&&i.shape[0]!==1){const v=_s({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=Z3(n,m,f,v,p),n.disposeIntermediateTensorInfo(v)}else m=Z3(n,m,f,i,p);n.disposeIntermediateTensorInfo(y)}return m}const FTt={kernelName:v1,backendName:"cpu",kernelFunc:MTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BTt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a,bias:o,preluActivationWeights:i}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=s;let m=hQ({inputs:{x:r,filter:a},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h}});if(o){const y=m;m=g0({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(y)}if(f){const y=m;m=Z3(n,m,f,i,p),n.disposeIntermediateTensorInfo(y)}return m}const zTt={kernelName:y1,backendName:"cpu",kernelFunc:BTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VTt(t){const{inputs:e,backend:n}=t,{params:s,indices:r}=e,a=tt(s.shape),o=r.shape,i=o[o.length-1],[l,u,c,d]=px(s,r);if(u===0)return n.makeTensorInfo(l,s.dtype,[]);const h=n.data.get(r.dataId).values,f=n.bufferSync(s),p=wY(h,f,s.dtype,u,i,c,d,s.shape,a);return n.makeTensorInfo(l,s.dtype,p.values)}const HTt={kernelName:Kw,backendName:"cpu",kernelFunc:VTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UTt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,indices:a}=e,{axis:o,batchDims:i}=s;Jt([r,a],"gatherV2");const l=Rn(o,r.shape)[0],u=n.data.get(a.dataId).values,c=r.shape[l];for(let _=0;_<u.length;++_){const C=u[_];ae(C<=c-1&&C>=0,()=>`GatherV2: the index value ${C} is not in [0, ${c-1}]`)}let d=i;i==null&&(d=0);const h=tt(a.shape),f=FN(r,a,l,d),p=_s({inputs:{x:r},backend:n,attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]}}),m=_s({inputs:{x:a},backend:n,attrs:{shape:[f.batchSize,h/f.batchSize]}}),y=[f.batchSize,f.outerSize,h/f.batchSize,f.sliceSize],v=n.bufferSync(m),b=n.bufferSync(p),w=xY(b,v,y);return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(f.outputShape,w.dtype,w.values)}const WTt={kernelName:Nv,backendName:"cpu",kernelFunc:UTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jTt(t){const{inputs:e,backend:n}=t,{input:s}=e,r=tt(s.shape),a=s.shape[s.shape.length-1],o=r/a,i=_s({inputs:{x:s},backend:n,attrs:{shape:[o,a]}}),l=fQ(i,!0,n),u=_s({inputs:{x:l},backend:n,attrs:{shape:s.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(l),u}const GTt={kernelName:Xw,backendName:"cpu",kernelFunc:jTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qTt=as(um,t=>Number.isFinite(t)?1:0,"bool"),KTt={kernelName:um,backendName:"cpu",kernelFunc:qTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XTt=as(cm,t=>Math.abs(t)===1/0?1:0,"bool"),YTt={kernelName:cm,backendName:"cpu",kernelFunc:XTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QTt=as(dm,t=>Number.isNaN(t)?1:0,"bool"),ZTt={kernelName:dm,backendName:"cpu",kernelFunc:QTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JTt(t){const{backend:e,attrs:n}=t,{start:s,stop:r,num:a}=n,o=$Y(s,r,a);return e.makeTensorInfo([o.length],"float32",o)}const ekt={kernelName:Qw,backendName:"cpu",kernelFunc:JTt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tkt=as(fm,t=>Math.log1p(t)),nkt={kernelName:fm,backendName:"cpu",kernelFunc:tkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const skt=cr((t,e)=>t&&e),rkt=Nr(Lv,skt,null,"bool"),akt={kernelName:Lv,backendName:"cpu",kernelFunc:rkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const okt=as(Pv,t=>t?0:1,"bool"),ikt={kernelName:Pv,backendName:"cpu",kernelFunc:okt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lkt=cr((t,e)=>t||e),ukt=Nr(Mv,lkt,null,"bool"),ckt={kernelName:Mv,backendName:"cpu",kernelFunc:ukt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{depthRadius:a,bias:o,alpha:i,beta:l}=s;Jt(r,"LRN");const u=r.shape[3],c=u-1,d=n.data.get(r.dataId).values,h=tt(r.shape),f=new Float32Array(h);function p(m){const y=m%u;let v=m-y+Math.max(0,y-a);const b=m-y+Math.min(y+a,c);let w=0;for(;v<=b;v++){const _=d[v];w+=_*_}return w}for(let m=0;m<h;m++){const y=p(m),v=d[m]*Math.pow(o+i*y,-l);f[m]=v}return n.makeTensorInfo(r.shape,r.dtype,f)}const hkt={kernelName:Fv,backendName:"cpu",kernelFunc:dkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,y:a,dy:o}=e,{depthRadius:i,bias:l,alpha:u,beta:c}=s;Jt(o,"LRNGrad");const d=tt(o.shape),h=o.shape[3],f=n.data.get(o.dataId).values,p=n.data.get(r.dataId).values,m=n.data.get(a.dataId).values,y=new Float32Array(d),v=d;for(let b=0;b<v;b++){const w=b%h,_=b-w+Math.max(0,w-i),C=b-w+Math.min(h,w+i+1);let x=0;for(let T=_;T<C;T++)x+=Math.pow(p[T],2);x=u*x+l;for(let T=_;T<C;T++){let k=-2*u*c*p[T]*m[b]/x;b===T&&(k+=Math.pow(x,-c)),k*=f[b],y[T]+=k}}return n.makeTensorInfo(o.shape,r.dtype,y)}const pkt={kernelName:Zw,backendName:"cpu",kernelFunc:fkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pQ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reductionIndices:a,keepDims:o}=s,i=n;let l=r.shape;const u=l.length,c=Rn(a,l);let d=c;const h=Ys(d,u);let f=i.data.get(r.dataId).values;if(h!=null){const _=new Array(u);for(let C=0;C<_.length;C++)_[C]=l[h[C]];f=SA(f,l,r.dtype,h,_),d=lr(d.length,u),l=_}Jt(r,"max"),ia("max",d,u);const[p,m]=Hr(l,d),y=tt(m),v=IY(f,y,p,r.dtype),b=i.write(v,p,r.dtype);let w=p;return o&&(w=ir(p,c)),{dataId:b,shape:w,dtype:r.dtype}}const mkt={kernelName:Bv,backendName:"cpu",kernelFunc:pQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;Jt(r,"maxPool");const{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=s,u=1;ae(oa(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Pi(r.shape,a,o,u,i,l);let d;if(c.filterWidth===1&&c.filterHeight===1&&Bn(c.inShape,c.outShape))d=nu({inputs:{x:r},backend:n});else{const h=n.data.get(r.dataId).values,f=sn(r.shape),p=$A(h,r.shape,r.dtype,f,c,"max");d=n.makeTensorInfo(c.outShape,r.dtype,p.values)}return d}const vkt={kernelName:zv,backendName:"cpu",kernelFunc:gkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ykt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:a,strides:o,pad:i,dimRoundingMode:l,dataFormat:u}=s;Jt(r,"maxPool3d");const c=ac(r.shape,a,o,1,i,l,u),d=n.data.get(r.dataId).values,h=cQ(d,r.shape,r.dtype,sn(r.shape),c,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const bkt={kernelName:Vv,backendName:"cpu",kernelFunc:ykt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _kt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a}=e,{filterSize:o,strides:i,pad:l,dimRoundingMode:u}=s;Jt([r,a],"maxPool3DGrad");const c=ac(a.shape,o,i,1,l,u),d=n.bufferSync(a),h=lSt(d,c),f=c.strideDepth,p=c.strideHeight,m=c.strideWidth,y=c.dilationDepth,v=c.dilationHeight,b=c.dilationWidth,w=c.effectiveFilterDepth,_=c.effectiveFilterHeight,C=c.effectiveFilterWidth,x=w-1-c.padInfo.front,T=C-1-c.padInfo.left,k=_-1-c.padInfo.top,N=En(a.shape,"float32"),O=n.bufferSync(r);for(let L=0;L<c.batchSize;++L)for(let V=0;V<c.inChannels;++V)for(let H=0;H<c.inDepth;++H)for(let K=0;K<c.inHeight;++K)for(let U=0;U<c.inWidth;++U){const R=H-x,W=K-k,G=U-T;let P=0;for(let j=0;j<w;j+=y){const J=(R+j)/f;if(!(J<0||J>=c.outDepth||Math.floor(J)!==J))for(let ne=0;ne<_;ne+=v){const te=(W+ne)/p;if(!(te<0||te>=c.outHeight||Math.floor(te)!==te))for(let de=0;de<C;de+=b){const me=(G+de)/m;if(me<0||me>=c.outWidth||Math.floor(me)!==me)continue;const _e=w*_*C-1-h.get(L,J,te,me,V),ee=j*_*C+ne*C+de,he=_e===ee?1:0;if(he===0)continue;const le=O.get(L,J,te,me,V);P+=le*he}}}N.set(P,L,H,K,U,V)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}const wkt={kernelName:e6,backendName:"cpu",kernelFunc:_kt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xkt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a,output:o}=e,i=a;Jt([a,o],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=s,h=Pi(i.shape,l,u,1,c,d),f=n.data.get(i.dataId).values,p=En(h.outShape,i.dtype,uQ(f,i.shape,i.dtype,h).values),m=h.strideHeight,y=h.strideWidth,v=h.dilationHeight,b=h.dilationWidth,w=h.effectiveFilterHeight,_=h.effectiveFilterWidth,C=_-1-h.padInfo.left,x=w-1-h.padInfo.top,T=En(i.shape,"float32"),k=n.data.get(r.dataId).values,N=En(r.shape,"float32",k);for(let O=0;O<h.batchSize;++O)for(let L=0;L<h.inChannels;++L)for(let V=0;V<h.inHeight;++V)for(let H=0;H<h.inWidth;++H){const K=V-x,U=H-C;let R=0;for(let W=0;W<w;W+=v){const G=(K+W)/m;if(!(G<0||G>=h.outHeight||Math.floor(G)!==G))for(let P=0;P<_;P+=b){const j=(U+P)/y;if(j<0||j>=h.outWidth||Math.floor(j)!==j)continue;const J=w*_-1-p.get(O,G,j,L),ne=W*_+P,te=J===ne?1:0;if(te===0)continue;const de=N.get(O,G,j,L);R+=de*te}}T.set(R,O,V,H,L)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const Ckt={kernelName:Jw,backendName:"cpu",kernelFunc:xkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Skt(t,e,n,s,r){const a=sn(e),o=$A(t,e,n,a,r,"max"),i=uQ(t,e,n,r,!0,s);return[o.values,i.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tkt={kernelName:t6,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:s}=t,{filterSize:r,strides:a,pad:o,includeBatchInIndex:i}=e,l=n;Jt(s,"MaxPoolWithArgmax");const u=l.data.get(s.dataId).values,c=Pi(s.shape,r,a,[1,1],o),[d,h]=Skt(u,s.shape,s.dtype,i,c),f=l.write(d,c.outShape,s.dtype),p=l.write(h,c.outShape,s.dtype);return[{dataId:f,shape:c.outShape,dtype:s.dtype},{dataId:p,shape:c.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s,i=Rn(a,r.shape),u=Hr(r.shape,i)[1],c=tt(u),d=[],h=n.makeTensorInfo([],"float32",new Float32Array([c]));d.push(h);const f=cd({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});d.push(f);const p=EA({inputs:{a:f,b:h},backend:n});d.push(p);const m=Gy({inputs:{x:p},backend:n,attrs:{axis:a,keepDims:o}});return d.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const $kt={kernelName:Hv,backendName:"cpu",kernelFunc:kkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ekt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s;Jt(r,"min");const i=Rn(a,r.shape);let l=i;const u=Ys(l,r.shape.length);let c=r;u!=null&&(c=ro({inputs:{x:r},backend:n,attrs:{perm:u}}),l=lr(l.length,r.shape.length)),ia("min",l,c.shape.length);const[d,h]=Hr(c.shape,l),f=tt(h),p=ea(tt(d),c.dtype),m=n.data.get(c.dataId).values;for(let v=0;v<p.length;++v){const b=v*f;let w=m[b];for(let _=0;_<f;++_){const C=m[b+_];(Number.isNaN(C)||C<w)&&(w=C)}p[v]=w}u!=null&&n.disposeIntermediateTensorInfo(c);const y=n.makeTensorInfo(d,c.dtype,p);if(o){const v=ir(d,i),b=_s({inputs:{x:y},backend:n,attrs:{shape:v}});return n.disposeIntermediateTensorInfo(y),b}return y}const Ikt={kernelName:Uv,backendName:"cpu",kernelFunc:Ekt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{paddings:a,mode:o}=s;Jt(r,"mirrorPad");const i=a.map((w,_)=>w[0]+r.shape[_]+w[1]),l=a.map(w=>w[0]),u=a.map((w,_)=>w[0]+r.shape[_]),c=o==="reflect"?0:1,d=n.data.get(r.dataId).values,h=r.shape.length,f=sn(r.shape),p=tt(i),m=i.length,y=sn(i),v=Br(r.dtype,p);for(let w=0;w<p;w++){let _=pf(w,m,y);for(let x=0;x<m;x++)_[x]<l[x]?_[x]=l[x]*2-_[x]-c:_[x]>=u[x]&&(_[x]=(u[x]-1)*2-_[x]+c);_=_.map((x,T)=>x-l[T]);const C=tl(_,h,f);v[w]=d[C]}return{dataId:n.write(v,i,r.dtype),shape:i,dtype:r.dtype}}const Akt={kernelName:Wv,backendName:"cpu",kernelFunc:Nkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Dkt=cr((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),Okt=Nr(gm,Dkt),Rkt={kernelName:gm,backendName:"cpu",kernelFunc:Okt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mQ(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{dim:a}=s,o=r.shape.length;let i=a;if(i===-1&&(i=o-1),i!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${i}`);const l=Rn([i],r.shape),u=pQ({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=ir(u.shape,l),d=_s({inputs:{x:u},backend:n,attrs:{shape:c}}),h=kA({inputs:{a:r,b:d},backend:n}),f=vY({inputs:{x:h},backend:n}),p=Gy({inputs:{x:f},backend:n,attrs:{axis:l,keepDims:!1}}),m=_s({inputs:{x:p},backend:n,attrs:{shape:c}}),y=EA({inputs:{a:f,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),y}const Lkt={kernelName:ly,backendName:"cpu",kernelFunc:mQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pkt(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{numSamples:a,seed:o,normalized:i}=s;Jt(r,"multinomial");const l=i?r:mQ({inputs:{logits:r},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,h=[u,a],f=ea(tt(h),"int32");for(let p=0;p<u;++p){const m=p*c,y=new Float32Array(c-1);y[0]=d[m];for(let w=1;w<y.length;++w)y[w]=y[w-1]+d[m+w];const v=Um.alea(o.toString()),b=p*a;for(let w=0;w<a;++w){const _=v();f[b+w]=y.length;for(let C=0;C<y.length;C++)if(_<y[C]){f[b+w]=C;break}}}return i||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",f)}const Mkt={kernelName:n6,backendName:"cpu",kernelFunc:Pkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Fkt=cx;function Bkt(t){const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:a}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:l}=s;Jt(r,"NonMaxSuppression");const u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,{selectedIndices:d}=Fkt(u,c,o,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const zkt={kernelName:s6,backendName:"cpu",kernelFunc:Bkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vkt=dx;function Hkt(t){const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:a}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:u}=s;Jt(r,"NonMaxSuppressionPadded");const c=n.data.get(r.dataId).values,d=n.data.get(a.dataId).values,{selectedIndices:h,validOutputs:f}=Vkt(c,d,o,i,l,u);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}const Ukt={kernelName:r6,backendName:"cpu",kernelFunc:Hkt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Wkt=hx;function jkt(t){const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:a}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=s;Jt(r,"NonMaxSuppressionWithScore");const c=n.data.get(r.dataId).values,d=n.data.get(a.dataId).values,h=o,f=i,p=l,m=u,{selectedIndices:y,selectedScores:v}=Wkt(c,d,h,f,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const Gkt={kernelName:a6,backendName:"cpu",kernelFunc:jkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qkt(t){const{inputs:e,backend:n,attrs:s}=t,{indices:r}=e,{dtype:a,depth:o,onValue:i,offValue:l}=s;Jt(r,"oneHot");const u=tt(r.shape),c=new Float32Array(u*o);c.fill(l);const d=n.data.get(r.dataId).values;for(let h=0;h<u;++h)d[h]>=0&&d[h]<o&&(c[h*o+d[h]]=i);return n.makeTensorInfo([...r.shape,o],a,c)}const Kkt={kernelName:Kv,backendName:"cpu",kernelFunc:qkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e4(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(s.dtype==="complex64"){const r=Yh({inputs:{input:s},backend:n}),a=e4({inputs:{x:r},backend:n}),o=v0({inputs:{input:s},backend:n}),i=e4({inputs:{x:o},backend:n}),l=mo({inputs:{real:a,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),l}else return IA({backend:n,attrs:{shape:s.shape,value:0,dtype:s.dtype}})}const Xkt={kernelName:hy,backendName:"cpu",kernelFunc:e4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gQ(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(s.dtype==="complex64"){const r=Yh({inputs:{input:s},backend:n}),a=gQ({inputs:{x:r},backend:n}),o=v0({inputs:{input:s},backend:n}),i=e4({inputs:{x:o},backend:n}),l=mo({inputs:{real:a,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),l}else return IA({backend:n,attrs:{shape:s.shape,value:1,dtype:s.dtype}})}const Ykt={kernelName:qv,backendName:"cpu",kernelFunc:gQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vQ(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s;if(e.length===1)return J3({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const a=e[0].shape,o=e[0].dtype;e.forEach(c=>{aa(a,c.shape,"All tensors passed to stack must have matching shapes"),ae(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],l=e.map(c=>{const d=J3({inputs:{input:c},backend:n,attrs:{dim:r}});return i.push(d),d}),u=y0({inputs:l,backend:n,attrs:{axis:r}});return i.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const Qkt={kernelName:Xv,backendName:"cpu",kernelFunc:vQ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zkt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{paddings:a,constantValue:o}=s;Jt(r,"pad");const i=a.map((b,w)=>b[0]+r.shape[w]+b[1]),l=a.map(b=>b[0]),u=n.data.get(r.dataId).values,c=tt(r.shape),d=r.shape.length,h=sn(r.shape),f=tt(i),p=i.length,m=sn(i),y=Br(r.dtype,f);o!==0&&y.fill(o);for(let b=0;b<c;b++){const _=pf(b,d,h).map((x,T)=>x+l[T]),C=tl(_,p,m);y[C]=u[b]}return{dataId:n.write(y,i,r.dtype),shape:i,dtype:r.dtype}}const yQ={kernelName:Yv,backendName:"cpu",kernelFunc:Zkt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jkt=cr((t,e)=>Math.pow(t,e)),e$t=Nr(ym,Jkt),t$t={kernelName:ym,backendName:"cpu",kernelFunc:e$t};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n$t(t){const{inputs:e,backend:n,attrs:s}=t,{paramsNestedSplits:r,paramsDenseValues:a,indices:o}=e,i=r.map(y=>n.data.get(y.dataId).values),l=r.map(y=>y.shape),u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,[d,h,f]=LY(i,l,u,a.shape,a.dtype,c,o.shape),p=d.map(y=>n.makeTensorInfo([y.length],"int32",y)),m=n.makeTensorInfo(f,a.dtype,h);return p.concat([m])}const s$t={kernelName:o6,backendName:"cpu",kernelFunc:n$t};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r$t(t){const{inputs:e,backend:n}=t,{starts:s,limits:r,deltas:a}=e,o=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[u,c]=PY(o,s.shape,s.dtype,i,r.shape,l,a.shape),d=n.makeTensorInfo([u.length],"int32",u),h=n.makeTensorInfo([c.length],s.dtype,c);return[d,h]}const a$t={kernelName:i6,backendName:"cpu",kernelFunc:r$t};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o$t(t){const{inputs:e,backend:n,attrs:s}=t,{shape:r,values:a,defaultValue:o,rowPartitionTensors:i}=e,{rowPartitionTypes:l}=s,u=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,d=n.data.get(o.dataId).values,h=i.map(y=>n.data.get(y.dataId).values),f=i.map(y=>y.shape),[p,m]=MY(u,r.shape,c,a.shape,a.dtype,d,o.shape,h,f,l);return n.makeTensorInfo(p,a.dtype,m)}const i$t={kernelName:l6,backendName:"cpu",kernelFunc:o$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l$t(t){const{backend:e,attrs:n}=t,{start:s,stop:r,dtype:a,step:o}=n,i=FY(s,r,o,a);return e.makeTensorInfo([i.length],a,i)}const u$t={kernelName:u6,backendName:"cpu",kernelFunc:l$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c$t=as(bm,t=>1/t),d$t={kernelName:bm,backendName:"cpu",kernelFunc:c$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h$t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:a,halfPixelCenters:o,size:i}=s;Jt(r,"resizeBilinear");const l=sn(r.shape),[u,c]=i,[d,h,f,p]=r.shape,m=n.data.get(r.dataId).values,y=new Float32Array(tt([d,u,c,p])),v=[a&&u>1?h-1:h,a&&c>1?f-1:f],b=[a&&u>1?u-1:u,a&&c>1?c-1:c];let w=0;const _=v[0]/b[0],C=v[1]/b[1];for(let x=0;x<d;x++)for(let T=0;T<u;T++){let k;o?k=_*(T+.5)-.5:k=_*T;const N=Math.max(0,Math.floor(k)),O=k-N,L=Math.min(h-1,Math.ceil(k)),V=x*l[0]+N*l[1],H=x*l[0]+L*l[1];for(let K=0;K<c;K++){let U;o?U=C*(K+.5)-.5:U=C*K;const R=Math.max(0,Math.floor(U)),W=U-R,G=Math.min(f-1,Math.ceil(U)),P=V+R*l[2],j=H+R*l[2],J=V+G*l[2],ne=H+G*l[2];for(let te=0;te<p;te++){const de=m[P+te],me=m[j+te],_e=m[J+te],ee=m[ne+te],he=de+(_e-de)*W,le=me+(ee-me)*W,ue=he+(le-he)*O;y[w++]=ue}}}return n.makeTensorInfo([d,u,c,p],"float32",y)}const f$t={kernelName:ty,backendName:"cpu",kernelFunc:h$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p$t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:a}=e,{alignCorners:o}=s;Jt([a,r],"resizeBilinearGrad");const i=sn(r.shape),[l,u,c,d]=r.shape,[,h,f]=a.shape,p=new Float32Array(l*u*c*d),m=[o&&h>1?u-1:u,o&&f>1?c-1:c],y=[o&&h>1?h-1:h,o&&f>1?f-1:f],v=m[0]/y[0],b=m[1]/y[1],w=n.data.get(a.dataId).values;let _=0;for(let C=0;C<l;C++){const x=C*i[0];for(let T=0;T<h;T++){const k=T*v,N=Math.floor(k),O=Math.min(Math.ceil(k),u-1),L=x+N*i[1],V=x+O*i[1],H=k-N,K=1-H;for(let U=0;U<f;U++){const R=U*b,W=Math.floor(R),G=Math.min(Math.ceil(R),c-1),P=R-W,j=1-P,J=L+W*i[2],ne=L+G*i[2],te=V+W*i[2],de=V+G*i[2],me=K*j,_e=K*P,ee=H*j,he=H*P;for(let le=0;le<d;le++){const ue=w[_++];p[J+le]+=ue*me,p[ne+le]+=ue*_e,p[te+le]+=ue*ee,p[de+le]+=ue*he}}}}return n.makeTensorInfo([l,c,u,d],"float32",p)}const m$t={kernelName:h6,backendName:"cpu",kernelFunc:p$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g$t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:a,halfPixelCenters:o,size:i}=s;Jt(r,"resizeNearestNeighbor");const l=sn(r.shape),[u,c]=i,[d,h,f,p]=r.shape,m=n.data.get(r.dataId).values,y=new Float32Array(d*u*c*p),v=[a&&u>1?h-1:h,a&&c>1?f-1:f],b=[a&&u>1?u-1:u,a&&c>1?c-1:c],w=v[0]/b[0],_=v[1]/b[1];let C=0;for(let x=0;x<d;x++){const T=x*l[0];for(let k=0;k<u;k++){const N=o?w*(k+.5):w*k;let O=Math.min(h-1,a?Math.round(N):Math.floor(N));o&&(O=Math.max(0,O));const L=T+O*l[1];for(let V=0;V<c;V++){const H=o?_*(V+.5):_*V;let K=Math.min(f-1,a?Math.round(H):Math.floor(H));o&&(K=Math.max(0,K));const U=L+K*l[2];for(let R=0;R<p;R++){const W=m[U+R];y[C++]=W}}}}return n.makeTensorInfo([d,u,c,p],r.dtype,y)}const v$t={kernelName:ey,backendName:"cpu",kernelFunc:g$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y$t(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:a}=e,{alignCorners:o}=s;Jt([a,r],"resizeNearestNeighborGrad");const i=sn(r.shape),l=sn(a.shape),[u,c,d,h]=r.shape,[,f,p]=a.shape,m=new Float32Array(u*c*d*h),y=n.data.get(a.dataId).values,v=[o&&f>1?c-1:c,o&&p>1?d-1:d],b=[o&&f>1?f-1:f,o&&p>1?p-1:p],w=v[0]/b[0],_=v[1]/b[1],C=1/w,x=1/_,T=Math.ceil(C)*2+2,k=Math.ceil(x)*2+2;for(let N=0;N<u;N++){const O=N*i[0];for(let L=0;L<c;L++){const V=O+L*i[1],H=Math.floor(L*C),K=Math.floor(H-T/2);for(let U=0;U<d;U++){const R=V+U*i[2],W=Math.floor(U*x),G=Math.floor(W-k/2);for(let P=0;P<h;P++){let j=0;for(let J=0;J<T;J++){const ne=J+K;if(ne<0||ne>=f)continue;const te=O+ne*l[1],de=ne*w,me=Math.min(c-1,o?Math.round(de):Math.floor(de));if(L===me)for(let _e=0;_e<k;_e++){const ee=_e+G;if(ee<0||ee>=p)continue;const he=te+ee*l[2],le=ee*_,ue=Math.min(d-1,o?Math.round(le):Math.floor(le));U===ue&&(j+=y[he+P])}}m[R+P]=j}}}}return n.makeTensorInfo(r.shape,r.dtype,m)}const b$t={kernelName:d6,backendName:"cpu",kernelFunc:y$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _$t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dims:a}=s;Jt(r,"reverse");const o=r.shape.length,i=Rn(a,r.shape);if(o===0)return nu({inputs:{x:r},backend:n});const l=new yr(r.shape,r.dtype),u=n.bufferSync(r);for(let c=0;c<l.size;c++){const d=l.indexToLoc(c),h=d.slice();i.forEach(f=>h[f]=r.shape[f]-1-h[f]),l.set(u.get(...h),...d)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}const w$t={kernelName:ny,backendName:"cpu",kernelFunc:_$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const x$t={kernelName:I6,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:s}=t,{radians:r,fillValue:a,center:o}=e,i=n,l=Br(s.dtype,tt(s.shape)),[u,c,d,h]=s.shape,[f,p]=xN(o,c,d),m=255,y=Math.sin(r),v=Math.cos(r),b=i.data.get(s.dataId).values;for(let _=0;_<u;_++){const C=_*d*c*h;for(let x=0;x<c;x++){const T=x*(d*h);for(let k=0;k<d;k++){const N=k*h;for(let O=0;O<h;O++){const L=[u,x,k,O],V=L[2],H=L[1];let K=(V-f)*v-(H-p)*y,U=(V-f)*y+(H-p)*v;K=Math.round(K+f),U=Math.round(U+p);let R=a;if(typeof a!="number"&&(O===3?R=m:R=a[O]),K>=0&&K<d&&U>=0&&U<c){const G=U*(d*h),P=K*h,j=C+G+P+O;R=b[j]}const W=C+T+N+O;l[W]=R}}}}return{dataId:i.write(l,s.shape,s.dtype),shape:s.shape,dtype:s.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const C$t=as(xm,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),S$t={kernelName:xm,backendName:"cpu",kernelFunc:C$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T$t(t){const{inputs:e,backend:n,attrs:s}=t,{indices:r,updates:a}=e,{shape:o}=s,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=$d(a,r,o),h=!0,f=n.bufferSync(r),p=n.bufferSync(a),m=fh(f,p,o,d,u,l,i,c,0,h);return n.makeTensorInfo(o,m.dtype,m.values)}const k$t={kernelName:f6,backendName:"cpu",kernelFunc:T$t};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $$t(t,e){let n=0,s=t.length,r=0;for(;n<s;)r=Math.floor((n+s)/2),t[r]<e?n=r+1:s=r;return s}function E$t(t,e){let n=0,s=t.length,r=0;for(;n<s;)r=Math.floor((n+s)/2),t[r]<=e?n=r+1:s=r;return s}function I$t(t,e,n,s,r,a){const o=Zs("int32",n*r);for(let i=0;i<n;++i){const l=t.slice(i*s,(i+1)*s),u=i*r;for(let c=0;c<r;++c)o[u+c]=a==="left"?$$t(l,e[c+u]):E$t(l,e[c+u])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N$t(t){const{inputs:e,backend:n,attrs:s}=t,{sortedSequence:r,values:a}=e,{side:o}=s,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,u=I$t(i,l,r.shape[0],r.shape[1],a.shape[1],o);return n.makeTensorInfo(a.shape,"int32",u)}const A$t={kernelName:m6,backendName:"cpu",kernelFunc:N$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D$t(t){const{inputs:e,backend:n}=t,{condition:s,t:r,e:a}=e;Jt([s,r,a],"select");const o=s.shape.length,i=n.data.get(s.dataId).values,l=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=Ja(r.dtype,a.dtype),d=ea(tt(r.shape),c);let h=0;const f=o===0||o>1||r.shape.length===1?1:tt(r.shape.slice(1));for(let p=0;p<i.length;p++)for(let m=0;m<f;m++)i[p]===1?d[h++]=l[p]:d[h++]=u[p];return n.makeTensorInfo(r.shape,c,d)}const O$t={kernelName:sy,backendName:"cpu",kernelFunc:D$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R$t=vx,L$t=yx,P$t=as(Sm,t=>t>=0?L$t*t:R$t*(Math.exp(t)-1)),M$t={kernelName:Sm,backendName:"cpu",kernelFunc:P$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const F$t=as($m,t=>t<0?-1:t>0?1:0),B$t={kernelName:$m,backendName:"cpu",kernelFunc:F$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z$t=as(Tm,t=>Math.sin(t)),V$t={kernelName:Tm,backendName:"cpu",kernelFunc:z$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H$t=as(km,t=>Math.sinh(t)),U$t={kernelName:km,backendName:"cpu",kernelFunc:H$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W$t=11920928955078125e-23,uM=Math.log(W$t)+2,j$t=as(Im,t=>{const e=t>-uM,n=t<uM,s=Math.exp(t);let r;return n?r=s:e?r=t:r=Math.log(1+s),r}),G$t={kernelName:Im,backendName:"cpu",kernelFunc:j$t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q$t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:a,paddings:o}=s;Jt([r],"spaceToBatchND");const i=tt(a),l=[[0,0]];l.push(...o);for(let x=1+a.length;x<r.shape.length;++x)l.push([0,0]);const u=yQ.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),c=Oy(u.shape,a,i,!1),d=Ry(c.length,a.length,!1),h=Ly(u.shape,a,i,!1),m=_s({inputs:{x:u},backend:n,attrs:{shape:c}}),b=ro({inputs:{x:m},backend:n,attrs:{perm:d}}),C=_s({inputs:{x:b},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),C}const K$t={kernelName:oy,backendName:"cpu",kernelFunc:q$t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X$t(t){const{inputs:e,backend:n}=t,{indices:s,values:r,denseShape:a,defaultValue:o}=e;if(a.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${a.shape}`);if(s.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${s.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${r.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const i=n.data.get(s.dataId).values,l=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values[0],[d,h,f,p,m]=HY(i,s.shape,s.dtype,l,r.dtype,u,c);return[n.makeTensorInfo(h,s.dtype,d),n.makeTensorInfo([h[0]],r.dtype,f),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}const Y$t={kernelName:g6,backendName:"cpu",kernelFunc:X$t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q$t(t){const{inputs:e,backend:n}=t,{inputIndices:s,inputShape:r,newShape:a}=e;if(s.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${s.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const o=Array.from(n.data.get(r.dataId).values),i=n.data.get(s.dataId).values,l=Array.from(n.data.get(a.dataId).values),[u,c,d]=UY(i,s.shape,s.dtype,o,l);return[n.makeTensorInfo(c,s.dtype,u),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}const Z$t={kernelName:v6,backendName:"cpu",kernelFunc:Q$t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J$t(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:a}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${r.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[u,c]=TA(o,s.shape,s.dtype,i,l,!0);return n.makeTensorInfo(c,s.dtype,u)}const e5t={kernelName:y6,backendName:"cpu",kernelFunc:J$t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t5t(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:a}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${r.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${a.shape}`);if(r.shape[0]!==a.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(s.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values,[u,c]=TA(o,s.shape,s.dtype,i,l);return n.makeTensorInfo(c,s.dtype,u)}const n5t={kernelName:b6,backendName:"cpu",kernelFunc:t5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s5t(t){const{inputs:e,backend:n,attrs:s}=t,{sparseIndices:r,sparseValues:a,defaultValue:o}=e,{outputShape:i}=s,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:h}=$d(a,r,i),f=!1,p=n.bufferSync(r);let m;switch(a.dtype){case"bool":{const y=n.bufferSync(a),v=!!n.data.get(o.dataId).values[0];m=fh(p,y,i,h,c,u,l,d,v,f);break}case"float32":{const y=n.bufferSync(a),v=n.data.get(o.dataId).values[0];m=fh(p,y,i,h,c,u,l,d,v,f);break}case"int32":{const y=n.bufferSync(a),v=n.data.get(o.dataId).values[0];m=fh(p,y,i,h,c,u,l,d,v,f);break}case"string":{const y=n.bufferSync(a),v=zu(n.data.get(o.dataId).values[0]);m=fh(p,y,i,h,c,u,l,d,v,f);break}default:throw new Error(`Unsupported type ${a.dtype}`)}return n.makeTensorInfo(i,m.dtype,m.values)}const r5t={kernelName:_6,backendName:"cpu",kernelFunc:s5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function a5t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{numOrSizeSplits:a,axis:o}=s,i=Rn(o,r.shape)[0],l=MN(r,a,i),u=new Array(r.shape.length).fill(0),c=r.shape.slice();return l.map(d=>{const h=[...c];h[i]=d;const f=Qh({inputs:{x:r},backend:n,attrs:{begin:u,size:h}});return u[i]+=d,f})}const o5t={kernelName:iy,backendName:"cpu",kernelFunc:a5t};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i5t={kernelName:w6,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,s=e;Jt(n,"square");const r=s.data.get(n.dataId).values,a=new Float32Array(r.length);for(let i=0;i<r.length;++i){const l=r[i];a[i]=l*l}return{dataId:s.write(a,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l5t=as(Pm,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),u5t={kernelName:Pm,backendName:"cpu",kernelFunc:l5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c5t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:a,end:o,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:h}=s;Jt(r,"stridedSlice");const{finalShapeSparse:f,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:v,begin:b,end:w,strides:_}=yN(r.shape,a,o,i,l,u,c,d,h);let C;if(m)C=_s({inputs:{x:r},backend:n,attrs:{shape:p}});else if(y||v){ae(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const x=mN(b,w,_),T=Qh({inputs:{x:r},backend:n,attrs:{begin:b,size:x}});C=_s({inputs:{x:T},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(T)}else{const x=n.bufferSync(r),T=GY(f,x,_,b);C=n.makeTensorInfo(p,T.dtype,T.values)}return C}const d5t={kernelName:x6,backendName:"cpu",kernelFunc:c5t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h5t(t){const{inputs:e,backend:n,attrs:s}=t,{separator:r,nGramWidths:a,leftPad:o,rightPad:i,padWidth:l,preserveShortSequences:u}=s,{data:c,dataSplits:d}=e,h=n.data.get(c.dataId).values,f=n.data.get(d.dataId).values,[p,m]=qY(h,f,r,a,o,i,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const f5t={kernelName:C6,backendName:"cpu",kernelFunc:h5t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p5t(t){const{inputs:e,backend:n,attrs:s}=t,{skipEmpty:r}=s,{input:a,delimiter:o}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(a.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const i=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values[0],[u,c,d]=KY(i,l,r),h=c.length;return[n.makeTensorInfo([h,2],"int32",u),n.makeTensorInfo([h],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const m5t={kernelName:S6,backendName:"cpu",kernelFunc:p5t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g5t(t){const{inputs:e,backend:n,attrs:s}=t,{numBuckets:r}=s,{input:a}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(a.dataId).values,i=XY(o,r);return n.makeTensorInfo(a.shape,"int32",i)}const v5t={kernelName:T6,backendName:"cpu",kernelFunc:g5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y5t=as(Om,t=>Math.tan(t)),b5t={kernelName:Om,backendName:"cpu",kernelFunc:y5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _5t=as(Rm,t=>Math.tanh(t)),w5t={kernelName:Rm,backendName:"cpu",kernelFunc:_5t};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x5t(t){const{inputs:e,backend:n}=t,{tensor:s,indices:r,updates:a}=e,{sliceRank:o,numUpdates:i,sliceSize:l,strides:u,outputSize:c}=$d(a,r,s.shape),d=!1,h=n.bufferSync(r),f=n.bufferSync(a),p=n.bufferSync(s),m=fh(h,f,s.shape,c,l,i,o,u,p,d);return n.makeTensorInfo(s.shape,m.dtype,m.values)}const C5t={kernelName:p6,backendName:"cpu",kernelFunc:x5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S5t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reps:a}=s;Jt(r,"tile");const o=QY(n.bufferSync(r),a);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const T5t={kernelName:Lm,backendName:"cpu",kernelFunc:S5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k5t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{k:a,sorted:o}=s;Jt(r,"topk");const i=n.data.get(r.dataId).values,[l,u]=JY(i,r.shape,r.dtype,a,o);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}const $5t={kernelName:k6,backendName:"cpu",kernelFunc:k5t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E5t(t){const{inputs:e,attrs:n,backend:s}=t,{image:r,transforms:a}=e,{interpolation:o,fillMode:i,fillValue:l,outputShape:u}=n,[c,d,h,f]=r.shape,[p,m]=u??[d,h],y=[c,p,m,f],v=sn(r.shape),b=v[0],w=v[1],_=v[2],C=sn(y),x=C[0],T=C[1],k=C[2],N=Br(r.dtype,tt(y));N.fill(l);const O=s.data.get(r.dataId).values,L=s.data.get(a.dataId).values;for(let H=0;H<c;++H){const K=a.shape[0]===1?L:L.subarray(H*8,H*8+8);for(let U=0;U<p;++U)for(let R=0;R<m;++R)for(let W=0;W<f;++W){let G;const P=K[6]*R+K[7]*U+1;if(P===0)continue;const j=(K[0]*R+K[1]*U+K[2])/P,J=(K[3]*R+K[4]*U+K[5])/P,ne=cM(j,h,i),te=cM(J,d,i);switch(o){case"nearest":G=R5t(O,d,h,b,w,_,H,te,ne,W,l);break;case"bilinear":G=L5t(O,d,h,b,w,_,H,te,ne,W,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const de=H*x+U*T+R*k+W;N[de]=G}return s.makeTensorInfo(y,r.dtype,N)}return{dataId:s.write(N,y,r.dtype),shape:r.shape,dtype:r.dtype}}const I5t={kernelName:$6,backendName:"cpu",kernelFunc:E5t};function cM(t,e,n){switch(n){case"reflect":return N5t(t,e);case"wrap":return A5t(t,e);case"nearest":return O5t(t,e);case"constant":default:return D5t(t)}}function N5t(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const s=2*e;n<s&&(n=s*Math.trunc(-n/s)+n),n=n<-e?n+s:-n-1}else if(n>e-1)if(e<=1)n=0;else{const s=2*e;n-=s*Math.trunc(n/s),n>=e&&(n=s-n-1)}return nd(0,n,e-1)}function A5t(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const s=e-1;n+=e*(Math.trunc(-n/s)+1)}else if(n>e-1)if(e<=1)n=0;else{const s=e-1;n-=e*Math.trunc(n/s)}return nd(0,n,e-1)}function D5t(t,e){return t}function O5t(t,e){return nd(0,t,e-1)}function d2(t,e,n,s,r,a,o,i,l,u,c){const d=o*s+i*r+l*a+u;return 0<=i&&i<e&&0<=l&&l<n?t[d]:c}function R5t(t,e,n,s,r,a,o,i,l,u,c){const d=Math.round(i),h=Math.round(l);return d2(t,e,n,s,r,a,o,d,h,u,c)}function L5t(t,e,n,s,r,a,o,i,l,u,c){const d=Math.floor(i),h=Math.floor(l),f=d+1,p=h+1,m=(p-l)*d2(t,e,n,s,r,a,o,d,h,u,c)+(l-h)*d2(t,e,n,s,r,a,o,d,p,u,c),y=(p-l)*d2(t,e,n,s,r,a,o,f,h,u,c)+(l-h)*d2(t,e,n,s,r,a,o,f,p,u,c);return(f-i)*m+(i-d)*y}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function P5t(t){const{inputs:e,attrs:n,backend:s}=t,{axis:r}=n,{x:a}=e;Jt(a,"unique");const o=s.data.get(a.dataId).values,{outputValues:i,outputShape:l,indices:u}=eQ(o,r,a.shape,a.dtype);return[s.makeTensorInfo(l,a.dtype,i),s.makeTensorInfo([u.length],"int32",u)]}const M5t={kernelName:E6,backendName:"cpu",kernelFunc:P5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F5t(t){const{inputs:e,backend:n,attrs:s}=t,{value:r}=e;let{axis:a}=s;a<0&&(a+=r.shape.length);const o=r.shape.length,i=r.shape[a],l=new Array(o-1);let u=0;for(let f=0;f<o;f++)f!==a&&(l[u++]=r.shape[f]);const c=new Array(o).fill(0),d=r.shape.slice();d[a]=1;const h=new Array(i);for(let f=0;f<h.length;f++){c[a]=f;const p=Qh({inputs:{x:r},backend:n,attrs:{begin:c,size:d}});h[f]=_s({inputs:{x:p},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(p)}return h}const B5t={kernelName:cy,backendName:"cpu",kernelFunc:F5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z5t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,segmentIds:a}=e,{numSegments:o}=s;Jt(r,"unsortedSegmentSum");const i=r.shape.length,l=a.shape.length,u=[],c=[],d=i-l;let h=a;for(let p=0;p<d;++p){const m=J3({inputs:{input:h},backend:n,attrs:{dim:p+1}});h=m,c.push(m)}for(let p=0;p<o;++p){const m=rc(p,"int32"),y=n.makeTensorInfo([],"int32",m),v=mY({inputs:{a:y,b:h},backend:n}),b=cd({inputs:{x:v},backend:n,attrs:{dtype:"float32"}}),w=zx({inputs:{a:b,b:r},backend:n}),_=Gy({inputs:{x:w},backend:n,attrs:{axis:0,keepDims:!1}});u.push(_),c.push(y),c.push(v),c.push(b),c.push(w),c.push(_)}const f=vQ({inputs:u,backend:n,attrs:{axis:0}});return c.forEach(p=>n.disposeIntermediateTensorInfo(p)),f}const V5t={kernelName:dy,backendName:"cpu",kernelFunc:z5t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H5t=[PCt,v8t,FCt,zCt,C8t,HCt,WCt,GCt,KCt,YCt,ZCt,eSt,nSt,aSt,iSt,cSt,hSt,pSt,gSt,RCt,ySt,_St,xSt,T8t,SSt,w8t,$8t,kSt,y8t,ESt,NSt,ASt,OSt,LSt,MSt,BSt,VSt,USt,jSt,qSt,XSt,QSt,JSt,tTt,nTt,rTt,oTt,lTt,uTt,cTt,dTt,fTt,gTt,$Ct,yTt,E8t,kTt,I8t,$Tt,A8t,OTt,RTt,PTt,O8t,L8t,FTt,zTt,HTt,WTt,M8t,B8t,b8t,GTt,ISt,KTt,YTt,ZTt,ECt,V8t,U8t,ekt,j8t,nkt,akt,ikt,ckt,hkt,pkt,mkt,q8t,vkt,bkt,wkt,Ckt,Tkt,$kt,Ikt,X8t,Akt,Rkt,Mkt,Q8t,J8t,zkt,Ukt,Gkt,tCt,Kkt,Ykt,Qkt,yQ,t$t,NCt,rCt,s$t,a$t,i$t,u$t,_8t,wk,d$t,ACt,DCt,OCt,f$t,m$t,v$t,b$t,w$t,x$t,S$t,hCt,k$t,A$t,O$t,M$t,pCt,B$t,V$t,U$t,mCt,Lkt,G$t,K$t,Y$t,Z$t,e5t,n5t,r5t,o5t,yCt,i5t,_Ct,xCt,u5t,d5t,f5t,m5t,v5t,kCt,pTt,b5t,w5t,C5t,T5t,$5t,I5t,nCt,M5t,B5t,V5t,Xkt];for(const t of H5t)N6(t);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const th={},s_={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function bQ(t,e){th[t]=e}function dl(t,e){if(!(t in th)||e!=null){const s=W5t(t,e);if(s!==null)th[t]=s;else return console.log("Could not get context for WebGL version",t),null}const n=th[t];return n==null||n.isContextLost()?(delete th[t],dl(t)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),th[t])}function U5t(t){if(!ze().getBool("IS_SAFARI")&&typeof OffscreenCanvas<"u"&&t===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function W5t(t,e){if(t!==1&&t!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=e??U5t(t);return n.addEventListener("webglcontextlost",s=>{s.preventDefault(),delete th[t]},!1),ze().getBool("SOFTWARE_WEBGL_ENABLED")&&(s_.failIfMajorPerformanceCaveat=!1),t===1?n.getContext("webgl",s_)||n.getContext("experimental-webgl",s_):n.getContext("webgl2",s_)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var N1;(function(t){t[t.DENSE=0]="DENSE",t[t.SHARED_BATCH=1]="SHARED_BATCH"})(N1||(N1={}));var jo;(function(t){t[t.RENDER=0]="RENDER",t[t.UPLOAD=1]="UPLOAD",t[t.PIXELS=2]="PIXELS",t[t.DOWNLOAD=3]="DOWNLOAD"})(jo||(jo={}));var Yr;(function(t){t[t.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",t[t.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",t[t.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",t[t.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",t[t.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Yr||(Yr={}));function qy(t,e){return[e,t]}function j5t(t,e){return t*e}function r_(t){const e=tt(t),n=Math.ceil(e/4);return k3(n)}function Qm(t,e){return[Math.max(1,Math.ceil(e/2)),Math.max(1,Math.ceil(t/2))]}function G5t(t,e){const[n,s]=Qm(t,e);return n*s*4}function NA(t,e){const n=t;let s,r,a,o,i,l,u,c,d,h;return ze().getNumber("WEBGL_VERSION")===2?(s=n.R32F,r=n.R16F,a=n.RGBA16F,o=n.RGBA32F,i=n.RED,u=4,c=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(s=t.RGBA,r=t.RGBA,a=t.RGBA,o=n.RGBA,i=t.RGBA,u=4,c=4,d=e!=null?e.HALF_FLOAT_OES:null,h=t.FLOAT,l=t.RGBA),{internalFormatFloat:s,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:h}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rt(t,e){const n=e();return ze().getBool("DEBUG")&&q5t(t),n}function q5t(t){const e=t.getError();if(e!==t.NO_ERROR)throw new Error("WebGL Error: "+wQ(t,e))}const K5t=596e-10,X5t=65504;function _Q(t){return!!(ze().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||t===0||K5t<Math.abs(t)&&Math.abs(t)<X5t)}function wQ(t,e){switch(e){case t.NO_ERROR:return"NO_ERROR";case t.INVALID_ENUM:return"INVALID_ENUM";case t.INVALID_VALUE:return"INVALID_VALUE";case t.INVALID_OPERATION:return"INVALID_OPERATION";case t.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case t.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case t.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${e}`}}function h2(t,e){return dc(t,()=>t.getExtension(e),'Extension "'+e+'" not supported on this browser.')}function xQ(t,e){const n=dc(t,()=>t.createShader(t.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(Rt(t,()=>t.shaderSource(n,e)),Rt(t,()=>t.compileShader(n)),t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw console.log(t.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function CQ(t,e){const n=dc(t,()=>t.createShader(t.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(Rt(t,()=>t.shaderSource(n,e)),Rt(t,()=>t.compileShader(n)),ze().get("ENGINE_COMPILE_ONLY"))return n;if(t.getShaderParameter(n,t.COMPILE_STATUS)===!1)throw AA(e,t.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const Y5t=/ERROR: [0-9]+:([0-9]+):/g;function AA(t,e){const n=Y5t.exec(e);if(n==null){console.log(`Couldn't parse line number in error: ${e}`),console.log(t);return}const s=+n[1],r=t.split(`
`),a=r.length.toString().length+2,o=r.map((d,h)=>bh((h+1).toString(),a)+d);let i=0;for(let d=0;d<o.length;d++)i=Math.max(o[d].length,i);const l=o.slice(0,s-1),u=o.slice(s-1,s),c=o.slice(s);console.log(l.join(`
`)),console.log(e.split(`
`)[0]),console.log(`%c ${bh(u[0],i)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join(`
`))}function SQ(t){return dc(t,()=>t.createProgram(),"Unable to create WebGLProgram.")}function TQ(t,e){if(Rt(t,()=>t.linkProgram(e)),!ze().get("ENGINE_COMPILE_ONLY")&&t.getProgramParameter(e,t.LINK_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Failed to link vertex and fragment shaders.")}function H_(t,e){if(Rt(t,()=>t.validateProgram(e)),t.getProgramParameter(e,t.VALIDATE_STATUS)===!1)throw console.log(t.getProgramInfoLog(e)),new Error("Shader program validation failed.")}function kQ(t,e){const n=dc(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return Rt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),Rt(t,()=>t.bufferData(t.ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function $Q(t,e){const n=dc(t,()=>t.createBuffer(),"Unable to create WebGLBuffer");return Rt(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)),Rt(t,()=>t.bufferData(t.ELEMENT_ARRAY_BUFFER,e,t.STATIC_DRAW)),n}function Q5t(){return ze().getNumber("WEBGL_VERSION")===2?1:4}function EQ(t){return dc(t,()=>t.createTexture(),"Unable to create WebGLTexture.")}function IQ(t,e){const n=ze().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t<=0||e<=0){const s=`[${t}x${e}]`;throw new Error("Requested texture size "+s+" is invalid.")}if(t>n||e>n){const s=`[${t}x${e}]`,r=`[${n}x${n}]`;throw new Error("Requested texture size "+s+" greater than WebGL maximum on this browser / GPU "+r+".")}}function NQ(t){return dc(t,()=>t.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function Ck(t,e,n,s,r,a,o){const i=t.getAttribLocation(e,n);return i===-1?!1:(Rt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,s)),Rt(t,()=>t.vertexAttribPointer(i,r,t.FLOAT,!1,a,o)),Rt(t,()=>t.enableVertexAttribArray(i)),!0)}function AQ(t,e,n){PQ(t,n),Rt(t,()=>t.activeTexture(t.TEXTURE0+n)),Rt(t,()=>t.bindTexture(t.TEXTURE_2D,e))}function Z5t(t,e){PQ(t,e),Rt(t,()=>t.activeTexture(t.TEXTURE0+e)),Rt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function DQ(t,e,n){return dc(t,()=>t.getUniformLocation(e,n),'uniform "'+n+'" not present in program.')}function OQ(t,e,n){return t.getUniformLocation(e,n)}function RQ(t,e,n,s){Rt(t,()=>AQ(t,e,s)),Rt(t,()=>t.uniform1i(n,s))}function J5t(t){Rt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,null)),Rt(t,()=>t.viewport(0,0,t.canvas.width,t.canvas.height)),Rt(t,()=>t.scissor(0,0,t.canvas.width,t.canvas.height))}function U_(t,e,n){Rt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,n)),Rt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0))}function Sk(t,e){Rt(t,()=>t.bindFramebuffer(t.FRAMEBUFFER,e)),Rt(t,()=>t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0))}function f2(t){const e=t.checkFramebufferStatus(t.FRAMEBUFFER);if(e!==t.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+LQ(t,e))}function LQ(t,e){switch(e){case t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case t.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${e}`}}function dc(t,e,n){const s=Rt(t,()=>e());if(s==null)throw new Error(n);return s}function PQ(t,e){const n=t.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,s=e+t.TEXTURE0;if(s<t.TEXTURE0||s>n){const r=`[gl.TEXTURE0, gl.TEXTURE${n}]`;throw new Error(`textureUnit must be in ${r}.`)}}function Zh(t,e=2){return tt(t.slice(0,t.length-e))}function Jh(t){if(t.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[t.length>1?t[t.length-2]:1,t[t.length-1]]}function p2(t){let e=[1,1,1];return t.length===0||t.length===1&&t[0]===1||(e=[Zh(t),...Jh(t)]),e}function MQ(t,e=!1){let n=ze().getNumber("WEBGL_MAX_TEXTURE_SIZE"),s=ze().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");s===1/0&&ze().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(s=n/2),e&&(n=n*2,s=s*2,t=t.map((i,l)=>l>=t.length-2?Cw(t[l]):t[l]),t.length===1&&(t=[2,t[0]])),t.length!==2&&(t=sc(t).newShape);let r=tt(t),a=null;t.length<=1&&r<=n?a=[1,r]:t.length===2&&t[0]<=n&&t[1]<=n?a=t:t.length===3&&t[0]*t[1]<=n&&t[2]<=n?a=[t[0]*t[1],t[2]]:t.length===3&&t[0]<=n&&t[1]*t[2]<=n?a=[t[0],t[1]*t[2]]:t.length===4&&t[0]*t[1]*t[2]<=n&&t[3]<=n?a=[t[0]*t[1]*t[2],t[3]]:t.length===4&&t[0]<=n&&t[1]*t[2]*t[3]<=n&&(a=[t[0],t[1]*t[2]*t[3]]);const o=a!=null&&Math.max(...a)>s&&Math.min(...a)<=(e?2:1)&&Math.min(...a)>0;if(a==null||o)if(e){const i=Zh(t);let l=2,u=2;t.length&&([l,u]=Jh(t)),r=i*(l/2)*(u/2),a=k3(r).map(c=>c*2)}else a=k3(r);return a}function a_(t){return t%2===0}function A1(t,e){if(t=t.slice(-2),e=e.slice(-2),Bn(t,e)||!t.length||!e.length||t[0]===0||t[1]===0||e[0]===0||e[1]===0)return!0;if(t.length!==e.length){const n=t[t.length-1],s=e[e.length-1];if(n===s||a_(n)&&a_(s)&&(t[0]===1||e[0]===1))return!0}return t[1]===e[1]&&a_(t[0])&&a_(e[0])}let W_,j_;function FQ(t){if(W_==null){const e=dl(t);W_=e.getParameter(e.MAX_TEXTURE_SIZE)}return W_}function eEt(){W_=null}function tEt(){j_=null}function BQ(t){if(j_==null){const e=dl(t);j_=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,j_)}function zQ(t){if(t===0)return 0;let e;const n=dl(t);return Go(n,"EXT_disjoint_timer_query_webgl2")&&t===2?e=2:Go(n,"EXT_disjoint_timer_query")?e=1:e=0,e}function Go(t,e){return t.getExtension(e)!=null}function Tk(t){try{if(dl(t)!=null)return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function VQ(t){if(t===0)return!1;const e=dl(t);if(t===1){if(!Go(e,"OES_texture_float"))return!1}else if(!Go(e,"EXT_color_buffer_float"))return!1;return kk(e)}function HQ(t){if(t===0)return!1;const e=dl(t);if(t===1){if(!Go(e,"OES_texture_float")||!Go(e,"WEBGL_color_buffer_float"))return!1}else{if(Go(e,"EXT_color_buffer_float"))return kk(e);const s="EXT_color_buffer_half_float";if(Go(e,s)){const r=e.getExtension(s);return nEt(e,r)}return!1}return kk(e)}function kk(t){const e=NA(t),n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,e.internalFormatFloat,1,1,0,e.textureFormatFloat,e.textureTypeFloat,null);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);const o=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(n),t.deleteFramebuffer(a),o}function nEt(t,e){const n=NA(t,e),s=t.createTexture();t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0);const i=t.checkFramebufferStatus(t.FRAMEBUFFER)===t.FRAMEBUFFER_COMPLETE;return t.bindTexture(t.TEXTURE_2D,null),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteTexture(s),t.deleteFramebuffer(o),i}function UQ(t){return t!==2?!1:dl(t).fenceSync!=null}function Zm(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&ae(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the WebGL backend.`)})}const sEt=Object.freeze(Object.defineProperty({__proto__:null,assertNotComplex:Zm,bindCanvasToFramebuffer:J5t,bindColorTextureToFramebuffer:U_,bindTextureToProgramUniformSampler:RQ,bindTextureUnit:AQ,bindVertexBufferToProgramAttribute:Ck,callAndCheck:Rt,canBeRepresented:_Q,createFragmentShader:CQ,createFramebuffer:NQ,createProgram:SQ,createStaticIndexBuffer:$Q,createStaticVertexBuffer:kQ,createTexture:EQ,createVertexShader:xQ,getBatchDim:Zh,getExtensionOrThrow:h2,getFramebufferErrorMessage:LQ,getMaxTexturesInShader:BQ,getNumChannels:Q5t,getProgramUniformLocation:OQ,getProgramUniformLocationOrThrow:DQ,getRowsCols:Jh,getShapeAs3D:p2,getTextureShapeFromLogicalShape:MQ,getWebGLDisjointQueryTimerVersion:zQ,getWebGLErrorMessage:wQ,getWebGLMaxTextureSize:FQ,hasExtension:Go,isCapableOfRenderingToFloatTexture:VQ,isDownloadFloatTextureEnabled:HQ,isReshapeFree:A1,isWebGLFenceEnabled:UQ,isWebGLVersionEnabled:Tk,linkProgram:TQ,logShaderSourceAndInfoLog:AA,resetMaxTextureSize:eEt,resetMaxTexturesInShader:tEt,unbindColorTextureFromFramebuffer:Sk,unbindTextureUnit:Z5t,validateFramebuffer:f2,validateProgram:H_,validateTextureSize:IQ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const en=ze();en.registerFlag("HAS_WEBGL",()=>en.getNumber("WEBGL_VERSION")>0);en.registerFlag("WEBGL_VERSION",()=>Tk(2)?2:Tk(1)?1:0);en.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1);en.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>en.get("WEBGL_VERSION")===2);en.registerFlag("WEBGL_CPU_FORWARD",()=>!0);en.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1);en.registerFlag("WEBGL_PACK",()=>en.getBool("HAS_WEBGL"));en.registerFlag("WEBGL_PACK_NORMALIZATION",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_CLIP",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_REDUCE",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_LAZILY_UNPACK",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_CONV_IM2COL",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>en.getBool("WEBGL_PACK"));en.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>FQ(en.getNumber("WEBGL_VERSION")));en.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>BQ(en.getNumber("WEBGL_VERSION")));en.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{const t=en.getNumber("WEBGL_VERSION");return t===0?0:zQ(t)});en.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>en.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!FE());en.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>VQ(en.getNumber("WEBGL_VERSION")));en.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>en.getBool("WEBGL_FORCE_F16_TEXTURES")?!1:en.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"));en.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>HQ(en.getNumber("WEBGL_VERSION")));en.registerFlag("WEBGL_FENCE_API_ENABLED",()=>UQ(en.getNumber("WEBGL_VERSION")));en.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>en.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0);en.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${t}.`)});en.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>FE()?1:-1,t=>{if(typeof t!="number")throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${t}.`);if(t<0&&t!==-1)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${t}.`)});en.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128);en.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1);en.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5);en.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128);en.registerFlag("WEBGL_EXP_CONV",()=>!1);en.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>en.getBool("IS_TEST"));en.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0);en.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1);en.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1);en.registerFlag("ENGINE_COMPILE_ONLY",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Oa(){let t,e,n,s,r,a,o,i,l,u;return ze().getNumber("WEBGL_VERSION")===2?(t="#version 300 es",e="in",n="out",s="in",r="texture",a="outputColor",o="out vec4 outputColor;",i=ze().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(t="",e="attribute",n="varying",s="varying",r="texture2D",a="gl_FragColor",o="",i=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:t,attribute:e,varyingVs:n,varyingFs:s,texture2D:r,output:a,defineOutput:o,defineSpecialNaN:i,defineSpecialInf:l,defineRound:u}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tf(t,e,n="index"){const s=sn(e);return s.map((r,a)=>{const o=`int ${t[a]} = ${n} / ${r}`,i=a===s.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * ${r}`:`index -= ${t[a]} * ${r}`;return`${o}; ${i};`}).join("")}function Vx(t,e,n="index"){const s=sn(e);return s.map((r,a)=>{const o=`int ${t[a]} = ${n} / outShapeStrides[${a}]`,i=a===s.length-1?`int ${t[a+1]} = ${n} - ${t[a]} * outShapeStrides[${a}]`:`index -= ${t[a]} * outShapeStrides[${a}]`;return`${o}; ${i};`}).join("")}function rEt(t,e){const n=t.length,s=t.map(a=>`${e}[${a}]`),r=new Array(n-1);r[n-2]=s[n-1];for(let a=n-3;a>=0;--a)r[a]=`(${r[a+1]} * ${s[a+1]})`;return r}function aEt(t,e,n="index"){const s=t.map((a,o)=>o),r=rEt(s,e);return r.map((a,o)=>{const i=`int ${t[o]} = ${n} / ${r[o]}`,l=o===r.length-1?`int ${t[o+1]} = ${n} - ${t[o]} * ${r[o]}`:`index -= ${t[o]} * ${r[o]}`;return`${i}; ${l};`}).join("")}function DA(t){const e=sn(t).map(n=>n.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${e[0]} + coords.y * ${e[1]} + coords.z;
  }
`}function OA(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}const WQ=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{getBroadcastDims:jQ}=$K;function oEt(t,e,n){const s=[];if(t.forEach(f=>{const p=tt(f.shapeInfo.logicalShape);if(f.shapeInfo.isUniform?s.push(`uniform float ${f.name}${p>1?`[${p}]`:""};`):(s.push(`uniform sampler2D ${f.name};`),s.push(`uniform int offset${f.name};`)),n.enableShapeUniforms){const{uniformShape:m}=RA(n.packedInputs,f.shapeInfo.logicalShape,f.shapeInfo.texShape);switch(m.length){case 1:s.push(`uniform int ${f.name}Shape;`);break;case 2:s.push(`uniform ivec2 ${f.name}Shape;`);break;case 3:s.push(`uniform ivec3 ${f.name}Shape;`);break;case 4:s.push(`uniform ivec4 ${f.name}Shape;`);break}s.push(`uniform ivec2 ${f.name}TexShape;`)}}),n.enableShapeUniforms){switch(e.logicalShape.length){case 1:s.push("uniform int outShape;");break;case 2:s.push("uniform ivec2 outShape;"),s.push("uniform int outShapeStrides;");break;case 3:s.push("uniform ivec3 outShape;"),s.push("uniform ivec2 outShapeStrides;");break;case 4:s.push("uniform ivec4 outShape;"),s.push("uniform ivec3 outShapeStrides;");break}s.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach(f=>{s.push(`uniform ${f.type} ${f.name}${f.arrayIndex?`[${f.arrayIndex}]`:""};`)});const r=s.join(`
`),a=t.map(f=>iEt(f,e,n.packedInputs,n.enableShapeUniforms)).join(`
`),o=e.texShape,i=Oa(),l=cEt(i);let u,c,d=fEt(i);return e.isPacked?(u=lEt(e.logicalShape,o,n.enableShapeUniforms),c=hEt(i)):(u=uEt(e.logicalShape,o,n.enableShapeUniforms),c=dEt(i)),n.packedInputs&&(d+=vEt),[d,l,c,r,u,a,n.userCode].join(`
`)}function Jm(t,e=!1){const n=t.shapeInfo.logicalShape;switch(n.length){case 0:return IEt(t,e);case 1:return AEt(t,e);case 2:return OEt(t,e);case 3:return LEt(t,e);case 4:return MEt(t,e);case 5:return FEt(t);case 6:return BEt(t);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function GQ(t,e){switch(t.shapeInfo.logicalShape.length){case 0:return EEt(t);case 1:return NEt(t,e);case 2:return DEt(t,e);case 3:return REt(t,e);default:return PEt(t,e)}}function iEt(t,e,n=!1,s){let r="";n?r+=GQ(t,s):r+=Jm(t,s);const a=t.shapeInfo.logicalShape,o=e.logicalShape;return a.length<=o.length&&(n?r+=zEt(t,e):r+=VEt(t,e)),r}function lEt(t,e,n){switch(t.length){case 0:return qQ();case 1:return yEt(t,e,n);case 2:return kEt(t,e,n);case 3:return _Et(t,e,n);default:return xEt(t,e,n)}}function uEt(t,e,n){switch(t.length){case 0:return qQ();case 1:return bEt(t,e,n);case 2:return $Et(t,e,n);case 3:return wEt(t,e,n);case 4:return CEt(t,e,n);case 5:return SEt(t,e);case 6:return TEt(t,e);default:throw new Error(`${t.length}-D output sampling is not yet supported`)}}function cEt(t){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return ${t.texture2D}(textureSampler, uv).r;
    }
  `}function dEt(t){return`
    void setOutput(float val) {
      ${t.output} = vec4(val, 0, 0, 0);
    }
  `}function hEt(t){return`
    void setOutput(vec4 val) {
      ${t.output} = val;
    }
  `}function fEt(t){return`${t.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${t.varyingFs} vec2 resultUV;
    ${t.defineOutput}
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    ${t.defineSpecialNaN}
    ${t.defineSpecialInf}
    ${t.defineRound}

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    ${pEt}
    ${mEt}
    ${gEt}
  `}const pEt=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,mEt=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,gEt=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,vEt=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function qQ(){return`
    int getOutputCoords() {
      return 0;
    }
  `}function yEt(t,e,n){const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];return s[0]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.x * ${s[1]}.0);
      }
    `:s[1]===1?n?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));
      }
    `:`
      int getOutputCoords() {
        return 2 * int(resultUV.y * ${s[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));
      return 2 * (resTexRC.x * ${s[1]} + resTexRC.y);
    }
  `}function bEt(t,e,n){return e[0]===1?n?`
      int getOutputCoords() {
        return int(resultUV.x * float(outTexShape[1]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.x * ${e[1]}.0);
      }
    `:e[1]===1?n?`
      int getOutputCoords() {
        return int(resultUV.y * float(outTexShape[0]));
      }
    `:`
      int getOutputCoords() {
        return int(resultUV.y * ${e[0]}.0);
      }
    `:n?`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      return resTexRC.x * outTexShape[1] + resTexRC.y;
    }
  `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      return resTexRC.x * ${e[1]} + resTexRC.y;
    }
  `}function _Et(t,e,n){if(n)return`
    ivec3 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec3(b, r, c);
    }
  `;const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[2]/2),a=r*Math.ceil(t[1]/2);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));
      int index = resTexRC.x * ${s[1]} + resTexRC.y;

      int b = index / ${a};
      index -= b * ${a};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec3(b, r, c);
    }
  `}function wEt(t,e,n){if(n)return`
  ivec3 getOutputCoords() {
    ivec2 resTexRC = ivec2(resultUV.yx *
                           vec2(outTexShape[0], outTexShape[1]));
    int index = resTexRC.x * outTexShape[1] + resTexRC.y;
    ${Vx(["r","c","d"],t)}
    return ivec3(r, c, d);
  }
`;const s=Tf(["r","c","d"],t);return`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${s}
      return ivec3(r, c, d);
    }
  `}function xEt(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));
      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;

      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));
      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));
      int texelsInBatchN = texelsInBatch * outShape[1];

      int b2 = index / texelsInBatchN;
      index -= b2 * texelsInBatchN;

      int b = index / texelsInBatch;
      index -= b * texelsInBatch;

      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec4(b2, b, r, c);
    }
  `;const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)],r=Math.ceil(t[t.length-1]/2),a=r*Math.ceil(t[t.length-2]/2);let o=a,i="",l="b, r, c";for(let u=2;u<t.length-1;u++)o*=t[t.length-u-1],i=`
      int b${u} = index / ${o};
      index -= b${u} * ${o};
    `+i,l=`b${u}, `+l;return`
    ivec${t.length} getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));
      int index = resTexRC.x * ${s[1]} + resTexRC.y;

      ${i}

      int b = index / ${a};
      index -= b * ${a};

      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec${t.length}(${l});
    }
  `}function CEt(t,e,n){if(n)return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      ${Vx(["r","c","d","d2"],t)}
      return ivec4(r, c, d, d2);
    }
  `;const s=Tf(["r","c","d","d2"],t);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      ${s}
      return ivec4(r, c, d, d2);
    }
  `}function SEt(t,e){const n=Tf(["r","c","d","d2","d3"],t);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${e[0]},
                             ${e[1]}));

      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `}function TEt(t,e){const n=Tf(["r","c","d","d2","d3","d4"],t);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;

      ${n}

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `}function kEt(t,e,n){const s=[Math.ceil(e[0]/2),Math.ceil(e[1]/2)];if(Bn(t,e))return n?`
      ivec2 getOutputCoords() {
        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(${s[0]}, ${s[1]}));
      }
    `;const r=Math.ceil(t[1]/2);return n?`
    ivec2 getOutputCoords() {
      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));
      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(packedTexShape[0], packedTexShape[1]));

      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;
      int r = 2 * (index / texelsInLogicalRow);
      int c = imod(index, texelsInLogicalRow) * 2;

      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${s[0]}, ${s[1]}));

      int index = resTexRC.x * ${s[1]} + resTexRC.y;
      int r = 2 * (index / ${r});
      int c = imod(index, ${r}) * 2;

      return ivec2(r, c);
    }
  `}function $Et(t,e,n){return Bn(t,e)?n?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));
      }
    `:`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(${e[0]}, ${e[1]}));
      }
    `:t[1]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(index, 0);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(index, 0);
      }
    `:t[0]===1?n?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(outTexShape[0], outTexShape[1]));
        int index = resTexRC.x * outTexShape[1] + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.x * ${e[1]} + resTexRC.y;
        return ivec2(0, index);
      }
    `:n?`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(outTexShape[0], outTexShape[1]));
      int index = resTexRC.x * outTexShape[1] + resTexRC.y;
      int r = index / outShape[1];
      int c = index - r * outShape[1];
      return ivec2(r, c);
    }
  `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(${e[0]}, ${e[1]}));
      int index = resTexRC.x * ${e[1]} + resTexRC.y;
      int r = index / ${t[1]};
      int c = index - r * ${t[1]};
      return ivec2(r, c);
    }
  `}function kf(t){return`offset${t}`}function EEt(t){const e=t.name,n="get"+e.charAt(0).toUpperCase()+e.slice(1),s=Oa();return`
    vec4 ${n}() {
      return ${s.texture2D}(${e}, halfCR);
    }
  `}function IEt(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`float ${s}() {return ${n};}`;const[r,a]=t.shapeInfo.texShape;if(r===1&&a===1)return`
      float ${s}() {
        return sampleTexture(${n}, halfCR);
      }
    `;const o=kf(n);if(e)return`
    float ${s}() {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${o});
      return sampleTexture(${n}, uv);
    }
  `;const[i,l]=t.shapeInfo.texShape;return`
    float ${s}() {
      vec2 uv = uvFromFlat(${i}, ${l}, ${o});
      return sampleTexture(${n}, uv);
    }
  `}function NEt(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t.shapeInfo.texShape,a=Oa();if(e)return`
    vec4 ${s}(int index) {
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      vec2 uv = packedUVfrom1D(
        packedTexShape[0], packedTexShape[1], index);
      return ${a.texture2D}(${n}, uv);
    }
  `;const o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return`
    vec4 ${s}(int index) {
      vec2 uv = packedUVfrom1D(
        ${o[0]}, ${o[1]}, index);
      return ${a.texture2D}(${n}, uv);
    }
  `}function AEt(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1);if(t.shapeInfo.isUniform)return`
      float ${s}(int index) {
        ${eg(t)}
      }
    `;const r=t.shapeInfo.texShape,a=r[0],o=r[1];if(o===1&&a===1)return`
      float ${s}(int index) {
        return sampleTexture(${n}, halfCR);
      }
    `;const i=kf(n);return o===1?e?`
      float ${s}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${i}) + 0.5) / float(${n}TexShape[0]));
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${s}(int index) {
        vec2 uv = vec2(0.5, (float(index + ${i}) + 0.5) / ${a}.0);
        return sampleTexture(${n}, uv);
      }
    `:a===1?e?`
      float ${s}(int index) {
        vec2 uv = vec2((float(index + ${i}) + 0.5) / float(${n}TexShape[1]), 0.5);
        return sampleTexture(${n}, uv);
      }
    `:`
      float ${s}(int index) {
        vec2 uv = vec2((float(index + ${i}) + 0.5) / ${o}.0, 0.5);
        return sampleTexture(${n}, uv);
      }
    `:e?`
    float ${s}(int index) {
      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${i});
      return sampleTexture(${n}, uv);
    }
  `:`
    float ${s}(int index) {
      vec2 uv = uvFromFlat(${a}, ${o}, index + ${i});
      return sampleTexture(${n}, uv);
    }
  `}function DEt(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=t.shapeInfo.texShape,o=a[0],i=a[1],l=Oa();if(a!=null&&Bn(n,a))return e?`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);

        return ${l.texture2D}(${s}, uv);
      }
    `:`
      vec4 ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${i}.0, ${o}.0);

        return ${l.texture2D}(${s}, uv);
      }
    `;if(e)return`
    vec4 ${r}(int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${s}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);
      return ${l.texture2D}(${s}, uv);
    }
  `;const u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],c=Math.ceil(n[1]/2);return`
    vec4 ${r}(int row, int col) {
      vec2 uv = packedUVfrom2D(${c}, ${u[0]}, ${u[1]}, row, col);
      return ${l.texture2D}(${s}, uv);
    }
  `}function OEt(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=t.shapeInfo.texShape;if(a!=null&&Bn(n,a)){if(e)return`
      float ${r}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `;const h=a[0],f=a[1];return`
    float ${r}(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(${f}.0, ${h}.0);
      return sampleTexture(${s}, uv);
    }
  `}const{newShape:o,keptDims:i}=sc(n),l=o;if(l.length<n.length){const h=tg(t,l),f=["row","col"];return`
      ${Jm(h,e)}
      float ${r}(int row, int col) {
        return ${r}(${ng(f,i)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));
        ${eg(t)}
      }
    `;const u=a[0],c=a[1],d=kf(s);return c===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${s}Shape[1], 1, 1));
        vec2 uv = vec2(0.5, (index + 0.5) / float(${s}TexShape[0]));
        return sampleTexture(${s}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);
      return sampleTexture(${s}, uv);
    }
  `:u===1?e?`
      float ${r}(int row, int col) {
        float index = dot(vec3(row, col, ${d}), vec3(${s}Shape[1], 1, 1));
        vec2 uv = vec2((index + 0.5) / float(${s}TexShape[1]), 0.5);
        return sampleTexture(${s}, uv);
      }
    `:`
    float ${r}(int row, int col) {
      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));
      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);
      return sampleTexture(${s}, uv);
    }
  `:e?`
      float ${r}(int row, int col) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${s}Shape[1] + col + ${d};
        vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);
        return sampleTexture(${s}, uv);
      }
    `:`
  float ${r}(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * ${n[1]} + col + ${d};
    vec2 uv = uvFromFlat(${u}, ${c}, index);
    return sampleTexture(${s}, uv);
  }
`}function REt(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=t.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];if(n[0]===1){const h=n.slice(1),f=[1,2],p=tg(t,h),m=["b","row","col"];return`
        ${GQ(p,e)}
        vec4 ${r}(int b, int row, int col) {
          return ${r}(${ng(m,f)});
        }
      `}const i=Oa();if(e)return`
    vec4 ${r}(int b, int row, int col) {
      ivec2 packedTexShape = ivec2(ceil(float(${s}TexShape[0]) / 2.0), ceil(float(${s}TexShape[1]) / 2.0));
      int valuesPerRow = int(ceil(float(${s}Shape[2]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${s}Shape[1]) / 2.0));
      vec2 uv = packedUVfrom3D(
        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);
      return ${i.texture2D}(${s}, uv);
    }
  `;const l=o[0],u=o[1],c=Math.ceil(n[2]/2),d=c*Math.ceil(n[1]/2);return`
    vec4 ${r}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${l}, ${u}, ${d}, ${c}, b, row, col);
      return ${i.texture2D}(${s}, uv);
    }
  `}function LEt(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=n[1]*n[2],o=n[2],{newShape:i,keptDims:l}=sc(n),u=i;if(u.length<n.length){const m=tg(t,u),y=["row","col","depth"];return`
        ${Jm(m,e)}
        float ${r}(int row, int col, int depth) {
          return ${r}(${ng(y,l)});
        }
      `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(${a}, ${o}, 1)));
        ${eg(t)}
      }
    `;const c=t.shapeInfo.texShape,d=c[0],h=c[1],f=t.shapeInfo.flatOffset;if(h===a&&f==null)return e?`
      float ${r}(int row, int col, int depth) {
        int stride1 = ${s}Shape[2];
        float texR = float(row);
        float texC = dot(vec2(col, depth), vec2(stride1, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
        float ${r}(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(${o}, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(${h}.0, ${d}.0);
          return sampleTexture(${s}, uv);
        }
      `;if(h===o&&f==null)return e?`
      float ${r}(int row, int col, int depth) {
        float texR = dot(vec2(row, col), vec2(${s}Shape[1], 1));
        float texC = float(depth);
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
    float ${r}(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${d}.0);
      return sampleTexture(${s}, uv);
    }
  `;const p=kf(s);return e?`
    float ${r}(int row, int col, int depth) {
      // Explicitly use integer operations as dot() only works on floats.
      int stride0 = ${s}Shape[1] * ${s}Shape[2];
      int stride1 = ${s}Shape[2];
      int index = row * stride0 + col * stride1 + depth + ${p};
      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index);
      return sampleTexture(${s}, uv);
    }
    `:`
      float ${r}(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * ${a} + col * ${o} + depth + ${p};
        vec2 uv = uvFromFlat(${d}, ${h}, index);
        return sampleTexture(${s}, uv);
      }
  `}function PEt(t,e){const n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=Oa();if(e)return`
    vec4 ${s}(int b2, int b, int row, int col) {
      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));
      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));
      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);
      texelsInBatch *= ${n}Shape[1];
      index = b2 * texelsInBatch + index;
      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));
      int texR = index / packedTexShape[1];
      int texC = index - texR * packedTexShape[1];
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${r.texture2D}(${n}, uv);
    }
  `;const a=t.shapeInfo.logicalShape,o=a.length,i=t.shapeInfo.texShape,l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],u=l[0],c=l[1],d=Math.ceil(a[o-1]/2);let h=d*Math.ceil(a[o-2]/2),f="int b, int row, int col",p=`b * ${h} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<o-1;m++)f=`int b${m}, `+f,h*=a[o-m-1],p=`b${m} * ${h} + `+p;return`
    vec4 ${s}(${f}) {
      int index = ${p};
      int texR = index / ${c};
      int texC = index - texR * ${c};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});
      return ${r.texture2D}(${n}, uv);
    }
  `}function MEt(t,e){const n=t.shapeInfo.logicalShape,s=t.name,r="get"+s.charAt(0).toUpperCase()+s.slice(1),a=n[3],o=n[2]*a,i=n[1]*o,{newShape:l,keptDims:u}=sc(n);if(l.length<n.length){const b=tg(t,l),w=["row","col","depth","depth2"];return`
      ${Jm(b,e)}
      float ${r}(int row, int col, int depth, int depth2) {
        return ${r}(${ng(w,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${r}(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(${i}, ${o}, ${a}, 1)));
        ${eg(t)}
      }
    `;const c=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],f=d[1],p=`int stride2 = ${s}Shape[3];`,m=`int stride1 = ${s}Shape[2] * stride2;`,y=`int stride0 = ${s}Shape[1] * stride1;`;if(f===i&&c==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        ${p}
        ${m}
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(stride1, stride2, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(${o}, ${a}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${f}.0, ${h}.0);
        return sampleTexture(${s}, uv);
      }
    `;if(f===a&&c==null)return e?`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${s}Shape[1] * ${s}Shape[2], ${s}Shape[2], 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${s}TexShape[1], ${s}TexShape[0]);
        return sampleTexture(${s}, uv);
      }
    `:`
      float ${r}(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(${n[1]*n[2]}, ${n[2]}, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${f}.0, ${h}.0);
        return sampleTexture(${s}, uv);
      }
    `;const v=kf(s);return e?`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      ${p}
      ${m}
      ${y}
      int index = row * stride0 + col * stride1 +
          depth * stride2 + depth2;
      vec2 uv = uvFromFlat(${s}TexShape[0], ${s}TexShape[1], index + ${v});
      return sampleTexture(${s}, uv);
    }
  `:`
    float ${r}(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${i} + col * ${o} +
          depth * ${a} + depth2;
      vec2 uv = uvFromFlat(${h}, ${f}, index + ${v});
      return sampleTexture(${s}, uv);
    }
  `}function FEt(t){const e=t.shapeInfo.logicalShape,n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e[4],a=e[3]*r,o=e[2]*a,i=e[1]*o,{newShape:l,keptDims:u}=sc(e);if(l.length<e.length){const m=tg(t,l),y=["row","col","depth","depth2","depth3"];return`
      ${Jm(m)}
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        return ${s}(${ng(y,u)});
      }
    `}if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(${i}, ${o}, ${a}, ${r})) +
          depth3;
        ${eg(t)}
      }
    `;const c=t.shapeInfo.flatOffset,d=t.shapeInfo.texShape,h=d[0],f=d[1];if(f===i&&c==null)return`
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(${o}, ${a}, ${r}, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${f}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(f===r&&c==null)return`
      float ${s}(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]},
               ${e[2]*e[3]}, ${e[3]}, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${f}.0, ${h}.0);
        return sampleTexture(${n}, uv);
      }
    `;const p=kf(n);return`
    float ${s}(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${i} + col * ${o} + depth * ${a} +
          depth2 * ${r} + depth3 + ${p};
      vec2 uv = uvFromFlat(${h}, ${f}, index);
      return sampleTexture(${n}, uv);
    }
  `}function BEt(t){const e=t.shapeInfo.logicalShape,n=t.name,s="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:a}=sc(e);if(r.length<e.length){const y=tg(t,r),v=["row","col","depth","depth2","depth3","depth4"];return`
      ${Jm(y)}
      float ${s}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return ${s}(${ng(v,a)});
      }
    `}const o=e[5],i=e[4]*o,l=e[3]*i,u=e[2]*l,c=e[1]*u;if(t.shapeInfo.isUniform)return`
      float ${s}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(${c}, ${u}, ${l}, ${i})) +
          dot(
            vec2(depth3, depth4),
            vec2(${o}, 1)));
        ${eg(t)}
      }
    `;const d=t.shapeInfo.flatOffset,h=t.shapeInfo.texShape,f=h[0],p=h[1];if(p===c&&d==null)return`
      float ${s}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(${u}, ${l}, ${i}, ${o})) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(${p}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;if(p===o&&d==null)return`
      float ${s}(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(${e[1]*e[2]*e[3]*e[4]},
               ${e[2]*e[3]*e[4]},
               ${e[3]*e[4]},
               ${e[4]})) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(${p}.0, ${f}.0);
        return sampleTexture(${n}, uv);
      }
    `;const m=kf(n);return`
    float ${s}(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * ${c} + col * ${u} + depth * ${l} +
          depth2 * ${i} + depth3 * ${o} + depth4 + ${m};
      vec2 uv = uvFromFlat(${f}, ${p}, index);
      return sampleTexture(${n}, uv);
    }
  `}function eg(t){const e=t.name,n=tt(t.shapeInfo.logicalShape);return n<2?`return ${e};`:`
    for (int i = 0; i < ${n}; i++) {
      if (i == index) {
        return ${e}[i];
      }
    }
  `}function zEt(t,e){const n=t.name,s=n.charAt(0).toUpperCase()+n.slice(1),r="get"+s+"AtOutCoords",a=t.shapeInfo.logicalShape.length,o=e.logicalShape.length,i=jQ(t.shapeInfo.logicalShape,e.logicalShape),l=us(o),u=o-a;let c;const d=["x","y","z","w","u","v"];a===0?c="":o<2&&i.length>=1?c="coords = 0;":c=i.map(b=>`coords.${d[b+u]} = 0;`).join(`
`);let h="";o<2&&a>0?h="coords":h=t.shapeInfo.logicalShape.map((b,w)=>`coords.${d[w+u]}`).join(", ");let f="return outputValue;";const m=tt(t.shapeInfo.logicalShape)===1,v=tt(e.logicalShape)===1;if(a===1&&!m&&!v)f=`
      return vec4(outputValue.xy, outputValue.xy);
    `;else if(m&&!v)o===1?f=`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:f=`
        return vec4(outputValue.x);
      `;else if(i.length){const b=a-2,w=a-1;i.indexOf(b)>-1&&i.indexOf(w)>-1?f="return vec4(outputValue.x);":i.indexOf(b)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":i.indexOf(w)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}return`
    vec4 ${r}() {
      ${l} coords = getOutputCoords();
      ${c}
      vec4 outputValue = get${s}(${h});
      ${f}
    }
  `}function VEt(t,e){const n=t.name,s=n.charAt(0).toUpperCase()+n.slice(1),r="get"+s+"AtOutCoords",a=e.texShape,o=t.shapeInfo.texShape,i=t.shapeInfo.logicalShape.length,l=e.logicalShape.length;if(!t.shapeInfo.isUniform&&i===l&&t.shapeInfo.flatOffset==null&&Bn(o,a))return`
      float ${r}() {
        return sampleTexture(${n}, resultUV);
      }
    `;const u=us(l),c=jQ(t.shapeInfo.logicalShape,e.logicalShape),d=l-i;let h;const f=["x","y","z","w","u","v"];i===0?h="":l<2&&c.length>=1?h="coords = 0;":h=c.map(m=>`coords.${f[m+d]} = 0;`).join(`
`);let p="";return l<2&&i>0?p="coords":p=t.shapeInfo.logicalShape.map((m,y)=>`coords.${f[y+d]}`).join(", "),`
    float ${r}() {
      ${u} coords = getOutputCoords();
      ${h}
      return get${s}(${p});
    }
  `}function us(t){if(t<=1)return"int";if(t===2)return"ivec2";if(t===3)return"ivec3";if(t===4)return"ivec4";if(t===5)return"ivec5";if(t===6)return"ivec6";throw Error(`GPU for rank ${t} is not yet supported`)}function RA(t,e,n){const{newShape:s,keptDims:r}=sc(e),a=e.length,o=t&&a===3&&e[0]===1,i=o?e.slice(1):s,l=!t&&a>1&&!Bn(e,n)&&s.length<a||o;return{useSqueezeShape:l,uniformShape:l?i:e,keptDims:r}}function tg(t,e){const n=JSON.parse(JSON.stringify(t));return n.shapeInfo.logicalShape=e,n}function ng(t,e){return e.map(n=>t[n]).join(", ")}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HEt(t,e,n,s){const r=n.map((c,d)=>{const h={logicalShape:c.shape,texShape:c.isUniform?null:c.texData.texShape,isUniform:c.isUniform,isPacked:c.isUniform?!1:c.texData.isPacked,flatOffset:null};return c.texData!=null&&c.texData.slice!=null&&c.texData.slice.flatOffset>0&&(h.flatOffset=c.texData.slice.flatOffset),{name:e.variableNames[d],shapeInfo:h}}),a=r.map(c=>c.shapeInfo),o={logicalShape:s.shape,texShape:s.texData.texShape,isUniform:!1,isPacked:s.texData.isPacked,flatOffset:null},i=oEt(r,o,e),l=CQ(t.gl,i),u=t.createProgram(l);return ze().get("ENGINE_COMPILE_ONLY")?{program:e,fragmentShader:l,source:i,webGLProgram:u,inShapeInfos:a,outShapeInfo:o,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(t.buildVao(u),Object.assign({program:e,fragmentShader:l,source:i,webGLProgram:u,inShapeInfos:a,outShapeInfo:o},KQ(t,e,u)))}function KQ(t,e,n){const s=[],r=[];let a,o,i,l=null,u=null;u=t.getUniformLocation(n,"NAN",!1),ze().getNumber("WEBGL_VERSION")===1&&(l=t.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const d of e.variableNames){const h={name:d,uniform:t.getUniformLocation(n,d,c),offset:t.getUniformLocation(n,`offset${d}`,c)};e.enableShapeUniforms&&(h.shape=t.getUniformLocation(n,`${d}Shape`,c),h.texShape=t.getUniformLocation(n,`${d}TexShape`,c)),s.push(h)}if(e.enableShapeUniforms&&(a=t.getUniformLocation(n,"outShape",c),i=t.getUniformLocation(n,"outShapeStrides",c),o=t.getUniformLocation(n,"outTexShape",c)),e.customUniforms)for(const d of e.customUniforms)r.push(t.getUniformLocation(n,d.name,c));return{variablesLocations:s,customUniformLocations:r,infLoc:l,nanLoc:u,outShapeLocation:a,outShapeStridesLocation:i,outTexShapeLocation:o}}function dM(t,e){if(t.length!==e.length)throw Error(`Binary was compiled with ${t.length} inputs, but was executed with ${e.length} inputs`);t.forEach((n,s)=>{const r=n.logicalShape,a=e[s],o=a.shape;if(!Bn(r,o))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${o} must match`);if(n.isUniform&&a.isUniform)return;const i=n.texShape,l=a.isUniform?null:a.texData.texShape;if(!Bn(i,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${i} and ${l} must match`)})}function UEt(t,e,n,s,r){e.program.enableShapeUniforms||(dM(e.inShapeInfos,n),dM([e.outShapeInfo],[s]));const a=s.texData.texture,o=s.texData.texShape;s.texData.isPacked?t.setOutputPackedMatrixTexture(a.texture,o[0],o[1]):t.setOutputMatrixTexture(a.texture,o[0],o[1]),t.setProgram(e.webGLProgram),t.bindVertexArray(e.webGLProgram.vao),ze().getNumber("WEBGL_VERSION")===1&&e.infLoc!==null&&t.gl.uniform1f(e.infLoc,1/0),e.nanLoc!==null&&t.gl.uniform1f(e.nanLoc,NaN);for(let l=0;l<n.length;++l){const u=n[l],{uniform:c,offset:d,shape:h,texShape:f}=e.variablesLocations[l];if(h){const{uniformShape:p}=RA(e.program.packedInputs,u.shape,u.texData.texShape);switch(p.length){case 1:t.gl.uniform1iv(h,new Int32Array(p));break;case 2:t.gl.uniform2iv(h,new Int32Array(p));break;case 3:t.gl.uniform3iv(h,new Int32Array(p));break;case 4:t.gl.uniform4iv(h,new Int32Array(p));break}}if(f&&t.gl.uniform2i(f,u.texData.texShape[0],u.texData.texShape[1]),c!=null){if(u.isUniform){if(tt(u.shape)<2)t.gl.uniform1f(c,u.uniformValues[0]);else{let p=u.uniformValues;p instanceof Float32Array||(p=new Float32Array(p)),t.gl.uniform1fv(c,p)}continue}u.texData.slice!=null&&d!=null&&t.gl.uniform1i(d,u.texData.slice.flatOffset),t.setInputMatrixTexture(u.texData.texture.texture,c,l)}}const i=e.outShapeLocation;if(i)switch(s.shape.length){case 1:t.gl.uniform1iv(i,new Int32Array(s.shape));break;case 2:t.gl.uniform2iv(i,new Int32Array(s.shape));break;case 3:t.gl.uniform3iv(i,new Int32Array(s.shape));break;case 4:t.gl.uniform4iv(i,new Int32Array(s.shape));break}if(e.outShapeStridesLocation){const l=sn(s.shape);switch(s.shape.length){case 2:t.gl.uniform1iv(e.outShapeStridesLocation,new Int32Array(l));break;case 3:t.gl.uniform2iv(e.outShapeStridesLocation,new Int32Array(l));break;case 4:t.gl.uniform3iv(e.outShapeStridesLocation,new Int32Array(l));break}}if(e.outTexShapeLocation&&t.gl.uniform2i(e.outTexShapeLocation,s.texData.texShape[0],s.texData.texShape[1]),e.program.customUniforms&&r)for(let l=0;l<e.program.customUniforms.length;++l){const u=e.program.customUniforms[l],c=e.customUniformLocations[l],d=r[l];if(u.type==="float")t.gl.uniform1fv(c,d);else if(u.type==="vec2")t.gl.uniform2fv(c,d);else if(u.type==="vec3")t.gl.uniform3fv(c,d);else if(u.type==="vec4")t.gl.uniform4fv(c,d);else if(u.type==="int")t.gl.uniform1iv(c,d);else if(u.type==="ivec2")t.gl.uniform2iv(c,d);else if(u.type==="ivec3")t.gl.uniform3iv(c,d);else if(u.type==="ivec4")t.gl.uniform4iv(c,d);else throw Error(`uniform type ${u.type} is not supported yet.`)}t.executeProgram()}function WEt(t,e,n){let s="";e.concat(n).forEach(o=>{const i=o.texData!=null&&o.texData.slice!=null&&o.texData.slice.flatOffset>0;if(t.enableShapeUniforms&&!o.isUniform){const l=o.texData.texShape,{useSqueezeShape:u,uniformShape:c,keptDims:d}=RA(t.packedInputs,o.shape,l);let h="",f="",p="";if(c.length===1&&t.packedInputs){const C=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];h=`${C[0]>1}_${C[1]>1}`}else if(c.length===2&&!t.packedInputs)f=`${c[0]>1}_${c[1]>1}`;else if(c.length>2&&!t.packedInputs){const C=sn(c);p=`${C[0]===l[1]}_${C[C.length-1]===l[1]}`}const m=o.shape.length,y=c.length===2&&Bn(o.shape,l),v=tt(o.shape)===1,b=Uh(o.shape,n.shape),w=!t.packedInputs&&m===n.shape.length&&Bn(l,n.texData.texShape),_=t.packedInputs||c.length>2?"":`${l[0]>1}_${l[1]>1}`;s+=`${m}_${w}_${u?d:""}_${c.length}_${v}_${b}_${y}_${h}_${f}_${p}_${_}_${i}`}else{const l=o.isUniform?"uniform":o.texData.texShape;s+=`${o.shape}_${l}_${i}`}});const r=t.userCode;let a=t.constructor.name;return a+="_"+s+"_"+r+`${ze().getNumber("WEBGL_VERSION")}`,a}function ga(t){return ze().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&t<=4}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jEt{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=N1.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Oa();this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?Vx(["r","c","d"],e):Tf(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GEt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=N1.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=Oa();this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?Vx(["r","c","d"],e):Tf(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qEt{constructor(e){this.variableNames=["A"],this.outTexUsage=jo.DOWNLOAD;const n=Oa();this.outputShape=e,this.userCode=`
      ${WQ}

      void main() {
        float x = getAAtOutCoords();
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class KEt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=jo.DOWNLOAD;const n=Oa();this.outputShape=e,this.userCode=`
      ${WQ}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${n.output} = encode_float(x);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XEt={R:0,G:1,B:2,A:3};class hM{constructor(e,n=!1,s="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=Oa();this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length);let a="result";n&&(a="floor(result * 255. + 0.5)");let o="";for(let i=0;i<s.length;i++){const l=s[i];o+=`
          if(offset == ${i}) {
            result = values[${XEt[l]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?OA():DA(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${s.length});

        flatIndex = idiv(flatIndex, ${s.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${r.texture2D}(A, uv);
          ${o}
        }
        ${r.output} = vec4(${a}, 0., 0., 0.);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YEt{constructor(e,n=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const s=Oa();this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length);let r="",a="result";n&&(a="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let i=0;i<=1;i++){const l=o*2+i;r+=`
          localCoords = coords;
          if(localCoords[2] + ${i} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${i};
          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${o};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${s.texture2D}(A, uv);

            if (offset == 0) {
              result[${l}] = values[0];
            } else if (offset == 1) {
              result[${l}] = values[1];
            } else if (offset == 2) {
              result[${l}] = values[2];
            } else {
              result[${l}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?OA():DA(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${r}

          ${s.output} = ${a};
        }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XQ(t){const e=Oa(),n=`${e.version}
    precision highp float;
    ${e.attribute} vec3 clipSpacePos;
    ${e.attribute} vec2 uv;
    ${e.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return xQ(t,n)}function YQ(t){const e=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return kQ(t,e)}function QQ(t){const e=new Uint16Array([0,1,2,2,1,3]);return $Q(t,e)}function Ky(t,e,n,s,r,a){IQ(e,n);const o=EQ(t),i=t.TEXTURE_2D;return Rt(t,()=>t.bindTexture(i,o)),Rt(t,()=>t.texParameteri(i,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE)),Rt(t,()=>t.texParameteri(i,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)),Rt(t,()=>t.texParameteri(i,t.TEXTURE_MIN_FILTER,t.NEAREST)),Rt(t,()=>t.texParameteri(i,t.TEXTURE_MAG_FILTER,t.NEAREST)),ze().getNumber("WEBGL_VERSION")===1?Rt(t,()=>t.texImage2D(i,0,s,e,n,0,r,a,null)):Rt(t,()=>t.texStorage2D(i,1,s,e,n)),Rt(t,()=>t.bindTexture(t.TEXTURE_2D,null)),{texture:o,texShape:[n,e]}}function LA(t){return t.internalFormatFloat}function ZQ(t,e,n,s){const[r,a]=qy(e,n);return Ky(t,r,a,LA(s),s.textureFormatFloat,t.FLOAT)}function PA(t){return t.internalFormatHalfFloat}function JQ(t,e,n,s){const[r,a]=qy(e,n);return Ky(t,r,a,PA(s),s.textureFormatFloat,s.textureTypeHalfFloat)}function MA(t){return t.downloadTextureFormat}function eZ(t,e,n,s){const[r,a]=qy(e,n);return Ky(t,r,a,MA(s),t.RGBA,t.UNSIGNED_BYTE)}function FA(t){return t.internalFormatPackedFloat}function tZ(t,e,n,s){const[r,a]=Qm(e,n);return Ky(t,r,a,FA(s),t.RGBA,t.FLOAT)}function BA(t){return t.internalFormatPackedHalfFloat}function nZ(t,e,n,s){const[r,a]=Qm(e,n);return Ky(t,r,a,BA(s),t.RGBA,s.textureTypeHalfFloat)}function sZ(t,e,n){return Rt(t,()=>t.bindBuffer(t.ARRAY_BUFFER,n)),Ck(t,e,"clipSpacePos",n,3,20,0)&&Ck(t,e,"uv",n,2,20,12)}function rZ(t,e,n,s,r,a){Rt(t,()=>t.bindTexture(t.TEXTURE_2D,e));let o,i,l;r instanceof Uint8Array?(o=new Uint8Array(n*s*4),i=t.UNSIGNED_BYTE,l=t.RGBA):(o=new Float32Array(n*s*4),i=t.FLOAT,l=a.internalFormatPackedFloat),o.set(r),ze().getNumber("WEBGL_VERSION")===2?Rt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n,s,t.RGBA,i,o)):Rt(t,()=>t.texImage2D(t.TEXTURE_2D,0,l,n,s,0,t.RGBA,i,o)),Rt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function aZ(t,e,n){Rt(t,()=>t.bindTexture(t.TEXTURE_2D,e)),n.data instanceof Uint8Array?ze().getNumber("WEBGL_VERSION")===2?Rt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,n.width,n.height,t.RGBA,t.UNSIGNED_BYTE,n.data)):Rt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n.width,n.height,0,t.RGBA,t.UNSIGNED_BYTE,n.data)):ze().getNumber("WEBGL_VERSION")===2?Rt(t,()=>t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,n)):Rt(t,()=>t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)),Rt(t,()=>t.bindTexture(t.TEXTURE_2D,null))}function oZ(t,e,n,s){const r=t.createBuffer();Rt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,r));const i=4*4*e*n;return Rt(t,()=>t.bufferData(t.PIXEL_PACK_BUFFER,i,t.STREAM_READ)),Rt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,0)),Rt(t,()=>t.bindBuffer(t.PIXEL_PACK_BUFFER,null)),r}function iZ(t,e,n){const s=t,r=new Float32Array(n);return s.bindBuffer(s.PIXEL_PACK_BUFFER,e),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,r),s.bindBuffer(s.PIXEL_PACK_BUFFER,null),r}function lZ(t,e,n,s){const[r,a]=qy(e,n),o=4,i=new Uint8Array(j5t(e*n,o));return Rt(t,()=>t.readPixels(0,0,r,a,s.downloadTextureFormat,t.UNSIGNED_BYTE,i)),new Float32Array(i.buffer)}function uZ(t,e,n,s,r,a,o,i){const l=t,u=new Float32Array(G5t(a,o));return l.bindBuffer(l.PIXEL_PACK_BUFFER,e),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function cZ(t,e,n){const s=new Float32Array(e*n*4);return Rt(t,()=>t.readPixels(0,0,n,e,t.RGBA,t.FLOAT,s)),s}const QEt=Object.freeze(Object.defineProperty({__proto__:null,bindVertexProgramAttributeStreams:sZ,createBufferFromOutputTexture:oZ,createFloat16MatrixTexture:JQ,createFloat16PackedMatrixTexture:nZ,createFloat32MatrixTexture:ZQ,createIndexBuffer:QQ,createPackedMatrixTexture:tZ,createUnsignedBytesMatrixTexture:eZ,createVertexBuffer:YQ,createVertexShader:XQ,downloadByteEncodedFloatMatrixFromOutputTexture:lZ,downloadFloat32MatrixFromBuffer:iZ,downloadMatrixFromPackedOutputTexture:cZ,downloadPackedMatrixFromBuffer:uZ,getInternalFormatForFloat16MatrixTexture:PA,getInternalFormatForFloat16PackedMatrixTexture:BA,getInternalFormatForFloat32MatrixTexture:LA,getInternalFormatForPackedMatrixTexture:FA,getInternalFormatForUnsignedBytesMatrixTexture:MA,uploadDenseMatrixToTexture:rZ,uploadPixelDataToTexture:aZ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class G_{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const n=ze().getNumber("WEBGL_VERSION");if(e!=null?(this.gl=e,bQ(n,e)):this.gl=dl(n),e=this.gl,ze().getNumber("WEBGL_VERSION")===2){const a=e;this.createVertexArray=()=>Rt(a,()=>a.createVertexArray()),this.bindVertexArray=o=>Rt(a,()=>a.bindVertexArray(o)),this.deleteVertexArray=o=>Rt(a,()=>a.deleteVertexArray(o)),this.getVertexArray=()=>Rt(a,()=>a.getParameter(a.VERTEX_ARRAY_BINDING))}else if(e!=null){const a=e.getExtension("OES_vertex_array_object");if(a==null)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>Rt(e,()=>a.createVertexArrayOES()),this.bindVertexArray=o=>Rt(e,()=>a.bindVertexArrayOES(o)),this.deleteVertexArray=o=>Rt(e,()=>a.deleteVertexArrayOES(o)),this.getVertexArray=()=>Rt(e,()=>e.getParameter(a.VERTEX_ARRAY_BINDING_OES))}let s="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),ze().getNumber("WEBGL_VERSION")===1){const a="OES_texture_float",o="OES_texture_half_float";if(this.textureFloatExtension=h2(this.gl,a),Go(this.gl,o))this.textureHalfFloatExtension=h2(this.gl,o);else if(ze().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(s),Go(this.gl,r))this.colorBufferHalfFloatExtension=h2(this.gl,r);else if(ze().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(s="EXT_color_buffer_float",Go(this.gl,s))this.colorBufferFloatExtension=this.gl.getExtension(s);else if(Go(this.gl,r))this.colorBufferHalfFloatExtension=this.gl.getExtension(r);else throw new Error("GL context does not support color renderable floats");this.vertexBuffer=YQ(this.gl),this.indexBuffer=QQ(this.gl),this.framebuffer=NQ(this.gl),this.textureConfig=NA(this.gl,this.textureHalfFloatExtension)}get debug(){return ze().getBool("DEBUG")}dispose(){if(this.disposed)return;this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Rt(e,()=>e.finish()),Rt(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),Rt(e,()=>e.deleteFramebuffer(this.framebuffer)),Rt(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),Rt(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),Rt(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),ZQ(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),JQ(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),eZ(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),aZ(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,s,r){this.throwIfDisposed(),rZ(this.gl,e,n,s,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),nZ(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),tZ(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(Sk(this.gl,this.framebuffer),this.outputTexture=null),Rt(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,s){return this.downloadMatrixDriver(e,()=>lZ(this.gl,n,s,this.textureConfig))}downloadPackedMatrixFromBuffer(e,n,s,r,a,o){return uZ(this.gl,e,n,s,r,a,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return iZ(this.gl,e,n)}createBufferFromTexture(e,n,s){this.bindTextureToFrameBuffer(e);const r=oZ(this.gl,n,s,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,s;if(ze().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,a=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),s=()=>{const o=r.clientWaitSync(a,0,0);return o===r.ALREADY_SIGNALED||o===r.CONDITION_SATISFIED},n=a}else ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),s=()=>this.isQueryAvailable(n,ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):s=()=>!0;return{query:n,isFencePassed:s}}downloadMatrixFromPackedTexture(e,n,s){return this.downloadMatrixDriver(e,()=>cZ(this.gl,n,s))}createProgram(e){this.throwIfDisposed();const n=this.gl;this.vertexShader==null&&(this.vertexShader=XQ(n));const s=SQ(n);Rt(n,()=>n.attachShader(s,this.vertexShader)),Rt(n,()=>n.attachShader(s,e)),TQ(n,s);const r=Object.assign(s,{vao:this.createVertexArray()});return this.debug&&H_(n,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const n=this.gl;Rt(n,()=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),sZ(n,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),e!=null&&(Rt(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,this.program!=null&&this.debug&&H_(this.gl,this.program),Rt(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,n,s=!0){return this.throwIfDisposed(),s?DQ(this.gl,e,n):OQ(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),Rt(this.gl,()=>this.gl.getAttribLocation(e,n))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,s){this.throwIfDisposed(),this.throwIfNoProgram(),RQ(this.gl,e,n,s)}setOutputMatrixTexture(e,n,s){this.setOutputMatrixTextureDriver(e,s,n)}setOutputPackedMatrixTexture(e,n,s){this.throwIfDisposed();const[r,a]=Qm(n,s);this.setOutputMatrixTextureDriver(e,r,a)}setOutputMatrixWriteRegion(e,n,s,r){this.setOutputMatrixWriteRegionDriver(s,e,r,n)}setOutputPackedMatrixWriteRegion(e,n,s,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){this.program!=null&&H_(this.gl,this.program),f2(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const n=this.getVertexArray();console.assert(n===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}Rt(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Rt(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=h2(this.gl,ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const s=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=s.createQuery();return s.beginQuery(r.TIME_ELAPSED_EXT,a),a}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){const n=this.gl,s=this.getQueryTimerExtensionWebGL2();n.endQuery(s.TIME_ELAPSED_EXT);return}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await OT(()=>this.disposed||this.isQueryAvailable(e,ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(n===0)return null;if(n===2){const s=this.gl;return s.getQueryParameter(e,s.QUERY_RESULT)/1e6}else{const s=this.getQueryTimerExtensionWebGL1();return s.getQueryObjectEXT(e,s.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(n===0)return!0;if(n===2){const s=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=s.getQueryParameter(e,s.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}else{const s=this.getQueryTimerExtensionWebGL1(),r=s.getQueryObjectEXT(e,s.QUERY_RESULT_AVAILABLE_EXT);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(s.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(n=>{this.addItemToPoll(()=>e.isFencePassed(),()=>n())})}pollItems(){const e=ZEt(this.itemsToPoll.map(n=>n.isDoneFn));for(let n=0;n<=e;++n){const{resolveFn:s}=this.itemsToPoll[n];s()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1)return;let s;"setTimeoutCustom"in ze().platform&&(s=ze().platform.setTimeoutCustom.bind(ze().platform)),OT(()=>(this.pollItems(),this.itemsToPoll.length===0),()=>0,null,s)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),U_(this.gl,e,this.framebuffer),this.debug&&f2(this.gl)}unbindTextureToFrameBuffer(){this.outputTexture!=null?(U_(this.gl,this.outputTexture,this.framebuffer),this.debug&&f2(this.gl)):Sk(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const s=n();return this.unbindTextureToFrameBuffer(),s}setOutputMatrixTextureDriver(e,n,s){this.throwIfDisposed();const r=this.gl;U_(r,e,this.framebuffer),this.debug&&f2(r),this.outputTexture=e,Rt(r,()=>r.viewport(0,0,n,s)),Rt(r,()=>r.scissor(0,0,n,s))}setOutputMatrixWriteRegionDriver(e,n,s,r){this.throwIfDisposed(),Rt(this.gl,()=>this.gl.scissor(e,n,s,r))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(this.program==null)throw new Error("No GPU program is currently set.")}}function ZEt(t){let e=0;for(;e<t.length&&t[e]();++e);return e-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const{addImpl:JEt,bincountImpl:dZ,bincountReduceImpl:eIt,bitwiseAndImpl:tIt,castImpl:nIt,ceilImpl:sIt,concatImpl:rIt,equalImpl:aIt,expImpl:oIt,expm1Impl:iIt,floorImpl:lIt,gatherNdImpl:uIt,gatherV2Impl:cIt,greaterImpl:dIt,greaterEqualImpl:hIt,lessImpl:fIt,lessEqualImpl:pIt,linSpaceImpl:mIt,logImpl:gIt,maxImpl:vIt,maximumImpl:yIt,minimumImpl:bIt,multiplyImpl:_It,negImpl:wIt,notEqualImpl:xIt,prodImpl:CIt,raggedGatherImpl:SIt,raggedRangeImpl:TIt,raggedTensorToTensorImpl:kIt,rangeImpl:$It,rsqrtImpl:EIt,scatterImpl:IIt,sigmoidImpl:NIt,simpleAbsImpl:hZ,sliceImpl:AIt,sparseFillEmptyRowsImpl:DIt,sparseReshapeImpl:OIt,sparseSegmentReductionImpl:fZ,sqrtImpl:RIt,staticRegexReplaceImpl:LIt,stridedSliceImpl:PIt,stringNGramsImpl:MIt,stringSplitImpl:FIt,stringToHashBucketFastImpl:BIt,subImpl:zIt,tileImpl:VIt,topKImpl:HIt,transposeImpl:zA,uniqueImpl:UIt}=tQ;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pZ(t,e){return["x","y","z","w","u","v"].slice(0,e).map(n=>`${t}.${n}`)}function Ca(t,e){return e===1?[t]:pZ(t,e)}function WIt(t,e){if(t===1)return"rc";let n="";for(let s=0;s<t;s++)n+=e[s],s<t-1&&(n+=",");return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jIt{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=ga(this.outputShape.length),this.rank===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{const n=Ca("rc",this.rank),s=us(this.rank),r=this.getOutOfBoundsCondition(n),a=this.getSetup(n),o=this.getOutput(n);this.userCode=`
        void main() {
          ${s} rc = getOutputCoords();

          if(${r}) {
            setOutput(vec4(0));
          } else {
            ${a}

            setOutput(vec4(${o}));
          }
        }
      `}}getSourceCoordsArr(e){const n=[];for(let s=0;s<=1;s++)for(let r=0;r<=1;r++){let a=`${s===0?"r":"rp1"}, ${r===0?"c":"cp1"}`;for(let o=2;o<this.rank;o++)a=`${e[e.length-1-o]},`+a;n.push(a)}return n}getOutOfBoundsCondition(e){if(this.rank===1)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let n="";for(let s=this.rank-2;s<this.rank;s++)n+=`${e[s]} >= ${this.enableShapeUniforms?`outShape[${s}]`:this.outputShape[s]}`,s<this.rank-1&&(n+="||");return n}getSetup(e){if(this.rank===1)return"";const n=e.slice(-2),s=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${n[0]};
      int c = ${n[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${s};
      bool rEdge = rp1 >= ${r};
    `}getOutput(e){const n=this.getSourceCoordsArr(e);return this.rank===1?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${n[0]}),
            cEdge ? 0. : getA(${n[1]}),
            rEdge ? 0. : getA(${n[2]}),
            rEdge || cEdge ? 0. : getA(${n[3]})`}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class mZ{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length);let s="";for(let r=0;r<4;r++){let a="thisRC = rc;";r%2===1&&(a+="thisRC.z += 1;"),r>1&&(a+="thisRC.y += 1;"),s+=`
        ${a}
        ${r>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${r}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${r>0?"}":""}
      `}this.userCode=`
      ${GIt(n,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?OA():DA(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${s}

        setOutput(result);
      }
    `}}function GIt(t,e){return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${e?aEt(["r","c","d"],"inputShape"):Tf(["r","c","d"],t)}
      return ivec3(r, c, d);
    }
  `}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qIt{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,n,s){const r=pM(n,s),a=mM(e,r,s);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);const o=fM(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,s);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const l=this.freeTextures[a].pop();return this.usedTextures[a].push(l),l}let i;return r===Yr.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===Yr.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===Yr.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===Yr.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===Yr.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}releaseTexture(e,n,s,r){if(this.freeTextures==null)return;const a=pM(s,r),o=mM(n,a,r);o in this.freeTextures||(this.freeTextures[o]=[]);const i=fM(n,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),l=ze().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");l!==-1&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;const u=this.usedTextures[o],c=u&&u.indexOf(e);if(c==null||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(this.freeTextures!=null){for(const e in this.freeTextures)this.freeTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});for(const e in this.usedTextures)this.usedTextures[e].forEach(n=>{this.gpgpu.deleteMatrixTexture(n.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function KIt(t,e){const n=t;if(e===n.R32F)return 4;if(e===n.R16F)return 2;if(e===n.RGBA32F)return 16;if(e===t.RGBA)return 16;if(e===n.RGBA16F)return 8;if(e===n.RGBA8)return 4;throw new Error(`Unknown internal format ${e}`)}function fM(t,e,n,s,r){const a=XIt(e,s);let o;if(r){const[l,u]=Qm(t[0],t[1]);o=l*u}else{const[l,u]=qy(t[0],t[1]);o=l*u}const i=KIt(n,a);return o*i}function XIt(t,e){switch(t){case Yr.PACKED_2X2_FLOAT32:return FA(e);case Yr.PACKED_2X2_FLOAT16:return BA(e);case Yr.UNPACKED_FLOAT32:return LA(e);case Yr.UNPACKED_FLOAT16:return PA(e);case Yr.PACKED_4X1_UNSIGNED_BYTE:return MA(e);default:throw new Error(`Unknown physical texture type ${t}`)}}function YIt(t){return ze().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?Yr.PACKED_2X2_FLOAT32:Yr.UNPACKED_FLOAT32:t?Yr.PACKED_2X2_FLOAT16:Yr.UNPACKED_FLOAT16}function pM(t,e){if(t===jo.UPLOAD)return Yr.PACKED_2X2_FLOAT32;if(t===jo.RENDER||t==null)return YIt(e);if(t===jo.DOWNLOAD||t===jo.PIXELS)return Yr.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${t}`)}function mM(t,e,n){return`${t[0]}_${t[1]}_${e}_${n}`}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Ol{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${n}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}}const Fi="if (isnan(x)) return x;",QIt="return x;",gM="return abs(x);",ZIt="return (x >= 0.0) ? x : (exp(x) - 1.0);",JIt=Fi+`
  return (x < 0.0) ? 0.0 : x;
`,eNt=Fi+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,Ac="return x;",tNt="return 1.0 / (1.0 + exp(-1.0 * x));";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nNt="return x;",sNt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,rNt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,aNt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,oNt="return 1.0 / (1.0 + exp(-1.0 * x));";class Bc{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${n}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iNt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length);const n=e.length,s=Ca("rc",n),r=us(n),a=WIt(n,s),o=s.slice(-2),i=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`
      void main() {
        ${r} rc = getOutputCoords();
        vec4 packedInput = getA(${a});

        setOutput(getChannel(packedInput, ${i}));
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lNt=rx,uNt=1e-7,cNt=1e-4,o_={};function dNt(t){return t in o_||(o_[t]={}),o_[t]}const hNt=ze().getNumber("CPU_HANDOFF_SIZE_THRESHOLD"),fNt=600;function pNt(){return ze().global.screen==null?1024:ze().global.screen.height*ze().global.screen.width*window.devicePixelRatio*fNt/1024/1024}class Xy extends xw{nextDataId(){return Xy.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!ze().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let n;if(e!=null){if(e instanceof G_)n=e;else{const s=dl(ze().getNumber("WEBGL_VERSION"),e);n=new G_(s)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const s=dl(ze().getNumber("WEBGL_VERSION"));n=new G_(s),this.binaryCache=dNt(ze().getNumber("WEBGL_VERSION")),this.gpgpuCreatedLocally=!0}this.gpgpu=n,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new qIt(this.gpgpu),this.numMBBeforeWarning=pNt(),this.texData=new IE(this,qi())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,n,s,r,a,o){const i=this.makeTensorInfo(n,s),l=this.texData.get(i.dataId);l.isPacked=!1,l.texture={texture:e,texShape:[r,a]},l.texShape=[r,a];const u=p2(n),c=new hM(u,!1,o),d=this.runWebGLProgram(c,[i],s,[[r,a]]);return d.shape=n,l.texture=null,this.disposeIntermediateTensorInfo(i),d.dataId}write(e,n,s){if((ze().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||ze().getBool("DEBUG"))&&this.checkNumericalProblems(e),s==="complex64"&&e!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:n,dtype:s,values:e,usage:jo.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){const n=this.texData.get(e);n.refCount++}decRef(e){if(this.texData.has(e)){const n=this.texData.get(e);n.refCount--}}move(e,n,s,r,a){if(ze().getBool("DEBUG")&&this.checkNumericalProblems(n),r==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:s,dtype:r,values:n,usage:jo.UPLOAD,refCount:a})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:s,dtype:r,complexTensorInfos:a,slice:o,shape:i,isPacked:l}=n;if(o!=null){let h;l?h=new Bc(i,Ac):h=new Ol(i,Ac);const f=this.runWebGLProgram(h,[{dataId:e,shape:i,dtype:r}],r),p=this.readSync(f.dataId);return this.disposeIntermediateTensorInfo(f),p}if(s!=null)return this.convertAndCacheOnCPU(e);if(r==="string")return s;const u=this.activeTimers!=null;let c;u&&(c=qr());let d;if(r==="complex64"){const h=this.readSync(a.real.dataId),f=this.readSync(a.imag.dataId);d=ju(h,f)}else d=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=qr()-c),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const p=this.pendingRead.get(e);return new Promise(m=>p.push(m))}const n=this.texData.get(e),{values:s,shape:r,slice:a,dtype:o,complexTensorInfos:i,isPacked:l}=n;if(a!=null){let p;l?p=new Bc(r,Ac):p=new Ol(r,Ac);const m=this.runWebGLProgram(p,[{dataId:e,shape:r,dtype:o}],o),y=this.read(m.dataId);return this.disposeIntermediateTensorInfo(m),y}if(s!=null)return this.convertAndCacheOnCPU(e);if(ze().getBool("DEBUG")&&!ze().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&ze().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u=null,c;if(o!=="complex64"&&ze().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const p=this.texData.get(c.dataId);u=this.gpgpu.createBufferFromTexture(p.texture.texture,...r_(r))}this.pendingRead.set(e,[]),o!=="complex64"&&await this.gpgpu.createAndWaitForFence();let d;if(o==="complex64"){const p=await Promise.all([this.read(i.real.dataId),this.read(i.imag.dataId)]),m=p[0],y=p[1];d=ju(m,y)}else if(u==null)d=this.getValuesFromTexture(e);else{const p=tt(r);d=this.gpgpu.downloadFloat32MatrixFromBuffer(u,p)}if(c!=null&&this.disposeIntermediateTensorInfo(c),u!=null){const p=this.gpgpu.gl;Rt(p,()=>p.deleteBuffer(u))}const h=this.convertAndCacheOnCPU(e,d),f=this.pendingRead.get(e);return this.pendingRead.delete(e),f.forEach(p=>p(h)),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&qi().removeDataId(e,this),this.pendingDeletes--),h}readToGPU(e,n={}){const s=this.texData.get(e),{values:r,shape:a,slice:o,dtype:i,isPacked:l,texture:u}=s;if(i==="complex64")throw new Error("Does not support reading texture for complex64 dtype.");if(o!=null){let f;l?f=new Bc(a,Ac):f=new Ol(a,Ac);const p=this.runWebGLProgram(f,[{dataId:e,shape:a,dtype:i}],i),m=this.readToGPU(p,n);return this.disposeIntermediateTensorInfo(p),m}if(u==null)throw r!=null?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,n.customTexShape),d=qi().makeTensorFromTensorInfo(c),h=this.texData.get(c.dataId);return Object.assign({tensorRef:d},h.texture)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const s=n.map(r=>zu(r));return En(e.shape,e.dtype,s)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return En(e.shape,e.dtype,n)}checkNumericalProblems(e){if(e!=null)for(let n=0;n<e.length;n++){const s=e[n];if(!_Q(s))throw ze().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error(`The value ${s} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`):Error(`The value ${s} cannot be represented on this device.`)}}getValuesFromTexture(e){const{shape:n,dtype:s,isPacked:r}=this.texData.get(e),a=tt(n);if(ze().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const h=this.decode(e),f=this.texData.get(h.dataId),p=this.gpgpu.downloadMatrixFromPackedTexture(f.texture.texture,...r_(n)).subarray(0,a);return this.disposeIntermediateTensorInfo(h),p}const o=ze().getBool("WEBGL_PACK")&&r===!0,i=o?p2(n):n,l=o?new KEt(i):new qEt(i),u=this.runWebGLProgram(l,[{shape:i,dtype:s,dataId:e}],"float32"),c=this.texData.get(u.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,a);return this.disposeIntermediateTensorInfo(u),d}timerAvailable(){return ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const n=this.activeTimers,s=[];let r=!1;this.programTimersStack==null?(this.programTimersStack=s,r=!0):this.activeTimers.push(s),this.activeTimers=s,e();const a=Jl(this.activeTimers.map(l=>l.query)).filter(l=>l!=null),o=Jl(this.activeTimers.map(l=>l.name)).filter(l=>l!=null);this.activeTimers=n,r&&(this.programTimersStack=null);const i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const l=await Promise.all(a);i.kernelMs=Vj(l),i.getExtraProfileInfo=()=>l.map((u,c)=>({name:o[c],ms:u})).map(u=>`${u.name}: ${u.ms}`).join(", ")}else i.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,i})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:qr(),endMs:null}}endTimer(e){return ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=qr(),e)}async getQueryTime(e){if(ze().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:s}=this.texData.get(e);return s!=null&&(this.disposeData(s.real.dataId,n),this.disposeData(s.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:s,texShape:r,usage:a,isPacked:o,slice:i}=this.texData.get(e),l=i&&i.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),n!=null&&(this.numBytesInGPU-=this.computeBytes(r,s),this.textureManager.releaseTexture(n,r,a,o)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,n=hNt){return ze().getBool("WEBGL_CPU_FORWARD")&&e.every(s=>this.texData.get(s.dataId).texture==null&&tt(s.shape)<n)}getGPGPUContext(){return this.gpgpu}where(e){zo("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return lNt(e.shape,n)}packedUnaryOp(e,n,s){const r=new Bc(e.shape,n),a=this.compileAndRun(r,[e],s);return qi().makeTensorFromTensorInfo(a)}abs(e){if(this.shouldExecuteOnCPU([e])&&e.dtype!=="complex64"){const r=hZ(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,r)}if(ze().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,gM,e.dtype);const n=new Ol(e.shape,gM),s=this.compileAndRun(n,[e]);return qi().makeTensorFromTensorInfo(s)}makeTensorInfo(e,n,s){let r;if(n==="string"&&s!=null&&s.length>0&&Dl(s[0])){const a=s.map(o=>Bl(o));r=this.write(a,e,n)}else r=this.write(s,e,n);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:n}}makeOutput(e,n,s){return qi().makeTensorFromTensorInfo(this.makeTensorInfo(e,n,s),this)}unpackTensor(e){const n=new iNt(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new jIt(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const s=[Zh(e.shape),...Jh(e.shape)],r={dtype:e.dtype,shape:s,dataId:e.dataId},a=[Zh(n),...Jh(n)],o=new mZ(a,s),i=!0,l=[s],u=this.runWebGLProgram(o,[r],e.dtype,l,i);return{dataId:u.dataId,shape:n,dtype:u.dtype}}decode(e,n){const s=this.texData.get(e),{isPacked:r,shape:a,dtype:o}=s;if(n!=null){const h=tt(a),f=n[0]*n[1]*4;ae(h<=f,()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data.")}const i=p2(a);let l;r?l=new GEt(i):l=new jEt(i);const u=!0,c=[n??r_(i)],d=this.runWebGLProgram(l,[{shape:i,dtype:o,dataId:e}],o,c,u,n);return{dtype:o,shape:a,dataId:d.dataId}}runWebGLProgram(e,n,s,r,a=!1,o){const i=this.makeTensorInfo(e.outputShape,s),l=this.texData.get(i.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===N1.DENSE){const v=o??r_(e.outputShape);l.texShape=v.map(b=>b*2)}if(e.outTexUsage!=null&&(l.usage=e.outTexUsage),tt(i.shape)===0)return l.values=Br(i.dtype,0),i;const u=[],c=n.map(v=>{if(v.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let b=this.texData.get(v.dataId);if(b.texture==null){if(!e.packedInputs&&tt(v.shape)<=ze().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:v.shape,texData:null,isUniform:!0,uniformValues:b.values};e.packedInputs&&(b.isPacked=!0,b.shape=v.shape)}if(this.uploadToGPU(v.dataId),!!b.isPacked!=!!e.packedInputs)v=b.isPacked?this.unpackTensor(v):this.packTensor(v),u.push(v),b=this.texData.get(v.dataId);else if(b.isPacked&&!A1(b.shape,v.shape)){const w=v,_=v.shape;v.shape=b.shape,v=this.packedReshape(v,_),u.push(v),b=this.texData.get(v.dataId),w.shape=_}return{shape:v.shape,texData:b,isUniform:!1}});this.uploadToGPU(i.dataId);const d={shape:i.shape,texData:l,isUniform:!1},h=WEt(e,c,d),f=this.getAndSaveBinary(h,()=>HEt(this.gpgpu,e,c,d)),p=this.activeTimers!=null;let m;p&&(m=this.startTimer()),ze().get("ENGINE_COMPILE_ONLY")||UEt(this.gpgpu,f,c,d,r),u.forEach(v=>this.disposeIntermediateTensorInfo(v)),p&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const y=ze().getNumber("WEBGL_FLUSH_THRESHOLD");if(y>0){const v=qr();v-this.lastGlFlushTime>y&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=v)}if(!ze().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&a===!1){const v=this.unpackTensor(i);return this.disposeIntermediateTensorInfo(i),v}return i}compileAndRun(e,n,s,r,a=!1){return s=s||n[0].dtype,this.runWebGLProgram(e,n,s,r,a)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(ze().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(n=>{this.gpgpu.deleteProgram(this.binaryCache[n].webGLProgram),delete this.binaryCache[n]}),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Ve(()=>{if(!ze().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=ze().getBool("DEBUG");ze().set("DEBUG",!1);const n=this.abs(on(1e-8)).dataSync()[0];if(ze().set("DEBUG",e),n>0)return 32}return 16})),this.floatPrecisionValue}epsilon(){return this.floatPrecision()===32?uNt:cNt}uploadToGPU(e){const n=this.texData.get(e),{shape:s,dtype:r,values:a,texture:o,usage:i,isPacked:l}=n;if(o!=null)return;const u=this.activeTimers!=null;let c;u&&(c=qr());let d=n.texShape;if(d==null&&(d=MQ(s,l),n.texShape=d),a!=null){const h=p2(s);let f,p=d[1],m=d[0];const y=a instanceof Uint8Array||a instanceof Uint8ClampedArray;(l||!y)&&([p,m]=Qm(d[0],d[1])),l?f=new YEt(h,y):f=new hM(h,y);const v=y?[m,p]:d,b=this.makeTensorInfo(v,r),w=this.texData.get(b.dataId);y?w.usage=jo.PIXELS:w.usage=jo.UPLOAD,w.texShape=v,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(b.dataId),p,m,a);const _=[[m,p]],x=this.runWebGLProgram(f,[b],r,_,!0),T=this.texData.get(x.dataId);n.texShape=T.texShape,n.isPacked=T.isPacked,n.usage=T.usage,ze().get("ENGINE_COMPILE_ONLY")?this.disposeData(x.dataId):(n.texture=T.texture,n.values=null,this.texData.delete(x.dataId)),this.disposeIntermediateTensorInfo(b),u&&(this.uploadWaitMs+=qr()-c)}else{const h=this.acquireTexture(d,i,r,l);n.texture=h}}convertAndCacheOnCPU(e,n){const s=this.texData.get(e),{dtype:r}=s;return n!=null&&(s.values=mNt(n,r)),s.values}acquireTexture(e,n,s,r){if(this.numBytesInGPU+=this.computeBytes(e,s),!this.warnedAboutMemory&&this.numBytesInGPU>this.numMBBeforeWarning*1024*1024){const a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${a} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,r)}computeBytes(e,n){return e[0]*e[1]*m1(n)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,n]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(n));return Promise.all(e)}else{for(const[,n]of Object.entries(this.binaryCache)){const s=new Promise(r=>{try{this.checkCompletion_(n),r(!0)}catch(a){throw a}});e.push(s)}return Promise.all(e)}}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await bN(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)===!1)throw console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS)===!1?(AA(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.")):new Error("Failed to link vertex and fragment shaders.");return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:n,customUniformLocations:s,infLoc:r,nanLoc:a,outShapeLocation:o,outShapeStridesLocation:i,outTexShapeLocation:l}=KQ(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=n,e.customUniformLocations=s,e.infLoc=r,e.nanLoc=a,e.outShapeLocation=o,e.outShapeStridesLocation=i,e.outTexShapeLocation=l}}createTensorFromGPUData(e,n,s){e.channels=e.channels||"RGBA";const{texture:r,height:a,width:o,channels:i}=e,l=qi().backend;if(!l.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const u=l.writeTexture(r,n,s,a,o,i);return qi().makeTensorFromDataId(u,n,s,l)}}Xy.nextDataId=0;function mNt(t,e){if(e==="float32"||e==="complex64")return t;if(e==="int32"||e==="bool"){const n=e==="int32"?new Int32Array(t.length):new Uint8Array(t.length);for(let s=0;s<n.length;++s)n[s]=Math.round(t[s]);return n}else throw new Error(`Unknown dtype ${e}`)}/** @license See the LICENSE file. */const gZ="4.11.0";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vZ(){ze().set("WEBGL_FORCE_F16_TEXTURES",!0)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */BE()&&qE("webgl",()=>new Xy,2);const gNt={forceHalfFloat:vZ};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VA=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;class ef{constructor(e,n,s){this.variableNames=["A","B"],this.outputShape=wn(n,s),this.enableShapeUniforms=ga(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $f=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;class sg{constructor(e,n,s,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=wn(n,s);const a=this.outputShape.length;this.enableShapeUniforms=ga(a);let o="";if(r)if(a===0||tt(this.outputShape)===1)o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(o=`
          ${us(a)} coords = getOutputCoords();
        `,a===1)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{const l=Ca("coords",a);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${l[a-2]} + 1) >= outShape[${a} - 2];
            bool nextColOutOfBounds =
              (${l[a-1]} + 1) >= outShape[${a} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${l[a-2]} + 1) >= ${this.outputShape[a-2]};
            bool nextColOutOfBounds =
              (${l[a-1]} + 1) >= ${this.outputShape[a-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Eo(t){const{inputs:e,backend:n}=t,{x:s}=e;return n.incRef(s.dataId),{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}const vNt={kernelName:lm,backendName:"webgl",kernelFunc:Eo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Id(t){const{inputs:e,backend:n}=t,{real:s,imag:r}=e,a=n.makeTensorInfo(s.shape,"complex64"),o=n.texData.get(a.dataId),i=Eo({inputs:{x:s},backend:n}),l=Eo({inputs:{x:r},backend:n});return o.complexTensorInfos={real:i,imag:l},a}const yNt={kernelName:Aw,backendName:"webgl",kernelFunc:Id};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yZ="return (a < 0.) ? b * a : a;",bZ=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function bNt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{alpha:a}=s,o=n.makeTensorInfo([],"float32",rc(a,"float32")),i=ze().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sg(bZ,r.shape,o.shape):new ef(yZ,r.shape,o.shape),l=n.runWebGLProgram(i,[r,o],"float32");return n.disposeIntermediateTensorInfo(o),l}const _Nt={kernelName:Dv,backendName:"webgl",kernelFunc:bNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _Z="return (a < 0.) ? b * a : a;",wZ=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`;function wNt(t){const{inputs:e,backend:n}=t,{x:s,alpha:r}=e,a=ze().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sg(wZ,s.shape,r.shape):new ef(_Z,s.shape,r.shape);return n.runWebGLProgram(a,[s,r],"float32")}const xNt={kernelName:Qv,backendName:"webgl",kernelFunc:wNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rg="if (isnan(x)) return x;";function Qn({opSnippet:t,packedOpSnippet:e,cpuKernelImpl:n,dtype:s}){return({inputs:r,backend:a})=>{const{x:o}=r,i=a,l=s||o.dtype;if(i.shouldExecuteOnCPU([o])&&n!=null){const d=i.texData.get(o.dataId),h=n(d.values,l);return i.makeTensorInfo(o.shape,l,h)}const u=ze().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&e!=null;let c;return u?c=new Bc(o.shape,e):c=new Ol(o.shape,t),i.runWebGLProgram(c,[o],l)}}function ua({opSnippet:t,packedOpSnippet:e,checkOutOfBounds:n=!1,supportsComplex:s=!1,cpuKernelImpl:r,dtype:a}){return({inputs:o,backend:i})=>{const{a:l,b:u}=o,c=i;if(s&&l.dtype==="complex64"){const p=c.texData.get(l.dataId),m=c.texData.get(u.dataId),[y,v]=[[p.complexTensorInfos.real,m.complexTensorInfos.real],[p.complexTensorInfos.imag,m.complexTensorInfos.imag]].map(w=>{const[_,C]=w,x={dataId:_.dataId,dtype:_.dtype,shape:l.shape},T={dataId:C.dataId,dtype:C.dtype,shape:u.shape},k=new ef(t,l.shape,u.shape);return c.runWebGLProgram(k,[x,T],Ja(_.dtype,C.dtype))}),b=Id({inputs:{real:y,imag:v},backend:c});return c.disposeIntermediateTensorInfo(y),c.disposeIntermediateTensorInfo(v),b}const d=a||Ja(l.dtype,u.dtype);if((l.dtype==="string"||u.dtype==="string"||c.shouldExecuteOnCPU([l,u]))&&r!=null){const p=c.texData.get(l.dataId).values,m=c.texData.get(u.dataId).values,y=l.dtype==="string"?Gu(p):p,v=l.dtype==="string"?Gu(m):m,[b,w]=r(l.shape,u.shape,y,v,d),_=c.makeTensorInfo(w,d),C=c.texData.get(_.dataId);return C.values=b,_}const h=ze().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&e!=null;let f;return h?f=new sg(e,l.shape,u.shape,n):f=new ef(t,l.shape,u.shape),c.runWebGLProgram(f,[l,u],d)}}function D1(t,e=!1){if(t==="linear")return e?nNt:QIt;if(t==="relu")return e?rNt:JIt;if(t==="elu")return e?sNt:ZIt;if(t==="relu6")return e?aNt:eNt;if(t==="prelu")return e?wZ:_Z;if(t==="leakyrelu")return e?bZ:yZ;if(t==="sigmoid")return e?oNt:tNt;throw new Error(`Activation ${t} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xZ{constructor(e,n,s,r=!1,a=!1,o=!1,i=null,l=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=s,this.enableShapeUniforms=ga(this.outputShape.length);const c=r?e[1]:e[2],d=Math.ceil(c/2),h=r?"i * 2, rc.y":"rc.y, i * 2",f=a?"rc.z, i * 2":"i * 2, rc.z",p=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=a?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let y="",v="";i&&(l?y=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${i}
        }`:u?y=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${i}
        }`:y=`vec4 activation(vec4 x) {
          ${i}
        }`,v="result = activation(result);");const b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let w="rc.x",_="rc.x";e[0]<n[0]?w=`imod(rc.x, ${e[0]})`:n[0]<e[0]&&(_=`imod(rc.x, ${n[0]})`),this.userCode=`
      ${y}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${w};
        int batchB = ${_};
        for (int i = 0; i < ${d}; i++) {
          vec4 a = getMatrixA(batchA, ${h});
          vec4 b = getMatrixB(batchB, ${f});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${m[0]});
          result += (${p[1]} * ${m[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${b}

        ${v}

        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vM={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class yM{constructor(e,n,s){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=wn(n,s),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bM="return a * b;";function HA(t){const{inputs:e,backend:n}=t,{a:s,b:r}=e,a=Ja(s.dtype,r.dtype);if(s.dtype==="complex64"){const i=n.texData.get(s.dataId),l=n.texData.get(r.dataId),u=new yM(vM.REAL,s.shape,r.shape),c=new yM(vM.IMAG,s.shape,r.shape),d=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:s.shape},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:s.shape},{dataId:l.complexTensorInfos.real.dataId,dtype:l.complexTensorInfos.real.dtype,shape:r.shape},{dataId:l.complexTensorInfos.imag.dataId,dtype:l.complexTensorInfos.imag.dtype,shape:r.shape}],h=n.runWebGLProgram(u,d,"float32"),f=n.runWebGLProgram(c,d,"float32"),p=Id({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),p}if(n.shouldExecuteOnCPU([s,r])){const i=n.texData.get(s.dataId),l=n.texData.get(r.dataId),[u,c]=_It(s.shape,r.shape,i.values,l.values,a),d=n.makeTensorInfo(c,a),h=n.texData.get(d.dataId);return h.values=u,d}let o;return ze().getBool("WEBGL_PACK_BINARY_OPERATIONS")?o=new sg(bM,s.shape,r.shape):o=new ef(bM,s.shape,r.shape),n.runWebGLProgram(o,[s,r],a)}const CNt={kernelName:vm,backendName:"webgl",kernelFunc:HA};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SNt(t,e,n){const s=[Zh(t.shape),...Jh(t.shape)],r={dtype:t.dtype,shape:s,dataId:t.dataId},a=[Zh(e),...Jh(e)],o=new mZ(a,s),i=!0,l=[s],u=n.runWebGLProgram(o,[r],t.dtype,l,i);return{dataId:u.dataId,shape:e,dtype:u.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{shape:a}=s,o=n,i=tt(r.shape),l=AE(a,i),u=tt(l);ae(i===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${r.shape}) has ${i} elements. The new shape and old shape must have the same number of elements.`);const c=o.texData.get(r.dataId);return c.isPacked&&!A1(r.shape,l)&&!(c.texture!==null&&A1(c.shape,l))?SNt(r,l,o):(o.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype})}const TNt={kernelName:Jv,backendName:"webgl",kernelFunc:Ot};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _M{constructor(e,n){this.variableNames=["x"];const{windowSize:s,batchSize:r,inSize:a,outSize:o}=e;this.outputShape=[r,o];const i=Math.floor(s/4)*4,l=s%4;let u="sumValue += dot(values, ones);";if(n!=null){const d=1/n;u=`sumValue += dot(values * ${Mh(d)?d.toPrecision(2):d}, ones);`}let c="";a%s>0&&(c=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        float sumValue = 0.0;

        for (int i = 0; i < ${i}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${i};
        if (${l===1}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${l===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${l===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class kNt{constructor(e,n){this.variableNames=["x"];const{windowSize:s,batchSize:r,inSize:a,outSize:o}=e;this.outputShape=[r,o];let i="0.0",l="";n==="prod"?i="1.0":n==="min"?(i="1.0 / 1e-20",l="min"):n==="max"&&(i="-1.0 / 1e-20",l="max");let u=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="sum"?u="sumValue":n==="prod"?u="prodValue":n==="all"?u="allValue":n==="any"&&(u="anyValue");const c=Math.floor(s/4)*4,d=s%4;let h=`
      if (${n==="sum"}) {
        sumValue += dot(values, ones);
      } else if (${n==="prod"}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${l}(values, minMaxValue);
        if (${n==="min"} || ${n==="max"}) {
          minMaxValue = ${l}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,f="vec4";n==="all"?(i="1.0",h=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,f="bvec4"):n==="any"&&(i="0.0",h=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,f="bvec4");let p="";a%s>0&&(p=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${i};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${p}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${s};

        vec4 minMaxValue = vec4(${i});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          ${f} values = ${f}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${h}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          ${f} values = ${f}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===2}) {
          ${f} values = ${f}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${h}
        } else if (${d===3}) {
          ${f} values = ${f}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${h}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Nt(t){const e=[];for(;e.length===0||e[e.length-1].outSize!==1;){const n=e.length?e[e.length-1].outSize:t[1],s=gx(n);e.push({inSize:n,windowSize:s,outSize:Math.ceil(n/s)})}return e}function Ef(t,e,n,s){const r=$Nt(t.shape);let a=t;for(let o=0;o<r.length;o++){const{inSize:i,windowSize:l,outSize:u}=r[o];let c,d;n==="mean"?c=o===0?new _M({windowSize:l,inSize:i,batchSize:t.shape[0],outSize:u},i):new _M({windowSize:l,inSize:i,batchSize:t.shape[0],outSize:u}):c=new kNt({windowSize:l,inSize:i,batchSize:t.shape[0],outSize:u},n),d=a,a=s.runWebGLProgram(c,[a],e),d.dataId!==t.dataId&&s.disposeIntermediateTensorInfo(d)}return a}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ENt{constructor(e,n){this.variableNames=["A"];const s=new Array(e.length);for(let o=0;o<s.length;o++)s[o]=e[n[o]];this.outputShape=s,this.rank=s.length;const r=us(this.rank),a=INt(n);this.userCode=`
    void main() {
      ${r} resRC = getOutputCoords();
      setOutput(getA(${a}));
    }
    `}}function INt(t){const e=t.length;if(e>6)throw Error(`Transpose for rank ${e} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],s=new Array(e);for(let r=0;r<t.length;r++)s[t[r]]=n[r];return s.join()}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NNt{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const s=new Array(e.length);for(let c=0;c<s.length;c++)s[c]=e[n[c]];if(this.outputShape=s,this.rank=s.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=us(this.rank),a=pZ("rc",this.rank),o=new Array(this.rank);for(let c=0;c<n.length;c++)o[n[c]]=a[c];const i=`vec2(${o.slice(-2).join()})`,l=`++${a[this.rank-1]} < ${s[this.rank-1]}`,u=`getChannel(getA(${o.join()}), ${i})`;this.userCode=`
    void main() {
      ${r} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${u};
      if(${l}) {
        result[1] = ${u};
      }
      --${a[this.rank-1]};
      if(++${a[this.rank-2]} < ${s[this.rank-2]}) {
        result[2] = ${u};
        if(${l}) {
          result[3] = ${u};
        }
      }
      setOutput(result);
    }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hx(t,e,n){const s=ze().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NNt(t.shape,e):new ENt(t.shape,e);return n.runWebGLProgram(s,[t],t.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ANt(t,e,n,s){const r=e,a=t.shape.length,o=Rn(r,t.shape);let i=o;const l=Ys(i,a),u=l!=null;let c=t;u&&(c=Hx(t,l,s),i=lr(i.length,a)),ia("sum",i,a);const[d,h]=Hr(c.shape,i);let f=d;n&&(f=ir(d,o));const p=tt(h),y=tt(t.shape)/p,v=Ot({inputs:{x:c},attrs:{shape:[y,p]},backend:s}),b=A6(t.dtype),w=Ef(v,b,"sum",s),_=Ot({inputs:{x:w},attrs:{shape:f},backend:s});return s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(w),u&&s.disposeIntermediateTensorInfo(c),_}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ux(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s;return ANt(r,a,o,n)}const DNt={kernelName:ay,backendName:"webgl",kernelFunc:Ux};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ia(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{perm:a}=s,o=n,i=r.shape.length,l=new Array(i);for(let c=0;c<l.length;c++)l[c]=r.shape[a[c]];let u;if(o.shouldExecuteOnCPU([r])){const d=o.texData.get(r.dataId).values,h=zA(d,r.shape,r.dtype,a,l);u=o.makeTensorInfo(l,r.dtype);const f=o.texData.get(u.dataId);f.values=h}else u=Hx(r,a,o);return u}const ONt={kernelName:_h,backendName:"webgl",kernelFunc:Ia};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CZ=1e3;function t4({a:t,b:e,transposeA:n,transposeB:s,backend:r,bias:a=null,preluActivationWeights:o=null,leakyreluAlpha:i=0,activation:l=null}){const u=t.shape.length,c=e.shape.length,d=n?t.shape[u-2]:t.shape[u-1],h=s?e.shape[c-1]:e.shape[c-2],f=n?t.shape[u-1]:t.shape[u-2],p=s?e.shape[c-2]:e.shape[c-1],m=t.shape.slice(0,-2),y=e.shape.slice(0,-2),v=tt(m),b=tt(y),_=wn(t.shape.slice(0,-2),e.shape.slice(0,-2)).concat([f,p]);ae(d===h,()=>`Error in matMul: inner shapes (${d}) and (${h}) of Tensors with shapes ${t.shape} and ${e.shape} and transposeA=${n} and transposeB=${s} must match.`);const C=n?[v,d,f]:[v,f,d],x=s?[b,p,h]:[b,h,p],T=Ot({inputs:{x:t},backend:r,attrs:{shape:C}}),k=Ot({inputs:{x:e},backend:r,attrs:{shape:x}}),N=[T,k],O=Math.max(v,b),L=n?T.shape[1]:T.shape[2],V=a!=null,H=o!=null,K=l==="leakyrelu",U=l!=null?D1(l,!0):null,R=V||H||K||U!=null;let W;if((f===1||p===1)&&L>CZ&&R===!1){let P=T,j=k;n&&(P=Ia({inputs:{x:T},backend:r,attrs:{perm:[0,2,1]}}),N.push(P)),s&&(j=Ia({inputs:{x:k},backend:r,attrs:{perm:[0,2,1]}}),N.push(j));const J=p!==1,ne=p===1;let te=P;J&&(te=Ot({inputs:{x:P},backend:r,attrs:{shape:[O,L,1]}}),N.push(te));const de=p===1?2:1;let me=j;ne&&(me=Ot({inputs:{x:j},backend:r,attrs:{shape:[O,1,L]}}),N.push(me));const _e=HA({inputs:{a:te,b:me},backend:r});W=Ux({inputs:{x:_e},backend:r,attrs:{axis:de,keepDims:!0}}),N.push(_e)}else{const P=Ja(t.dtype,e.dtype),j=new xZ(C,x,[O,f,p],n,s,V,U,H,K),J=[T,k];if(a!=null&&J.push(a),H&&J.push(o),K){const ne=r.makeTensorInfo([],"float32",rc(i,"float32"));J.push(ne),N.push(ne)}W=r.runWebGLProgram(j,J,P)}const G=Ot({inputs:{x:W},backend:r,attrs:{shape:_}});N.push(W);for(const P of N)r.disposeIntermediateTensorInfo(P);return G}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RNt(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:a,bias:o,preluActivationWeights:i}=e,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=s;return t4({a:r,b:a,transposeA:l,transposeB:u,backend:n,bias:o,preluActivationWeights:i,leakyreluAlpha:d,activation:c})}const LNt={kernelName:g1,backendName:"webgl",kernelFunc:RNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wM="return abs(x);";function PNt(t){const{inputs:e,backend:n}=t,{x:s}=e;if(n.shouldExecuteOnCPU([s])&&s.dtype!=="complex64"){const a=n.texData.get(s.dataId),o=hZ(a.values);return n.makeTensorInfo(s.shape,s.dtype,o)}let r;return ze().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new Bc(s.shape,wM):r=new Ol(s.shape,wM),n.runWebGLProgram(r,[s],s.dtype)}const MNt={kernelName:cv,backendName:"webgl",kernelFunc:PNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FNt=Fi+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,BNt=Qn({opSnippet:FNt}),zNt={kernelName:H0,backendName:"webgl",kernelFunc:BNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VNt=Fi+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,HNt=Qn({opSnippet:VNt}),UNt={kernelName:U0,backendName:"webgl",kernelFunc:HNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xM="return a + b;",WNt=ua({opSnippet:xM,packedOpSnippet:xM,supportsComplex:!0,cpuKernelImpl:JEt}),jNt={kernelName:mf,backendName:"webgl",kernelFunc:WNt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GNt{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map((a,o)=>`T${o}`);const s=[];this.variableNames.forEach(a=>{s.push(`float v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${s.join(`
        `)}

        float result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qNt{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map((a,o)=>`T${o}`);const s=[];this.variableNames.forEach(a=>{s.push(`vec4 v${a} = get${a}AtOutCoords();`)});const r=this.variableNames.map(a=>`v${a}`).join(" + ");this.userCode=`
      void main() {
        ${s.join(`
        `)}

        vec4 result = ${r};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q_(t){const{inputs:e,backend:n}=t,s=e;if(s.length===1)return Eo({inputs:{x:s[0]},backend:n});if(s.length>ze().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const l=Math.floor(s.length/2),u=q_({inputs:s.slice(0,l),backend:n}),c=q_({inputs:s.slice(l),backend:n});return q_({inputs:[u,c],backend:n})}const r=s.map(l=>l.dtype).reduce((l,u)=>Ja(l,u)),a=s.map(l=>l.shape),i=ze().getBool("WEBGL_PACK")?new qNt(s[0].shape,a):new GNt(s[0].shape,a);return n.runWebGLProgram(i,s,r)}const KNt={kernelName:dv,backendName:"webgl",kernelFunc:q_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XNt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s,i=r.shape.length,l=Rn(a,r.shape);let u=l;const c=Ys(u,i);let d=r;c!=null&&(d=Ia({inputs:{x:r},backend:n,attrs:{perm:c}}),u=lr(u.length,i)),ia("all",u,i);const[h,f]=Hr(d.shape,u),p=tt(f),m=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),y=Ef(m,m.dtype,"all",n);let v;if(o){const b=ir(h,l);v=Ot({inputs:{x:y},backend:n,attrs:{shape:b}})}else v=Ot({inputs:{x:y},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),c!=null&&n.disposeIntermediateTensorInfo(d),v}const YNt={kernelName:Tw,backendName:"webgl",kernelFunc:XNt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QNt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s,i=r.shape.length,l=Rn(a,r.shape);let u=l;const c=Ys(u,i);let d=r;c!=null&&(d=Ia({inputs:{x:r},backend:n,attrs:{perm:c}}),u=lr(u.length,i)),ia("any",u,i);const[h,f]=Hr(d.shape,u),p=tt(f),m=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),y=Ef(m,m.dtype,"any",n);let v;if(o){const b=ir(h,l);v=Ot({inputs:{x:y},backend:n,attrs:{shape:b}})}else v=Ot({inputs:{x:y},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),c!=null&&n.disposeIntermediateTensorInfo(d),v}const ZNt={kernelName:kw,backendName:"webgl",kernelFunc:QNt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JNt{constructor(e,n,s){this.variableNames=["A"];const{windowSize:r,batchSize:a,outSize:o}=e;s||this.variableNames.push("bestIndicesA"),this.outputShape=[a,o];const i=n==="max"?">":"<",l=s?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${r}; i++) {
          int inIdx = ${l};
          float candidate = getA(batch, inIdx);
          if (candidate ${i} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class e9t{constructor(e,n,s,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ae(e.length>2,()=>`Packed arg${s.charAt(0).toUpperCase()+s.slice(1)} supports only inputs with rank above 2.`);const a=e[e.length-1],o=Math.ceil(a/n);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),r||this.variableNames.push("bestIndicesA");const i=this.outputShape,l=i.length,u=us(l),c=Ca("coords",l);let d,h;if(o===1){h=l+1;const k=us(h);d=`
        ${k} sourceLocR = ${k}(${c.join()}, 0);
        ++${c[l-1]};
        ${k} sourceLocG = ${k}(${c.join()}, 0);
        ++${c[l-2]};
        ${k} sourceLocA = ${k}(${c.join()}, 0);
        --${c[l-1]};
        ${k} sourceLocB = ${k}(${c.join()}, 0);
        --${c[l-2]};`}else h=l,d=`
        ${u} sourceLocR = coords;
        ++${c[l-1]};
        ${u} sourceLocG = coords;
        ++${c[l-2]};
        ${u} sourceLocA = coords;
        --${c[l-1]};
        ${u} sourceLocB = coords;
        --${c[l-2]};`;const f=["x","y","z","w","u","v"].slice(0,h),p="."+f[h-1],m=f.map(k=>"int "+k),y=Ca("sourceLocR",h-1).concat("inIdx.r"),v=Ca("sourceLocG",h-1).concat("inIdx.g"),b=Ca("sourceLocB",h-1).concat("inIdx.b"),w=Ca("sourceLocA",h-1).concat("inIdx.a"),_=s==="max"?"greaterThan":"lessThan",C=r?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${y.join()}),
                             getBestIndicesAChannel(${v.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${w.join()})));`,x=`vec4(
            getAChannel(${y.join()}),
            hasNextCol ? getAChannel(${v.join()}) : 0.,
            hasNextRow ? getAChannel(${b.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${w.join()}) : 0.)`,T=r?"":`
      float getBestIndicesAChannel(${m.join()}) {
        return getChannel(getBestIndicesA(${f.join()}),
                                          vec2(${f.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${m.join()}) {
        return getChannel(getA(${f.join()}),
                               vec2(${f.slice(-2).join()}));
      }
      ${T}
      void main() {
        ${u} coords = getOutputCoords();
        bool hasNextCol = ${c[l-1]} < ${i[l-1]-1};
        bool hasNextRow = ${c[l-2]} < ${i[l-2]-1};
        ${d}
        ivec4 srcIdx = ivec4(sourceLocR${p}, sourceLocG${p},
          sourceLocB${p}, sourceLocA${p}) * ${n};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${x};

        for (int i = 0; i < ${n}; i++) {
          inIdx = srcIdx;
          ${C}
          vec4 candidate = ${x};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${_}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SZ(t,e,n,s=null){let r=e.shape[0],a=e.shape[1];s!=null&&(r=s.shape[0],a=s.shape[1]);const o=gx(a),i={windowSize:o,inSize:a,batchSize:r,outSize:Math.ceil(a/o)},l=new JNt(i,n,s==null),u=[e];s!=null&&u.push(s);const c=t.runWebGLProgram(l,u,"int32");if(c.shape[1]===1)return c;const d=SZ(t,e,n,c);return t.disposeIntermediateTensorInfo(c),d}function TZ(t,e,n,s=null){const r=s!=null?s.shape:e.shape,a=r[r.length-1],o=gx(a),i=new e9t(r,o,n,s==null),l=s==null?[e]:[e,s],u=t.runWebGLProgram(i,l,"int32");if(u.shape.length===e.shape.length){const c=TZ(t,e,n,u);return t.disposeIntermediateTensorInfo(u),c}return u}function kZ(t,e,n,s){const r=[n];if(ia("arg"+s.charAt(0).toUpperCase()+s.slice(1),r,e.shape.length),!ze().getBool("WEBGL_PACK_REDUCE")||e.shape.length<=2){const a=[],o=t.texData.get(e.dataId),i=o!==null&&o.isPacked;let l=e;i&&(l=t.unpackTensor(e),a.push(l));const[u,c]=Hr(l.shape,r),d=tt(c),h=Ot({inputs:{x:l},backend:t,attrs:{shape:[-1,d]}});a.push(h);const f=SZ(t,h,s);a.push(f);const p=Ot({inputs:{x:f},backend:t,attrs:{shape:u}});return a.forEach(m=>t.disposeIntermediateTensorInfo(m)),p}return TZ(t,e,s)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t9t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a}=s;let o=Rn(a,r.shape);const i=Ys(o,r.shape.length);let l=r;const u=[];i!=null&&(l=Ia({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),o=lr(o.length,l.shape.length)),ia("argMax",[o[0]],l.shape.length);const c=kZ(n,l,o[0],"max");return u.forEach(d=>n.disposeIntermediateTensorInfo(d)),c}const n9t={kernelName:hv,backendName:"webgl",kernelFunc:t9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s9t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a}=s;let o=Rn(a,r.shape);const i=Ys(o,r.shape.length);let l=r;const u=[];i!=null&&(l=Ia({inputs:{x:r},backend:n,attrs:{perm:i}}),u.push(l),o=lr(o.length,l.shape.length)),ia("argMin",[o[0]],l.shape.length);const c=kZ(n,l,o[0],"min");return u.forEach(d=>n.disposeIntermediateTensorInfo(d)),c}const r9t={kernelName:fv,backendName:"webgl",kernelFunc:s9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a9t=Fi+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,o9t=Qn({opSnippet:a9t}),i9t={kernelName:W0,backendName:"webgl",kernelFunc:o9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const l9t=Fi+"return log(x + sqrt(x * x + 1.0));",u9t=Qn({opSnippet:l9t}),c9t={kernelName:j0,backendName:"webgl",kernelFunc:u9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d9t=Fi+`
  return atan(x);
`,h9t=Qn({opSnippet:d9t}),f9t={kernelName:G0,backendName:"webgl",kernelFunc:h9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const p9t=VA+`
  return atan(a, b);
`,m9t=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+$f+`
  return result;
`,g9t=ua({opSnippet:p9t,packedOpSnippet:m9t}),v9t={kernelName:K0,backendName:"webgl",kernelFunc:g9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y9t=Fi+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,b9t=Qn({opSnippet:y9t}),_9t={kernelName:q0,backendName:"webgl",kernelFunc:b9t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O1{constructor(e,n,s,r=!1,a=!1){if(this.variableNames=["x"],n==="avg"&&s)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,i=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,f=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const m=n==="avg",y=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,v=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(m||(b="-1.0 / 1e-20"),s){const k=">=";this.userCode=`
        const ivec2 strides = ivec2(${i}, ${l});
        const ivec2 pads = ivec2(${f}, ${p});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${d};
              wR += ${u}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${h};
                wC += ${c}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value ${k} currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${r?a?y:v:`wR * ${h} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const w="max";let _=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(_="avgValue / max(count, 1.0)");const C=Math.floor(o/4)*4,x=o%4,T=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${w}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${i}, ${l});
      const ivec2 pads = ivec2(${f}, ${p});
      const float initializationValue = ${b};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${b});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${d};
            wR += ${u}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${C}; wC += 4) {
            int xC = xCCorner + wC * ${c};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              getValue(batch, xR, xC + 3 * ${c}, d)
            );

            ${T}
          }

          int xC = xCCorner + ${C};
          if (${x===1}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${T}
          } else if (${x===2}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              initializationValue,
              initializationValue
            );

            ${T}
          } else if (${x===3}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${c}, d),
              getValue(batch, xR, xC + 2 * ${c}, d),
              initializationValue
            );

            ${T}
          }
        }
        setOutput(${_});
      }
    `}}class UA{constructor(e,n,s,r=!1,a=!1){if(this.variableNames=["x"],n==="avg"&&s)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,i=e.strideDepth,l=e.strideHeight,u=e.strideWidth,c=e.dilationDepth,d=e.dilationHeight,h=e.dilationWidth,f=e.effectiveFilterDepth,p=e.effectiveFilterHeight,m=e.effectiveFilterWidth,y=e.padInfo.front,v=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const w=n==="avg";let _="0.0";if(w||(_="-1.0 / 1e-20"),s){const O=">=";this.userCode=`
        const ivec3 strides =
            ivec3(${i}, ${l}, ${u});
        const ivec3 pads = ivec3(${y}, ${v}, ${b});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${f};
              wD += ${c}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${p};
                wR += ${d}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${m};
                  wC += ${h}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value ${O} currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${r?a?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${p} * ${m} +
                      wR * ${m} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}const C="max";let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;n==="avg"&&(x="avgValue / max(count, 1.0)");const T=Math.floor(o/4)*4,k=o%4,N=`
      if (${w}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = ${C}(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${i}, ${l}, ${u});
      const ivec3 pads = ivec3(${y}, ${v}, ${b});
      const float initializationValue = ${_};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${_});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${f};
            wD += ${c}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${p};
            wR += ${d}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${T}; wC += 4) {
              int xC = xCCorner + wC * ${h};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                getValue(batch, xD, xR, xC + 3 * ${h}, ch)
              );

              ${N}
            }

            int xC = xCCorner + ${T};
            if (${k===1}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${N}
            } else if (${k===2}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                initializationValue,
                initializationValue
              );

              ${N}
            } else if (${k===3}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${h}, ch),
                getValue(batch, xD, xR, xC + 2 * ${h}, ch),
                initializationValue
              );

              ${N}
            }
          }
        }
        setOutput(${x});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w9t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;Zm(r,"avgPool");const{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=s,u=1;ae(oa(o,u),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Pi(r.shape,a,o,u,i,l);if(c.filterWidth===1&&c.filterHeight===1&&Bn(c.inShape,c.outShape))return Eo({inputs:{x:r},backend:n});const d=new O1(c,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}const x9t={kernelName:pv,backendName:"webgl",kernelFunc:w9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C9t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:a,strides:o,pad:i,dimRoundingMode:l,dataFormat:u}=s,c=[1,1,1],d=ac(r.shape,a,o,c,i,l,u),h=new UA(d,"avg",!1);return n.runWebGLProgram(h,[r],"float32")}const S9t={kernelName:mv,backendName:"webgl",kernelFunc:C9t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class T9t{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,s=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=e.dilationHeight,i=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=l-1-e.padInfo.top,d=u-1-e.padInfo.left,h=1/(n*s);this.userCode=`
      const ivec2 pads = ivec2(${c}, ${d});
      const float avgMultiplier = float(${h});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${l};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${u};
            wC+= ${i}) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}}class k9t{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,s=e.filterHeight,r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,p=d-1-e.padInfo.front,m=h-1-e.padInfo.top,y=f-1-e.padInfo.left,v=1/(n*s*r);this.userCode=`
      const ivec3 pads = ivec3(${p}, ${m}, ${y});
      const float avgMultiplier = float(${v});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${d};
            wD += ${l}) {
          float dyD = float(dyDCorner + wD) / ${a}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${h};
              wR += ${u}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${f};
                wC += ${c}) {
              float dyC = float(dyCCorner + wC) / ${i}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $9t(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a}=e,o=a,{filterSize:i,strides:l,pad:u,dimRoundingMode:c}=s,d=[1,1,1],h=ac(o.shape,i,l,d,u,c),f=new k9t(h);return n.runWebGLProgram(f,[r],o.dtype)}const E9t={kernelName:Ew,backendName:"webgl",kernelFunc:$9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I9t(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a}=e,o=a;Zm([r,a],"avgPoolGrad");const{filterSize:i,strides:l,pad:u}=s,c=Pi(o.shape,i,l,1,u),d=new T9t(c);return n.runWebGLProgram(d,[r],o.dtype)}const N9t={kernelName:$w,backendName:"webgl",kernelFunc:I9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A9t(t){const{inputs:e,backend:n,attrs:s}=t,{a:r,b:a}=e,{transposeA:o,transposeB:i}=s;return t4({a:r,b:a,transposeA:o,transposeB:i,backend:n})}const D9t={kernelName:gv,backendName:"webgl",kernelFunc:A9t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class O9t{constructor(e,n,s,r,a,o){this.outputShape=[],this.variableNames=["x","mean","variance"],wn(e,n),wn(e,s);let i="0.0";r!=null&&(wn(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let l="1.0";a!=null&&(wn(e,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${i};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class R9t{constructor(e,n,s,r,a,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],wn(e,n),wn(e,s);let i="vec4(0.0)";r!=null&&(wn(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");let l="vec4(1.0)";a!=null&&(wn(e,a),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${i};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const L9t=({inputs:t,backend:e,attrs:n})=>{const{x:s,mean:r,variance:a,offset:o,scale:i}=t;ae(r.shape.length===a.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),ae(o==null||r.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),ae(i==null||r.shape.length===i.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:l}=n;l==null&&(l=.001);const u=[s,r,a];let c=null;o!=null&&(c=o.shape,u.push(o));let d=null;i!=null&&(d=i.shape,u.push(i));const h=ze().getBool("WEBGL_PACK_NORMALIZATION")?new R9t(s.shape,r.shape,a.shape,c,d,l):new O9t(s.shape,r.shape,a.shape,c,d,l);return e.runWebGLProgram(h,u,u[0].dtype)},P9t={kernelName:Iv,backendName:"webgl",kernelFunc:L9t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class M9t{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=us(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const s=F9t(this.rank);let r;const a=e.map((o,i)=>`sourceLoc.${$k[i]} = start[${i}] + coords.${$k[i]};`);r=`
        ${n} sourceLoc;
        ${n} coords = getOutputCoords();
        ${a.join(`
`)}
      `,this.userCode=`
      void main() {
        ${r}
        setOutput(getSource(${s}));
      }
    `}}const $k=["x","y","z","w","u","v"];function F9t(t){if(t===1)return"sourceLoc";if(t<=6)return $k.slice(0,t).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class B9t{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=us(this.rank),s=Ca("coords",this.rank),r=Ca("sourceLoc",this.rank),a=this.rank===1?"sourceLoc":`vec2(${r.slice(-2).join()})`,o=`getChannel(getSource(${r.join()}), ${a})`,i=`
      result.x = ${o};
      if (++${s[this.rank-1]} < ${e[this.rank-1]}) {
        ++${r[this.rank-1]};
        result.y = ${o};
        --${r[this.rank-1]};
      }
    `,l=this.rank===1?"":`
      --${s[this.rank-1]};
      if (++${s[this.rank-2]} < ${e[this.rank-2]}) {
        ++${r[this.rank-2]};
        result.z = ${o};
        if (++${s[this.rank-1]} < ${e[this.rank-1]}) {
          ++${r[this.rank-1]};
          result.w = ${o};
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            ${n}(${e.map((c,d)=>`start[${d}]`).join()});`:e.map((c,d)=>`${r[d]} = ${s[d]} + start[${d}];`).join(`
`);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        ${n} sourceLoc;
        ${u}
        vec4 result = vec4(0.);
        ${i}
        ${l}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function z9t(t,e,n,s){const r=s.texData.get(t.dataId),a=s.makeTensorInfo(n,t.dtype),o=s.texData.get(a.dataId);Object.assign(o,r),o.refCount=1,o.shape=n,o.dtype=t.dtype;let i=vN(e,sn(t.shape));r.slice&&(i+=r.slice.flatOffset),o.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||t.dataId};const l=s.dataRefCount.get(o.slice.origDataId)||1;return s.dataRefCount.set(o.slice.origDataId,l+1),a}function ag(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:a,size:o}=s,[i,l]=mx(r,a,o);if(pN(r,i,l),tt(l)===0)return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||r.dtype==="string"){const d=n.texData.get(r.dataId),h=AIt(d.values,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,h)}const{isPacked:u}=n.texData.get(r.dataId),c=gN(r.shape,i,l);if(u||!c){const d=ze().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new B9t(l):new M9t(l),h=[i];return n.runWebGLProgram(d,[r],r.dtype,h)}return n.uploadToGPU(r.dataId),z9t(r,i,l,n)}const V9t={kernelName:ry,backendName:"webgl",kernelFunc:ag};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H9t=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:a,crops:o}=s;ae(r.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");const i=a.reduce((b,w)=>b*w),l=Oy(r.shape,a,i),u=Ry(l.length,a.length),c=Ly(r.shape,a,i),d=CN(o,a.length),h=SN(c,o,a.length),f=[],p=Ot({inputs:{x:r},backend:n,attrs:{shape:l}}),m=Ia({inputs:{x:p},backend:n,attrs:{perm:u}}),y=Ot({inputs:{x:m},backend:n,attrs:{shape:c}}),v=ag({inputs:{x:y},backend:n,attrs:{begin:d,size:h}});return f.push(p),f.push(m),f.push(y),f.forEach(b=>n.disposeIntermediateTensorInfo(b)),v},U9t={kernelName:vv,backendName:"webgl",kernelFunc:H9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function W9t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:a}=e,{size:o}=s,i=n.readSync(r.dataId),l=n.readSync(a.dataId),u=dZ(i,l,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,u)}const j9t={kernelName:Iw,backendName:"webgl",kernelFunc:W9t};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G9t=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,q9t=`
  return float(int(a.r) & int(b.r));
`;function K9t(t){const{inputs:e,backend:n}=t,{a:s,b:r}=e,a=ze().getBool("WEBGL_PACK_BINARY_OPERATIONS"),o=ze().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([s,r])||o===1){const l=n.texData.get(s.dataId).values,u=n.texData.get(r.dataId).values,[c,d]=tIt(s.shape,r.shape,l,u,s.dtype),h=n.makeTensorInfo(d,s.dtype),f=n.texData.get(h.dataId);return f.values=c,h}let i;return a?i=new sg(G9t,s.shape,r.shape,!1):i=new ef(q9t,s.shape,r.shape),n.runWebGLProgram(i,[s,r],s.dtype)}const X9t={kernelName:yv,backendName:"webgl",kernelFunc:K9t};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y9t(t){const{inputs:e,backend:n}=t,{s0:s,s1:r}=e,a=n.readSync(s.dataId),o=n.readSync(r.dataId),i=wn(Array.from(a),Array.from(o));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}const Q9t={kernelName:Nw,backendName:"webgl",kernelFunc:Y9t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z9t="return float(a != b);",$Z=ua({opSnippet:Z9t,cpuKernelImpl:xIt,dtype:"bool"}),J9t={kernelName:Gv,backendName:"webgl",kernelFunc:$Z};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yy(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.texData.get(s.dataId);return Eo({inputs:{x:r.complexTensorInfos.real},backend:n})}const eAt={kernelName:c6,backendName:"webgl",kernelFunc:Yy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tAt="return float(int(x));";function nAt(t,e){const n=new Ol(t.shape,tAt),s=e.runWebGLProgram(n,[t],"int32");return{dataId:s.dataId,shape:s.shape,dtype:s.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ek(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dtype:a}=s;if(a==="complex64"){if(r.dtype==="complex64")return Eo({inputs:{x:r},backend:n});const o=mr(r.shape),i=Ek({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),l=Id({inputs:{real:i,imag:o},backend:n});return o.dispose(),n.disposeIntermediateTensorInfo(i),l}if(r.dtype==="complex64"){const o=Yy({inputs:{input:r},backend:n}),i=Ek({inputs:{x:o},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(o),i}if(!DE(r.dtype,a)){const o=Eo({inputs:{x:r},backend:n});return{dataId:o.dataId,shape:o.shape,dtype:a}}if(n.shouldExecuteOnCPU([r])){const o=n.texData.get(r.dataId).values,[i,l,u]=nIt(o,r.shape,r.dtype,a);return n.makeTensorInfo(i,l,u)}if(a==="int32")return nAt(r,n);if(a==="bool"){const o=n.makeTensorInfo([],"bool",Br("bool",1)),l=$Z({inputs:{a:r,b:o},backend:n});return n.disposeIntermediateTensorInfo(o),l}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${a}`)}const sAt={kernelName:X0,backendName:"webgl",kernelFunc:Ek};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CM="return ceil(x);",rAt=Qn({opSnippet:CM,packedOpSnippet:CM,cpuKernelImpl:sIt}),aAt={kernelName:Y0,backendName:"webgl",kernelFunc:rAt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oAt{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iAt{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{clipValueMin:a,clipValueMax:o}=s;let i;ze().getBool("WEBGL_PACK_CLIP")?i=new iAt(r.shape):i=new oAt(r.shape);const l=[[a],[o]];return n.runWebGLProgram(i,[r],r.dtype,l)}const uAt={kernelName:Q0,backendName:"webgl",kernelFunc:lAt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cAt{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SM(t,e){return{dataId:e.dataId,dtype:e.dtype,shape:t.shape}}function dAt(t){const{inputs:e,backend:n}=t,{x:s}=e,r=n.texData.get(s.dataId),a=new cAt(s.shape),o=[SM(s,r.complexTensorInfos.real),SM(s,r.complexTensorInfos.imag)];return n.runWebGLProgram(a,o,o[0].dtype)}const hAt={kernelName:bv,backendName:"webgl",kernelFunc:dAt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fAt{constructor(e){this.outputShape=[],this.outputShape=Vl(e,1),this.variableNames=e.map((o,i)=>`T${i}`);const n=new Array(e.length-1);n[0]=e[0][1];for(let o=1;o<n.length;o++)n[o]=n[o-1]+e[o][1];const s=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let o=1;o<n.length;o++){const i=n[o-1];s.push(`else if (yC < ${n[o]}) setOutput(getT${o}(yR, yC-${i}));`)}const r=n.length,a=n[n.length-1];s.push(`else setOutput(getT${r}(yR, yC-${a}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${s.join(`
        `)}
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class pAt{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Vl(e,n);const s=this.outputShape,r=s.length,a=us(r),o=Ca("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map((m,y)=>`T${y}`);const l=new Array(e.length-1);l[0]=e[0][n];for(let m=1;m<l.length;m++)l[m]=l[m-1]+e[m][n];const u=i[n],c=i.slice(-2),d=i.join();let h=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${d}), vec2(${c.join()}));
        }`;for(let m=1;m<l.length;m++){const y=l[m-1];h+=`
        if (${u} < ${l[m]}  && ${u} >= ${l[m-1]}) {
          return getChannel(
            getT${m}(${i_(i,u,y)}),
            vec2(${i_(c,u,y)}));
        }`}const f=l.length,p=l[l.length-1];h+=`
        return getChannel(
          getT${f}(${i_(i,u,p)}),
          vec2(${i_(c,u,p)}));`,this.userCode=`
      float getValue(${i.map(m=>"int "+m)}) {
        ${h}
      }

      void main() {
        ${a} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[r-1]} = ${o[r-1]} + 1;
        if (${o[r-1]} < ${s[r-1]}) {
          result.g = getValue(${o});
        }

        ${o[r-2]} = ${o[r-2]} + 1;
        if (${o[r-2]} < ${s[r-2]}) {
          result.a = getValue(${o});
        }

        ${o[r-1]} = ${o[r-1]} - 1;
        if (${o[r-2]} < ${s[r-2]} &&
            ${o[r-1]} < ${s[r-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}}function i_(t,e,n){const s=t.indexOf(e);return t.map((a,o)=>o===s?`${a} - ${n}`:a).join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wx(t){const{inputs:e,backend:n}=t,{input:s}=e,r=n.texData.get(s.dataId);return Eo({inputs:{x:r.complexTensorInfos.imag},backend:n})}const mAt={kernelName:Yw,backendName:"webgl",kernelFunc:Wx};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m2(t,e,n){const s=t[0].dtype;if(s==="complex64"){const f=t.map(b=>Yy({inputs:{input:b},backend:n})),p=t.map(b=>Wx({inputs:{input:b},backend:n})),m=m2(f,e,n),y=m2(p,e,n),v=Id({inputs:{real:m,imag:y},backend:n});return f.forEach(b=>n.disposeIntermediateTensorInfo(b)),p.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}let r=n.shouldExecuteOnCPU(t);if(s==="string"&&(r=!0),r){const f=t.map(_=>{const x=[-1,tt(_.shape.slice(e))];return Ot({inputs:{x:_},backend:n,attrs:{shape:x}})}),p=f.map(_=>({vals:n.readSync(_.dataId),shape:_.shape})),m=Vl(f.map(_=>_.shape),1),y=f[0].shape[0]===1,v=rIt(p,m,s,y),b=Vl(t.map(_=>_.shape),e),w=n.makeTensorInfo(b,s,v);return f.forEach(_=>n.disposeIntermediateTensorInfo(_)),w}const a=t.filter(f=>tt(f.shape)>0),o=ze().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&a[0].shape.length>1;if(a.length===1){const f=o?new Ol(t[0].shape,Ac):new Bc(t[0].shape,Ac);return n.runWebGLProgram(f,t,s)}const i=ze().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(a.length>i){const f=[];for(let m=0;m<a.length;m+=i){const y=a.slice(m,m+i);f.push(m2(y,e,n))}const p=m2(f,e,n);for(const m of f)n.disposeIntermediateTensorInfo(m);return p}if(o){const f=new pAt(a.map(p=>p.shape),e);return n.runWebGLProgram(f,a,s)}const{tensors2D:l,outShape:u}=gAt(a,e,n),c=new fAt(l.map(f=>f.shape)),d=n.runWebGLProgram(c,l,s);l.forEach(f=>n.disposeIntermediateTensorInfo(f));const h=Ot({inputs:{x:d},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(d),h}function gAt(t,e,n){const s=Vl(t.map(a=>a.shape),e);return{tensors2D:t.map(a=>Ot({inputs:{x:a},attrs:{shape:[-1,tt(a.shape.slice(e))]},backend:n})),outShape:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EZ(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s,a=Rn(r,e[0].shape)[0],o=e.map(u=>u.shape);_N(o,a);const i=Vl(e.map(u=>u.shape),a);if(tt(i)===0)return n.makeTensorInfo(i,e[0].dtype,[]);const l=e.filter(u=>tt(u.shape)>0);return l.length===1?Eo({inputs:{x:l[0]},backend:n}):m2(l,a,n)}const vAt={kernelName:_v,backendName:"webgl",kernelFunc:EZ};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IZ{constructor(e,n=!1,s=null,r=!1,a=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,i=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,h=e.filterHeight,f=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4,y=e.dataFormat==="channelsLast",v=y?1:2,b=y?2:3,w=y?3:1;let _="",C="";s&&(r?_=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:a?_=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:_=`
          float activation(float x) {
            ${s}
          }
        `,C="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${_}

      const ivec2 strides = ivec2(${l}, ${u});
      const ivec2 pads = ivec2(${o}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${w}];

        ivec2 xRCCorner =
            ivec2(coords[${v}], coords[${b}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${h}; wR++) {
          int xR = xRCorner + wR * ${c};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${f}; wC++) {
            int xC = xCCorner + wC * ${d};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${p}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${y}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${m===1}) {

              if (${y}) {
                dotProd +=
                    getX(batch, xR, xC, ${p}) *
                    getW(wR, wC, ${p}, d2);
              } else {
                dotProd +=
                    getX(batch, ${p}, xR, xC) *
                    getW(wR, wC, ${p}, d2);
              }

            } else if (${m===2}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2)
              );

              if (${y}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${m===3}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${p}, d2),
                getW(wR, wC, ${p} + 1, d2),
                getW(wR, wC, ${p} + 2, d2)
              );

              if (${y}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${p}),
                  getX(batch, xR, xC, ${p} + 1),
                  getX(batch, xR, xC, ${p} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${p}, xR, xC),
                  getX(batch, ${p} + 1, xR, xC),
                  getX(batch, ${p} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${x}
        ${C}
        setOutput(result);
      }
    `}}class yAt{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,s=e.padInfo.top,r=e.padInfo.left,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,l=e.dilationDepth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterDepth,h=e.filterHeight,f=e.filterWidth,p=Math.floor(e.inChannels/4)*4,m=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${a}, ${o}, ${i});
      const ivec3 pads = ivec3(${n}, ${s}, ${r});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${d}; wF++) {
          int xF = xFCorner + wF * ${l};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h}; wR++) {
            int xR = xRCorner + wR * ${u};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${f}; wC++) {
              int xC = xCCorner + wC * ${c};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${p}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${m===1}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${p}) *
                  getW(wF, wR, wC, ${p}, d2);
              } else if (${m===2}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${m===3}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${p}),
                  getX(batch, xF, xR, xC, ${p} + 1),
                  getX(batch, xF, xR, xC, ${p} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${p}, d2),
                  getW(wF, wR, wC, ${p} + 1, d2),
                  getW(wF, wR, wC, ${p} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class NZ{constructor(e,n=!1,s=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ga(this.outputShape.length);const o=e.padInfo.left,i=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let h=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let y=0;y<c;y++)h+=`
           vec4 xTexelC${y*2};
           int xTexelC${y*2}Ready;
           vec4 xTexelC${y*2+1};
           int xTexelC${y*2+1}Ready;
           vec4 xC${y};`;h+=`
     for (int r = 0; r < ${u}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let y=0;y<c;y++)h+=`
           xTexelC${y*2} = vec4(0.0);
           xTexelC${y*2}Ready = 0;
           xTexelC${y*2+1} = vec4(0.0);
           xTexelC${y*2+1}Ready = 0;
           xC${y} = vec4(0.0);`;h+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let y=0;y<(d+1)/2;y++){const v=y*2;if(h+=`
           xC = xCCorner + ${v*l};
           `,i===1){if(v<c&&(o%2===1?(h+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }
               `,l===1&&v>0?h+=`
                 xC${v} = vec4(xTexelC${v-2}.zw, xTexelC${v}.xy);
                 `:h+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${v} = vec4(previous.zw, xTexelC${v}.xy);
                   } else {
                     xC${v} = vec4(0.0, 0.0, xTexelC${v}.xy);
                   }
                   `):h+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xC${v} = xTexelC${v};
                 `,v+1<c)){const b=o%2===0?Cw(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(h+=`
                   xCOffset = xC + imod(pads[1], 2) + ${b};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                     xTexelC${v+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${v+1}.zw = vec2(0.0);
                     }
                     xTexelC${v+1}Ready = 1;
                   }
                   `,l>1?h+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${v+1} = vec4(previous.zw, xTexelC${v+1}.xy);
                     } else {
                      xC${v+1} = vec4(0.0, 0.0, xTexelC${v+1}.xy);
                     }
                     `:h+=`
                     xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.xy);
                     `):b===1?h+=`
                     xC${v+1} = xTexelC${v};
                     `:h+=`
                     xCOffset = xC + ${b};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                       xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${v+1}.zw = vec2(0.0);
                       }
                       xTexelC${v+1}Ready = 1;
                     }

                     xC${v+1} = xTexelC${v+1};
                     `}}else v<c&&(o%2===1?(h+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.0);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
               `,v+1<c&&(h+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${v+1} = vec4(xTexelC${v+1}.xy, final.xy);
                 `)):(h+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${v}Ready == 0) {
                   xTexelC${v} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${v}.zw = vec2(0.0);
                   }
                   xTexelC${v}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${v+1}Ready == 0) {
                   xTexelC${v+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${v+1}.zw = vec2(0.);
                   }
                   xTexelC${v+1}Ready = 1;
                 }

                 xC${v} = vec4(
                   xTexelC${v}.xy, xTexelC${v+1}.xy);
               `,v+1<c&&(h+=`
                   xC${v+1} = vec4(xTexelC${v}.zw, xTexelC${v+1}.zw);
                 `)));v<c&&(h+=`
             wTexel = getW(r, ${v}, d1, d2);
             dotProd += xC${v}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${v}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,v+1<c&&(h+=`
               wTexel = getW(r, ${v+1}, d1, d2);
               dotProd += xC${v+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${v+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}h+=`
     }
   `,h+=`
     }
   `,h+=`
     }
   `;let f="",p="";s&&(r?f=`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${s}
         }`:a?f=`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${s}
         }`:f=`vec4 activation(vec4 x) {
           ${s}
         }`,p="result = activation(result);");const m=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${f}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${h}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${m}
         ${p}
         setOutput(result);
       }
     `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bAt{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=ga(this.outputShape.length);const{dataFormat:s}=n,r=Oa(),a=s==="channelsLast",o=a?1:2,i=a?2:3,l=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let u="";for(let c=0;c<=1;c++)for(let d=0;d<=1;d++)u+=`
          blockIndex = rc.z + ${d};
          pos = rc.y + ${c};

          ${l}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${i}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${a}) {
                  innerDims = vec2(d1, ch);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${c*2+d}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${r.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n4(t,e){const n=t.length;return n>=3?e?[...t.slice(0,-3),t[n-3]*t[n-2],t[n-1]]:[...t.slice(0,-3),t[n-3],t[n-2]*t[n-1]]:!e&&n===1&&t[0]>1?[t[0],1]:null}function AZ({x:t,filter:e,convInfo:n,backend:s,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:i=null}){const l=t.shape,u=s.texData.get(t.dataId),c=n.inChannels,d=l[0]*l[1]*l[2],h=n.outChannels,f=n.dataFormat==="channelsLast",p=!1,m=!1;let y;const v=[];if(a!=null){const _=n4(a.shape,f);_!=null&&(a=Ot({inputs:{x:a},backend:s,attrs:{shape:_}}),v.push(a))}if(r!=null){const _=n4(r.shape,f);_!=null&&(r=Ot({inputs:{x:r},backend:s,attrs:{shape:_}}),v.push(r))}if(!((d===1||h===1)&&c>CZ)&&u.isPacked&&f&&u.texture!=null&&l[2]%2!==0&&Bn(u.shape.slice(-3),l.slice(-3))){const _=l[0]*l[1]*(l[2]+1),C={dataId:t.dataId,shape:[1,_,n.inChannels],dtype:t.dtype},x=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,ae(A1(u.shape,C.shape),()=>`packed reshape ${u.shape} to ${C.shape} isn't free`);const T=Ot({inputs:{x:e},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}});v.push(T);const k=t4({a:C,b:T,backend:s,transposeA:p,transposeB:m,bias:r,activation:i,preluActivationWeights:a,leakyreluAlpha:o}),N=s.texData.get(k.dataId);ae(N.isPacked,()=>"batchMatMul result is expected to be packed"),u.shape=x,N.shape=n.outShape,y=Eo({inputs:{x:k},backend:s}),y.shape=n.outShape,v.push(k)}else{const _=n.outHeight*n.outWidth,C=Ot({inputs:{x:t},backend:s,attrs:{shape:f?[n.batchSize,_,n.inChannels]:[n.batchSize,n.inChannels,_]}}),x=Ot({inputs:{x:e},backend:s,attrs:{shape:[1,n.inChannels,n.outChannels]}}),T=t4({a:f?C:x,b:f?x:C,transposeA:!f,transposeB:m,backend:s,bias:r,activation:i,preluActivationWeights:a,leakyreluAlpha:o});y=Ot({inputs:{x:T},backend:s,attrs:{shape:n.outShape}}),v.push(C),v.push(x),v.push(T)}for(const _ of v)s.disposeIntermediateTensorInfo(_);return y}function DZ({x:t,filter:e,convInfo:n,backend:s,bias:r=null,preluActivationWeights:a=null,leakyreluAlpha:o=0,activation:i=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:d,outHeight:h,dataFormat:f}=n,p=f==="channelsLast",m=l*u*c,y=h*d,v=[n.batchSize,m,y],b=!0,w=!1,_=[];if(a!=null){const G=n4(a.shape,p);G!=null&&(a=Ot({inputs:{x:a},backend:s,attrs:{shape:G}}),_.push(a))}if(r!=null){const G=n4(r.shape,p);G!=null&&(r=Ot({inputs:{x:r},backend:s,attrs:{shape:G}}),_.push(r))}const C=Ot({inputs:{x:e},backend:s,attrs:{shape:[1,m,tt(e.shape)/m]}});_.push(C);const x=new bAt(v,n),T=[t.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=s.runWebGLProgram(x,[t],"float32",T),N=Ot({inputs:{x:k},backend:s,attrs:{shape:v}});_.push(k),_.push(N);const O=r!=null,L=a!=null,V=i==="leakyrelu",H=i?D1(i,!0):null,K=new xZ(p?N.shape:C.shape,p?C.shape:N.shape,p?[n.batchSize,y,n.outChannels]:[n.batchSize,n.outChannels,y],b,w,O,H,L,V),U=p?[N,C]:[C,N];if(r&&U.push(r),L&&U.push(a),V){const G=s.makeTensorInfo([],"float32",rc(o,"float32"));U.push(G),_.push(G)}const R=s.runWebGLProgram(K,U,"float32"),W=Ot({inputs:{x:R},backend:s,attrs:{shape:n.outShape}});_.push(R);for(const G of _)s.disposeIntermediateTensorInfo(G);return W}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _At(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dataFormat:l,dilations:u,dimRoundingMode:c}=s,d=oc(l),h=Vr(r.shape,a.shape,o,u,i,c,!1,d);let f;if(h.filterHeight===1&&h.filterWidth===1&&h.dilationHeight===1&&h.dilationWidth===1&&h.strideHeight===1&&h.strideWidth===1&&(h.padInfo.type==="SAME"||h.padInfo.type==="VALID"))f=AZ({x:r,filter:a,convInfo:h,backend:n});else if(h.strideWidth<=2&&d==="channelsLast"&&ze().getBool("WEBGL_EXP_CONV")){const m=new NZ(h),y=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];f=n.runWebGLProgram(m,[r,a],"float32",y)}else if(ze().getBool("WEBGL_CONV_IM2COL"))f=DZ({x:r,filter:a,convInfo:h,backend:n});else{const m=new IZ(h);f=n.runWebGLProgram(m,[r,a],"float32")}const p=Ot({inputs:{x:f},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(f),p}const wAt={kernelName:wv,backendName:"webgl",kernelFunc:_At};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xAt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,s=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,o=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${s} - ${a};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${o?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class CAt{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,s=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=e.dataFormat==="channelsLast",i=n-1-e.padInfo.top,l=s-1-e.padInfo.left,u=o?1:2,c=o?2:3,d=o?3:1;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${d}];

        ivec2 dyCorner = ivec2(coords[${u}], coords[${c}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${s}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${s} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}}class SAt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,s=e.strideHeight,r=e.strideWidth,a=e.padInfo.front,o=e.padInfo.top,i=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${n} - ${a};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${s} - ${o};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${r} - ${i};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class TAt{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,s=e.filterHeight,r=e.filterWidth,a=e.strideDepth,o=e.strideHeight,i=e.strideWidth,l=n-1-e.padInfo.front,u=s-1-e.padInfo.top,c=r-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${l}, ${u}, ${c});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${n}; wF++) {
          float dyF = float(dyFCorner + wF) / ${a}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${n} - 1 - wF;

          for (int wR = 0; wR < ${s}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${s} - 1 - wR;

            for (int wC = 0; wC < ${r}; wC++) {
              float dyC = float(dyCCorner + wC) / ${i}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${r} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:a}=e,{strides:o,pad:i,dataFormat:l,dimRoundingMode:u,filterShape:c}=s,d=oc(l),h=Vr(r.shape,c,o,1,i,u,!1,d),f=new xAt(h);return n.runWebGLProgram(f,[r,a],"float32")}const $At={kernelName:Dw,backendName:"webgl",kernelFunc:kAt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EAt{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=ga(this.outputShape.length);const n=e.filterHeight,s=e.filterWidth,r=n-1-e.padInfo.top,a=s-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${r}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${s}; wC++) {
            int wCPerm = ${s} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IAt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:a}=e,{inputShape:o,strides:i,pad:l,dataFormat:u,dimRoundingMode:c}=s,d=oc(u),h=Vr(o,a.shape,i,1,l,c,!1,d);if(ze().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&d==="channelsLast"){const f=[[h.strideHeight,h.strideWidth]],p=new EAt(h);return n.runWebGLProgram(p,[r,a],"float32",f)}else{const f=new CAt(h);return n.runWebGLProgram(f,[r,a],"float32")}}const NAt={kernelName:xv,backendName:"webgl",kernelFunc:IAt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dilations:l}=s,u=xd(r.shape,a.shape,o,l,i),c=new yAt(u);return n.runWebGLProgram(c,[r,a],"float32")}const DAt={kernelName:Cv,backendName:"webgl",kernelFunc:AAt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:a}=e,{strides:o,pad:i,filterShape:l}=s,u=xd(r.shape,l,o,1,i),c=new SAt(u);return n.runWebGLProgram(c,[r,a],"float32")}const RAt={kernelName:Ow,backendName:"webgl",kernelFunc:OAt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LAt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:a}=e,{pad:o,strides:i,inputShape:l}=s,u=xd(l,a.shape,i,1,o),c=new TAt(u);return n.runWebGLProgram(c,[r,a],"float32")}const PAt={kernelName:Rw,backendName:"webgl",kernelFunc:LAt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MAt=rg+`
  return cos(x);
`,FAt=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${$f}
  return result;
`,BAt=Qn({opSnippet:MAt,packedOpSnippet:FAt}),zAt={kernelName:Z0,backendName:"webgl",kernelFunc:BAt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VAt=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,HAt=Qn({opSnippet:VAt}),UAt={kernelName:J0,backendName:"webgl",kernelFunc:HAt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WAt{constructor(e,n,s,r,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,i,l,u]=e,[c]=n,[d,h]=s;this.outputShape=[c,d,h,u];const f=r==="bilinear"?1:0,[p,m]=[`${i-1}.0`,`${l-1}.0`],[y,v,b]=d>1?[`${(i-1)/(d-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[w,_,C]=h>1?[`${(l-1)/(h-1)}`,"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`
      const float height_ratio = float(${y});
      const float width_ratio = float(${w});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${v};
        float width_scale = ${_};

        float in_y = ${b};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${a}));
          return;
        }
        float in_x = ${C};
        if( in_x < 0.0 || in_x > ${m} ) {
          setOutput(float(${a}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${f} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jAt=t=>{const{inputs:e,backend:n,attrs:s}=t,{image:r,boxes:a,boxInd:o}=e,{cropSize:i,method:l,extrapolationValue:u}=s,c=new WAt(r.shape,a.shape,i,l,u);return n.runWebGLProgram(c,[r,a,o],"float32")},GAt={kernelName:Pw,backendName:"webgl",kernelFunc:jAt};var R1;(function(t){t.Prod="*",t.Sum="+"})(R1||(R1={}));class TM{constructor(e,n,s,r){this.op=e,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const a=this.outputShape.length,o=this.op===R1.Prod?"1.0":"0.0",i=s?o:`getX(${kM(a,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1];let u="",c="";s?(u=r?`end != ${l-1}`:"end != 0",c=r?"end + 1":"end - 1"):(u=r?`end + pow2 < ${l}`:"end >= pow2",c=r?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${us(a)} coords = getOutputCoords();
        int end = ${$M(a,"coords",this.op)};
        float val = ${i};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${$M(a,"coords",this.op)} = idx;
          val ${this.op}= getX(${kM(a,"coords",this.op)});
        }
        setOutput(val);
      }
    `}}function kM(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.x, ${e}.y`;if(t===3)return`${e}.x, ${e}.y, ${e}.z`;if(t===4)return`${e}.x, ${e}.y, ${e}.z, ${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}function $M(t,e,n){if(t===1)return`${e}`;if(t===2)return`${e}.y`;if(t===3)return`${e}.z`;if(t===4)return`${e}.w`;throw new Error(`Cumulative ${n} for rank ${t} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OZ(t,e,n,s,r,a){const o=e.shape.length,i=Ys([s],o);let l=e;i!=null&&(l=Ia({inputs:{x:e},backend:n,attrs:{perm:i}}));const u=lr(1,o)[0];if(u!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${e.shape.length-1} but got axis=${s}`);const c=l.shape[u];let d=Eo({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(c))-1;h++){const f=new TM(t,l.shape,!1,a),p=[[h]],m=d;d=n.runWebGLProgram(f,[d],d.dtype,p),n.disposeIntermediateTensorInfo(m)}if(r){const h=new TM(t,l.shape,r,a),f=d;d=n.runWebGLProgram(h,[d],d.dtype),n.disposeIntermediateTensorInfo(f)}if(i!=null){const h=Cd(i),f=Ia({inputs:{x:d},backend:n,attrs:{perm:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),f}return d}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,exclusive:o,reverse:i}=s;return OZ(R1.Prod,r,n,a,o,i)}const KAt={kernelName:Lw,backendName:"webgl",kernelFunc:qAt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,exclusive:o,reverse:i}=s;return OZ(R1.Sum,r,n,a,o,i)}const YAt={kernelName:Sv,backendName:"webgl",kernelFunc:XAt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QAt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,weights:a}=e,{size:o,binaryOutput:i}=s;if(r.shape.length===1){const l=n.readSync(r.dataId),u=n.readSync(a.dataId),c=dZ(l,u,a.dtype,a.shape,o);return n.makeTensorInfo([o],a.dtype,c)}else if(r.shape.length===2){const l=n.bufferSync(r),u=n.bufferSync(a),c=eIt(l,u,o,i);return n.makeTensorInfo(c.shape,a.dtype,c.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${r.shape.length}.`)}const ZAt={kernelName:Mw,backendName:"webgl",kernelFunc:QAt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JAt{constructor(e,n,s){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=s,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${n};
      int offset_h = imod(h, ${n});
      int in_w = w / ${n};
      int offset_w = imod(w, ${n});
      int offset_d = (offset_h * ${n} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"}getWidthCoordString(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"}getDepthCoordString(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"}getOutputDepthSize(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eDt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockSize:a,dataFormat:o}=s,i=r.shape[0],l=o==="NHWC"?r.shape[1]:r.shape[2],u=o==="NHWC"?r.shape[2]:r.shape[3],c=o==="NHWC"?r.shape[3]:r.shape[1],d=l*a,h=u*a,f=c/(a*a),p=o==="NHWC"?[i,d,h,f]:[i,f,d,h],m=new JAt(p,a,o);return n.runWebGLProgram(m,[r],r.dtype)}const tDt={kernelName:Fw,backendName:"webgl",kernelFunc:eDt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RZ{constructor(e,n=!1,s=null,r=!1,a=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ga(this.outputShape.length);const o=e.filterHeight,i=e.filterWidth,l=e.outChannels/e.inChannels;let u="",c="";s&&(r?u=`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:a?u=`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:u=`
          float activation(float x) {
            ${s}
          }
        `,c="result = activation(result);");const d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${l};
        int q = d2 - d1 * ${l};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${i}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${d}
        ${c}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LZ{constructor(e,n=!1,s=null,r=!1,a=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=ga(this.outputShape.length);const o=e.outChannels/e.inChannels,i=e.padInfo.left,l=e.strideWidth,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,h=d;let f=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let v=0;v<d;v++)f+=`
          vec4 xTexelC${v*2};
          int xTexelC${v*2}Ready;
          vec4 xTexelC${v*2+1};
          int xTexelC${v*2+1}Ready;
          vec4 xC${v};`;f+=`
    for (int r = 0; r < ${c}; r++) {
      `;for(let v=0;v<d;v++)f+=`
          xTexelC${v*2} = vec4(0.0);
          xTexelC${v*2}Ready = 0;
          xTexelC${v*2+1} = vec4(0.0);
          xTexelC${v*2+1}Ready = 0;
          xC${v} = vec4(0.0);`;f+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let v=0;v<(h+1)/2;v++){const b=v*2;if(f+=`
          xC = xCCorner + ${b*u};
          `,l===1){if(b<d&&(i%2===1?(f+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }
              `,u===1&&b>0?f+=`
                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);
                `:f+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);
                  } else {
                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);
                  }
                  `):f+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xC${b} = xTexelC${b};
                `,b+1<d)){const w=i%2===0?Cw(u):u;u%2===0&&i%2===1||u%2!==0&&i%2!==1?(f+=`
                  xCOffset = xC + imod(pads[1], 2) + ${w};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${b+1}.zw = vec2(0.0);
                    }
                    xTexelC${b+1}Ready = 1;
                  }
                  `,u>1?f+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);
                    } else {
                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);
                    }
                    `:f+=`
                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);
                    `):w===1?f+=`
                    xC${b+1} = xTexelC${b};
                    `:f+=`
                    xCOffset = xC + ${w};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${b+1}.zw = vec2(0.0);
                      }
                      xTexelC${b+1}Ready = 1;
                    }

                    xC${b+1} = xTexelC${b+1};
                    `}}else b<d&&(i%2===1?(f+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.0);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
              `,b+1<d&&(f+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);
                `)):(f+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {
                  xTexelC${b} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${b}.zw = vec2(0.0);
                  }
                  xTexelC${b}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {
                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${b+1}.zw = vec2(0.);
                  }
                  xTexelC${b+1}Ready = 1;
                }

                xC${b} = vec4(
                  xTexelC${b}.xy, xTexelC${b+1}.xy);
              `,b+1<d&&(f+=`
                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);
                `)));b<d&&(f+=`
            wTexel = getW(r, ${b}, d1, q);
            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);
          `,b+1<d&&(f+=`
              wTexel = getW(r, ${b+1}, d1, q);
              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);
            `))}f+=`
    }
  `,f+=`
      }
    `;let p="",m="";s&&(r?p=`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${s}
        }`:a?p=`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${s}
        }`:p=`vec4 activation(vec4 x) {
          ${s}
        }`,m="result = activation(result);");const y=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),a&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${p}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${f}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${y}
        ${m}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nDt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dilations:l,dimRoundingMode:u}=s;let c=l;c==null&&(c=[1,1]),ae(oa(o,c),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${c}'`);const d=Vr(r.shape,a.shape,o,c,i,u,!0);let h;ze().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?h=new LZ(d):h=new RZ(d);const f=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[r,a],"float32",f)}const sDt={kernelName:Tv,backendName:"webgl",kernelFunc:nDt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rDt{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,s=e.strideWidth,r=e.padInfo.top,a=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${n} - ${r};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${s} - ${a};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}}class aDt{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,s=e.filterWidth,r=e.strideHeight,a=e.strideWidth,o=n-1-e.padInfo.top,i=s-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${i});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${n}; wR++) {
          float dyR = float(dyRCorner + wR) / ${r}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${n} - 1 - wR;

          for (int wC = 0; wC < ${s}; wC++) {
            float dyC = float(dyCCorner + wC) / ${a}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${s} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${l}; dm++) {
              int d2 = d1 * ${l} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oDt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,dy:a}=e,{strides:o,dilations:i,pad:l,dimRoundingMode:u,filterShape:c}=s,d=Vr(r.shape,c,o,i,l,u,!0),h=new rDt(d);return n.runWebGLProgram(h,[r,a],"float32")}const iDt={kernelName:Bw,backendName:"webgl",kernelFunc:oDt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lDt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,filter:a}=e,{strides:o,dilations:i,pad:l,dimRoundingMode:u,inputShape:c}=s,d=Vr(c,a.shape,o,i,l,u,!0),h=new aDt(d);return n.runWebGLProgram(h,[r,a],"float32")}const uDt={kernelName:zw,backendName:"webgl",kernelFunc:lDt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cDt{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dDt(t){const{inputs:e,backend:n}=t,{x:s}=e,r=[...s.shape,...s.shape],a=tt(s.shape),o=Ot({inputs:{x:s},backend:n,attrs:{shape:[a]}}),i=new cDt(a),l=n.runWebGLProgram(i,[o],o.dtype),u=Ot({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),u}const hDt={kernelName:Vw,backendName:"webgl",kernelFunc:dDt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class fDt{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:s,padInfo:r,strideHeight:a,strideWidth:o,filterHeight:i,filterWidth:l,dilationHeight:u,dilationWidth:c}=e,{top:d,left:h}=r;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${o});
      const ivec2 pads = ivec2(${d}, ${h});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${i}; h++) {
          int hIn = hBeg + h * ${u};

          if (hIn >= 0 && hIn < ${n}) {
            for (int w = 0; w < ${l}; w++) {
              int wIn = wBeg + w * ${c};

              if (wIn >= 0 && wIn < ${s}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pDt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a}=e,{strides:o,pad:i,dilations:l}=s,u=my(r.shape,a.shape,o,i,"NHWC",l);let c;const d=new fDt(u);c=n.runWebGLProgram(d,[r,a],"float32");const h=Ot({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),h}const mDt={kernelName:kv,backendName:"webgl",kernelFunc:pDt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gDt(t){const{inputs:e,backend:n,attrs:s}=t,{equation:r}=s,a=e,{allDims:o,summedDims:i,idDims:l}=DN(r,a.length);RN(o.length,l,a);const{path:u,steps:c}=LN(i,l),d=c.length;let h=null,f=o.length;const p=[];for(let m=0;m<d;++m){for(const y of c[m]){const{permutationIndices:v,expandDims:b}=ON(f,l[y]);let w;PN(v)?w=a[y]:(w=Ia({inputs:{x:a[y]},backend:n,attrs:{perm:v}}),p.push(w));const _=w.shape.slice();for(let C=0;C<b.length;++C)_.splice(b[C],0,1);Bn(w.shape,_)||(w=Ot({inputs:{x:w},backend:n,attrs:{shape:_}}),p.push(w)),h===null?h=w:(h=HA({inputs:{a:w,b:h},backend:n}),p.push(h))}m<d-1&&(u[m]>=0&&(h=Ux({inputs:{x:h},backend:n,attrs:{axis:u[m]-(o.length-f),keepDims:!1}}),p.push(h)),f--)}for(const m of p)m!==h&&n.disposeIntermediateTensorInfo(m);return h}const vDt={kernelName:Uw,backendName:"webgl",kernelFunc:gDt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const yDt="return (x >= 0.0) ? x : (exp(x) - 1.0);",bDt=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,_Dt=Qn({opSnippet:yDt,packedOpSnippet:bDt}),wDt={kernelName:tm,backendName:"webgl",kernelFunc:_Dt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xDt="return (b >= 0.0) ? a : a * (b + 1.0);",CDt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,SDt=t=>{const{inputs:e,backend:n}=t,{dy:s,y:r}=e,a=ze().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new sg(CDt,s.shape,r.shape):new ef(xDt,s.shape,r.shape);return n.runWebGLProgram(a,[s,r],s.dtype)},TDt={kernelName:Ww,backendName:"webgl",kernelFunc:SDt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kDt=`
  return vec4(equal(a, b));
`,$Dt="return float(a == b);",EDt=ua({opSnippet:$Dt,packedOpSnippet:kDt,dtype:"bool",cpuKernelImpl:aIt}),IDt={kernelName:$v,backendName:"webgl",kernelFunc:EDt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NDt=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${TN};
  float a1 = ${kN};
  float a2 = ${$N};
  float a3 = ${EN};
  float a4 = ${IN};
  float a5 = ${NN};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,ADt=Qn({opSnippet:NDt}),DDt={kernelName:nm,backendName:"webgl",kernelFunc:ADt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ODt=rg+`
  return exp(x);
`,RDt=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,PZ=Qn({opSnippet:ODt,packedOpSnippet:RDt,cpuKernelImpl:oIt,dtype:"float32"}),LDt={kernelName:sm,backendName:"webgl",kernelFunc:PZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ik(t){const{inputs:e,attrs:n,backend:s}=t,{dim:r}=n,{input:a}=e,o=a.shape.length,i=a.shape.slice();let l=r;return r<0&&(ae(-(o+1)<=r,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),l=o+r+1),i.splice(l,0,1),Ot({inputs:{x:a},backend:s,attrs:{shape:i}})}const PDt={kernelName:Ev,backendName:"webgl",kernelFunc:Ik};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EM="return exp(x) - 1.0;",MDt=Qn({opSnippet:EM,packedOpSnippet:EM,cpuKernelImpl:iIt}),FDt={kernelName:rm,backendName:"webgl",kernelFunc:MDt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class IM{constructor(e,n,s){this.variableNames=["real","imag"];const r=n[1];this.outputShape=n;const a=s?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,o=s?`${r}.0`:"1.0";let i;if(e==="real")i="return real * expR - imag * expI;";else if(e==="imag")i="return real * expI + imag * expR;";else throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${a};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${i}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${r});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${r}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${o};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MZ(t,e,n){const s=n.texData.get(t.dataId),r=tt(t.shape),a=t.shape[t.shape.length-1],o=r/a,i=Ot({inputs:{x:t},backend:n,attrs:{shape:[o,a]}}),l=i.shape,u=new IM("real",l,e),c=new IM("imag",l,e),d=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:l},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:l}],h=n.runWebGLProgram(u,d,"float32"),f=n.runWebGLProgram(c,d,"float32"),p=Id({inputs:{real:h,imag:f},backend:n});n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f);const m=Ot({inputs:{x:p},backend:n,attrs:{shape:t.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(p),m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BDt(t){const{inputs:e,backend:n}=t,{input:s}=e;return MZ(s,!1,n)}const zDt={kernelName:jw,backendName:"webgl",kernelFunc:BDt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class VDt{constructor(e,n){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qy(t){const{backend:e,attrs:n}=t,{shape:s,value:r}=n;let{dtype:a}=n;if(a=a||ff(r),a==="string"){const o=Zs(a,tt(s));return o.fill(r),e.makeTensorInfo(s,a,o)}else{const o=new VDt(s,r),i=[[r]];return e.runWebGLProgram(o,[],a,i)}}const HDt={kernelName:Gw,backendName:"webgl",kernelFunc:Qy};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class UDt{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${n} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${n}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WDt={kernelName:qw,backendName:"webgl",kernelFunc:({inputs:t,backend:e})=>{const{image:n}=t,s=e,r=new UDt(n.shape);return s.runWebGLProgram(r,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NM="return floor(x);",jDt=Qn({opSnippet:NM,packedOpSnippet:NM,cpuKernelImpl:lIt}),GDt={kernelName:am,backendName:"webgl",kernelFunc:jDt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qDt=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,KDt=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,XDt=ua({opSnippet:qDt,packedOpSnippet:KDt,dtype:"int32"}),YDt={kernelName:om,backendName:"webgl",kernelFunc:XDt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class QDt{constructor(e){this.variableNames=["A"];const n=Oa(),[s,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${s}.0);

        vec4 values = ${n.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ZDt{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=Oa(),[s,r]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${r}.0, ${s}.0);
            vec4 values = ${n.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${n.output} = result;
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JDt={kernelName:A3,backendName:"webgl",kernelFunc:e7t};let Yf,DC=ze().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");function e7t(t){const{inputs:e,backend:n,attrs:s}=t;let{pixels:r}=e;const{numChannels:a}=s,o=typeof HTMLVideoElement<"u"&&r instanceof HTMLVideoElement,i=typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement,[l,u]=o?[r.videoWidth,r.videoHeight]:[r.width,r.height],c=[u,l],d=[u,l,a];if(i||o){const m=ze().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(Yf==null||m!==DC)&&(DC=m,Yf=document.createElement("canvas").getContext("2d",{willReadFrequently:DC})),Yf.canvas.width=l,Yf.canvas.height=u,Yf.drawImage(r,0,0,l,u),r=Yf.canvas}const h=n.makeTensorInfo(c,"int32");n.texData.get(h.dataId).usage=jo.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),r);const f=ze().getBool("WEBGL_PACK")?new ZDt(d):new QDt(d),p=n.runWebGLProgram(f,[h],"int32");return n.disposeData(h.dataId),p}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t7t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a,bias:o,preluActivationWeights:i}=e,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:h,activation:f,leakyreluAlpha:p}=s,m=oc(c),y=Vr(r.shape,a.shape,l,d,u,h,!1,m);let v;const b=[],w=o!=null,_=i!=null,C=f==="leakyrelu",x=()=>{const k=[r,a],N=(O,L)=>{if(L==="NCHW"&&O.shape.length===1&&O.shape[0]!==1){const V=Ot({inputs:{x:O},backend:n,attrs:{shape:[O.shape[0],1,1]}});return b.push(V),V}return O};if(w&&k.push(N(o,c)),_&&k.push(N(i,c)),C){const O=n.makeTensorInfo([],"float32",rc(p,"float32"));k.push(O),b.push(O)}return k};if(y.filterHeight===1&&y.filterWidth===1&&y.dilationHeight===1&&y.dilationWidth===1&&y.strideHeight===1&&y.strideWidth===1&&(y.padInfo.type==="SAME"||y.padInfo.type==="VALID"))v=AZ({x:r,filter:a,convInfo:y,backend:n,bias:o,activation:f,preluActivationWeights:i,leakyreluAlpha:p});else if(y.strideWidth<=2&&m==="channelsLast"&&ze().getBool("WEBGL_EXP_CONV")){const k=f?D1(f,!0):null,N=new NZ(y,w,k,_,C),O=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],L=x();v=n.runWebGLProgram(N,L,"float32",O)}else if(ze().getBool("WEBGL_CONV_IM2COL"))v=DZ({x:r,filter:a,convInfo:y,backend:n,bias:o,activation:f,preluActivationWeights:i,leakyreluAlpha:p});else{const k=f?D1(f,!1):null,N=new IZ(y,w,k,_,C),O=x();v=n.runWebGLProgram(N,O,"float32")}const T=Ot({inputs:{x:v},backend:n,attrs:{shape:y.outShape}});return b.push(v),b.forEach(k=>n.disposeIntermediateTensorInfo(k)),T}const n7t={kernelName:v1,backendName:"webgl",kernelFunc:t7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s7t(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,filter:a,bias:o,preluActivationWeights:i}=e,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:h,leakyreluAlpha:f}=s,p=[];let m=c;m==null&&(m=[1,1]),ae(oa(l,m),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`);const y=Vr(r.shape,a.shape,l,m,u,d,!0),v=ze().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,b=h?D1(h,v):null,w=[r,a],_=o!=null,C=i!=null,x=h==="leakyrelu";if(_&&w.push(o),C&&w.push(i),x){const O=n.makeTensorInfo([],"float32",rc(f,"float32"));w.push(O),p.push(O)}let T;v?T=new LZ(y,_,b,C,x):T=new RZ(y,_,b,C,x);const k=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],N=n.runWebGLProgram(T,w,"float32",k);return p.forEach(O=>n.disposeIntermediateTensorInfo(O)),N}const r7t={kernelName:y1,backendName:"webgl",kernelFunc:s7t};class a7t{constructor(e,n,s,r){this.sliceDim=e,this.strides=n,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=s;const a=us(s.length);let o=`
    int index;`;for(let i=0;i<this.sliceDim;i++)o+=`
          index = round(getIndices(coords[0], ${i}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[i]};
          flattenIndex += index * ${this.strides[i]};`;this.userCode=`
         void main() {
          ${a} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o7t(t){const{inputs:e,backend:n}=t,{params:s,indices:r}=e,a=r.shape,o=a[a.length-1],i=tt(s.shape),[l,u,c,d]=px(s,r),h=Ot({inputs:{x:r},backend:n,attrs:{shape:[u,o]}}),f=Ot({inputs:{x:s},backend:n,attrs:{shape:[tt(s.shape)/c,c]}});if(n.shouldExecuteOnCPU([s,r])||s.dtype==="string"){const v=n.readSync(r.dataId),b=n.bufferSync(s),w=uIt(v,b,s.dtype,u,o,c,d,s.shape,i);return n.makeTensorInfo(l,s.dtype,w.values)}const p=new a7t(o,d,[u,c],s.shape),m=n.runWebGLProgram(p,[f,h],f.dtype),y=Ot({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),y}const i7t={kernelName:Kw,backendName:"webgl",kernelFunc:o7t};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class l7t{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const s=us(this.rank),r=u7t(e);this.userCode=`
      void main() {
        ${s} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${r}));
      }
    `}}function u7t(t,e){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[];for(let r=0;r<t.length;r++)r===2?s.push("index"):s.push(`${n[r]}`);return s.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FZ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,indices:a}=e,{axis:o,batchDims:i}=s,l=Rn(o,r.shape)[0];if(ze().get("DEBUG")){const b=n.readSync(a.dataId),w=r.shape[l];for(let _=0;_<b.length;++_){const C=b[_];ae(C<=w-1&&C>=0,()=>`GatherV2: the index value ${C} is not in [0, ${w-1}]`)}}const u=FN(r,a,l,i),c=tt(a.shape),d=[],h=Ot({inputs:{x:r},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),f=Ot({inputs:{x:a},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(h),d.push(f);const p=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([r,a])||r.dtype==="string"){const b=n.bufferSync(f),w=n.bufferSync(h),_=cIt(w,b,p);return d.forEach(C=>n.disposeIntermediateTensorInfo(C)),n.makeTensorInfo(u.outputShape,_.dtype,_.values)}const m=new l7t(h.shape,p),y=n.runWebGLProgram(m,[h,f],h.dtype);d.push(y);const v=Ot({inputs:{x:y},backend:n,attrs:{shape:u.outputShape}});return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),v}const c7t={kernelName:Nv,backendName:"webgl",kernelFunc:FZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const d7t="return float(a > b);",h7t=`
  return vec4(greaterThan(a, b));
`,f7t=ua({opSnippet:d7t,packedOpSnippet:h7t,cpuKernelImpl:dIt,dtype:"bool"}),p7t={kernelName:Av,backendName:"webgl",kernelFunc:f7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m7t="return float(a >= b);",g7t=`
  return vec4(greaterThanEqual(a, b));
`,v7t=ua({opSnippet:m7t,packedOpSnippet:g7t,dtype:"bool",cpuKernelImpl:hIt}),y7t={kernelName:im,backendName:"webgl",kernelFunc:v7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b7t(t){const{inputs:e,backend:n}=t,{input:s}=e;return MZ(s,!0,n)}const _7t={kernelName:Xw,backendName:"webgl",kernelFunc:b7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const w7t="return float(!isnan(x) && !isinf(x));",x7t=Qn({opSnippet:w7t,dtype:"bool"}),C7t={kernelName:um,backendName:"webgl",kernelFunc:x7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S7t="return float(isinf(x));",T7t=Qn({opSnippet:S7t,dtype:"bool"}),k7t={kernelName:cm,backendName:"webgl",kernelFunc:T7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $7t="return float(isnan(x));",E7t=Qn({opSnippet:$7t,dtype:"bool"}),I7t={kernelName:dm,backendName:"webgl",kernelFunc:E7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N7t="return float(a < b);",A7t=`
  return vec4(lessThan(a, b));
`,D7t=ua({opSnippet:N7t,packedOpSnippet:A7t,cpuKernelImpl:fIt,dtype:"bool"}),O7t={kernelName:Ov,backendName:"webgl",kernelFunc:D7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const R7t="return float(a <= b);",L7t=`
  return vec4(lessThanEqual(a, b));
`,P7t=ua({opSnippet:R7t,packedOpSnippet:L7t,cpuKernelImpl:pIt,dtype:"bool"}),M7t={kernelName:Rv,backendName:"webgl",kernelFunc:P7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function F7t(t){const{backend:e,attrs:n}=t,{start:s,stop:r,num:a}=n,o=mIt(s,r,a);return e.makeTensorInfo([o.length],"float32",o)}const B7t={kernelName:Qw,backendName:"webgl",kernelFunc:F7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z7t=rg+`
  return x < 0.0 ? 0./0. : log(x);
`,V7t=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,H7t=Qn({opSnippet:z7t,packedOpSnippet:V7t,cpuKernelImpl:gIt}),U7t={kernelName:hm,backendName:"webgl",kernelFunc:H7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W7t=rg+`
  return log(1.0 + x);
`,j7t=Qn({opSnippet:W7t}),G7t={kernelName:fm,backendName:"webgl",kernelFunc:j7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q7t="return float(a >= 1.0 && b >= 1.0);",K7t=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,X7t=ua({opSnippet:q7t,packedOpSnippet:K7t,dtype:"bool"}),Y7t={kernelName:Lv,backendName:"webgl",kernelFunc:X7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q7t="return float(!(x >= 1.0));",Z7t=Qn({opSnippet:Q7t}),J7t={kernelName:Pv,backendName:"webgl",kernelFunc:Z7t};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eOt="return float(a >= 1.0 || b >= 1.0);",tOt=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,nOt=ua({opSnippet:eOt,packedOpSnippet:tOt,dtype:"bool"}),sOt={kernelName:Mv,backendName:"webgl",kernelFunc:nOt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class rOt{constructor(e,n,s,r,a){this.variableNames=["x"],this.outputShape=[];const o=n,i=e[3]-1;this.outputShape=e;let l;const u=`float(${s}) + float(${r}) * sum`;a===.5?l=`inversesqrt(${u})`:a===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${a}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${o}; j <= ${o}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${i}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${l};
        setOutput(val);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class aOt{constructor(e,n,s,r,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=n,i=e[3]-1;this.outputShape=e;let l;const u=`float(${s}) + float(${r}) * sum`;a===.5?l=`inversesqrt(${u})`:a===1?l=`1.0/(${u})`:l=`exp(log(${u}) * float(-${a}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${o};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${o}; j <= ${o}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${i}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${l};
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oOt=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{depthRadius:a,bias:o,alpha:i,beta:l}=s,u=ze().getBool("WEBGL_PACK_NORMALIZATION")?new aOt(r.shape,a,o,i,l):new rOt(r.shape,a,o,i,l);return n.runWebGLProgram(u,[r],r.dtype)},iOt={kernelName:Fv,backendName:"webgl",kernelFunc:oOt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class lOt{constructor(e,n,s,r,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=s,this.alpha=r,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${n})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${n} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${r}) * norm + float(${s});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${r})
                * float(${a})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${a});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uOt=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r,y:a,dy:o}=e,{depthRadius:i,bias:l,alpha:u,beta:c}=s,d=new lOt(r.shape,i,l,u,c);return n.runWebGLProgram(d,[r,a,o],r.dtype)},cOt={kernelName:Zw,backendName:"webgl",kernelFunc:uOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dOt(t,e,n,s){const r=tt(e),o=tt(t.shape)/r,i=Ot({inputs:{x:t},attrs:{shape:[o,r]},backend:s}),l=Ef(i,t.dtype,"max",s),u=Ot({inputs:{x:l},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(i),s.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BZ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reductionIndices:a,keepDims:o}=s,i=r.shape.length,l=Rn(a,r.shape);let u=l;const c=Ys(u,i),d=c!=null,h=n.shouldExecuteOnCPU([r]);let f=r;if(d){if(h){const w=n.texData.get(f.dataId).values,_=new Array(i);for(let T=0;T<_.length;T++)_[T]=r.shape[c[T]];const C=zA(w,r.shape,r.dtype,c,_);f=n.makeTensorInfo(_,r.dtype);const x=n.texData.get(f.dataId);x.values=C}else f=Hx(r,c,n);u=lr(u.length,i)}ia("max",u,i);const[p,m]=Hr(f.shape,u);let y=p;o&&(y=ir(p,l));let v;if(h){const w=n.texData.get(f.dataId).values,_=vIt(w,tt(m),y,r.dtype);v=n.makeTensorInfo(y,r.dtype);const C=n.texData.get(v.dataId);C.values=_}else v=dOt(f,m,y,n);return d&&n.disposeIntermediateTensorInfo(f),v}const hOt={kernelName:Bv,backendName:"webgl",kernelFunc:BZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fOt=VA+`
  return max(a, b);
`,pOt=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+$f+`
  return result;
`,mOt=ua({opSnippet:fOt,packedOpSnippet:pOt,cpuKernelImpl:yIt}),gOt={kernelName:pm,backendName:"webgl",kernelFunc:mOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vOt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;Zm(r,"maxPool");const{filterSize:a,strides:o,pad:i,dimRoundingMode:l}=s,u=1;ae(oa(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);const c=Pi(r.shape,a,o,u,i,l);if(c.filterWidth===1&&c.filterHeight===1&&Bn(c.inShape,c.outShape))return Eo({inputs:{x:r},backend:n});const d=new O1(c,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}const yOt={kernelName:zv,backendName:"webgl",kernelFunc:vOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bOt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{filterSize:a,strides:o,pad:i,dataFormat:l,dimRoundingMode:u}=s,c=[1,1,1],d=ac(r.shape,a,o,c,i,u,l),h=new UA(d,"max",!1);return n.runWebGLProgram(h,[r],r.dtype)}const _Ot={kernelName:Vv,backendName:"webgl",kernelFunc:bOt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wOt{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,s=e.strideWidth,r=e.dilationHeight,a=e.effectiveFilterHeight,o=e.effectiveFilterWidth,i=a-1-e.padInfo.top,l=o-1-e.padInfo.left,u=a*o-1;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${l});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${a};
          wR += ${r}) {
          float dyR = float(dyRCorner + wR) / ${n}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${s}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${u} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}}class xOt{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,s=e.strideHeight,r=e.strideWidth,a=e.dilationDepth,o=e.dilationHeight,i=e.dilationWidth,l=e.effectiveFilterDepth,u=e.effectiveFilterHeight,c=e.effectiveFilterWidth,d=l-1-e.padInfo.front,h=u-1-e.padInfo.top,f=c-1-e.padInfo.left,p=l*u*c-1;this.userCode=`
      const ivec3 pads = ivec3(${d}, ${h}, ${f});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${l};
           wD += ${a}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${u};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${s}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${c};
                wC += ${i}) {
              float dyC = float(dyCCorner + wC) / ${r}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${p} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${u} * ${c} +
                  wR * ${c} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function COt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a}=e,o=a,{filterSize:i,strides:l,pad:u,dimRoundingMode:c}=s,d=[1,1,1],h=ac(o.shape,i,l,d,u,c),f=new UA(h,"max",!0),p=n.runWebGLProgram(f,[o],o.dtype),m=new xOt(h),y=n.runWebGLProgram(m,[r,p],o.dtype);return n.disposeIntermediateTensorInfo(p),y}const SOt={kernelName:e6,backendName:"webgl",kernelFunc:COt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TOt(t){const{inputs:e,backend:n,attrs:s}=t,{dy:r,input:a,output:o}=e,i=a;Zm([a,o],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=s,h=Pi(i.shape,l,u,1,c,d),f=!0,p=new O1(h,"max",f),m=n.runWebGLProgram(p,[i],i.dtype),y=new wOt(h),v=n.runWebGLProgram(y,[r,m],i.dtype);return n.disposeIntermediateTensorInfo(m),v}const kOt={kernelName:Jw,backendName:"webgl",kernelFunc:TOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $Ot(t,e,n,s){let r=new O1(n,"max",!1);const a=s.runWebGLProgram(r,[t],"float32");r=new O1(n,"max",!0,!0,e);const o=s.runWebGLProgram(r,[t],"float32");return[a,o]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const EOt={kernelName:t6,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:s}=t,{filterSize:r,strides:a,pad:o,includeBatchInIndex:i}=e,l=n;ae(s.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${s.shape.length}.`);const u=[1,1];ae(oa(a,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${u}'`);const c=Pi(s.shape,r,a,u,o),[d,h]=$Ot(s,i,c,l);return[d,h]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IOt(t,e,n,s){const r=tt(e),o=tt(t.shape)/r,i=Ot({inputs:{x:t},attrs:{shape:[o,r]},backend:s}),l=Ef(i,"float32","mean",s),u=Ot({inputs:{x:l},attrs:{shape:n},backend:s});return s.disposeIntermediateTensorInfo(i),s.disposeIntermediateTensorInfo(l),u}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NOt={kernelName:Hv,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:s}=t,{keepDims:r,axis:a}=e,o=n,i=s.shape.length,l=Rn(a,s.shape);let u=l;const c=Ys(u,i),d=c!=null,h=o.shouldExecuteOnCPU([s]),f=[];let p=s;if(d){if(h){const _=o.texData.get(p.dataId).values,C=new Array(i);for(let k=0;k<C.length;k++)C[k]=s.shape[c[k]];const x=zA(_,s.shape,s.dtype,c,C);p=o.makeTensorInfo(C,s.dtype);const T=o.texData.get(p.dataId);T.values=x}else p=Hx(s,c,o);f.push(p),u=lr(u.length,i)}ia("sum",u,i);const[m,y]=Hr(p.shape,u);let v=m;r&&(v=ir(m,l));const b=IOt(p,y,v,o);for(const w of f)o.disposeIntermediateTensorInfo(w);return b}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AOt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s,i=r.shape.length,l=Rn(a,r.shape);let u=l;const c=Ys(u,i);let d=r;c!=null&&(d=Ia({inputs:{x:r},backend:n,attrs:{perm:c}}),u=lr(u.length,r.shape.length)),ia("min",u,i);const[h,f]=Hr(d.shape,u),p=tt(f),m=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}}),y=Ef(m,m.dtype,"min",n);let v;if(o){const b=ir(h,l);v=Ot({inputs:{x:y},backend:n,attrs:{shape:b}})}else v=Ot({inputs:{x:y},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),c!=null&&n.disposeIntermediateTensorInfo(d),v}const DOt={kernelName:Uv,backendName:"webgl",kernelFunc:AOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OOt=VA+`
  return min(a, b);
`,ROt=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+$f+`
  return result;
`,LOt=ua({opSnippet:OOt,packedOpSnippet:ROt,cpuKernelImpl:bIt}),POt={kernelName:mm,backendName:"webgl",kernelFunc:LOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MOt{constructor(e,n,s){this.variableNames=["x"],this.outputShape=n.map((c,d)=>c[0]+e[d]+c[1]);const r=e.length,a=us(r),o=n.map(c=>c[0]).join(","),i=n.map((c,d)=>c[0]+e[d]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),u=s==="reflect"?0:1;if(r===1){this.userCode=`
        int start = ${o};
        int end = ${i};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${u};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${u};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${a} start = ${a}(${o});
      ${a} end = ${a}(${i});

      void main() {
        ${a} outC = getOutputCoords();
        for (int i = 0; i < ${r}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${u};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${u};
          }
        }
        ${a} coords = outC - start;
        setOutput(getX(${l}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class FOt{constructor(e,n,s){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((p,m)=>p[0]+e[m]+p[1]);const r=e.length,a=us(r),o=n.map(p=>p[0]).join(","),i=n.map((p,m)=>p[0]+e[m]).join(","),l=Ca("rc",r),u=Ca("source",r),c=`${l[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${u.slice(-2).join()})`,h=s==="reflect"?0:1;let f="";if(r===1){const p=`
        ${a} source = rc;
        if (source < start) {
          source = start * 2 - source - ${h};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${h};
        }
        source -= start;
      `;f=`
        ${a} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[r-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
      `}else{const p=`
        ${a} source = rc;
        ${a} lt = ${a}(lessThan(source, start));
        ${a} gte = ${a}(greaterThanEqual(source, end));
        ${a} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${h}) +
                gte * ((end - 1) * 2 - source + ${h});
        source -= start;
      `;f=`
        ${a} rc = outputLoc;
        ${p}
        result[0] = getChannel(getX(${u.join()}), ${d});
        ${l[r-1]} += 1;
        if(${c}) {
          ${p}
          result[1] = getChannel(getX(${u.join()}), ${d});
        }
        rc = outputLoc;
        ${l[r-2]} += 1;
        if(${l[r-2]} < ${this.outputShape[r-2]}) {
          ${p}
          result[2] = getChannel(getX(${u.join()}), ${d});
          ${l[r-1]} += 1;
          if(${c}) {
            ${p}
            result[3] = getChannel(getX(${u.join()}), ${d});
          }
        }
      `}this.userCode=`
      const ${a} start = ${a}(${o});
      const ${a} end = ${a}(${i});

      void main() {
        ${a} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${f}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BOt=({inputs:t,backend:e,attrs:n})=>{const{x:s}=t,{paddings:r,mode:a}=n,o=ze().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new FOt(s.shape,r,a):new MOt(s.shape,r,a);return e.runWebGLProgram(o,[s],s.dtype)},zOt={kernelName:Wv,backendName:"webgl",kernelFunc:BOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VOt=`if (b == 0.0) return NAN;
  return mod(a, b);`,HOt=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+$f+`
  return result;
`,UOt=ua({opSnippet:VOt,packedOpSnippet:HOt}),WOt={kernelName:gm,backendName:"webgl",kernelFunc:UOt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class jOt{constructor(e,n,s){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,s],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${n-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${n-1}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GOt=`
if (a == b) {
  return 1.0;
};
return a / b;`,qOt=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,zZ=ua({opSnippet:GOt,packedOpSnippet:qOt,checkOutOfBounds:!0}),KOt={kernelName:em,backendName:"webgl",kernelFunc:zZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AM="return a - b;",VZ=ua({opSnippet:AM,packedOpSnippet:AM,supportsComplex:!0,cpuKernelImpl:zIt}),XOt={kernelName:Dm,backendName:"webgl",kernelFunc:VZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HZ(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{dim:a}=s,o=Rn([a],r.shape),i=BZ({inputs:{x:r},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=ir(i.shape,o),u=Ot({inputs:{x:i},backend:n,attrs:{shape:l}}),c=VZ({inputs:{a:r,b:u},backend:n}),d=PZ({inputs:{x:c},backend:n}),h=Ux({inputs:{x:d},backend:n,attrs:{axis:o,keepDims:!1}}),f=Ot({inputs:{x:h},backend:n,attrs:{shape:l}}),p=zZ({inputs:{a:d,b:f},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),p}const YOt={kernelName:ly,backendName:"webgl",kernelFunc:HZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QOt(t){const{inputs:e,backend:n,attrs:s}=t,{logits:r}=e,{numSamples:a,seed:o,normalized:i}=s,l=i?r:HZ({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new jOt(u,c,a),h=[[o]],f=n.runWebGLProgram(d,[l],"int32",h);return i||n.disposeIntermediateTensorInfo(l),f}const ZOt={kernelName:n6,backendName:"webgl",kernelFunc:QOt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JOt=Fi+`
  return -x;
`,eRt=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`;function tRt(t){const{inputs:e,backend:n}=t,{x:s}=e;if(n.shouldExecuteOnCPU([s])){const a=n.texData.get(s.dataId),[o,i]=wIt(a.values,s.shape,s.dtype);return n.makeTensorInfo(i,s.dtype,o)}let r;return ze().getBool("WEBGL_PACK_UNARY_OPERATIONS")?r=new Bc(s.shape,eRt):r=new Ol(s.shape,JOt),n.runWebGLProgram(r,[s],s.dtype)}const nRt={kernelName:jv,backendName:"webgl",kernelFunc:tRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sRt=cx;function rRt(t){zo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:a}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:l}=s,u=n.readSync(r.dataId),c=n.readSync(a.dataId),{selectedIndices:d}=sRt(u,c,o,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}const aRt={kernelName:s6,backendName:"webgl",kernelFunc:rRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oRt=dx;function iRt(t){zo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:a}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:u}=s,c=n.readSync(r.dataId),d=n.readSync(a.dataId),{selectedIndices:h,validOutputs:f}=oRt(c,d,o,i,l,u);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([f]))]}const lRt={kernelName:r6,backendName:"webgl",kernelFunc:iRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uRt=hx;function cRt(t){zo("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:e,backend:n,attrs:s}=t,{boxes:r,scores:a}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:l,softNmsSigma:u}=s,c=n.readSync(r.dataId),d=n.readSync(a.dataId),h=o,f=i,p=l,m=u,{selectedIndices:y,selectedScores:v}=uRt(c,d,h,f,p,m);return[n.makeTensorInfo([y.length],"int32",new Int32Array(y)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}const dRt={kernelName:a6,backendName:"webgl",kernelFunc:cRt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class hRt{constructor(e,n,s,r){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${r}), float(${s}),
                      float(index == coords.y)));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fRt=t=>{const{inputs:e,backend:n,attrs:s}=t,{indices:r}=e,{dtype:a,depth:o,onValue:i,offValue:l}=s,u=tt(r.shape),c=new hRt(u,o,i,l),d=Ot({inputs:{x:r},backend:n,attrs:{shape:[u]}}),h=n.runWebGLProgram(c,[d],a);n.disposeIntermediateTensorInfo(d);const f=[...r.shape,o],p=Ot({inputs:{x:h},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(h),p},pRt={kernelName:Kv,backendName:"webgl",kernelFunc:fRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s4(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="complex64"){const r=Yy({inputs:{input:s},backend:n}),a=s4({inputs:{x:r},backend:n}),o=Wx({inputs:{input:s},backend:n}),i=s4({inputs:{x:o},backend:n}),l=Id({inputs:{real:a,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),l}else return Qy({attrs:{shape:s.shape,dtype:s.dtype,value:s.dtype==="string"?"":0},backend:n})}const mRt={kernelName:hy,backendName:"webgl",kernelFunc:s4};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UZ(t){const{inputs:e,backend:n}=t,{x:s}=e;if(s.dtype==="string")throw new Error("onesLike is not supported under string dtype");if(s.dtype==="complex64"){const r=Yy({inputs:{input:s},backend:n}),a=UZ({inputs:{x:r},backend:n}),o=Wx({inputs:{input:s},backend:n}),i=s4({inputs:{x:o},backend:n}),l=Id({inputs:{real:a,imag:i},backend:n});return n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),l}else return Qy({attrs:{shape:s.shape,dtype:s.dtype,value:1},backend:n})}const gRt={kernelName:qv,backendName:"webgl",kernelFunc:UZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vRt(t){const{inputs:e,backend:n,attrs:s}=t,{axis:r}=s;if(e.length===1)return Ik({inputs:{input:e[0]},backend:n,attrs:{dim:r}});const a=e[0].shape,o=e[0].dtype;e.forEach(c=>{aa(a,c.shape,"All tensors passed to stack must have matching shapes"),ae(o===c.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],l=e.map(c=>{const d=Ik({inputs:{input:c},backend:n,attrs:{dim:r}});return i.push(d),d}),u=EZ({inputs:l,backend:n,attrs:{axis:r}});return i.forEach(c=>n.disposeIntermediateTensorInfo(c)),u}const yRt={kernelName:Xv,backendName:"webgl",kernelFunc:vRt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class bRt{constructor(e,n,s){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((u,c)=>u[0]+e[c]+u[1]);const r=e.length,a=us(r),o=n.map(u=>u[0]).join(","),i=n.map((u,c)=>u[0]+e[c]).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);if(r===1){this.userCode=`
        int start = ${o};
        int end = ${i};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${a} start = ${a}(${o});
      ${a} end = ${a}(${i});

      void main() {
        ${a} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${a} coords = outC - start;
          setOutput(getX(${l}));
        }
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _Rt{constructor(e,n,s){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((m,y)=>m[0]+e[y]+m[1]);const r=e.length,a=us(r),o=n.map(m=>m[0]).join(","),i=n.map((m,y)=>m[0]+e[y]).join(","),l=Ca("rc",r),u=Ca("source",r),c=`${l[r-1]} < ${this.outputShape[r-1]}`,d=r===1?"source":`vec2(${u.slice(-2).join()})`,h=[`${a} rc = outputLoc;`,`${l[r-1]} += 1;
       if(${c}) {
      `,r===1?"":`}
       rc = outputLoc;
       ${l[r-2]} += 1;
       if(${l[r-2]} < ${this.outputShape[r-2]}) {`,r===1?"":`  ${l[r-1]} += 1;
         if(${c}) {`],f=r===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let m=0,y=r===1?2:4;m<y;m++)p+=`
        ${h[m]}
        if (${f}) {
          result[${m}] = float(value);
        } else {
          ${a} source = rc - start;
          result[${m}] = getChannel(getX(${u.join()}), ${d});
        }
      `;p+=r===1?"} ":"}}",this.userCode=`
      const ${a} start = ${a}(${o});
      const ${a} end = ${a}(${i});

      void main() {
        ${a} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${p}
        setOutput(result);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WZ=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{paddings:a,constantValue:o}=s;if(tt(r.shape)===0){const u=a.map((c,d)=>c[0]+r.shape[d]+c[1]);return Qy({backend:n,attrs:{shape:u,value:o,dtype:r.dtype}})}const i=ze().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new _Rt(r.shape,a,o):new bRt(r.shape,a,o),l=[[o]];return n.runWebGLProgram(i,[r],r.dtype,l)},wRt={kernelName:Yv,backendName:"webgl",kernelFunc:WZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xRt=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,CRt=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+$f+`
  return result;
`,SRt=ua({opSnippet:xRt,packedOpSnippet:CRt}),TRt={kernelName:ym,backendName:"webgl",kernelFunc:SRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kRt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{axis:a,keepDims:o}=s,i=r.shape.length,l=[],u=Rn(a,r.shape);let c=u;const d=Ys(c,i);let h=r;d!=null&&(h=Ia({inputs:{x:r},backend:n,attrs:{perm:d}}),c=lr(c.length,i),l.push(h)),ia("prod",c,i);let f;if(n.shouldExecuteOnCPU([h])){const p=n.texData.get(h.dataId).values,{outVals:m,outShape:y,outDtype:v}=CIt(h.shape,h.dtype,p,c);f=n.makeTensorInfo(y,v,m)}else{const[p,m]=Hr(h.shape,c),y=tt(m),v=Ot({inputs:{x:h},backend:n,attrs:{shape:[-1,y]}}),b=A6(r.dtype),w=Ef(v,b,"prod",n);f=Ot({inputs:{x:w},backend:n,attrs:{shape:p}}),l.push(v),l.push(w)}if(o){l.push(f);const p=ir(f.shape,u);f=Ot({inputs:{x:f},backend:n,attrs:{shape:p}})}return l.forEach(p=>n.disposeIntermediateTensorInfo(p)),f}const $Rt={kernelName:Zv,backendName:"webgl",kernelFunc:kRt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ERt(t){const{inputs:e,backend:n,attrs:s}=t,{paramsNestedSplits:r,paramsDenseValues:a,indices:o}=e,{outputRaggedRank:i}=s,l=r.map(v=>n.readSync(v.dataId)),u=r.map(v=>v.shape),c=n.readSync(a.dataId),d=n.readSync(o.dataId),[h,f,p]=SIt(l,u,c,a.shape,a.dtype,d,o.shape,i),m=h.map(v=>n.makeTensorInfo([v.length],"int32",v)),y=n.makeTensorInfo(p,a.dtype,f);return m.concat([y])}const IRt={kernelName:o6,backendName:"webgl",kernelFunc:ERt};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NRt(t){const{inputs:e,backend:n}=t,{starts:s,limits:r,deltas:a}=e,o=n.readSync(s.dataId),i=n.readSync(r.dataId),l=n.readSync(a.dataId),[u,c]=TIt(o,s.shape,s.dtype,i,r.shape,l,a.shape),d=n.makeTensorInfo([u.length],"int32",u),h=n.makeTensorInfo([c.length],s.dtype,c);return[d,h]}const ARt={kernelName:i6,backendName:"webgl",kernelFunc:NRt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DRt(t){const{inputs:e,backend:n,attrs:s}=t,{shape:r,values:a,defaultValue:o,rowPartitionTensors:i}=e,{rowPartitionTypes:l}=s,u=n.readSync(r.dataId),c=n.readSync(a.dataId),d=n.readSync(o.dataId),h=i.map(y=>n.readSync(y.dataId)),f=i.map(y=>y.shape),[p,m]=kIt(u,r.shape,c,a.shape,a.dtype,d,o.shape,h,f,l);return n.makeTensorInfo(p,a.dtype,m)}const ORt={kernelName:l6,backendName:"webgl",kernelFunc:DRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jZ=t=>{const{backend:e,attrs:n}=t,{start:s,stop:r,step:a,dtype:o}=n,i=$It(s,r,a,o);return e.makeTensorInfo([i.length],o,i)},RRt={kernelName:u6,backendName:"webgl",kernelFunc:jZ};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LRt="return 1.0 / x;",PRt=Qn({opSnippet:LRt}),MRt={kernelName:bm,backendName:"webgl",kernelFunc:PRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FRt=Fi+`
  return (x < 0.0) ? 0.0 : x;
`,BRt=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,zRt=Qn({opSnippet:FRt,packedOpSnippet:BRt}),VRt={kernelName:_m,backendName:"webgl",kernelFunc:zRt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HRt=Fi+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,URt=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,WRt=Qn({opSnippet:HRt,packedOpSnippet:URt}),jRt={kernelName:wm,backendName:"webgl",kernelFunc:WRt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class GRt{constructor(e,n,s,r,a){this.variableNames=["A"],this.outputShape=[];const[o,i,l,u]=e;this.outputShape=[o,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s];let h;a?h="(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":h="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${i}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class qRt{constructor(e,n,s,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,i,l,u]=e;this.outputShape=[o,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s];let h;a?h="(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":h="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${i}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${h};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${s-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KRt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:a,halfPixelCenters:o,size:i}=s,[l,u]=i,c=ze().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qRt(r.shape,l,u,a,o):new GRt(r.shape,l,u,a,o);return n.runWebGLProgram(c,[r],"float32")}const XRt={kernelName:ty,backendName:"webgl",kernelFunc:KRt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class YRt{constructor(e,n,s){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,a]=n,[,o,i]=e,l=[s&&o>1?r-1:r,s&&i>1?a-1:a],u=[s&&o>1?o-1:o,s&&i>1?i-1:i],c=l[0]/u[0],d=l[1]/u[1],h=1/c,f=1/d,p=Math.ceil(h)*2+2,m=Math.ceil(f)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${f});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${i}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${a-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QRt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:a}=e,{alignCorners:o}=s,i=new YRt(a.shape,r.shape,o);return n.runWebGLProgram(i,[a],a.dtype)}const ZRt={kernelName:h6,backendName:"webgl",kernelFunc:QRt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class JRt{constructor(e,n,s,r,a){this.variableNames=["A"],this.outputShape=[];const[o,i,l,u]=e;this.outputShape=[o,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s],h=r?"0.5":"0.0";let f;a?f="max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":f="vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${c[0]/d[0]},
          ${c[1]/d[1]});
      const vec2 inputShapeRC = vec2(${i}.0, ${l}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${f};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class eLt{constructor(e,n,s,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,i,l,u]=e;this.outputShape=[o,n,s,u];const c=[r&&n>1?i-1:i,r&&s>1?l-1:l],d=[r&&n>1?n-1:n,r&&s>1?s-1:s],h=r?"0.5":"0.0";let f;a?f="max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":f="vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${c[0]/d[0]},
          ${c[1]/d[1]},
          ${c[1]/d[1]});
      const vec3 inputShapeRC = vec3(${i}.0, ${l}.0,
                                     ${l}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${f};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${h})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${u-1};
        bool hasNextRow = coords.z < ${s-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tLt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r}=e,{alignCorners:a,halfPixelCenters:o,size:i}=s,[l,u]=i,c=ze().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new eLt(r.shape,l,u,a,o):new JRt(r.shape,l,u,a,o);return n.runWebGLProgram(c,[r],r.dtype)}const nLt={kernelName:ey,backendName:"webgl",kernelFunc:tLt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class sLt{constructor(e,n,s){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,r,a]=n,[,o,i]=e,l=[s&&o>1?r-1:r,s&&i>1?a-1:a],u=[s&&o>1?o-1:o,s&&i>1?i-1:i],c=l[0]/u[0],d=l[1]/u[1],h=1/c,f=1/d,p=Math.ceil(h)*2+2,m=Math.ceil(f)*2+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${c});
        const float widthScale = float(${d});

        const float invHeightScale = float(${h});
        const float invWidthScale = float(${f});

        const int winHeight = int(${p});
        const int winWidth = int(${m});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${i}) {
              continue;
            }

            float sourceFracRow =
              float(${l[0]}) *
                (float(dyR) / float(${u[0]}));

            float sourceFracCol =
                float(${l[1]}) *
                  (float(dyC) / float(${u[1]}));

            int sourceNearestRow = int(min(
                float(int(${r}) - 1),
                ${s} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${a}) - 1),
                ${s} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rLt(t){const{inputs:e,backend:n,attrs:s}=t,{images:r,dy:a}=e,{alignCorners:o}=s,i=new sLt(a.shape,r.shape,o);return n.runWebGLProgram(i,[a],a.dtype)}const aLt={kernelName:d6,backendName:"webgl",kernelFunc:rLt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class oLt{constructor(e,n){this.variableNames=["x"];const s=e.length;if(s>4)throw new Error(`WebGL backend: Reverse of rank-${s} tensor is not yet supported`);if(this.outputShape=e,s===1){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}const r=i=>n.indexOf(i)!==-1&&e[i]!==1?`${e[i]} - coords[${i}] - 1`:`coords[${i}]`,a=e.map((i,l)=>r(l)).join(","),o=us(s);this.userCode=`
      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iLt{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const s=e.length;if(s>4)throw new Error(`WebGL backend: Reverse of rank-${s} tensor is not yet supported`);this.outputShape=e;const r=Ca("rc",s),a=`${r[s-1]} + 1 < ${this.outputShape[s-1]}`,o=`${r[s-2]} + 1 < ${this.outputShape[s-2]}`,i=us(s);s===1?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${a}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${i} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${l(r.slice())};
          if(${a}){
            result.g = ${u(r.slice())};
          }
          if(${o}) {
            result.b = ${c(r.slice())};
            if(${a}) {
              result.a = ${d(r.slice())};
            }
          }
          setOutput(result);
        }
    `;function l(p){return h(p)}function u(p){return p[s-1]="("+p[s-1]+" + 1)",h(p)}function c(p){return p[s-2]="("+p[s-2]+" + 1)",h(p)}function d(p){return p[s-1]="("+p[s-1]+" + 1)",p[s-2]="("+p[s-2]+" + 1)",h(p)}function h(p){const m=e.map((b,w)=>f(w,p)),y=m.join(","),v=m.slice(-2).join(",");return`getChannel(getX(${y}), vec2(${v}))`}function f(p,m){return n.indexOf(p)!==-1&&e[p]!==1?`${e[p]} - ${m[p]} - 1`:`${m[p]}`}}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lLt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{dims:a}=s,o=r.shape.length,i=Rn(a,r.shape);if(o===0)return Eo({inputs:{x:r},backend:n});const l=ze().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new iLt(r.shape,i):new oLt(r.shape,i);return n.runWebGLProgram(l,[r],r.dtype)}const uLt={kernelName:ny,backendName:"webgl",kernelFunc:lLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class cLt{constructor(e,n){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const s=e[1],r=e[2];this.outputShape=e;let a="";typeof n=="number"?a=`float outputValue = ${n.toFixed(2)};`:a=`
        vec3 fill = vec3(${n.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${a}
          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${s}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dLt={kernelName:I6,backendName:"webgl",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:s}=t,{radians:r,fillValue:a,center:o}=e,i=n,l=new cLt(s.shape,a),[u,c]=xN(o,s.shape[1],s.shape[2]),d=[[u,c,Math.sin(r),Math.cos(r)]];return i.runWebGLProgram(l,[s],s.dtype,d)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hLt=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,fLt=Qn({opSnippet:hLt}),pLt={kernelName:xm,backendName:"webgl",kernelFunc:fLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mLt="return inversesqrt(x);",gLt=Qn({opSnippet:mLt,cpuKernelImpl:EIt}),vLt={kernelName:Cm,backendName:"webgl",kernelFunc:gLt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class WA{constructor(e,n,s,r,a,o,i=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const u=us(a.length),c=us(o.length);let d="";s===1?d="i":s===2&&(d="i, j");const h=`getIndices(${d})`;let f="";r===1?f="i":r===2&&(f="i, coords[1]");const p=`getUpdates(${f})`;let m="";l&&(m="coords[0], coords[1]");const y=`getDefaultValue(${m})`,v=n>1?"strides[j]":"strides";this.userCode=`
        ${u} strides = ${u}(${a});

        void main() {
          ${c} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${n}; j++) {
              int index = round(${h});
              flattenedIndex += index * ${v};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${p};
              found = true;
            }
          }
          setOutput(mix(${y}, sum, float(found)));
        }
      `}}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yLt{constructor(e,n,s,r,a,o,i=!0,l=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;const u=us(a.length),c=us(o.length);let d="";s===1?d="i":s===2&&(d="i, j");const h=`getIndices(${d})`;let f="";r===1?f="i":r===2&&(f="i, coords[1]");const p=`getUpdates(${f})`;let m="";l&&(m="coords[0], coords[1]");const y=`getDefaultValue(${m})`,v=n>1?"strides[j]":"strides",b=n>1?"strides[j + 1]":"strides";this.userCode=`
        ${u} strides = ${u}(${a});

        void main() {
          ${c} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${n}; j+=2) {
              ivec4 index = round(${h});
              flattenedIndex += index.xz * ${v};
              if (j + 1 < ${n}) {
                flattenedIndex += index.yw * ${b};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${p};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${y}, sum, found));
        }
      `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bLt(t){const{inputs:e,backend:n,attrs:s}=t,{indices:r,updates:a}=e,{shape:o}=s,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=$d(a,r,o),h=[d/u,u];if(d===0)return n.makeTensorInfo(o,r.dtype);const f=Ot({inputs:{x:r},backend:n,attrs:{shape:[l,i]}}),p=Ot({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let y;ze().getBool("WEBGL_PACK")?y=new yLt(l,i,f.shape.length,p.shape.length,c,h):y=new WA(l,i,f.shape.length,p.shape.length,c,h);const v=n.runWebGLProgram(y,[p,f,m],p.dtype),b=Ot({inputs:{x:v},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),b}const _Lt={kernelName:f6,backendName:"webgl",kernelFunc:bLt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class wLt{constructor(e,n,s,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,s];const a="while (left < right) {",o=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,i=ze().getNumber("WEBGL_VERSION")===2?a:o,l=r==="left"?"<":"<=";this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${i}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${l} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xLt(t){const{inputs:e,backend:n,attrs:s}=t,{sortedSequence:r,values:a}=e,{side:o}=s,i=new wLt(r.shape[0],r.shape[1],a.shape[1],o),l=[[r.shape[1]]];return n.runWebGLProgram(i,[r,a],"int32",l)}const CLt={kernelName:m6,backendName:"webgl",kernelFunc:xLt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class SLt{constructor(e,n,s){this.variableNames=["c","a","b"],this.outputShape=n;let r,a;if(s>4)throw Error(`Where for rank ${s} is not yet supported`);if(s===1)a="resRC",r="resRC";else{const i=["resRC.x","resRC.y","resRC.z","resRC.w"],l=[],u=[];for(let c=0;c<n.length;c++)u.push(`${i[c]}`),c<e&&l.push(`${i[c]}`);r=l.join(),a=u.join()}const o=us(s);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${r});
        if (cVal >= 1.0) {
          setOutput(getA(${a}));
        } else {
          setOutput(getB(${a}));
        }
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TLt(t){const{inputs:e,backend:n}=t,{condition:s,t:r,e:a}=e,o=new SLt(s.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(o,[s,r,a],Ja(r.dtype,a.dtype))}const kLt={kernelName:sy,backendName:"webgl",kernelFunc:TLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Lt=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${vx};
  float scale = ${yx};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,ELt=Qn({opSnippet:$Lt}),ILt={kernelName:Sm,backendName:"webgl",kernelFunc:ELt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NLt=rg+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,ALt=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,DLt=Qn({opSnippet:NLt,packedOpSnippet:ALt,cpuKernelImpl:NIt}),OLt={kernelName:Em,backendName:"webgl",kernelFunc:DLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RLt=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,LLt=Qn({opSnippet:RLt}),PLt={kernelName:$m,backendName:"webgl",kernelFunc:LLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MLt=rg+`
  return sin(x);
`,FLt=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${$f}
  return result;
`,BLt=Qn({opSnippet:MLt,packedOpSnippet:FLt}),zLt={kernelName:Tm,backendName:"webgl",kernelFunc:BLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VLt=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,HLt=Qn({opSnippet:VLt}),ULt={kernelName:km,backendName:"webgl",kernelFunc:HLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WLt=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,jLt=Qn({opSnippet:WLt}),GLt={kernelName:Im,backendName:"webgl",kernelFunc:jLt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qLt=t=>{const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{blockShape:a,paddings:o}=s;ae(r.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");const i=a.reduce((v,b)=>v*b),l=[[0,0]];l.push(...o);for(let v=1+a.length;v<r.shape.length;++v)l.push([0,0]);const u=[],c=WZ({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),d=Oy(c.shape,a,i,!1),h=Ry(d.length,a.length,!1),f=Ly(c.shape,a,i,!1),p=Ot({inputs:{x:c},backend:n,attrs:{shape:d}}),m=Ia({inputs:{x:p},backend:n,attrs:{perm:h}}),y=Ot({inputs:{x:m},backend:n,attrs:{shape:f}});return u.push(c),u.push(p),u.push(m),u.forEach(v=>n.disposeIntermediateTensorInfo(v)),y},KLt={kernelName:oy,backendName:"webgl",kernelFunc:qLt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XLt(t){const{inputs:e,backend:n}=t,{indices:s,values:r,denseShape:a,defaultValue:o}=e;if(a.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
         ${a.shape}`);if(s.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
         ${s.shape}`);if(r.shape.length!==1)throw new Error(`Values must be a vector, saw:
         ${r.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const i=n.readSync(s.dataId),l=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(o.dataId)[0],[d,h,f,p,m]=DIt(i,s.shape,s.dtype,l,r.dtype,u,c);return[n.makeTensorInfo(h,s.dtype,d),n.makeTensorInfo([h[0]],r.dtype,f),n.makeTensorInfo([p.length],"bool",new Uint8Array(p.map(y=>Number(y)))),n.makeTensorInfo([m.length],s.dtype,new Int32Array(m))]}const YLt={kernelName:g6,backendName:"webgl",kernelFunc:XLt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QLt(t){const{inputs:e,backend:n}=t,{inputIndices:s,inputShape:r,newShape:a}=e;if(s.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape ${s.shape}`);if(r.shape.length!==1)throw new Error(`Input shape should be a vector but received shape ${r.shape}`);if(a.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${a.shape}`);const o=Array.from(n.readSync(r.dataId)),i=n.readSync(s.dataId),l=Array.from(n.readSync(a.dataId)),[u,c,d]=OIt(i,s.shape,s.dtype,o,l);return[n.makeTensorInfo(c,s.dtype,u),n.makeTensorInfo([d.length],a.dtype,new Int32Array(d))]}const ZLt={kernelName:v6,backendName:"webgl",kernelFunc:QLt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JLt(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:a}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
              ${r.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
              ${a.shape}`);const o=n.readSync(s.dataId),i=n.readSync(r.dataId),l=n.readSync(a.dataId),[u,c]=fZ(o,s.shape,s.dtype,i,l,!0);return n.makeTensorInfo(c,s.dtype,u)}const ePt={kernelName:y6,backendName:"webgl",kernelFunc:JLt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tPt(t){const{inputs:e,backend:n}=t,{data:s,indices:r,segmentIds:a}=e;if(s.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(r.shape.length!==1)throw new Error(`Indices should be a vector but received shape
             ${r.shape}`);if(a.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
             ${a.shape}`);const o=n.readSync(s.dataId),i=n.readSync(r.dataId),l=n.readSync(a.dataId),[u,c]=fZ(o,s.shape,s.dtype,i,l);return n.makeTensorInfo(c,s.dtype,u)}const nPt={kernelName:b6,backendName:"webgl",kernelFunc:tPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sPt(t){const{inputs:e,backend:n,attrs:s}=t,{sparseIndices:r,sparseValues:a,defaultValue:o}=e,{outputShape:i}=s,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:h}=$d(a,r,i),f=!1;if(a.dtype==="string"){const v=n.bufferSync(r),b=n.bufferSync(a),w=zu(n.readSync(o.dataId)[0]),_=IIt(v,b,i,h,c,u,l,d,w,f);return n.makeTensorInfo(i,_.dtype,_.values)}const p=new WA(u,l,r.shape.length,a.shape.length,d,[h,1],f),m=n.runWebGLProgram(p,[a,r,o],a.dtype),y=Ot({inputs:{x:m},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(m),y}const rPt={kernelName:_6,backendName:"webgl",kernelFunc:sPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aPt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{numOrSizeSplits:a,axis:o}=s,i=Rn(o,r.shape)[0],l=MN(r,a,i),u=r.shape.length,c=new Array(u).fill(0),d=r.shape.slice();return l.map(h=>{const f=[...d];f[i]=h;const p=ag({inputs:{x:r},backend:n,attrs:{begin:c,size:f}});return c[i]+=h,p})}const oPt={kernelName:iy,backendName:"webgl",kernelFunc:aPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DM="return sqrt(x);",iPt=Qn({opSnippet:DM,packedOpSnippet:DM,cpuKernelImpl:RIt}),lPt={kernelName:Nm,backendName:"webgl",kernelFunc:iPt};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uPt="return x * x;",cPt=Qn({opSnippet:uPt}),dPt={kernelName:w6,backendName:"webgl",kernelFunc:cPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OM="return (a - b) * (a - b);",hPt=ua({opSnippet:OM,packedOpSnippet:OM}),fPt={kernelName:Am,backendName:"webgl",kernelFunc:hPt};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pPt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e;if(r.dtype!=="string")throw new Error("Input must be of datatype string");const a=n.readSync(r.dataId),o=Gu(a),i=LIt(o,"string",s);return n.makeTensorInfo(r.shape,"string",i)}const mPt={kernelName:uy,backendName:"webgl",kernelFunc:pPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gPt({inputs:t,attrs:e,backend:n}){const{x:s}=t,r=Fi+`
    return x > 0.0 ? 1.0 : float(${e.alpha});
  `,a=new Ol(s.shape,r);return n.runWebGLProgram(a,[s],s.dtype)}const vPt={kernelName:Pm,backendName:"webgl",kernelFunc:gPt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class yPt{constructor(e,n,s){this.variableNames=["x"],this.outputShape=s;const r=s.length,a=us(s.length),o=us(s.length);let i="";if(r===1)i="coords * strides + begin";else{let l=0;i=s.map((u,c)=>(l++,s.length===1?`coords * strides[${c}] + begin[${c}]`:`coords[${l-1}] * strides[${c}] + begin[${c}]`)).join(",")}this.userCode=`
      ${a} begin = ${a}(${e});
      ${a} strides = ${a}(${n});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bPt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{begin:a,end:o,strides:i,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:h}=s,{finalShapeSparse:f,finalShape:p,isIdentity:m,sliceDim0:y,isSimpleSlice:v,begin:b,end:w,strides:_}=yN(r.shape,a,o,i,l,u,c,d,h);let C;if(m)C=Ot({inputs:{x:r},backend:n,attrs:{shape:p}});else if(y||v){ae(r.shape.length>=1,()=>`Input must have rank at least 1, got: ${r.shape.length}`);const T=mN(b,w,_),k=ag({inputs:{x:r},backend:n,attrs:{begin:b,size:T}});C=Ot({inputs:{x:k},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(k)}else if(n.shouldExecuteOnCPU([r])){const k=n.readSync(r.dataId),N=En(r.shape,r.dtype,k),O=PIt(f,N,_,b);C=n.makeTensorInfo(p,r.dtype,O.values)}else{const k=new yPt(b,_,f);C=n.runWebGLProgram(k,[r],r.dtype)}const x=Ot({inputs:{x:C},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(C),x}const _Pt={kernelName:x6,backendName:"webgl",kernelFunc:bPt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wPt(t){const{inputs:e,backend:n,attrs:s}=t,{separator:r,nGramWidths:a,leftPad:o,rightPad:i,padWidth:l,preserveShortSequences:u}=s,{data:c,dataSplits:d}=e,h=n.readSync(c.dataId),f=n.readSync(d.dataId),[p,m]=MIt(h,f,r,a,o,i,l,u);return[n.makeTensorInfo([p.length],"string",p),n.makeTensorInfo(d.shape,"int32",m)]}const xPt={kernelName:C6,backendName:"webgl",kernelFunc:wPt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CPt(t){const{inputs:e,backend:n,attrs:s}=t,{skipEmpty:r}=s,{input:a,delimiter:o}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(a.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const i=n.readSync(a.dataId),l=n.readSync(o.dataId)[0],[u,c,d]=FIt(i,l,r),h=c.length;return[n.makeTensorInfo([h,2],"int32",u),n.makeTensorInfo([h],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}const SPt={kernelName:S6,backendName:"webgl",kernelFunc:CPt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TPt(t){const{inputs:e,backend:n,attrs:s}=t,{numBuckets:r}=s,{input:a}=e;if(a.dtype!=="string")throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const o=n.readSync(a.dataId),i=BIt(o,r);return n.makeTensorInfo(a.shape,"int32",i)}const kPt={kernelName:T6,backendName:"webgl",kernelFunc:TPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $Pt="return tan(x);",EPt=Qn({opSnippet:$Pt}),IPt={kernelName:Om,backendName:"webgl",kernelFunc:EPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NPt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,APt=Qn({opSnippet:NPt}),DPt={kernelName:Rm,backendName:"webgl",kernelFunc:APt};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OPt(t){const{inputs:e,backend:n,attrs:s}=t,{tensor:r,indices:a,updates:o}=e,{sliceRank:i,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=$d(o,a,r.shape),h=[d/u,u];if(d===0)return n.makeTensorInfo(r.shape,a.dtype);const f=Ot({inputs:{x:a},backend:n,attrs:{shape:[l,i]}}),p=Ot({inputs:{x:o},backend:n,attrs:{shape:[l,u]}}),m=Ot({inputs:{x:r},backend:n,attrs:{shape:h}}),y=new WA(l,i,f.shape.length,p.shape.length,c,h,!1,!0),v=n.runWebGLProgram(y,[p,f,m],m.dtype),b=Ot({inputs:{x:v},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),b}const RPt={kernelName:p6,backendName:"webgl",kernelFunc:OPt};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class LPt{constructor(e,n){this.variableNames=["A"];const s=new Array(e.length);for(let o=0;o<s.length;o++)s[o]=e[o]*n[o];this.outputShape=s,this.rank=s.length;const r=us(this.rank),a=PPt(e);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        setOutput(getA(${a}));
      }
    `}}function PPt(t){const e=t.length;if(e>5)throw Error(`Tile for rank ${e} is not yet supported`);if(e===1)return`imod(resRC, ${t[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],s=[];for(let r=0;r<t.length;r++)s.push(`imod(${n[r]}, ${t[r]})`);return s.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GZ(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{reps:a}=s;if(r.dtype==="string"||r.shape.length>5){const l=n.readSync(r.dataId),u=r.dtype==="string"?l.map(h=>zu(h)):l,c=En(r.shape,r.dtype,u),d=VIt(c,a);return n.makeTensorInfo(d.shape,d.dtype,d.values)}const o=new LPt(r.shape,a);return n.runWebGLProgram(o,[r],r.dtype)}const MPt={kernelName:Lm,backendName:"webgl",kernelFunc:GZ};class FPt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}}class BPt{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zd(t,e){e!==null&&t.disposeIntermediateTensorInfo(e)}function RM(t){let e=1;for(;e<t;)e*=2;return e}function zPt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r}=e,{k:a,sorted:o}=s,i=ze().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=ze().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=r.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([r])||c<i||a>l){const O=n.readSync(r.dataId),[L,V]=HIt(O,u,r.dtype,a,o);return[n.makeTensorInfo(L.shape,L.dtype,L.values),n.makeTensorInfo(V.shape,V.dtype,V.values)]}if(a===0)return u[u.length-1]=0,[n.makeTensorInfo(u,r.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(c===1)return[r,Qy({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(r.dataId),h=d!==null&&d.isPacked,f=h?n.unpackTensor(r):r,m=tt(u)/c,y=Ot({inputs:{x:f},attrs:{shape:[m,c]},backend:n});h&&zd(n,f);const v=RM(a),b=RM(c);let w=null;const _=()=>w===null?[y,y]:[y,w],C=(O,L,V)=>{const H=_(),K=new FPt(V),R=[[c],[w===null?1:0],[Number.NEGATIVE_INFINITY],[O],[L]],W=w;w=n.runWebGLProgram(K,H,"int32",R),zd(n,W)};for(let O=1;O<v;O*=2){const L=O*2;for(let V=O;V>=1;V/=2)C(L,V,[m,b])}for(let O=b;O>v;O/=2){const L=_(),V=new BPt([m,O/2]),K=[[c],[w===null?1:0],[v]],U=w;w=n.runWebGLProgram(V,L,"int32",K),zd(n,U);const R=v/2,W=R*2;for(let G=R;G>=1;G/=2)C(W,G,w.shape)}let x=w;w=ag({inputs:{x:w},backend:n,attrs:{begin:0,size:[m,a]}}),zd(n,x);let T=FZ({inputs:{x:y,indices:w},backend:n,attrs:{axis:1,batchDims:1}});zd(n,y);const k=u.slice(0,-1);k.push(a),x=w,w=Ot({inputs:{x:w},attrs:{shape:k},backend:n}),zd(n,x);const N=T;return T=Ot({inputs:{x:T},attrs:{shape:k},backend:n}),zd(n,N),[T,w]}const VPt={kernelName:k6,backendName:"webgl",kernelFunc:zPt};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class HPt{constructor(e,n,s,r,a,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const i=s==="nearest"?1:2;let l;switch(r){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1;break}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${l} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${l} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${a});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${a});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${n}));
                float mapY = mapCoord(inY, float(${e}));

                if (${i} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UPt(t){const{inputs:e,backend:n,attrs:s}=t,{image:r,transforms:a}=e,{interpolation:o,fillMode:i,fillValue:l,outputShape:u}=s,[c,d,h,f]=r.shape,[p,m]=u??[d,h],y=[c,p,m,f],v=new HPt(d,h,o,i,l,y);return n.runWebGLProgram(v,[r,a],"float32")}const WPt={kernelName:$6,backendName:"webgl",kernelFunc:UPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jPt(t){const{inputs:e,attrs:n,backend:s}=t,{axis:r}=n,{x:a}=e;Zm(a,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const o=s.readSync(a.dataId),{outputValues:i,outputShape:l,indices:u}=UIt(o,r,a.shape,a.dtype);return[s.makeTensorInfo(l,a.dtype,i),s.makeTensorInfo([u.length],"int32",u)]}const GPt={kernelName:E6,backendName:"webgl",kernelFunc:jPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qPt(t){const{inputs:e,backend:n,attrs:s}=t,{value:r}=e;let{axis:a}=s;a<0&&(a+=r.shape.length);const o=r,i=o.shape.length,l=r.shape[a],u=new Array(i-1);let c=0;for(let m=0;m<i;m++)m!==a&&(u[c++]=o.shape[m]);const d=[],h=new Array(i).fill(0),f=o.shape.slice();f[a]=1;const p=new Array(l);for(let m=0;m<p.length;m++){h[a]=m;const y=ag({inputs:{x:o},backend:n,attrs:{begin:h,size:f}}),v=Ot({inputs:{x:y},backend:n,attrs:{shape:u}});p[m]=v,d.push(y)}return d.forEach(m=>n.disposeIntermediateTensorInfo(m)),p}const KPt={kernelName:cy,backendName:"webgl",kernelFunc:qPt};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class XPt{constructor(e,n){this.variableNames=["x","segmentIds"];const s=e.windowSize,r=e.batchSize,a=e.inSize,o=e.numSegments,i=o*Math.ceil(a/s);this.outputShape=[r,i];const l="0.0",u="sumValue",c=Math.floor(s/4)*4,d=s%4,h=`
        sumValue += dot(values, segFilter);
    `;let f="";a%s>0&&(f=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return initializationValue;
        }
      `);let p="";a%s>0&&(p=`
        if (inIdx < 0 || inIdx >= ${a}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = ${l};

      float getValue(int batch, int inIdx) {
        ${f}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${p}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${s}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${c}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${h}
        }

        int inIdx = inOffset + ${c};
        if (${d===1}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${h}
        } else if (${d===2}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${h}
        } else if (${d===3}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${h}
        }
        setOutput(${u});
      }
    `}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YPt(t){const{inputs:e,backend:n,attrs:s}=t,{x:r,segmentIds:a}=e,{numSegments:o}=s,i=r.shape.length,l=[];let u=0;const c=Ys([u],i);let d=r;c!=null&&(d=Ia({inputs:{x:r},backend:n,attrs:{perm:c}}),l.push(d),u=lr(1,i)[0]);const h=TK(d.shape,u,o),f=tt([d.shape[u]]),p=Ot({inputs:{x:d},backend:n,attrs:{shape:[-1,f]}});l.push(p);const m=A6(r.dtype),y=(_,C,x,T,k)=>{const N=_.shape[0],O=_.shape[1],L=SK(O,k),V={windowSize:L,inSize:O,batchSize:N,numSegments:k},H=new XPt(V,C),K=n.compileAndRun(H,[_,x],T);if(l.push(K),K.shape[1]===k)return K;const U=jZ({backend:n,attrs:{start:0,stop:k,step:1,dtype:"float32"}}),R=GZ({inputs:{x:U},backend:n,attrs:{reps:[O/L]}});return l.push(U),l.push(R),y(K,C,R,T,k)},v=y(p,"unsortedSegmentSum",a,m,o),b=Ot({inputs:{x:v},backend:n,attrs:{shape:h}});let w=b;if(c!=null){l.push(b);const _=Cd(c);w=Ia({inputs:{x:w},backend:n,attrs:{perm:_}})}return l.forEach(_=>n.disposeIntermediateTensorInfo(_)),w}const QPt={kernelName:dy,backendName:"webgl",kernelFunc:YPt};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZPt=[LNt,MNt,zNt,UNt,jNt,KNt,YNt,ZNt,n9t,r9t,i9t,c9t,f9t,v9t,_9t,x9t,S9t,E9t,N9t,D9t,P9t,U9t,j9t,X9t,Q9t,sAt,aAt,uAt,yNt,hAt,vAt,wAt,$At,NAt,DAt,RAt,PAt,zAt,UAt,GAt,KAt,YAt,ZAt,tDt,sDt,iDt,uDt,hDt,mDt,vDt,wDt,TDt,IDt,DDt,LDt,PDt,FDt,zDt,HDt,WDt,GDt,YDt,JDt,n7t,r7t,i7t,c7t,p7t,y7t,vNt,_7t,mAt,C7t,k7t,I7t,_Nt,O7t,M7t,B7t,U7t,G7t,Y7t,J7t,sOt,iOt,cOt,hOt,gOt,yOt,_Ot,SOt,kOt,EOt,NOt,DOt,POt,zOt,WOt,ZOt,CNt,nRt,aRt,lRt,dRt,J9t,pRt,gRt,yRt,wRt,TRt,xNt,$Rt,IRt,ARt,ORt,RRt,eAt,KOt,MRt,VRt,jRt,TNt,XRt,ZRt,nLt,aLt,uLt,dLt,pLt,vLt,_Lt,CLt,kLt,ILt,OLt,PLt,zLt,ULt,V9t,YOt,GLt,KLt,YLt,ZLt,ePt,nPt,rPt,oPt,lPt,dPt,fPt,mPt,vPt,_Pt,xPt,SPt,kPt,XOt,DNt,IPt,DPt,RPt,MPt,VPt,WPt,ONt,GPt,KPt,QPt,mRt];for(const t of ZPt)N6(t);/** @license See the LICENSE file. */const JPt="4.11.0";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eMt={"tfjs-core":tK,"tfjs-backend-cpu":nQ,"tfjs-backend-webgl":gZ,"tfjs-data":oY,"tfjs-layers":Ax,"tfjs-converter":WX,tfjs:JPt},qZ=Object.freeze(Object.defineProperty({__proto__:null,Abs:cv,Acos:H0,Acosh:U0,AdadeltaOptimizer:aN,AdagradOptimizer:oN,AdamOptimizer:iN,AdamaxOptimizer:lN,Add:mf,AddN:dv,All:Tw,Any:kw,ArgMax:hv,ArgMin:fv,Asin:W0,Asinh:j0,Atan:G0,Atan2:K0,Atanh:q0,AvgPool:pv,AvgPool3D:mv,AvgPool3DGrad:Ew,AvgPoolGrad:$w,BatchMatMul:gv,BatchToSpaceND:vv,Bincount:Iw,BitwiseAnd:yv,BroadcastArgs:Nw,BroadcastTo:Qj,Callback:BX,CallbackList:WK,Cast:X0,Ceil:Y0,ClipByValue:Q0,Complex:Aw,ComplexAbs:bv,Concat:_v,Conv2D:wv,Conv2DBackpropFilter:Dw,Conv2DBackpropInput:xv,Conv3D:Cv,Conv3DBackpropFilterV2:Ow,Conv3DBackpropInputV2:Rw,Cos:Z0,Cosh:J0,CropAndResize:Pw,Cumprod:Lw,Cumsum:Sv,CustomCallback:GK,DataStorage:IE,DenseBincount:Mw,DepthToSpace:Fw,DepthwiseConv2dNative:Tv,DepthwiseConv2dNativeBackpropFilter:Bw,DepthwiseConv2dNativeBackpropInput:zw,Diag:Vw,Dilation2D:kv,Dilation2DBackpropFilter:N3,Dilation2DBackpropInput:I3,Draw:Hw,get ENV(){return RE},EarlyStopping:zX,Einsum:Uw,Elu:tm,EluGrad:Ww,Environment:Xj,Equal:$v,Erf:nm,Exp:sm,ExpandDims:Ev,Expm1:rm,FFT:jw,Fill:Gw,FlipLeftRight:qw,Floor:am,FloorDiv:om,FromPixels:A3,FusedBatchNorm:Iv,FusedConv2D:v1,FusedDepthwiseConv2D:y1,GPGPUContext:G_,GatherNd:Kw,GatherV2:Nv,GraphModel:mA,Greater:Av,GreaterEqual:im,History:jK,IFFT:Xw,Identity:lm,Imag:Yw,InputSpec:gr,IsFinite:um,IsInf:cm,IsNan:dm,KernelBackend:xw,LRN:Fv,LRNGrad:Zw,LayerVariable:zK,LayersModel:Au,LeakyRelu:Dv,Less:Ov,LessEqual:Rv,LinSpace:Qw,Log:hm,Log1p:fm,LogSoftmax:Zj,LogicalAnd:Lv,LogicalNot:Pv,LogicalOr:Mv,LogicalXor:qht,LowerBound:Kht,MathBackendCPU:jy,MathBackendWebGL:Xy,MatrixBandPart:Xht,Max:Bv,MaxPool:zv,MaxPool3D:Vv,MaxPool3DGrad:e6,MaxPoolGrad:Jw,MaxPoolWithArgmax:t6,Maximum:pm,Mean:Hv,Min:Uv,Minimum:mm,MirrorPad:Wv,Mod:gm,MomentumOptimizer:uN,Multinomial:n6,Multiply:vm,Neg:jv,NonMaxSuppressionV3:s6,NonMaxSuppressionV4:r6,NonMaxSuppressionV5:a6,NotEqual:Gv,OP_SCOPE_SUFFIX:zE,OneHot:Kv,OnesLike:qv,Optimizer:cc,OptimizerConstructors:nK,Pack:Xv,PadV2:Yv,Pool:Yht,Pow:ym,Prelu:Qv,Prod:Zv,RMSPropOptimizer:cN,RNN:_l,RaggedGather:o6,RaggedRange:i6,RaggedTensorToTensor:l6,Range:u6,get Rank(){return MT},Real:c6,RealDiv:em,Reciprocal:bm,get Reduction(){return xa},Relu:_m,Relu6:wm,Reshape:Jv,ResizeBilinear:ty,ResizeBilinearGrad:h6,ResizeNearestNeighbor:ey,ResizeNearestNeighborGrad:d6,Reverse:ny,RotateWithOffset:I6,Round:xm,Rsqrt:Cm,SGDOptimizer:fx,ScatterNd:f6,SearchSorted:m6,Select:sy,Selu:Sm,Sequential:Kh,Sigmoid:Em,Sign:$m,Sin:Tm,Sinh:km,Slice:ry,Softmax:ly,Softplus:Im,SpaceToBatchND:oy,SparseFillEmptyRows:g6,SparseReshape:v6,SparseSegmentMean:y6,SparseSegmentSum:b6,SparseToDense:_6,SplitV:iy,Sqrt:Nm,Square:w6,SquaredDifference:Am,StaticRegexReplace:uy,Step:Pm,StridedSlice:x6,StringNGrams:C6,StringSplit:S6,StringToHashBucketFast:T6,Sub:Dm,Sum:ay,SymbolicTensor:cl,Tan:Om,Tanh:Rm,Tensor:Xn,TensorBuffer:yr,TensorScatterUpdate:p6,Tile:Lm,TopK:k6,Transform:$6,Transpose:_h,Unique:E6,Unpack:cy,UnsortedSegmentSum:dy,UpperBound:Qht,Variable:w1,ZerosLike:hy,_FusedMatMul:g1,abs:fr,acos:KE,acosh:XE,add:mt,addN:NG,all:R6,any:C1,argMax:zh,argMin:YE,asin:QE,asinh:ZE,atan:JE,atan2:eI,atanh:tI,avgPool:gy,avgPool3d:sI,backend:IG,backend_util:$K,basicLSTMCell:AG,batchNorm:Mm,batchNorm2d:rI,batchNorm3d:aI,batchNorm4d:oI,batchToSpaceND:vy,bincount:iI,bitwiseAnd:DG,booleanMaskAsync:yq,broadcastArgs:OG,broadcastTo:wh,broadcast_util:$0t,browser:Vvt,buffer:En,callbacks:n6t,cast:Nt,ceil:lI,clipByValue:to,clone:zl,complex:Hu,concat:rr,concat1d:uI,concat2d:cI,concat3d:dI,concat4d:hI,constraints:U_t,conv1d:L6,conv2d:Uu,conv2dTranspose:P6,conv3d:pI,conv3dTranspose:mI,copyRegisteredKernels:tft,cos:yy,cosh:M6,cosineWindow:ax,cumprod:k1,cumsum:F6,customGrad:tu,data:p8t,denseBincount:P3,deprecationWarn:lpt,depthToSpace:gI,depthwiseConv2d:Fm,deregisterOp:a6t,device_util:kft,diag:LG,dilation2d:vI,disableDeprecationWarnings:ipt,dispose:vn,disposeVariables:upt,div:tn,divNoNan:yI,dot:bI,dropout:eN,einsum:Zd,elu:Bm,enableDebugMode:opt,enableProdMode:apt,enclosingPowerOfTwo:tN,engine:qi,ensureShape:PG,env:ze,equal:To,erf:_I,euclideanNorm:xI,exp:no,expandDims:Kr,expm1:CI,eye:B6,fft:Ay,fill:vf,findBackend:gpt,findBackendFactory:vpt,floor:Vm,floorDiv:O6,forceHalfFloat:vZ,fused:$q,gather:Hm,gatherND:xq,gather_util:Hvt,getBackend:ppt,getGradient:RT,getKernel:_1,getKernelsForBackend:D3,gpgpu_util:QEt,grad:cmt,grads:dmt,greater:Da,greaterEqual:ic,ifft:h0,imag:by,image:Ci,inTopKAsync:Cq,initializers:a3t,input:oX,io:fN,irfft:J6,isFinite:SI,isInf:TI,isNaN:kI,keep:Tr,kernel_impls:Qvt,layers:Owt,leakyRelu:_y,less:l0,lessEqual:Sd,linalg:rN,linspace:BG,loadGraphModel:gA,loadGraphModelSync:Nxt,loadLayersModel:K3t,localResponseNormalization:$I,log:ko,log1p:wy,logSigmoid:EI,logSoftmax:V6,logSumExp:xy,logicalAnd:Oi,logicalNot:Cy,logicalOr:H6,logicalXor:II,losses:Rq,lowerBound:VG,matMul:Dn,math:Dvt,max:Yo,maxPool:Sy,maxPool3d:NI,maxPoolWithArgmax:HG,maximum:du,mean:qs,memory:L3,meshgrid:UG,metrics:Xwt,min:i0,minimum:ad,mirrorPad:AI,mod:DI,model:Q3t,models:Ywt,moments:Ty,movingAverage:bq,mul:Ie,multiRNNCell:WG,multinomial:jG,neg:bs,nextFrame:bN,norm:zm,notEqual:Wh,oneHot:u0,ones:Wa,onesLike:$o,op:$e,outerProduct:GG,pad:lc,pad1d:qG,pad2d:KG,pad3d:XG,pad4d:YG,pool:OI,pow:Wu,prelu:$y,print:GE,prod:RI,profile:cpt,raggedGather:QG,raggedRange:ZG,raggedTensorToTensor:JG,rand:eq,randomGamma:aq,randomNormal:W6,randomStandardNormal:oq,randomUniform:Td,randomUniformInt:iq,range:jh,ready:fpt,real:c0,reciprocal:WI,registerBackend:qE,registerCallbackConstructor:J3t,registerGradient:Jj,registerKernel:N6,registerOp:r6t,regularizers:e6t,relu:yl,relu6:j6,removeBackend:mpt,reshape:Ne,reverse:Zo,reverse1d:lq,reverse2d:uq,reverse3d:cq,reverse4d:dq,rfft:Dy,round:G6,rsqrt:q6,scalar:on,scatterND:_q,scatter_util:h2t,searchSorted:U6,selu:K6,separableConv2d:X6,sequential:Z3t,serialization:fvt,setBackend:hpt,setPlatform:ypt,setWebGLContext:bQ,setdiff1dAsync:hq,shared:tQ,sigmoid:nl,sign:jI,signal:Oq,sin:Y6,sinh:Q6,slice:jn,slice1d:Ey,slice2d:Z6,slice3d:Iy,slice4d:d0,slice_util:eK,softmax:Ny,softplus:yf,spaceToBatchND:ky,sparse:Lq,sparseToDense:wq,spectral:Dq,split:Ka,sqrt:ta,square:is,squaredDifference:ex,squeeze:kd,stack:Ea,step:_f,stridedSlice:GI,string:Pq,sub:jt,sum:Xt,sumOutType:A6,tan:qI,tanh:Hh,tensor:xo,tensor1d:Zr,tensor2d:jc,tensor3d:KI,tensor4d:fq,tensor5d:pq,tensor6d:mq,tensorScatterUpdate:gq,tensor_util:wft,test_util:Tgt,tidy:Ve,tile:Wo,time:dpt,topk:YI,train:Gd,transpose:Un,truncatedNormal:nx,unique:QI,unregisterGradient:eft,unregisterKernel:Jht,unsortedSegmentSum:sx,unstack:Jo,upcastType:Ja,upperBound:vq,util:uft,valueAndGrad:hmt,valueAndGrads:fmt,variable:ZI,variableGrads:zG,version:eMt,version_converter:WX,version_core:tK,version_cpu:nQ,version_layers:Ax,version_webgl:gZ,webgl:gNt,webgl_util:sEt,where:Pr,whereAsync:JI,zeros:mr,zerosLike:qn},Symbol.toStringTag,{value:"Module"}));var g2;typeof window<"u"?g2=window:typeof Ir<"u"?g2=Ir:typeof self<"u"?g2=self:g2={};var jx=g2;const Te=ra(jx);var LM=typeof Ir<"u"?Ir:typeof window<"u"?window:{},tMt=nq,v2;typeof document<"u"?v2=document:(v2=LM["__GLOBAL_DOCUMENT_CACHE@4"],v2||(v2=LM["__GLOBAL_DOCUMENT_CACHE@4"]=tMt));var KZ=v2;const $t=ra(KZ);var Nk={exports:{}};(function(t,e){function n(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return o[l];var c=String(l),d=s[c.toLowerCase()];if(d)return d;var d=r[c.toLowerCase()];if(d)return d;if(c.length===1)return c.charCodeAt(0)}n.isEventKey=function(u,c){if(u&&typeof u=="object"){var d=u.which||u.keyCode||u.charCode;if(d==null)return!1;if(typeof c=="string"){var h=s[c.toLowerCase()];if(h)return h===d;var h=r[c.toLowerCase()];if(h)return h===d}else if(typeof c=="number")return c===d;return!1}},e=t.exports=n;var s=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(a=97;a<123;a++)s[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)s[a-48]=a;for(a=1;a<13;a++)s["f"+a]=a+111;for(a=0;a<10;a++)s["numpad "+a]=a+96;var o=e.names=e.title={};for(a in s)o[s[a]]=a;for(var i in r)s[i]=r[i]})(Nk,Nk.exports);var nMt=Nk.exports;const Sn=ra(nMt);var sMt=rMt;function rMt(t,e){var n,s=null;try{n=JSON.parse(t,e)}catch(r){s=r}return[s,n]}const aMt=ra(sMt);var jA={exports:{}},XZ={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(this,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(XZ);var oMt=XZ.exports,iMt=uMt,lMt=Object.prototype.toString;function uMt(t){if(!t)return!1;var e=lMt.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var cMt=jx,dMt=function(e,n){return n===void 0&&(n=!1),function(s,r,a){if(s){e(s);return}if(r.statusCode>=400&&r.statusCode<=599){var o=a;if(n)if(cMt.TextDecoder){var i=hMt(r.headers&&r.headers["content-type"]);try{o=new TextDecoder(i).decode(a)}catch{}}else o=String.fromCharCode.apply(null,new Uint8Array(a));e({cause:o});return}e(null,a)}};function hMt(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var s=n.split("="),r=s[0],a=s[1];return r.trim()==="charset"?a.trim():e},"utf-8")}var fMt=dMt,YZ=jx,pMt=oMt,mMt=iMt;Wl.httpHandler=fMt;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var gMt=function(e){var n={};return e&&e.trim().split(`
`).forEach(function(s){var r=s.indexOf(":"),a=s.slice(0,r).trim().toLowerCase(),o=s.slice(r+1).trim();typeof n[a]>"u"?n[a]=o:Array.isArray(n[a])?n[a].push(o):n[a]=[n[a],o]}),n};jA.exports=Wl;jA.exports.default=Wl;Wl.XMLHttpRequest=YZ.XMLHttpRequest||_Mt;Wl.XDomainRequest="withCredentials"in new Wl.XMLHttpRequest?Wl.XMLHttpRequest:YZ.XDomainRequest;vMt(["get","put","post","patch","head","delete"],function(t){Wl[t==="delete"?"del":t]=function(e,n,s){return n=QZ(e,n,s),n.method=t.toUpperCase(),ZZ(n)}});function vMt(t,e){for(var n=0;n<t.length;n++)e(t[n])}function yMt(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function QZ(t,e,n){var s=t;return mMt(e)?(n=e,typeof t=="string"&&(s={uri:t})):s=pMt({},e,{uri:t}),s.callback=n,s}function Wl(t,e,n){return e=QZ(t,e,n),ZZ(e)}function ZZ(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,n=function(w,_,C){e||(e=!0,t.callback(w,_,C))};function s(){i.readyState===4&&setTimeout(o,0)}function r(){var b=void 0;if(i.response?b=i.response:b=i.responseText||bMt(i),m)try{b=JSON.parse(b)}catch{}return b}function a(b){return clearTimeout(y),b instanceof Error||(b=new Error(""+(b||"Unknown XMLHttpRequest Error"))),b.statusCode=0,n(b,v)}function o(){if(!u){var b;clearTimeout(y),t.useXDR&&i.status===void 0?b=200:b=i.status===1223?204:i.status;var w=v,_=null;return b!==0?(w={body:r(),statusCode:b,method:d,headers:{},url:c,rawRequest:i},i.getAllResponseHeaders&&(w.headers=gMt(i.getAllResponseHeaders()))):_=new Error("Internal XMLHttpRequest Error"),n(_,w,w.body)}}var i=t.xhr||null;i||(t.cors||t.useXDR?i=new Wl.XDomainRequest:i=new Wl.XMLHttpRequest);var l,u,c=i.url=t.uri||t.url,d=i.method=t.method||"GET",h=t.body||t.data,f=i.headers=t.headers||{},p=!!t.sync,m=!1,y,v={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:i};if("json"in t&&t.json!==!1&&(m=!0,f.accept||f.Accept||(f.Accept="application/json"),d!=="GET"&&d!=="HEAD"&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(t.json===!0?h:t.json))),i.onreadystatechange=s,i.onload=o,i.onerror=a,i.onprogress=function(){},i.onabort=function(){u=!0},i.ontimeout=a,i.open(d,c,!p,t.username,t.password),p||(i.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(y=setTimeout(function(){if(!u){u=!0,i.abort("timeout");var b=new Error("XMLHttpRequest timeout");b.code="ETIMEDOUT",a(b)}},t.timeout)),i.setRequestHeader)for(l in f)f.hasOwnProperty(l)&&i.setRequestHeader(l,f[l]);else if(t.headers&&!yMt(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(i.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(i),i.send(h||null),i}function bMt(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function _Mt(){}var wMt=jA.exports;const JZ=ra(wMt);var eJ={exports:{}},PM=KZ,GA=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ho(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ho.prototype=GA(Error.prototype);Ho.prototype.constructor=Ho;Ho.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function qA(t){function e(s,r,a,o){return(s|0)*3600+(r|0)*60+(a|0)+(o|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function O2(){this.values=GA(null)}O2.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var s=0;s<n.length;++s)if(e===n[s]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function y2(t,e,n,s){var r=s?t.split(s):[t];for(var a in r)if(typeof r[a]=="string"){var o=r[a].split(n);if(o.length===2){var i=o[0].trim(),l=o[1].trim();e(i,l)}}}function xMt(t,e,n){var s=t;function r(){var i=qA(t);if(i===null)throw new Ho(Ho.Errors.BadTimeStamp,"Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),i}function a(i,l){var u=new O2;y2(i,function(c,d){switch(c){case"region":for(var h=n.length-1;h>=0;h--)if(n[h].id===d){u.set(c,n[h].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var f=d.split(","),p=f[0];u.integer(c,p),u.percent(c,p)&&u.set("snapToLines",!1),u.alt(c,p,["auto"]),f.length===2&&u.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=d.split(","),u.percent(c,f[0]),f.length===2&&u.alt("positionAlign",f[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),t.substr(0,3)!=="-->")throw new Ho(Ho.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+s);t=t.substr(3),o(),e.endTime=r(),o(),a(t,e)}var OC=PM.createElement&&PM.createElement("textarea"),CMt={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},MM={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},SMt={v:"title",lang:"lang"},FM={rt:"ruby"};function tJ(t,e){function n(){if(!e)return null;function p(y){return e=e.substr(y.length),y}var m=e.match(/^([^<]*)(<[^>]*>?)?/);return p(m[1]?m[1]:m[2])}function s(p){return OC.innerHTML=p,p=OC.textContent,OC.textContent="",p}function r(p,m){return!FM[m.localName]||FM[m.localName]===p.localName}function a(p,m){var y=CMt[p];if(!y)return null;var v=t.document.createElement(y),b=SMt[p];return b&&m&&(v[b]=m.trim()),v}for(var o=t.document.createElement("div"),i=o,l,u=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),i=i.parentNode);continue}var c=qA(l.substr(1,l.length-2)),d;if(c){d=t.document.createProcessingInstruction("timestamp",c),i.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=a(h[1],h[3]),!d)||!r(i,d))continue;if(h[2]){var f=h[2].split(".");f.forEach(function(p){var m=/^bg_/.test(p),y=m?p.slice(3):p;if(MM.hasOwnProperty(y)){var v=m?"background-color":"color",b=MM[y];d.style[v]=b}}),d.className=f.join(" ")}u.push(h[1]),i.appendChild(d),i=d;continue}i.appendChild(t.document.createTextNode(s(l)))}return o}var BM=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function TMt(t){for(var e=0;e<BM.length;e++){var n=BM[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function kMt(t){var e=[],n="",s;if(!t||!t.childNodes)return"ltr";function r(i,l){for(var u=l.childNodes.length-1;u>=0;u--)i.push(l.childNodes[u])}function a(i){if(!i||!i.length)return null;var l=i.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(i.length=0,c[0]):u}if(l.tagName==="ruby")return a(i);if(l.childNodes)return r(i,l),a(i)}for(r(e,t);n=a(e);)for(var o=0;o<n.length;o++)if(s=n.charCodeAt(o),TMt(s))return"rtl";return"ltr"}function $Mt(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,s=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&s++;return++s*-1}function Gx(){}Gx.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};Gx.prototype.formatStyle=function(t,e){return t===0?0:t+e};function r4(t,e,n){Gx.call(this),this.cue=e,this.cueDiv=tJ(t,e.text);var s={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(s,this.cueDiv),this.div=t.document.createElement("div"),s={direction:kMt(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(s),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":case"line-left":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":case"line-right":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(a){this.applyStyles({top:this.formatStyle(a.top,"px"),bottom:this.formatStyle(a.bottom,"px"),left:this.formatStyle(a.left,"px"),right:this.formatStyle(a.right,"px"),height:this.formatStyle(a.height,"px"),width:this.formatStyle(a.width,"px")})}}r4.prototype=GA(Gx.prototype);r4.prototype.constructor=r4;function Va(t){var e,n,s,r;if(t.div){n=t.div.offsetHeight,s=t.div.offsetWidth,r=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||s,this.lineHeight=e!==void 0?e:t.lineHeight}Va.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Va.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Va.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Va.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Va.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Va.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),s=e*n;return s/(this.height*this.width)};Va.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Va.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,s=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||s,height:t.height||e,bottom:t.bottom||s+(t.height||e),width:t.width||n};return r};function EMt(t,e,n,s){function r(y,v){for(var b,w=new Va(y),_=1,C=0;C<v.length;C++){for(;y.overlapsOppositeAxis(n,v[C])||y.within(n)&&y.overlapsAny(s);)y.move(v[C]);if(y.within(n))return y;var x=y.intersectPercentage(n);_>x&&(b=new Va(y),_=x),y=new Va(w)}return b||w}var a=new Va(e),o=e.cue,i=$Mt(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=a.lineHeight,d=c*Math.round(i),h=n[u]+c,f=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/c)*c),i<0&&(d+=o.vertical===""?n.height:n.width,l=l.reverse()),a.move(f,d)}else{var p=a.lineHeight/n.height*100;switch(o.lineAlign){case"center":i-=p/2;break;case"end":i-=p;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(i,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(i,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(i,"%")});break}l=["+y","-x","+x","-y"],a=new Va(e)}var m=r(a,l);e.move(m.toCSSCompatValues(n))}function og(){}og.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};og.convertCueToDOMTree=function(t,e){return!t||!e?null:tJ(t,e)};var IMt=.05,NMt="sans-serif",AMt="1.5%";og.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var s=t.document.createElement("div");s.style.position="absolute",s.style.left="0",s.style.right="0",s.style.top="0",s.style.bottom="0",s.style.margin=AMt,n.appendChild(s);function r(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!r(e)){for(var a=0;a<e.length;a++)s.appendChild(e[a].displayState);return}var o=[],i=Va.getSimpleBoxPosition(s),l=Math.round(i.height*IMt*100)/100,u={font:l+"px "+NMt};(function(){for(var c,d,h=0;h<e.length;h++)d=e[h],c=new r4(t,d,u),s.appendChild(c.div),EMt(t,c,i,o),d.displayState=c.div,o.push(Va.getSimpleBoxPosition(c))})()};og.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};og.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ho)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var c=e.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var h=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,e.buffer=c.substr(d),h}function s(c){var d=new O2;if(y2(c,function(f,p){switch(f){case"id":d.set(f,p);break;case"width":d.percent(f,p);break;case"lines":d.integer(f,p);break;case"regionanchor":case"viewportanchor":var m=p.split(",");if(m.length!==2)break;var y=new O2;if(y.percent("x",m[0]),y.percent("y",m[1]),!y.has("x")||!y.has("y"))break;d.set(f+"X",y.get("x")),d.set(f+"Y",y.get("y"));break;case"scroll":d.alt(f,p,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function r(c){var d=new O2;y2(c,function(h,f){switch(h){case"MPEGT":d.integer(h+"S",f);break;case"LOCA":d.set(h+"L",qA(f));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function a(c){c.match(/X-TIMESTAMP-MAP/)?y2(c,function(d,h){switch(d){case"X-TIMESTAMP-MAP":r(h);break}},/=/):y2(c,function(d,h){switch(d){case"Region":s(h);break}},/:/)}try{var o;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;o=n();var i=o.match(/^WEBVTT([ \t].*)?$/);if(!i||!i[0])throw new Ho(Ho.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:o=n(),e.state){case"HEADER":/:/.test(o)?a(o):o||(e.state="ID");continue;case"NOTE":o||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(o)){e.state="NOTE";break}if(!o)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",o.indexOf("-->")===-1){e.cue.id=o;continue}case"CUE":try{xMt(o,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=o.indexOf("-->")!==-1;if(!o||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=o.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":o||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ho(Ho.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var DMt=og,OMt="auto",RMt={"":1,lr:1,rl:1},LMt={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function PMt(t){if(typeof t!="string")return!1;var e=RMt[t.toLowerCase()];return e?t.toLowerCase():!1}function RC(t){if(typeof t!="string")return!1;var e=LMt[t.toLowerCase()];return e?t.toLowerCase():!1}function nJ(t,e,n){this.hasBeenReset=!1;var s="",r=!1,a=t,o=e,i=n,l=null,u="",c=!0,d="auto",h="start",f="auto",p="auto",m=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return s},set:function(v){s=""+v}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(v){r=!!v}},startTime:{enumerable:!0,get:function(){return a},set:function(v){if(typeof v!="number")throw new TypeError("Start time must be set to a number.");a=v,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(v){if(typeof v!="number")throw new TypeError("End time must be set to a number.");o=v,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return i},set:function(v){i=""+v,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(v){l=v,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(v){var b=PMt(v);if(b===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=b,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(v){c=!!v,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(v){if(typeof v!="number"&&v!==OMt)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=v,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(v){var b=RC(v);b?(h=b,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(v){if(v<0||v>100)throw new Error("Position must be between 0 and 100.");f=v,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(v){var b=RC(v);b?(p=b,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(v){if(v<0||v>100)throw new Error("Size must be between 0 and 100.");m=v,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(v){var b=RC(v);if(!b)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=b,this.hasBeenReset=!0}}}),this.displayState=void 0}nJ.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var MMt=nJ,FMt={"":!0,up:!0};function BMt(t){if(typeof t!="string")return!1;var e=FMt[t.toLowerCase()];return e?t.toLowerCase():!1}function Hg(t){return typeof t=="number"&&t>=0&&t<=100}function zMt(){var t=100,e=3,n=0,s=100,r=0,a=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(i){if(!Hg(i))throw new Error("Width must be between 0 and 100.");t=i}},lines:{enumerable:!0,get:function(){return e},set:function(i){if(typeof i!="number")throw new TypeError("Lines must be set to a number.");e=i}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(i){if(!Hg(i))throw new Error("RegionAnchorX must be between 0 and 100.");s=i}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(i){if(!Hg(i))throw new Error("RegionAnchorY must be between 0 and 100.");n=i}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(i){if(!Hg(i))throw new Error("ViewportAnchorY must be between 0 and 100.");a=i}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(i){if(!Hg(i))throw new Error("ViewportAnchorX must be between 0 and 100.");r=i}},scroll:{enumerable:!0,get:function(){return o},set:function(i){var l=BMt(i);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):o=l}}})}var VMt=zMt,qu=jx,If=eJ.exports={WebVTT:DMt,VTTCue:MMt,VTTRegion:VMt};qu.vttjs=If;qu.WebVTT=If.WebVTT;var HMt=If.VTTCue,UMt=If.VTTRegion,WMt=qu.VTTCue,jMt=qu.VTTRegion;If.shim=function(){qu.VTTCue=HMt,qu.VTTRegion=UMt};If.restore=function(){qu.VTTCue=WMt,qu.VTTRegion=jMt};qu.VTTCue||If.shim();var GMt=eJ.exports;const zM=ra(GMt);var sJ={exports:{}};(function(t,e){(function(n){var s=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,i={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=i.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=i.normalizePath(d.path),i.buildURLFromParts(d)}var h=i.parseURL(u);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return c.alwaysNormalize?(h.path=i.normalizePath(h.path),i.buildURLFromParts(h)):u;var f=i.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var p=r.exec(f.path);f.netLoc=p[1],f.path=p[2]}f.netLoc&&!f.path&&(f.path="/");var m={scheme:f.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(m.netLoc=f.netLoc,h.path[0]!=="/"))if(!h.path)m.path=f.path,h.params||(m.params=f.params,h.query||(m.query=f.query));else{var y=f.path,v=y.substring(0,y.lastIndexOf("/")+1)+h.path;m.path=i.normalizePath(v)}return m.path===null&&(m.path=c.alwaysNormalize?i.normalizePath(h.path):h.path),i.buildURLFromParts(m)},parseURL:function(l){var u=s.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(a,"");l.length!==(l=l.replace(o,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=i})()})(sJ);var qMt=sJ.exports;const a4=ra(qMt);var VM="http://example.com",KMt=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=Te.location&&Te.location.href||"");var s=typeof Te.URL=="function",r=/^\/\//.test(e),a=!Te.location&&!/\/\//i.test(e);if(s?e=new Te.URL(e,Te.location||VM):/\/\//i.test(e)||(e=a4.buildAbsoluteURL(Te.location&&Te.location.href||"",e)),s){var o=new URL(n,e);return a?o.href.slice(VM.length):r?o.href.slice(o.protocol.length):o.href}return a4.buildAbsoluteURL(e,n)};function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},dd.apply(this,arguments)}var KA=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(s,r){this.listeners[s]||(this.listeners[s]=[]),this.listeners[s].push(r)},e.off=function(s,r){if(!this.listeners[s])return!1;var a=this.listeners[s].indexOf(r);return this.listeners[s]=this.listeners[s].slice(0),this.listeners[s].splice(a,1),a>-1},e.trigger=function(s){var r=this.listeners[s];if(r)if(arguments.length===2)for(var a=r.length,o=0;o<a;++o)r[o].call(this,arguments[1]);else for(var i=Array.prototype.slice.call(arguments,1),l=r.length,u=0;u<l;++u)r[u].apply(this,i)},e.dispose=function(){this.listeners={}},e.pipe=function(s){this.on("data",function(r){s.push(r)})},t}(),XMt=function(e){return Te.atob?Te.atob(e):Buffer.from(e,"base64").toString("binary")};function rJ(t){for(var e=XMt(t),n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class YMt extends KA{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const QMt="	",LC=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},ZMt=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},oi=function(t){const e={};if(!t)return e;const n=t.split(ZMt());let s=n.length,r;for(;s--;)n[s]!==""&&(r=/([^=]*)=(.*)/.exec(n[s]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),e[r[0]]=r[1]);return e};class JMt extends KA{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,s;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((a,o)=>{const i=o(e);return i===e?a:a.concat([i])},[e]).forEach(a=>{for(let o=0;o<this.customParsers.length;o++)if(this.customParsers[o].call(this,a))return;if(a.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:a.slice(1)});return}if(a=a.replace("\r",""),n=/^#EXTM3U/.exec(a),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(a),n){s={type:"tag",tagType:"inf"},n[1]&&(s.duration=parseFloat(n[1])),n[2]&&(s.title=n[2]),this.trigger("data",s);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(a),n){s={type:"tag",tagType:"targetduration"},n[1]&&(s.duration=parseInt(n[1],10)),this.trigger("data",s);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(a),n){s={type:"tag",tagType:"version"},n[1]&&(s.version=parseInt(n[1],10)),this.trigger("data",s);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(a),n){s={type:"tag",tagType:"media-sequence"},n[1]&&(s.number=parseInt(n[1],10)),this.trigger("data",s);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(a),n){s={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(s.number=parseInt(n[1],10)),this.trigger("data",s);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(a),n){s={type:"tag",tagType:"playlist-type"},n[1]&&(s.playlistType=n[1]),this.trigger("data",s);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(a),n){s=dd(LC(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",s);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(a),n){s={type:"tag",tagType:"allow-cache"},n[1]&&(s.allowed=!/NO/.test(n[1])),this.trigger("data",s);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(a),n){if(s={type:"tag",tagType:"map"},n[1]){const o=oi(n[1]);o.URI&&(s.uri=o.URI),o.BYTERANGE&&(s.byterange=LC(o.BYTERANGE))}this.trigger("data",s);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(a),n){if(s={type:"tag",tagType:"stream-inf"},n[1]){if(s.attributes=oi(n[1]),s.attributes.RESOLUTION){const o=s.attributes.RESOLUTION.split("x"),i={};o[0]&&(i.width=parseInt(o[0],10)),o[1]&&(i.height=parseInt(o[1],10)),s.attributes.RESOLUTION=i}s.attributes.BANDWIDTH&&(s.attributes.BANDWIDTH=parseInt(s.attributes.BANDWIDTH,10)),s.attributes["FRAME-RATE"]&&(s.attributes["FRAME-RATE"]=parseFloat(s.attributes["FRAME-RATE"])),s.attributes["PROGRAM-ID"]&&(s.attributes["PROGRAM-ID"]=parseInt(s.attributes["PROGRAM-ID"],10))}this.trigger("data",s);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(a),n){s={type:"tag",tagType:"media"},n[1]&&(s.attributes=oi(n[1])),this.trigger("data",s);return}if(n=/^#EXT-X-ENDLIST/.exec(a),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(a),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(a),n){s={type:"tag",tagType:"program-date-time"},n[1]&&(s.dateTimeString=n[1],s.dateTimeObject=new Date(n[1])),this.trigger("data",s);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(a),n){s={type:"tag",tagType:"key"},n[1]&&(s.attributes=oi(n[1]),s.attributes.IV&&(s.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(s.attributes.IV=s.attributes.IV.substring(2)),s.attributes.IV=s.attributes.IV.match(/.{8}/g),s.attributes.IV[0]=parseInt(s.attributes.IV[0],16),s.attributes.IV[1]=parseInt(s.attributes.IV[1],16),s.attributes.IV[2]=parseInt(s.attributes.IV[2],16),s.attributes.IV[3]=parseInt(s.attributes.IV[3],16),s.attributes.IV=new Uint32Array(s.attributes.IV))),this.trigger("data",s);return}if(n=/^#EXT-X-START:(.*)$/.exec(a),n){s={type:"tag",tagType:"start"},n[1]&&(s.attributes=oi(n[1]),s.attributes["TIME-OFFSET"]=parseFloat(s.attributes["TIME-OFFSET"]),s.attributes.PRECISE=/YES/.test(s.attributes.PRECISE)),this.trigger("data",s);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(a),n){s={type:"tag",tagType:"cue-out-cont"},n[1]?s.data=n[1]:s.data="",this.trigger("data",s);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(a),n){s={type:"tag",tagType:"cue-out"},n[1]?s.data=n[1]:s.data="",this.trigger("data",s);return}if(n=/^#EXT-X-CUE-IN:(.*)?$/.exec(a),n){s={type:"tag",tagType:"cue-in"},n[1]?s.data=n[1]:s.data="",this.trigger("data",s);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"skip"},s.attributes=oi(n[1]),s.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(s.attributes["SKIPPED-SEGMENTS"]=parseInt(s.attributes["SKIPPED-SEGMENTS"],10)),s.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(s.attributes["RECENTLY-REMOVED-DATERANGES"]=s.attributes["RECENTLY-REMOVED-DATERANGES"].split(QMt)),this.trigger("data",s);return}if(n=/^#EXT-X-PART:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"part"},s.attributes=oi(n[1]),["DURATION"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))}),["INDEPENDENT","GAP"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=/YES/.test(s.attributes[o]))}),s.attributes.hasOwnProperty("BYTERANGE")&&(s.attributes.byterange=LC(s.attributes.BYTERANGE)),this.trigger("data",s);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"server-control"},s.attributes=oi(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=/YES/.test(s.attributes[o]))}),this.trigger("data",s);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"part-inf"},s.attributes=oi(n[1]),["PART-TARGET"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseFloat(s.attributes[o]))}),this.trigger("data",s);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"preload-hint"},s.attributes=oi(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(o){if(s.attributes.hasOwnProperty(o)){s.attributes[o]=parseInt(s.attributes[o],10);const i=o==="BYTERANGE-LENGTH"?"length":"offset";s.attributes.byterange=s.attributes.byterange||{},s.attributes.byterange[i]=s.attributes[o],delete s.attributes[o]}}),this.trigger("data",s);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"rendition-report"},s.attributes=oi(n[1]),["LAST-MSN","LAST-PART"].forEach(function(o){s.attributes.hasOwnProperty(o)&&(s.attributes[o]=parseInt(s.attributes[o],10))}),this.trigger("data",s);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(a),n&&n[1]){s={type:"tag",tagType:"daterange"},s.attributes=oi(n[1]),["ID","CLASS"].forEach(function(i){s.attributes.hasOwnProperty(i)&&(s.attributes[i]=String(s.attributes[i]))}),["START-DATE","END-DATE"].forEach(function(i){s.attributes.hasOwnProperty(i)&&(s.attributes[i]=new Date(s.attributes[i]))}),["DURATION","PLANNED-DURATION"].forEach(function(i){s.attributes.hasOwnProperty(i)&&(s.attributes[i]=parseFloat(s.attributes[i]))}),["END-ON-NEXT"].forEach(function(i){s.attributes.hasOwnProperty(i)&&(s.attributes[i]=/YES/i.test(s.attributes[i]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(i){s.attributes.hasOwnProperty(i)&&(s.attributes[i]=s.attributes[i].toString(16))});const o=/^X-([A-Z]+-)+[A-Z]+$/;for(const i in s.attributes){if(!o.test(i))continue;const l=/[0-9A-Fa-f]{6}/g.test(s.attributes[i]),u=/^\d+(\.\d+)?$/.test(s.attributes[i]);s.attributes[i]=l?s.attributes[i].toString(16):u?parseFloat(s.attributes[i]):String(s.attributes[i])}this.trigger("data",s);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(a),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}this.trigger("data",{type:"tag",data:a.slice(4)})})}addParser({expression:e,customType:n,dataParser:s,segment:r}){typeof s!="function"&&(s=a=>a),this.customParsers.push(a=>{if(e.exec(a))return this.trigger("data",{type:"custom",data:s(a),customType:n,segment:r}),!0})}addTagMapper({expression:e,map:n}){const s=r=>e.test(r)?n(r):r;this.tagMappers.push(s)}}const eFt=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Vd=function(t){const e={};return Object.keys(t).forEach(function(n){e[eFt(n)]=t[n]}),e},PC=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:s}=t;if(!e)return;const r="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",i=n&&n*3,l=s&&s*2;n&&!e.hasOwnProperty(a)&&(e[a]=i,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${i}).`})),i&&e[a]<i&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${e[a]}) to targetDuration * 3 (${i})`}),e[a]=i),s&&!e.hasOwnProperty(o)&&(e[o]=s*3,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[o]}).`})),s&&e[o]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${e[o]}) to partTargetDuration * 2 (${l}).`}),e[o]=l)};class tFt extends KA{constructor(){super(),this.lineStream=new YMt,this.parseStream=new JMt,this.lineStream.pipe(this.parseStream);const e=this,n=[];let s={},r,a,o=!1;const i=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let c=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let d=0,h=0;const f={};this.on("end",()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&r&&(s.map=r),!s.key&&a&&(s.key=a),!s.timeline&&typeof c=="number"&&(s.timeline=c),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(p){let m,y;({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const v={};"length"in p&&(s.byterange=v,v.length=p.length,"offset"in p||(p.offset=d)),"offset"in p&&(s.byterange=v,v.offset=p.offset),d=v.offset+v.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.duration>0&&(s.duration=p.duration),p.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){a=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:rJ(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(a.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,c=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){r={},p.uri&&(r.uri=p.uri),p.byterange&&(r.byterange=p.byterange),a&&(r.key=a)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),dd(s.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const v=this.manifest.mediaGroups[p.attributes.TYPE];v[p.attributes["GROUP-ID"]]=v[p.attributes["GROUP-ID"]]||{},m=v[p.attributes["GROUP-ID"]],y={default:/yes/i.test(p.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(y.language=p.attributes.LANGUAGE),p.attributes.URI&&(y.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(y.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(y.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(y.forced=/yes/i.test(p.attributes.FORCED)),m[p.attributes.NAME]=y},discontinuity(){c+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),s.dateTimeString=p.dateTimeString,s.dateTimeObject=p.dateTimeObject},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,PC.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){s.cueOut=p.data},"cue-out-cont"(){s.cueOutCont=p.data},"cue-in"(){s.cueIn=p.data},skip(){this.manifest.skip=Vd(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const v=this.manifest.segments.length,b=Vd(p.attributes);s.parts=s.parts||[],s.parts.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=h),h=b.byterange.offset+b.byterange.length);const w=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${w} for segment #${v}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((_,C)=>{_.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${C} lacks required attribute(s): LAST-PART`})})},"server-control"(){const v=this.manifest.serverControl=Vd(p.attributes);v.hasOwnProperty("canBlockReload")||(v.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),PC.call(this,this.manifest),v.canSkipDateranges&&!v.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const v=this.manifest.segments.length,b=Vd(p.attributes),w=b.type&&b.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=w?h:0,w&&(h=b.byterange.offset+b.byterange.length)));const _=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${_} for segment #${v}`,p.attributes,["TYPE","URI"]),!!b.type)for(let C=0;C<s.preloadHints.length-1;C++){const x=s.preloadHints[C];x.type&&x.type===b.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${_} for segment #${v} has the same TYPE ${b.type} as preload hint #${C}`})}},"rendition-report"(){const v=Vd(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(v);const b=this.manifest.renditionReports.length-1,w=["LAST-MSN","URI"];o&&w.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${b}`,p.attributes,w)},"part-inf"(){this.manifest.partInf=Vd(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),PC.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(Vd(p.attributes));const v=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${v}`,p.attributes,["ID","START-DATE"]);const b=this.manifest.daterange[v];b.endDate&&b.startDate&&new Date(b.endDate)<new Date(b.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),b.duration&&b.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),b.plannedDuration&&b.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const w=!!b.endOnNext;if(w&&!b.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),w&&(b.duration||b.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),b.duration&&b.endDate){const _=b.startDate,C=_.setSeconds(_.getSeconds()+b.duration);this.manifest.daterange[v].endDate=new Date(C)}if(b&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),!f[b.id])f[b.id]=b;else for(const _ in f[b.id])if(f[b.id][_]!==b[_]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}},"independent-segments"(){this.manifest.independentSegments=!0}}[p.tagType]||i).call(e)},uri(){s.uri=p.uri,n.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),a&&(s.key=a),s.timeline=c,r&&(s.map=r),h=0,s={}},comment(){},custom(){p.segment?(s.custom=s.custom||{},s.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(e)})}warnOnMissingAttributes_(e,n,s){const r=[];s.forEach(function(a){n.hasOwnProperty(a)||r.push(a)}),r.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${r.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Sh={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},nFt=["video","audio","text"],HM=["Video","Audio","Text"],aJ=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(n,s,r){var a=("00"+Number(s).toString(16)).slice(-2),o=("00"+Number(r).toString(16)).slice(-2);return"avc1."+a+"00"+o})},Tl=function(e){e===void 0&&(e="");var n=e.split(","),s=[];return n.forEach(function(r){r=r.trim();var a;nFt.forEach(function(o){var i=Sh[o].exec(r.toLowerCase());if(!(!i||i.length<=1)){a=o;var l=r.substring(0,i[1].length),u=r.replace(l,"");s.push({type:l,details:u,mediaType:o})}}),a||s.push({type:r,details:"",mediaType:"unknown"})}),s},sFt=function(e,n){if(!e.mediaGroups.AUDIO||!n)return null;var s=e.mediaGroups.AUDIO[n];if(!s)return null;for(var r in s){var a=s[r];if(a.default&&a.playlists)return Tl(a.playlists[0].attributes.CODECS)}return null},oJ=function(e){return e===void 0&&(e=""),Sh.audio.test(e.trim().toLowerCase())},rFt=function(e){return e===void 0&&(e=""),Sh.text.test(e.trim().toLowerCase())},L1=function(e){if(!(!e||typeof e!="string")){var n=e.toLowerCase().split(",").map(function(a){return aJ(a.trim())}),s="video";n.length===1&&oJ(n[0])?s="audio":n.length===1&&rFt(n[0])&&(s="application");var r="mp4";return n.every(function(a){return Sh.mp4.test(a)})?r="mp4":n.every(function(a){return Sh.webm.test(a)})?r="webm":n.every(function(a){return Sh.ogg.test(a)})&&(r="ogg"),s+"/"+r+';codecs="'+e+'"'}},K_=function(e){return e===void 0&&(e=""),Te.MediaSource&&Te.MediaSource.isTypeSupported&&Te.MediaSource.isTypeSupported(L1(e))||!1},MC=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(n){n=n.trim();for(var s=0;s<HM.length;s++){var r=HM[s];if(Sh["muxer"+r].test(n))return!0}return!1})},UM="mp4a.40.2",aFt="avc1.4d400d",oFt=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,iFt=/^application\/dash\+xml/i,iJ=function(e){return oFt.test(e)?"hls":iFt.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},lFt=function(e){return e.toString(2).length},uFt=function(e){return Math.ceil(lFt(e)/8)},lJ=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},cFt=function(e){return lJ(e)},dn=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!cFt(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},ca=Te.BigInt||Number,Ak=[ca("0x1"),ca("0x100"),ca("0x10000"),ca("0x1000000"),ca("0x100000000"),ca("0x10000000000"),ca("0x1000000000000"),ca("0x100000000000000"),ca("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var dFt=function(e,n){var s=n===void 0?{}:n,r=s.signed,a=r===void 0?!1:r,o=s.le,i=o===void 0?!1:o;e=dn(e);var l=i?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(h,f,p){var m=i?p:Math.abs(p+1-e.length);return h+ca(f)*Ak[m]},ca(0));if(a){var d=Ak[e.length]/ca(2)-ca(1);c=ca(c),c>d&&(c-=d,c-=d,c-=ca(2))}return Number(c)},hFt=function(e,n){var s=n===void 0?{}:n,r=s.le,a=r===void 0?!1:r;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=ca(e);for(var o=uFt(e),i=new Uint8Array(new ArrayBuffer(o)),l=0;l<o;l++){var u=a?l:Math.abs(l+1-i.length);i[u]=Number(e/Ak[l]&ca(255)),e<0&&(i[u]=Math.abs(~i[u]),i[u]-=l===0?1:2)}return i},uJ=function(e,n){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;n||(e=unescape(encodeURIComponent(e)));for(var s=new Uint8Array(e.length),r=0;r<e.length;r++)s[r]=e.charCodeAt(r);return s},fFt=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];if(n=n.filter(function(i){return i&&(i.byteLength||i.length)&&typeof i!="string"}),n.length<=1)return dn(n[0]);var r=n.reduce(function(i,l,u){return i+(l.byteLength||l.length)},0),a=new Uint8Array(r),o=0;return n.forEach(function(i){i=dn(i),a.set(i,o),o+=i.byteLength}),a},Hs=function(e,n,s){var r=s===void 0?{}:s,a=r.offset,o=a===void 0?0:a,i=r.mask,l=i===void 0?[]:i;e=dn(e),n=dn(n);var u=n.every?n.every:Array.prototype.every;return n.length&&e.length-o>=n.length&&u.call(n,function(c,d){var h=l[d]?l[d]&e[o+d]:e[o+d];return c===h})},WM="http://example.com",XA=function(e,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(e)&&(e=Te.location&&Te.location.href||"");var s=typeof Te.URL=="function",r=/^\/\//.test(e),a=!Te.location&&!/\/\//i.test(e);if(s?e=new Te.URL(e,Te.location||WM):/\/\//i.test(e)||(e=a4.buildAbsoluteURL(Te.location&&Te.location.href||"",e)),s){var o=new URL(n,e);return a?o.href.slice(WM.length):r?o.href.slice(o.protocol.length):o.href}return a4.buildAbsoluteURL(e,n)},pFt=function(e,n,s){n.forEach(function(r){for(var a in e.mediaGroups[r])for(var o in e.mediaGroups[r][a]){var i=e.mediaGroups[r][a][o];s(i,r,a,o)}})},Nd={},hc={};function mFt(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var s=0;s<t.length;s++)if(Object.prototype.hasOwnProperty.call(t,s)){var r=t[s];if(e.call(void 0,r,s,t))return r}}function YA(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function gFt(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var cJ=YA({HTML:"text/html",isHTML:function(t){return t===cJ.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),dJ=YA({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===dJ.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});hc.assign=gFt;hc.find=mFt;hc.freeze=YA;hc.MIME_TYPE=cJ;hc.NAMESPACE=dJ;var hJ=hc,jl=hJ.find,P1=hJ.NAMESPACE;function vFt(t){return t!==""}function yFt(t){return t?t.split(/[\t\n\f\r ]+/).filter(vFt):[]}function bFt(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function jM(t){if(!t)return[];var e=yFt(t);return Object.keys(e.reduce(bFt,{}))}function _Ft(t){return function(e){return t&&t.indexOf(e)!==-1}}function Zy(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function Ao(t,e){var n=t.prototype;if(!(n instanceof e)){let s=function(){};s.prototype=e.prototype,s=new s,Zy(n,s),t.prototype=n=s}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var Do={},al=Do.ELEMENT_NODE=1,b0=Do.ATTRIBUTE_NODE=2,o4=Do.TEXT_NODE=3,fJ=Do.CDATA_SECTION_NODE=4,pJ=Do.ENTITY_REFERENCE_NODE=5,wFt=Do.ENTITY_NODE=6,mJ=Do.PROCESSING_INSTRUCTION_NODE=7,gJ=Do.COMMENT_NODE=8,vJ=Do.DOCUMENT_NODE=9,yJ=Do.DOCUMENT_TYPE_NODE=10,Ku=Do.DOCUMENT_FRAGMENT_NODE=11,xFt=Do.NOTATION_NODE=12,Ra={},na={};Ra.INDEX_SIZE_ERR=(na[1]="Index size error",1);Ra.DOMSTRING_SIZE_ERR=(na[2]="DOMString size error",2);var po=Ra.HIERARCHY_REQUEST_ERR=(na[3]="Hierarchy request error",3);Ra.WRONG_DOCUMENT_ERR=(na[4]="Wrong document",4);Ra.INVALID_CHARACTER_ERR=(na[5]="Invalid character",5);Ra.NO_DATA_ALLOWED_ERR=(na[6]="No data allowed",6);Ra.NO_MODIFICATION_ALLOWED_ERR=(na[7]="No modification allowed",7);var bJ=Ra.NOT_FOUND_ERR=(na[8]="Not found",8);Ra.NOT_SUPPORTED_ERR=(na[9]="Not supported",9);var GM=Ra.INUSE_ATTRIBUTE_ERR=(na[10]="Attribute in use",10);Ra.INVALID_STATE_ERR=(na[11]="Invalid state",11);Ra.SYNTAX_ERR=(na[12]="Syntax error",12);Ra.INVALID_MODIFICATION_ERR=(na[13]="Invalid modification",13);Ra.NAMESPACE_ERR=(na[14]="Invalid namespace",14);Ra.INVALID_ACCESS_ERR=(na[15]="Invalid access",15);function pr(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,na[t]),this.message=na[t],Error.captureStackTrace&&Error.captureStackTrace(this,pr);return n.code=t,e&&(this.message=this.message+": "+e),n}pr.prototype=Error.prototype;Zy(Ra,pr);function Du(){}Du.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],s=0;s<this.length;s++)vp(this[s],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function _0(t,e){this._node=t,this._refresh=e,QA(this)}function QA(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(AJ(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var s=n.length;s in t;s++)Object.prototype.hasOwnProperty.call(t,s)&&delete t[s];Zy(n,t),t._inc=e}}_0.prototype.item=function(t){return QA(this),this[t]||null};Ao(_0,Du);function i4(){}function _J(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function qM(t,e,n,s){if(s?e[_J(e,s)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(s&&CJ(r,t,s),CFt(r,t,n))}}function KM(t,e,n){var s=_J(e,n);if(s>=0){for(var r=e.length-1;s<r;)e[s]=e[++s];if(e.length=r,t){var a=t.ownerDocument;a&&(CJ(a,t,n),n.ownerElement=null)}}else throw new pr(bJ,new Error(t.tagName+"@"+n))}i4.prototype={length:0,item:Du.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new pr(GM);var n=this.getNamedItem(t.nodeName);return qM(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new pr(GM);return n=this.getNamedItemNS(t.namespaceURI,t.localName),qM(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return KM(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return KM(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var s=this[n];if(s.localName==e&&s.namespaceURI==t)return s}return null}};function wJ(){}wJ.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var s=new Jy;if(s.implementation=this,s.childNodes=new Du,s.doctype=n||null,n&&s.appendChild(n),e){var r=s.createElementNS(t,e);s.appendChild(r)}return s},createDocumentType:function(t,e,n){var s=new qx;return s.name=t,s.nodeName=t,s.publicId=e||"",s.systemId=n||"",s}};function ls(){}ls.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return l4(this,t,e)},replaceChild:function(t,e){l4(this,t,e,TJ),e&&this.removeChild(e)},removeChild:function(t){return SJ(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Dk(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==o4&&t.nodeType==o4?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&n[s]===t)return s}e=e.nodeType==b0?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==b0?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function xJ(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Zy(Do,ls);Zy(Do,ls.prototype);function M1(t,e){if(e(t))return!0;if(t=t.firstChild)do if(M1(t,e))return!0;while(t=t.nextSibling)}function Jy(){this.ownerDocument=this}function CFt(t,e,n){t&&t._inc++;var s=n.namespaceURI;s===P1.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function CJ(t,e,n,s){t&&t._inc++;var r=n.namespaceURI;r===P1.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function ZA(t,e,n){if(t&&t._inc){t._inc++;var s=e.childNodes;if(n)s[s.length++]=n;else{for(var r=e.firstChild,a=0;r;)s[a++]=r,r=r.nextSibling;s.length=a,delete s[s.length]}}}function SJ(t,e){var n=e.previousSibling,s=e.nextSibling;return n?n.nextSibling=s:t.firstChild=s,s?s.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,ZA(t.ownerDocument,t),e}function SFt(t){return t&&(t.nodeType===ls.DOCUMENT_NODE||t.nodeType===ls.DOCUMENT_FRAGMENT_NODE||t.nodeType===ls.ELEMENT_NODE)}function TFt(t){return t&&(Gl(t)||JA(t)||Xu(t)||t.nodeType===ls.DOCUMENT_FRAGMENT_NODE||t.nodeType===ls.COMMENT_NODE||t.nodeType===ls.PROCESSING_INSTRUCTION_NODE)}function Xu(t){return t&&t.nodeType===ls.DOCUMENT_TYPE_NODE}function Gl(t){return t&&t.nodeType===ls.ELEMENT_NODE}function JA(t){return t&&t.nodeType===ls.TEXT_NODE}function XM(t,e){var n=t.childNodes||[];if(jl(n,Gl)||Xu(e))return!1;var s=jl(n,Xu);return!(e&&s&&n.indexOf(s)>n.indexOf(e))}function YM(t,e){var n=t.childNodes||[];function s(a){return Gl(a)&&a!==e}if(jl(n,s))return!1;var r=jl(n,Xu);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function kFt(t,e,n){if(!SFt(t))throw new pr(po,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new pr(bJ,"child not in parent");if(!TFt(e)||Xu(e)&&t.nodeType!==ls.DOCUMENT_NODE)throw new pr(po,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function $Ft(t,e,n){var s=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===ls.DOCUMENT_FRAGMENT_NODE){var a=r.filter(Gl);if(a.length>1||jl(r,JA))throw new pr(po,"More than one element or text in fragment");if(a.length===1&&!XM(t,n))throw new pr(po,"Element in fragment can not be inserted before doctype")}if(Gl(e)&&!XM(t,n))throw new pr(po,"Only one element can be added and only after doctype");if(Xu(e)){if(jl(s,Xu))throw new pr(po,"Only one doctype is allowed");var o=jl(s,Gl);if(n&&s.indexOf(o)<s.indexOf(n))throw new pr(po,"Doctype can only be inserted before an element");if(!n&&o)throw new pr(po,"Doctype can not be appended since element is present")}}function TJ(t,e,n){var s=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===ls.DOCUMENT_FRAGMENT_NODE){var a=r.filter(Gl);if(a.length>1||jl(r,JA))throw new pr(po,"More than one element or text in fragment");if(a.length===1&&!YM(t,n))throw new pr(po,"Element in fragment can not be inserted before doctype")}if(Gl(e)&&!YM(t,n))throw new pr(po,"Only one element can be added and only after doctype");if(Xu(e)){if(jl(s,function(l){return Xu(l)&&l!==n}))throw new pr(po,"Only one doctype is allowed");var o=jl(s,Gl);if(n&&s.indexOf(o)<s.indexOf(n))throw new pr(po,"Doctype can only be inserted before an element")}}function l4(t,e,n,s){kFt(t,e,n),t.nodeType===ls.DOCUMENT_NODE&&(s||$Ft)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===Ku){var a=e.firstChild;if(a==null)return e;var o=e.lastChild}else a=o=e;var i=n?n.previousSibling:t.lastChild;a.previousSibling=i,o.nextSibling=n,i?i.nextSibling=a:t.firstChild=a,n==null?t.lastChild=o:n.previousSibling=o;do a.parentNode=t;while(a!==o&&(a=a.nextSibling));return ZA(t.ownerDocument||t,t),e.nodeType==Ku&&(e.firstChild=e.lastChild=null),e}function EFt(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,ZA(t.ownerDocument,t,e),e}Jy.prototype={nodeName:"#document",nodeType:vJ,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Ku){for(var n=t.firstChild;n;){var s=n.nextSibling;this.insertBefore(n,e),n=s}return t}return l4(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===al&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),SJ(this,t)},replaceChild:function(t,e){l4(this,t,e,TJ),t.ownerDocument=this,e&&this.removeChild(e),Gl(t)&&(this.documentElement=t)},importNode:function(t,e){return NJ(this,t,e)},getElementById:function(t){var e=null;return M1(this.documentElement,function(n){if(n.nodeType==al&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=jM(t);return new _0(this,function(n){var s=[];return e.length>0&&M1(n.documentElement,function(r){if(r!==n&&r.nodeType===al){var a=r.getAttribute("class");if(a){var o=t===a;if(!o){var i=jM(a);o=e.every(_Ft(i))}o&&s.push(r)}}}),s})},createElement:function(t){var e=new tf;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new Du;var n=e.attributes=new i4;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new Kx;return t.ownerDocument=this,t.childNodes=new Du,t},createTextNode:function(t){var e=new eD;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new tD;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new nD;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new rD;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new u4;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new sD;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new tf,s=e.split(":"),r=n.attributes=new i4;return n.childNodes=new Du,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,s.length==2?(n.prefix=s[0],n.localName=s[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new u4,s=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,s.length==2?(n.prefix=s[0],n.localName=s[1]):n.localName=e,n}};Ao(Jy,ls);function tf(){this._nsMap={}}tf.prototype={nodeType:al,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Ku?this.insertBefore(t,null):EFt(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var s=this.ownerDocument.createAttributeNS(t,e);s.value=s.nodeValue=""+n,this.setAttributeNode(s)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new _0(this,function(e){var n=[];return M1(e,function(s){s!==e&&s.nodeType==al&&(t==="*"||s.tagName==t)&&n.push(s)}),n})},getElementsByTagNameNS:function(t,e){return new _0(this,function(n){var s=[];return M1(n,function(r){r!==n&&r.nodeType===al&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&s.push(r)}),s})}};Jy.prototype.getElementsByTagName=tf.prototype.getElementsByTagName;Jy.prototype.getElementsByTagNameNS=tf.prototype.getElementsByTagNameNS;Ao(tf,ls);function u4(){}u4.prototype.nodeType=b0;Ao(u4,ls);function eb(){}eb.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(na[po])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var s=this.data.substring(0,t),r=this.data.substring(t+e);n=s+n+r,this.nodeValue=this.data=n,this.length=n.length}};Ao(eb,ls);function eD(){}eD.prototype={nodeName:"#text",nodeType:o4,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var s=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(s,this.nextSibling),s}};Ao(eD,eb);function tD(){}tD.prototype={nodeName:"#comment",nodeType:gJ};Ao(tD,eb);function nD(){}nD.prototype={nodeName:"#cdata-section",nodeType:fJ};Ao(nD,eb);function qx(){}qx.prototype.nodeType=yJ;Ao(qx,ls);function kJ(){}kJ.prototype.nodeType=xFt;Ao(kJ,ls);function $J(){}$J.prototype.nodeType=wFt;Ao($J,ls);function sD(){}sD.prototype.nodeType=pJ;Ao(sD,ls);function Kx(){}Kx.prototype.nodeName="#document-fragment";Kx.prototype.nodeType=Ku;Ao(Kx,ls);function rD(){}rD.prototype.nodeType=mJ;Ao(rD,ls);function EJ(){}EJ.prototype.serializeToString=function(t,e,n){return IJ.call(t,e,n)};ls.prototype.toString=IJ;function IJ(t,e){var n=[],s=this.nodeType==9&&this.documentElement||this,r=s.prefix,a=s.namespaceURI;if(a&&r==null){var r=s.lookupPrefix(a);if(r==null)var o=[{namespace:a,prefix:null}]}return vp(this,n,t,e,o),n.join("")}function QM(t,e,n){var s=t.prefix||"",r=t.namespaceURI;if(!r||s==="xml"&&r===P1.XML||r===P1.XMLNS)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix===s)return o.namespace!==r}return!0}function FC(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,xJ),'"')}function vp(t,e,n,s,r){if(r||(r=[]),s)if(t=s(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case al:var a=t.attributes,o=a.length,v=t.firstChild,i=t.tagName;n=P1.isHTML(t.namespaceURI)||n;var l=i;if(!n&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<a.length;c++)if(a.item(c).name==="xmlns"){u=a.item(c).value;break}if(!u)for(var d=r.length-1;d>=0;d--){var h=r[d];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var d=r.length-1;d>=0;d--){var h=r[d];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+i);break}}}e.push("<",l);for(var f=0;f<o;f++){var p=a.item(f);p.prefix=="xmlns"?r.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&r.push({prefix:"",namespace:p.value})}for(var f=0;f<o;f++){var p=a.item(f);if(QM(p,n,r)){var m=p.prefix||"",y=p.namespaceURI;FC(e,m?"xmlns:"+m:"xmlns",y),r.push({prefix:m,namespace:y})}vp(p,e,n,s,r)}if(i===l&&QM(t,n,r)){var m=t.prefix||"",y=t.namespaceURI;FC(e,m?"xmlns:"+m:"xmlns",y),r.push({prefix:m,namespace:y})}if(v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(i)){if(e.push(">"),n&&/^script$/i.test(i))for(;v;)v.data?e.push(v.data):vp(v,e,n,s,r.slice()),v=v.nextSibling;else for(;v;)vp(v,e,n,s,r.slice()),v=v.nextSibling;e.push("</",l,">")}else e.push("/>");return;case vJ:case Ku:for(var v=t.firstChild;v;)vp(v,e,n,s,r.slice()),v=v.nextSibling;return;case b0:return FC(e,t.name,t.value);case o4:return e.push(t.data.replace(/[<&>]/g,xJ));case fJ:return e.push("<![CDATA[",t.data,"]]>");case gJ:return e.push("<!--",t.data,"-->");case yJ:var b=t.publicId,w=t.systemId;if(e.push("<!DOCTYPE ",t.name),b)e.push(" PUBLIC ",b),w&&w!="."&&e.push(" ",w),e.push(">");else if(w&&w!=".")e.push(" SYSTEM ",w,">");else{var _=t.internalSubset;_&&e.push(" [",_,"]"),e.push(">")}return;case mJ:return e.push("<?",t.target," ",t.data,"?>");case pJ:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function NJ(t,e,n){var s;switch(e.nodeType){case al:s=e.cloneNode(!1),s.ownerDocument=t;case Ku:break;case b0:n=!0;break}if(s||(s=e.cloneNode(!1)),s.ownerDocument=t,s.parentNode=null,n)for(var r=e.firstChild;r;)s.appendChild(NJ(t,r,n)),r=r.nextSibling;return s}function Dk(t,e,n){var s=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];typeof a!="object"&&a!=s[r]&&(s[r]=a)}switch(e.childNodes&&(s.childNodes=new Du),s.ownerDocument=t,s.nodeType){case al:var o=e.attributes,i=s.attributes=new i4,l=o.length;i._ownerElement=s;for(var u=0;u<l;u++)s.setAttributeNode(Dk(t,o.item(u),!0));break;case b0:n=!0}if(n)for(var c=e.firstChild;c;)s.appendChild(Dk(t,c,n)),c=c.nextSibling;return s}function AJ(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case al:case Ku:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(_0.prototype,"length",{get:function(){return QA(this),this.$$length}}),Object.defineProperty(ls.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case al:case Ku:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),AJ=function(e,n,s){e["$$"+n]=s}}}catch{}Nd.DocumentType=qx;Nd.DOMException=pr;Nd.DOMImplementation=wJ;Nd.Element=tf;Nd.Node=ls;Nd.NodeList=Du;Nd.XMLSerializer=EJ;var Xx={},DJ={};(function(t){var e=hc.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(DJ);var aD={},F1=hc.NAMESPACE,Ok=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,ZM=new RegExp("[\\-\\.0-9"+Ok.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),JM=new RegExp("^"+Ok.source+ZM.source+"*(?::"+Ok.source+ZM.source+"*)?$"),Ug=0,_c=1,Qf=2,Wg=3,Zf=4,Jf=5,jg=6,l_=7;function w0(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,w0)}w0.prototype=new Error;w0.prototype.name=w0.name;function OJ(){}OJ.prototype={parse:function(t,e,n){var s=this.domBuilder;s.startDocument(),RJ(e,e={}),IFt(t,e,n,s,this.errorHandler),s.endDocument()}};function IFt(t,e,n,s,r){function a(R){if(R>65535){R-=65536;var W=55296+(R>>10),G=56320+(R&1023);return String.fromCharCode(W,G)}else return String.fromCharCode(R)}function o(R){var W=R.slice(1,-1);return Object.hasOwnProperty.call(n,W)?n[W]:W.charAt(0)==="#"?a(parseInt(W.substr(1).replace("x","0x"))):(r.error("entity not found:"+R),R)}function i(R){if(R>m){var W=t.substring(m,R).replace(/&#?\w+;/g,o);h&&l(m),s.characters(W,0,R-m),m=R}}function l(R,W){for(;R>=c&&(W=d.exec(t));)u=W.index,c=u+W[0].length,h.lineNumber++;h.columnNumber=R-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,h=s.locator,f=[{currentNSMap:e}],p={},m=0;;){try{var y=t.indexOf("<",m);if(y<0){if(!t.substr(m).match(/^\s*$/)){var v=s.doc,b=v.createTextNode(t.substr(m));v.appendChild(b),s.currentElement=b}return}switch(y>m&&i(y),t.charAt(y+1)){case"/":var L=t.indexOf(">",y+3),w=t.substring(y+2,L).replace(/[ \t\n\r]+$/g,""),_=f.pop();L<0?(w=t.substring(y+2).replace(/[\s<].*/,""),r.error("end tag name: "+w+" is not complete:"+_.tagName),L=y+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),r.error("end tag name: "+w+" maybe not complete"),L=y+1+w.length);var C=_.localNSMap,x=_.tagName==w,T=x||_.tagName&&_.tagName.toLowerCase()==w.toLowerCase();if(T){if(s.endElement(_.uri,_.localName,w),C)for(var k in C)Object.prototype.hasOwnProperty.call(C,k)&&s.endPrefixMapping(k);x||r.fatalError("end tag name: "+w+" is not match the current start tagName:"+_.tagName)}else f.push(_);L++;break;case"?":h&&l(y),L=RFt(t,y,s);break;case"!":h&&l(y),L=OFt(t,y,s,r);break;default:h&&l(y);var N=new LJ,O=f[f.length-1].currentNSMap,L=NFt(t,y,N,O,o,r),V=N.length;if(!N.closed&&DFt(t,L,N.tagName,p)&&(N.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),h&&V){for(var H=eF(h,{}),K=0;K<V;K++){var U=N[K];l(U.offset),U.locator=eF(h,{})}s.locator=H,tF(N,s,O)&&f.push(N),s.locator=h}else tF(N,s,O)&&f.push(N);F1.isHTML(N.uri)&&!N.closed?L=AFt(t,L,N.tagName,o,s):L++}}catch(R){if(R instanceof w0)throw R;r.error("element parse error: "+R),L=-1}L>m?m=L:i(Math.max(y,m)+1)}}function eF(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function NFt(t,e,n,s,r,a){function o(h,f,p){n.attributeNames.hasOwnProperty(h)&&a.fatalError("Attribute "+h+" redefined"),n.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),p)}for(var i,l,u=++e,c=Ug;;){var d=t.charAt(u);switch(d){case"=":if(c===_c)i=t.slice(e,u),c=Wg;else if(c===Qf)c=Wg;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===Wg||c===_c)if(c===_c&&(a.warning('attribute value must after "="'),i=t.slice(e,u)),e=u+1,u=t.indexOf(d,e),u>0)l=t.slice(e,u),o(i,l,e-1),c=Jf;else throw new Error("attribute value no end '"+d+"' match");else if(c==Zf)l=t.slice(e,u),o(i,l,e),a.warning('attribute "'+i+'" missed start quot('+d+")!!"),e=u+1,c=Jf;else throw new Error('attribute value must after "="');break;case"/":switch(c){case Ug:n.setTagName(t.slice(e,u));case Jf:case jg:case l_:c=l_,n.closed=!0;case Zf:case _c:break;case Qf:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==Ug&&n.setTagName(t.slice(e,u)),u;case">":switch(c){case Ug:n.setTagName(t.slice(e,u));case Jf:case jg:case l_:break;case Zf:case _c:l=t.slice(e,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case Qf:c===Qf&&(l=i),c==Zf?(a.warning('attribute "'+l+'" missed quot(")!'),o(i,l,e)):((!F1.isHTML(s[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),o(l,l,e));break;case Wg:throw new Error("attribute value missed!!")}return u;case"":d=" ";default:if(d<=" ")switch(c){case Ug:n.setTagName(t.slice(e,u)),c=jg;break;case _c:i=t.slice(e,u),c=Qf;break;case Zf:var l=t.slice(e,u);a.warning('attribute "'+l+'" missed quot(")!!'),o(i,l,e);case Jf:c=jg;break}else switch(c){case Qf:n.tagName,(!F1.isHTML(s[""])||!i.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+i+'" missed value!! "'+i+'" instead2!!'),o(i,i,e),e=u,c=_c;break;case Jf:a.warning('attribute space is required"'+i+'"!!');case jg:c=_c,e=u;break;case Wg:c=Zf,e=u;break;case l_:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function tF(t,e,n){for(var s=t.tagName,r=null,d=t.length;d--;){var a=t[d],o=a.qName,i=a.value,h=o.indexOf(":");if(h>0)var l=a.prefix=o.slice(0,h),u=o.slice(h+1),c=l==="xmlns"&&u;else u=o,l=null,c=o==="xmlns"&&"";a.localName=u,c!==!1&&(r==null&&(r={},RJ(n,n={})),n[c]=r[c]=i,a.uri=F1.XMLNS,e.startPrefixMapping(c,i))}for(var d=t.length;d--;){a=t[d];var l=a.prefix;l&&(l==="xml"&&(a.uri=F1.XML),l!=="xmlns"&&(a.uri=n[l||""]))}var h=s.indexOf(":");h>0?(l=t.prefix=s.slice(0,h),u=t.localName=s.slice(h+1)):(l=null,u=t.localName=s);var f=t.uri=n[l||""];if(e.startElement(f,u,s,t),t.closed){if(e.endElement(f,u,s),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=n,t.localNSMap=r,!0}function AFt(t,e,n,s,r){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),o=t.substring(e+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(r.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,s),r.characters(o,0,o.length),a)}return e+1}function DFt(t,e,n,s){var r=s[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),s[n]=r),r<e}function RJ(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function OFt(t,e,n,s){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(n.comment(t,e+4,a-e-4),a+3):(s.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var o=LFt(t,e),i=o.length;if(i>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],u=!1,c=!1;i>3&&(/^public$/i.test(o[2][0])?(u=o[3][0],c=i>4&&o[4][0]):/^system$/i.test(o[2][0])&&(c=o[3][0]));var d=o[i-1];return n.startDTD(l,u,c),n.endDTD(),d.index+d[0].length}}return-1}function RFt(t,e,n){var s=t.indexOf("?>",e);if(s){var r=t.substring(e,s).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),s+2):-1}return-1}function LJ(){this.attributeNames={}}LJ.prototype={setTagName:function(t){if(!JM.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!JM.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function LFt(t,e){var n,s=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(s.push(n),n[1])return s}aD.XMLReader=OJ;aD.ParseError=w0;var PFt=hc,MFt=Nd,nF=DJ,PJ=aD,FFt=MFt.DOMImplementation,sF=PFt.NAMESPACE,BFt=PJ.ParseError,zFt=PJ.XMLReader;function MJ(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function FJ(t){this.options=t||{locator:{}}}FJ.prototype.parseFromString=function(t,e){var n=this.options,s=new zFt,r=n.domBuilder||new tb,a=n.errorHandler,o=n.locator,i=n.xmlns||{},l=/\/x?html?$/.test(e),u=l?nF.HTML_ENTITIES:nF.XML_ENTITIES;o&&r.setDocumentLocator(o),s.errorHandler=VFt(a,r,o),s.domBuilder=n.domBuilder||r,l&&(i[""]=sF.HTML),i.xml=i.xml||sF.XML;var c=n.normalizeLineEndings||MJ;return t&&typeof t=="string"?s.parse(c(t),i,u):s.errorHandler.error("invalid doc source"),r.doc};function VFt(t,e,n){if(!t){if(e instanceof tb)return e;t=e}var s={},r=t instanceof Function;n=n||{};function a(o){var i=t[o];!i&&r&&(i=t.length==2?function(l){t(o,l)}:t),s[o]=i&&function(l){i("[xmldom "+o+"]	"+l+Rk(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),s}function tb(){this.cdata=!1}function ep(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}tb.prototype={startDocument:function(){this.doc=new FFt().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,s){var r=this.doc,a=r.createElementNS(t,n||e),o=s.length;u_(this,a),this.currentElement=a,this.locator&&ep(this.locator,a);for(var i=0;i<o;i++){var t=s.getURI(i),l=s.getValue(i),n=s.getQName(i),u=r.createAttributeNS(t,n);this.locator&&ep(s.getLocator(i),u),u.value=u.nodeValue=l,a.setAttributeNode(u)}},endElement:function(t,e,n){var s=this.currentElement;s.tagName,this.currentElement=s.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&ep(this.locator,n),u_(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=rF.apply(this,arguments),t){if(this.cdata)var s=this.doc.createCDATASection(t);else var s=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(s):/^\s*$/.test(t)&&this.doc.appendChild(s),this.locator&&ep(this.locator,s)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=rF.apply(this,arguments);var s=this.doc.createComment(t);this.locator&&ep(this.locator,s),u_(this,s)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var s=this.doc.implementation;if(s&&s.createDocumentType){var r=s.createDocumentType(t,e,n);this.locator&&ep(this.locator,r),u_(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,Rk(this.locator))},error:function(t){console.error("[xmldom error]	"+t,Rk(this.locator))},fatalError:function(t){throw new BFt(t,this.locator)}};function Rk(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function rF(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){tb.prototype[t]=function(){return null}});function u_(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Xx.__DOMHandler=tb;Xx.normalizeLineEndings=MJ;Xx.DOMParser=FJ;var HFt=Xx.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const aF=t=>!!t&&typeof t=="object",Qr=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(s=>{Array.isArray(e[s])&&Array.isArray(n[s])?e[s]=e[s].concat(n[s]):aF(e[s])&&aF(n[s])?e[s]=Qr(e[s],n[s]):e[s]=n[s]}),e),{}),BJ=t=>Object.keys(t).map(e=>t[e]),UFt=(t,e)=>{const n=[];for(let s=t;s<e;s++)n.push(s);return n},x0=t=>t.reduce((e,n)=>e.concat(n),[]),zJ=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},WFt=(t,e)=>t.reduce((n,s,r)=>(s[e]&&n.push(r),n),[]),jFt=(t,e)=>BJ(t.reduce((n,s)=>(s.forEach(r=>{n[e(r)]=r}),n),{}));var C0={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",INVALID_NUMBER_OF_CONTENT_STEERING:"INVALID_NUMBER_OF_CONTENT_STEERING",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const B1=({baseUrl:t="",source:e="",range:n="",indexRange:s=""})=>{const r={uri:e,resolvedUri:XA(t||"",e)};if(n||s){const o=(n||s).split("-");let i=Te.BigInt?Te.BigInt(o[0]):parseInt(o[0],10),l=Te.BigInt?Te.BigInt(o[1]):parseInt(o[1],10);i<Number.MAX_SAFE_INTEGER&&typeof i=="bigint"&&(i=Number(i)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof i=="bigint"?u=Te.BigInt(l)-Te.BigInt(i)+Te.BigInt(1):u=l-i+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),r.byterange={length:u,offset:i}}return r},GFt=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Te.BigInt(t.offset)+Te.BigInt(t.length)-Te.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},oF=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),qFt={static(t){const{duration:e,timescale:n=1,sourceDuration:s,periodDuration:r}=t,a=oF(t.endNumber),o=e/n;return typeof a=="number"?{start:0,end:a}:typeof r=="number"?{start:0,end:r/o}:{start:0,end:s/o}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:s,timescale:r=1,duration:a,periodStart:o=0,minimumUpdatePeriod:i=0,timeShiftBufferDepth:l=1/0}=t,u=oF(t.endNumber),c=(e+n)/1e3,d=s+o,f=c+i-d,p=Math.ceil(f*r/a),m=Math.floor((c-d-l)*r/a),y=Math.floor((c-d)*r/a);return{start:Math.max(0,m),end:typeof u=="number"?u:Math.min(p,y)}}},KFt=t=>e=>{const{duration:n,timescale:s=1,periodStart:r,startNumber:a=1}=t;return{number:a+e,duration:n/s,timeline:r,time:e*n}},oD=t=>{const{type:e,duration:n,timescale:s=1,periodDuration:r,sourceDuration:a}=t,{start:o,end:i}=qFt[e](t),l=UFt(o,i).map(KFt(t));if(e==="static"){const u=l.length-1,c=typeof r=="number"?r:a;l[u].duration=c-n/s*u}return l},VJ=t=>{const{baseUrl:e,initialization:n={},sourceDuration:s,indexRange:r="",periodStart:a,presentationTime:o,number:i=0,duration:l}=t;if(!e)throw new Error(C0.NO_BASE_URL);const u=B1({baseUrl:e,source:n.sourceURL,range:n.range}),c=B1({baseUrl:e,source:e,indexRange:r});if(c.map=u,l){const d=oD(t);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else s&&(c.duration=s,c.timeline=a);return c.presentationTime=o||a,c.number=i,[c]},iD=(t,e,n)=>{const s=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,a=t.timeline||0,o=t.sidx.byterange,i=o.offset+o.length,l=e.timescale,u=e.references.filter(y=>y.referenceType!==1),c=[],d=t.endList?"static":"dynamic",h=t.sidx.timeline;let f=h,p=t.mediaSequence||0,m;typeof e.firstOffset=="bigint"?m=Te.BigInt(i)+e.firstOffset:m=i+e.firstOffset;for(let y=0;y<u.length;y++){const v=e.references[y],b=v.referencedSize,w=v.subsegmentDuration;let _;typeof m=="bigint"?_=m+Te.BigInt(b)-Te.BigInt(1):_=m+b-1;const C=`${m}-${_}`,T=VJ({baseUrl:n,timescale:l,timeline:a,periodStart:h,presentationTime:f,number:p,duration:w,sourceDuration:r,indexRange:C,type:d})[0];s&&(T.map=s),c.push(T),typeof m=="bigint"?m+=Te.BigInt(b):m+=b,f+=w/l,p++}return t.segments=c,t},XFt=["AUDIO","SUBTITLES"],YFt=1/60,HJ=t=>jFt(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),QFt=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},iF=t=>{let e=[];return pFt(t,XFt,(n,s,r,a)=>{e=e.concat(n.playlists||[])}),e},lF=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,s)=>{n.number=t.mediaSequence+s})},ZFt=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(s=>{s.discontinuitySequence=n.findIndex(function({timeline:l}){return l===s.timeline});const r=QFt(t,s.attributes.NAME);if(!r||s.sidx)return;const a=s.segments[0],o=r.segments.findIndex(function(l){return Math.abs(l.presentationTime-a.presentationTime)<YFt});if(o===-1){lF({playlist:s,mediaSequence:r.mediaSequence+r.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!r.segments.length&&s.timeline>r.timeline||r.segments.length&&s.timeline>r.segments[r.segments.length-1].timeline)&&s.discontinuitySequence--;return}r.segments[o].discontinuity&&!a.discontinuity&&(a.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),lF({playlist:s,mediaSequence:r.segments[o].number})})},JFt=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(iF(t)),s=e.playlists.concat(iF(e));return e.timelineStarts=HJ([t.timelineStarts,e.timelineStarts]),ZFt({oldPlaylists:n,newPlaylists:s,timelineStarts:e.timelineStarts}),e},Yx=t=>t&&t.uri+"-"+GFt(t.byterange),BC=t=>{const e=t.reduce(function(s,r){return s[r.attributes.baseUrl]||(s[r.attributes.baseUrl]=[]),s[r.attributes.baseUrl].push(r),s},{});let n=[];return Object.values(e).forEach(s=>{const r=BJ(s.reduce((a,o)=>{const i=o.attributes.id+(o.attributes.lang||"");return a[i]?(o.segments&&(o.segments[0]&&(o.segments[0].discontinuity=!0),a[i].segments.push(...o.segments)),o.attributes.contentProtection&&(a[i].attributes.contentProtection=o.attributes.contentProtection)):(a[i]=o,a[i].attributes.timelineStarts=[]),a[i].attributes.timelineStarts.push({start:o.attributes.periodStart,timeline:o.attributes.periodStart}),a},{}));n=n.concat(r)}),n.map(s=>(s.discontinuityStarts=WFt(s.segments||[],"discontinuity"),s))},lD=(t,e)=>{const n=Yx(t.sidx),s=n&&e[n]&&e[n].sidx;return s&&iD(t,s,t.sidx.resolvedUri),t},eBt=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=lD(t[n],e);return t},tBt=({attributes:t,segments:e,sidx:n,mediaSequence:s,discontinuitySequence:r,discontinuityStarts:a},o)=>{const i={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:r,discontinuityStarts:a,timelineStarts:t.timelineStarts,mediaSequence:s,segments:e};return t.contentProtection&&(i.contentProtection=t.contentProtection),t.serviceLocation&&(i.attributes.serviceLocation=t.serviceLocation),n&&(i.sidx=n),o&&(i.attributes.AUDIO="audio",i.attributes.SUBTITLES="subs"),i},nBt=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:s,discontinuitySequence:r})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const a={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(a.CODECS=t.codecs);const o={attributes:a,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:s,discontinuitySequence:r,mediaSequence:n,segments:e};return t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),o},sBt=(t,e={},n=!1)=>{let s;const r=t.reduce((a,o)=>{const i=o.attributes.role&&o.attributes.role.value||"",l=o.attributes.lang||"";let u=o.attributes.label||"main";if(l&&!o.attributes.label){const d=i?` (${i})`:"";u=`${o.attributes.lang}${d}`}a[u]||(a[u]={language:l,autoselect:!0,default:i==="main",playlists:[],uri:""});const c=lD(tBt(o,n),e);return a[u].playlists.push(c),typeof s>"u"&&i==="main"&&(s=o,s.default=!0),a},{});if(!s){const a=Object.keys(r)[0];r[a].default=!0}return r},rBt=(t,e={})=>t.reduce((n,s)=>{const r=s.attributes.label||s.attributes.lang||"text";return n[r]||(n[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),n[r].playlists.push(lD(nBt(s),e)),n},{}),aBt=t=>t.reduce((e,n)=>(n&&n.forEach(s=>{const{channel:r,language:a}=s;e[a]={autoselect:!1,default:!1,instreamId:r,language:a},s.hasOwnProperty("aspectRatio")&&(e[a].aspectRatio=s.aspectRatio),s.hasOwnProperty("easyReader")&&(e[a].easyReader=s.easyReader),s.hasOwnProperty("3D")&&(e[a]["3D"]=s["3D"])}),e),{}),oBt=({attributes:t,segments:e,sidx:n,discontinuityStarts:s})=>{const r={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:s,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(r.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(r.contentProtection=t.contentProtection),t.serviceLocation&&(r.attributes.serviceLocation=t.serviceLocation),n&&(r.sidx=n),r},iBt=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",lBt=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",uBt=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",cBt=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:s}){return s===n.timeline}),n.segments&&n.segments.forEach((s,r)=>{s.number=r})})},uF=t=>t?Object.keys(t).reduce((e,n)=>{const s=t[n];return e.concat(s.playlists)},[]):[],dBt=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:s={},previousManifest:r,eventStream:a})=>{if(!t.length)return{};const{sourceDuration:o,type:i,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=t[0].attributes,c=BC(t.filter(iBt)).map(oBt),d=BC(t.filter(lBt)),h=BC(t.filter(uBt)),f=t.map(_=>_.attributes.captionServices).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:o,playlists:eBt(c,s)};u>=0&&(p.minimumUpdatePeriod=u*1e3),e&&(p.locations=e),n&&(p.contentSteering=n),i==="dynamic"&&(p.suggestedPresentationDelay=l),a&&a.length>0&&(p.eventStream=a);const m=p.playlists.length===0,y=d.length?sBt(d,s,m):null,v=h.length?rBt(h,s):null,b=c.concat(uF(y),uF(v)),w=b.map(({timelineStarts:_})=>_);return p.timelineStarts=HJ(w),cBt(b,p.timelineStarts),y&&(p.mediaGroups.AUDIO.audio=y),v&&(p.mediaGroups.SUBTITLES.subs=v),f.length&&(p.mediaGroups["CLOSED-CAPTIONS"].cc=aBt(f)),r?JFt({oldManifest:r,newManifest:p}):p},hBt=(t,e,n)=>{const{NOW:s,clientOffset:r,availabilityStartTime:a,timescale:o=1,periodStart:i=0,minimumUpdatePeriod:l=0}=t,u=(s+r)/1e3,c=a+i,h=u+l-c;return Math.ceil((h*o-e)/n)},UJ=(t,e)=>{const{type:n,minimumUpdatePeriod:s=0,media:r="",sourceDuration:a,timescale:o=1,startNumber:i=1,periodStart:l}=t,u=[];let c=-1;for(let d=0;d<e.length;d++){const h=e[d],f=h.d,p=h.r||0,m=h.t||0;c<0&&(c=m),m&&m>c&&(c=m);let y;if(p<0){const w=d+1;w===e.length?n==="dynamic"&&s>0&&r.indexOf("$Number$")>0?y=hBt(t,c,f):y=(a*o-c)/f:y=(e[w].t-c)/f}else y=p+1;const v=i+u.length+y;let b=i+u.length;for(;b<v;)u.push({number:b,duration:f/o,time:c,timeline:l}),c+=f,b++}return u},fBt=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,pBt=t=>(e,n,s,r)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const a=""+t[n];return n==="RepresentationID"||(s?r=parseInt(r,10):r=1,a.length>=r)?a:`${new Array(r-a.length+1).join("0")}${a}`},cF=(t,e)=>t.replace(fBt,pBt(e)),mBt=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?oD(t):UJ(t,e),gBt=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:s={sourceURL:"",range:""}}=t,r=B1({baseUrl:t.baseUrl,source:cF(s.sourceURL,n),range:s.range});return mBt(t,e).map(o=>{n.Number=o.number,n.Time=o.time;const i=cF(t.media||"",n),l=t.timescale||1,u=t.presentationTimeOffset||0,c=t.periodStart+(o.time-u)/l;return{uri:i,timeline:o.timeline,duration:o.duration,resolvedUri:XA(t.baseUrl||"",i),map:r,number:o.number,presentationTime:c}})},vBt=(t,e)=>{const{baseUrl:n,initialization:s={}}=t,r=B1({baseUrl:n,source:s.sourceURL,range:s.range}),a=B1({baseUrl:n,source:e.media,range:e.mediaRange});return a.map=r,a},yBt=(t,e)=>{const{duration:n,segmentUrls:s=[],periodStart:r}=t;if(!n&&!e||n&&e)throw new Error(C0.SEGMENT_TIME_UNSPECIFIED);const a=s.map(l=>vBt(t,l));let o;return n&&(o=oD(t)),e&&(o=UJ(t,e)),o.map((l,u)=>{if(a[u]){const c=a[u],d=t.timescale||1,h=t.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=r+(l.time-h)/d,c}}).filter(l=>l)},bBt=({attributes:t,segmentInfo:e})=>{let n,s;e.template?(s=gBt,n=Qr(t,e.template)):e.base?(s=VJ,n=Qr(t,e.base)):e.list&&(s=yBt,n=Qr(t,e.list));const r={attributes:t};if(!s)return r;const a=s(n,e.segmentTimeline);if(n.duration){const{duration:o,timescale:i=1}=n;n.duration=o/i}else a.length?n.duration=a.reduce((o,i)=>Math.max(o,Math.ceil(i.duration)),0):n.duration=0;return r.attributes=n,r.segments=a,e.base&&n.indexRange&&(r.sidx=a[0],r.segments=[]),r},_Bt=t=>t.map(bBt),js=(t,e)=>zJ(t.childNodes).filter(({tagName:n})=>n===e),nb=t=>t.textContent.trim(),wBt=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),tp=t=>{const i=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!i)return 0;const[l,u,c,d,h,f]=i.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(d||0)*3600+parseFloat(h||0)*60+parseFloat(f||0)},xBt=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),dF={mediaPresentationDuration(t){return tp(t)},availabilityStartTime(t){return xBt(t)/1e3},minimumUpdatePeriod(t){return tp(t)},suggestedPresentationDelay(t){return tp(t)},type(t){return t},timeShiftBufferDepth(t){return tp(t)},start(t){return tp(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return wBt(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?tp(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Cr=t=>t&&t.attributes?zJ(t.attributes).reduce((e,n)=>{const s=dF[n.name]||dF.DEFAULT;return e[n.name]=s(n.value),e},{}):{},CBt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Qx=(t,e)=>e.length?x0(t.map(function(n){return e.map(function(s){const r=nb(s),a=XA(n.baseUrl,r),o=Qr(Cr(s),{baseUrl:a});return a!==r&&!o.serviceLocation&&n.serviceLocation&&(o.serviceLocation=n.serviceLocation),o})})):t,uD=t=>{const e=js(t,"SegmentTemplate")[0],n=js(t,"SegmentList")[0],s=n&&js(n,"SegmentURL").map(d=>Qr({tag:"SegmentURL"},Cr(d))),r=js(t,"SegmentBase")[0],a=n||e,o=a&&js(a,"SegmentTimeline")[0],i=n||r||e,l=i&&js(i,"Initialization")[0],u=e&&Cr(e);u&&l?u.initialization=l&&Cr(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:o&&js(o,"S").map(d=>Cr(d)),list:n&&Qr(Cr(n),{segmentUrls:s,initialization:Cr(l)}),base:r&&Qr(Cr(r),{initialization:Cr(l)})};return Object.keys(c).forEach(d=>{c[d]||delete c[d]}),c},SBt=(t,e,n)=>s=>{const r=js(s,"BaseURL"),a=Qx(e,r),o=Qr(t,Cr(s)),i=uD(s);return a.map(l=>({segmentInfo:Qr(n,i),attributes:Qr(o,l)}))},TBt=t=>t.reduce((e,n)=>{const s=Cr(n);s.schemeIdUri&&(s.schemeIdUri=s.schemeIdUri.toLowerCase());const r=CBt[s.schemeIdUri];if(r){e[r]={attributes:s};const a=js(n,"cenc:pssh")[0];if(a){const o=nb(a);e[r].pssh=o&&rJ(o)}}return e},{}),kBt=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{let s,r;return r=n,/^CC\d=/.test(n)?[s,r]=n.split("="):/^CC\d$/.test(n)&&(s=n),{channel:s,language:r}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(n=>{const s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[r,a=""]=n.split("=");s.channel=r,s.language=n,a.split(",").forEach(o=>{const[i,l]=o.split(":");i==="lang"?s.language=l:i==="er"?s.easyReader=Number(l):i==="war"?s.aspectRatio=Number(l):i==="3D"&&(s["3D"]=Number(l))})}else s.language=n;return s.channel&&(s.channel="SERVICE"+s.channel),s})},$Bt=t=>x0(js(t.node,"EventStream").map(e=>{const n=Cr(e),s=n.schemeIdUri;return js(e,"Event").map(r=>{const a=Cr(r),o=a.presentationTime||0,i=n.timescale||1,l=a.duration||0,u=o/i+t.attributes.start;return{schemeIdUri:s,value:n.value,id:a.id,start:u,end:u+l/i,messageData:nb(r)||a.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),EBt=(t,e,n)=>s=>{const r=Cr(s),a=Qx(e,js(s,"BaseURL")),o=js(s,"Role")[0],i={role:Cr(o)};let l=Qr(t,r,i);const u=js(s,"Accessibility")[0],c=kBt(Cr(u));c&&(l=Qr(l,{captionServices:c}));const d=js(s,"Label")[0];if(d&&d.childNodes.length){const y=d.childNodes[0].nodeValue.trim();l=Qr(l,{label:y})}const h=TBt(js(s,"ContentProtection"));Object.keys(h).length&&(l=Qr(l,{contentProtection:h}));const f=uD(s),p=js(s,"Representation"),m=Qr(n,f);return x0(p.map(SBt(l,a,m)))},IBt=(t,e)=>(n,s)=>{const r=Qx(e,js(n.node,"BaseURL")),a=Qr(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(a.periodDuration=n.attributes.duration);const o=js(n.node,"AdaptationSet"),i=uD(n.node);return x0(o.map(EBt(a,r,i)))},NBt=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Qr({serverURL:nb(t[0])},Cr(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},ABt=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,DBt=(t,e={})=>{const{manifestUri:n="",NOW:s=Date.now(),clientOffset:r=0,eventHandler:a=function(){}}=e,o=js(t,"Period");if(!o.length)throw new Error(C0.INVALID_NUMBER_OF_PERIOD);const i=js(t,"Location"),l=Cr(t),u=Qx([{baseUrl:n}],js(t,"BaseURL")),c=js(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=s,l.clientOffset=r,i.length&&(l.locations=i.map(nb));const d=[];return o.forEach((h,f)=>{const p=Cr(h),m=d[f-1];p.start=ABt({attributes:p,priorPeriodAttributes:m?m.attributes:null,mpdType:l.type}),d.push({node:h,attributes:p})}),{locations:l.locations,contentSteeringInfo:NBt(c,a),representationInfo:x0(d.map(IBt(l,u))),eventStream:x0(d.map($Bt))}},WJ=t=>{if(t==="")throw new Error(C0.DASH_EMPTY_MANIFEST);const e=new HFt;let n,s;try{n=e.parseFromString(t,"application/xml"),s=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!s||s&&s.getElementsByTagName("parsererror").length>0)throw new Error(C0.DASH_INVALID_XML);return s},OBt=t=>{const e=js(t,"UTCTiming")[0];if(!e)return null;const n=Cr(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(C0.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},RBt=(t,e={})=>{const n=DBt(WJ(t),e),s=_Bt(n.representationInfo);return dBt({dashPlaylists:s,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},LBt=t=>OBt(WJ(t));var jJ=Math.pow(2,32),PBt=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*jJ+e.getUint32(4)},MBt={getUint64:PBt,MAX_UINT32:jJ},hF=MBt.getUint64,FBt=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},s=12;n.version===0?(n.earliestPresentationTime=e.getUint32(s),n.firstOffset=e.getUint32(s+4),s+=8):(n.earliestPresentationTime=hF(t.subarray(s)),n.firstOffset=hF(t.subarray(s+8)),s+=16),s+=2;var r=e.getUint16(s);for(s+=2;r>0;s+=12,r--)n.references.push({referenceType:(t[s]&128)>>>7,referencedSize:e.getUint32(s)&2147483647,subsegmentDuration:e.getUint32(s+4),startsWithSap:!!(t[s+8]&128),sapType:(t[s+8]&112)>>>4,sapDeltaTime:e.getUint32(s+8)&268435455});return n},BBt=FBt;const zBt=ra(BBt);var VBt=dn([73,68,51]),HBt=function(e,n){n===void 0&&(n=0),e=dn(e);var s=e[n+5],r=e[n+6]<<21|e[n+7]<<14|e[n+8]<<7|e[n+9],a=(s&16)>>4;return a?r+20:r+10},b2=function t(e,n){return n===void 0&&(n=0),e=dn(e),e.length-n<10||!Hs(e,VBt,{offset:n})?n:(n+=HBt(e,n),t(e,n))},fF=function(e){return typeof e=="string"?uJ(e):e},UBt=function(e){return Array.isArray(e)?e.map(function(n){return fF(n)}):[fF(e)]},WBt=function t(e,n,s){s===void 0&&(s=!1),n=UBt(n),e=dn(e);var r=[];if(!n.length)return r;for(var a=0;a<e.length;){var o=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,i=e.subarray(a+4,a+8);if(o===0)break;var l=a+o;if(l>e.length){if(s)break;l=e.length}var u=e.subarray(a+8,l);Hs(i,n[0])&&(n.length===1?r.push(u):r.push.apply(r,t(u,n.slice(1),s))),a=l}return r},c_={EBML:dn([26,69,223,163]),DocType:dn([66,130]),Segment:dn([24,83,128,103]),SegmentInfo:dn([21,73,169,102]),Tracks:dn([22,84,174,107]),Track:dn([174]),TrackNumber:dn([215]),DefaultDuration:dn([35,227,131]),TrackEntry:dn([174]),TrackType:dn([131]),FlagDefault:dn([136]),CodecID:dn([134]),CodecPrivate:dn([99,162]),VideoTrack:dn([224]),AudioTrack:dn([225]),Cluster:dn([31,67,182,117]),Timestamp:dn([231]),TimestampScale:dn([42,215,177]),BlockGroup:dn([160]),BlockDuration:dn([155]),Block:dn([161]),SimpleBlock:dn([163])},Lk=[128,64,32,16,8,4,2,1],jBt=function(e){for(var n=1,s=0;s<Lk.length&&!(e&Lk[s]);s++)n++;return n},c4=function(e,n,s,r){s===void 0&&(s=!0),r===void 0&&(r=!1);var a=jBt(e[n]),o=e.subarray(n,n+a);return s&&(o=Array.prototype.slice.call(e,n,n+a),o[0]^=Lk[a-1]),{length:a,value:dFt(o,{signed:r}),bytes:o}},pF=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?hFt(e):e},GBt=function(e){return Array.isArray(e)?e.map(function(n){return pF(n)}):[pF(e)]},qBt=function t(e,n,s){if(s>=n.length)return n.length;var r=c4(n,s,!1);if(Hs(e.bytes,r.bytes))return s;var a=c4(n,s+r.length);return t(e,n,s+a.length+a.value+r.length)},mF=function t(e,n){n=GBt(n),e=dn(e);var s=[];if(!n.length)return s;for(var r=0;r<e.length;){var a=c4(e,r,!1),o=c4(e,r+a.length),i=r+a.length+o.length;o.value===127&&(o.value=qBt(a,e,i),o.value!==e.length&&(o.value-=i));var l=i+o.value>e.length?e.length:i+o.value,u=e.subarray(i,l);Hs(n[0],a.bytes)&&(n.length===1?s.push(u):s=s.concat(t(u,n.slice(1))));var c=a.length+o.length+u.length;r+=c}return s},KBt=dn([0,0,0,1]),XBt=dn([0,0,1]),YBt=dn([0,0,3]),QBt=function(e){for(var n=[],s=1;s<e.length-2;)Hs(e.subarray(s,s+3),YBt)&&(n.push(s+2),s++),s++;if(n.length===0)return e;var r=e.length-n.length,a=new Uint8Array(r),o=0;for(s=0;s<r;o++,s++)o===n[0]&&(o++,n.shift()),a[s]=e[o];return a},GJ=function(e,n,s,r){r===void 0&&(r=1/0),e=dn(e),s=[].concat(s);for(var a=0,o,i=0;a<e.length&&(i<r||o);){var l=void 0;if(Hs(e.subarray(a),KBt)?l=4:Hs(e.subarray(a),XBt)&&(l=3),!l){a++;continue}if(i++,o)return QBt(e.subarray(o,a));var u=void 0;n==="h264"?u=e[a+l]&31:n==="h265"&&(u=e[a+l]>>1&63),s.indexOf(u)!==-1&&(o=a+l),a+=l+(n==="h264"?1:2)}return e.subarray(0,0)},ZBt=function(e,n,s){return GJ(e,"h264",n,s)},JBt=function(e,n,s){return GJ(e,"h265",n,s)},Ma={webm:dn([119,101,98,109]),matroska:dn([109,97,116,114,111,115,107,97]),flac:dn([102,76,97,67]),ogg:dn([79,103,103,83]),ac3:dn([11,119]),riff:dn([82,73,70,70]),avi:dn([65,86,73]),wav:dn([87,65,86,69]),"3gp":dn([102,116,121,112,51,103]),mp4:dn([102,116,121,112]),fmp4:dn([115,116,121,112]),mov:dn([102,116,121,112,113,116]),moov:dn([109,111,111,118]),moof:dn([109,111,111,102])},S0={aac:function(e){var n=b2(e);return Hs(e,[255,16],{offset:n,mask:[255,22]})},mp3:function(e){var n=b2(e);return Hs(e,[255,2],{offset:n,mask:[255,6]})},webm:function(e){var n=mF(e,[c_.EBML,c_.DocType])[0];return Hs(n,Ma.webm)},mkv:function(e){var n=mF(e,[c_.EBML,c_.DocType])[0];return Hs(n,Ma.matroska)},mp4:function(e){if(S0["3gp"](e)||S0.mov(e))return!1;if(Hs(e,Ma.mp4,{offset:4})||Hs(e,Ma.fmp4,{offset:4})||Hs(e,Ma.moof,{offset:4})||Hs(e,Ma.moov,{offset:4}))return!0},mov:function(e){return Hs(e,Ma.mov,{offset:4})},"3gp":function(e){return Hs(e,Ma["3gp"],{offset:4})},ac3:function(e){var n=b2(e);return Hs(e,Ma.ac3,{offset:n})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var n=0;n+188<e.length&&n<188;){if(e[n]===71&&e[n+188]===71)return!0;n+=1}return!1},flac:function(e){var n=b2(e);return Hs(e,Ma.flac,{offset:n})},ogg:function(e){return Hs(e,Ma.ogg)},avi:function(e){return Hs(e,Ma.riff)&&Hs(e,Ma.avi,{offset:8})},wav:function(e){return Hs(e,Ma.riff)&&Hs(e,Ma.wav,{offset:8})},h264:function(e){return ZBt(e,7,3).length},h265:function(e){return JBt(e,[32,33],3).length}},Pk=Object.keys(S0).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);Pk.forEach(function(t){var e=S0[t];S0[t]=function(n){return e(dn(n))}});var ezt=S0,cD=function(e){e=dn(e);for(var n=0;n<Pk.length;n++){var s=Pk[n];if(ezt[s](e))return s}return""},tzt=function(e){return WBt(e,["moof"]).length>0},dD=9e4,hD,fD,Zx,pD,qJ,KJ,XJ;hD=function(t){return t*dD};fD=function(t,e){return t*e};Zx=function(t){return t/dD};pD=function(t,e){return t/e};qJ=function(t,e){return hD(pD(t,e))};KJ=function(t,e){return fD(Zx(t),e)};XJ=function(t,e,n){return Zx(n?t:t-e)};var d4={ONE_SECOND_IN_TS:dD,secondsToVideoTs:hD,secondsToAudioTs:fD,videoTsToSeconds:Zx,audioTsToSeconds:pD,audioTsToVideoTs:qJ,videoTsToAudioTs:KJ,metadataTsToSeconds:XJ};/**
 * @license
 * Video.js 8.6.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var YJ="8.6.0";const Tu={},hd=function(t,e){return Tu[t]=Tu[t]||[],e&&(Tu[t]=Tu[t].concat(e)),Tu[t]},nzt=function(t,e){hd(t,e)},QJ=function(t,e){const n=hd(t).indexOf(e);return n<=-1?!1:(Tu[t]=Tu[t].slice(),Tu[t].splice(n,1),!0)},szt=function(t,e){hd(t,[].concat(e).map(n=>{const s=(...r)=>(QJ(t,s),n(...r));return s}))},h4={prefixed:!0},X_=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],gF=X_[0];let _2;for(let t=0;t<X_.length;t++)if(X_[t][1]in $t){_2=X_[t];break}if(_2){for(let t=0;t<_2.length;t++)h4[gF[t]]=_2[t];h4.prefixed=_2[0]!==gF[0]}let ho=[];const rzt=(t,e,n)=>(s,r,a)=>{const o=e.levels[r],i=new RegExp(`^(${o})$`);let l=t;if(s!=="log"&&a.unshift(s.toUpperCase()+":"),n&&(l=`%c${t}`,a.unshift(n)),a.unshift(l+":"),ho){ho.push([].concat(a));const c=ho.length-1e3;ho.splice(0,c>0?c:0)}if(!Te.console)return;let u=Te.console[s];!u&&s==="debug"&&(u=Te.console.info||Te.console.log),!(!u||!o||!i.test(s))&&u[Array.isArray(a)?"apply":"call"](Te.console,a)};function Mk(t,e=":",n=""){let s="info",r;const a=function(...o){r("log",s,o)};return r=rzt(t,a,n),a.createLogger=(o,i,l)=>{const u=i!==void 0?i:e,c=l!==void 0?l:n,d=`${t} ${u} ${o}`;return Mk(d,u,c)},a.createNewLogger=(o,i,l)=>Mk(o,i,l),a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:s},a.level=o=>{if(typeof o=="string"){if(!a.levels.hasOwnProperty(o))throw new Error(`"${o}" in not a valid log level`);s=o}return s},a.history=()=>ho?[].concat(ho):[],a.history.filter=o=>(ho||[]).filter(i=>new RegExp(`.*${o}.*`).test(i[0])),a.history.clear=()=>{ho&&(ho.length=0)},a.history.disable=()=>{ho!==null&&(ho.length=0,ho=null)},a.history.enable=()=>{ho===null&&(ho=[])},a.error=(...o)=>r("error",s,o),a.warn=(...o)=>r("warn",s,o),a.debug=(...o)=>r("debug",s,o),a}const Kn=Mk("VIDEOJS"),ZJ=Kn.createLogger,azt=Object.prototype.toString,JJ=function(t){return su(t)?Object.keys(t):[]};function Ap(t,e){JJ(t).forEach(n=>e(t[n],n))}function eee(t,e,n=0){return JJ(t).reduce((s,r)=>e(s,t[r],r),n)}function su(t){return!!t&&typeof t=="object"}function T0(t){return su(t)&&azt.call(t)==="[object Object]"&&t.constructor===Object}function Ss(...t){const e={};return t.forEach(n=>{n&&Ap(n,(s,r)=>{if(!T0(s)){e[r]=s;return}T0(e[r])||(e[r]={}),e[r]=Ss(e[r],s)})}),e}function tee(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const s=t[n];e.push(s)}return e}function Jx(t,e,n,s=!0){const r=o=>Object.defineProperty(t,e,{value:o,enumerable:!0,writable:!0}),a={configurable:!0,enumerable:!0,get(){const o=n();return r(o),o}};return s&&(a.set=r),Object.defineProperty(t,e,a)}var ozt=Object.freeze({__proto__:null,each:Ap,reduce:eee,isObject:su,isPlain:T0,merge:Ss,values:tee,defineLazyProperty:Jx});let mD=!1,nee=null,ru=!1,see,ree=!1,Dp=!1,Op=!1,au=!1,gD=null,e8=null,aee=null,f4=!1,t8=!1,p4=!1,n8=!1;const z1=!!(ig()&&("ontouchstart"in Te||Te.navigator.maxTouchPoints||Te.DocumentTouch&&Te.document instanceof Te.DocumentTouch)),np=Te.navigator&&Te.navigator.userAgentData;np&&(ru=np.platform==="Android",Dp=!!np.brands.find(t=>t.brand==="Microsoft Edge"),Op=!!np.brands.find(t=>t.brand==="Chromium"),au=!Dp&&Op,gD=e8=(np.brands.find(t=>t.brand==="Chromium")||{}).version||null,t8=np.platform==="Windows");if(!Op){const t=Te.navigator&&Te.navigator.userAgent||"";mD=/iPod/i.test(t),nee=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),ru=/Android/i.test(t),see=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),s=e[2]&&parseFloat(e[2]);return n&&s?parseFloat(e[1]+"."+e[2]):n||null}(),ree=/Firefox/i.test(t),Dp=/Edg/i.test(t),Op=/Chrome/i.test(t)||/CriOS/i.test(t),au=!Dp&&Op,gD=e8=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),aee=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),f4=/Safari/i.test(t)&&!au&&!ru&&!Dp,t8=/Windows/i.test(t),p4=/iPad/i.test(t)||f4&&z1&&!/iPhone/i.test(t),n8=/iPhone/i.test(t)&&!p4}const Xa=n8||p4||mD,s8=(f4||Xa)&&!au;var izt=Object.freeze({__proto__:null,get IS_IPOD(){return mD},get IOS_VERSION(){return nee},get IS_ANDROID(){return ru},get ANDROID_VERSION(){return see},get IS_FIREFOX(){return ree},get IS_EDGE(){return Dp},get IS_CHROMIUM(){return Op},get IS_CHROME(){return au},get CHROMIUM_VERSION(){return gD},get CHROME_VERSION(){return e8},get IE_VERSION(){return aee},get IS_SAFARI(){return f4},get IS_WINDOWS(){return t8},get IS_IPAD(){return p4},get IS_IPHONE(){return n8},TOUCH_ENABLED:z1,IS_IOS:Xa,IS_ANY_SAFARI:s8});function vF(t){return typeof t=="string"&&!!t.trim()}function lzt(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ig(){return $t===Te.document}function lg(t){return su(t)&&t.nodeType===1}function oee(){try{return Te.parent!==Te.self}catch{return!0}}function iee(t){return function(e,n){if(!vF(e))return $t[t](null);vF(n)&&(n=$t.querySelector(n));const s=lg(n)?n:$t;return s[t]&&s[t](e)}}function On(t="div",e={},n={},s){const r=$t.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){const o=e[a];a==="textContent"?Ad(r,o):(r[a]!==o||a==="tabIndex")&&(r[a]=o)}),Object.getOwnPropertyNames(n).forEach(function(a){r.setAttribute(a,n[a])}),s&&vD(r,s),r}function Ad(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Fk(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function R2(t,e){return lzt(e),t.classList.contains(e)}function Th(t,...e){return t.classList.add(...e.reduce((n,s)=>n.concat(s.split(/\s+/)),[])),t}function r8(t,...e){return t?(t.classList.remove(...e.reduce((n,s)=>n.concat(s.split(/\s+/)),[])),t):(Kn.warn("removeClass was called with an element that doesn't exist"),null)}function lee(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(s=>t.classList.toggle(s,n)),t}function uee(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const s=e[n];s===null||typeof s>"u"||s===!1?t.removeAttribute(n):t.setAttribute(n,s===!0?"":s)})}function Dc(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const s=t.attributes;for(let r=s.length-1;r>=0;r--){const a=s[r].name;let o=s[r].value;n.includes(a)&&(o=o!==null),e[a]=o}}return e}function cee(t,e){return t.getAttribute(e)}function k0(t,e,n){t.setAttribute(e,n)}function a8(t,e){t.removeAttribute(e)}function dee(){$t.body.focus(),$t.onselectstart=function(){return!1}}function hee(){$t.onselectstart=function(){return!0}}function $0(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(s=>{e[s]!==void 0&&(n[s]=e[s])}),n.height||(n.height=parseFloat(E0(t,"height"))),n.width||(n.width=parseFloat(E0(t,"width"))),n}}function V1(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let s=0,r=0;for(;t.offsetParent&&t!==$t[h4.fullscreenElement];)s+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:s,top:r,width:e,height:n}}function o8(t,e){const n={x:0,y:0};if(Xa){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const d=E0(c,"transform");if(/^matrix/.test(d)){const h=d.slice(7,-1).split(/,\s/).map(Number);n.x+=h[4],n.y+=h[5]}else if(/^matrix3d/.test(d)){const h=d.slice(9,-1).split(/,\s/).map(Number);n.x+=h[12],n.y+=h[13]}c=c.parentNode}}const s={},r=V1(e.target),a=V1(t),o=a.width,i=a.height;let l=e.offsetY-(a.top-r.top),u=e.offsetX-(a.left-r.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-a.left,l=e.changedTouches[0].pageY+a.top,Xa&&(u-=n.x,l-=n.y)),s.y=1-Math.max(0,Math.min(1,l/i)),s.x=Math.max(0,Math.min(1,u/o)),s}function fee(t){return su(t)&&t.nodeType===3}function i8(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function pee(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),lg(e)||fee(e))return e;if(typeof e=="string"&&/\S/.test(e))return $t.createTextNode(e)}).filter(e=>e)}function vD(t,e){return pee(e).forEach(n=>t.appendChild(n)),t}function mee(t,e){return vD(i8(t),e)}function H1(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const fd=iee("querySelector"),gee=iee("querySelectorAll");function E0(t,e){if(!t||!e)return"";if(typeof Te.getComputedStyle=="function"){let n;try{n=Te.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function vee(t){[...$t.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(r=>r.cssText).join(""),s=$t.createElement("style");s.textContent=n,t.document.head.appendChild(s)}catch{const s=$t.createElement("link");s.rel="stylesheet",s.type=e.type,s.media=e.media.mediaText,s.href=e.href,t.document.head.appendChild(s)}})}var yee=Object.freeze({__proto__:null,isReal:ig,isEl:lg,isInFrame:oee,createEl:On,textContent:Ad,prependTo:Fk,hasClass:R2,addClass:Th,removeClass:r8,toggleClass:lee,setAttributes:uee,getAttributes:Dc,getAttribute:cee,setAttribute:k0,removeAttribute:a8,blockTextSelection:dee,unblockTextSelection:hee,getBoundingClientRect:$0,findPosition:V1,getPointerPosition:o8,isTextNode:fee,emptyEl:i8,normalizeContent:pee,appendContent:vD,insertContent:mee,isSingleLeftClick:H1,$:fd,$$:gee,computedStyle:E0,copyStyleSheetsToWindow:vee});let bee=!1,Bk;const uzt=function(){if(Bk.options.autoSetup===!1)return;const t=Array.prototype.slice.call($t.getElementsByTagName("video")),e=Array.prototype.slice.call($t.getElementsByTagName("audio")),n=Array.prototype.slice.call($t.getElementsByTagName("video-js")),s=t.concat(e,n);if(s&&s.length>0)for(let r=0,a=s.length;r<a;r++){const o=s[r];if(o&&o.getAttribute)o.player===void 0&&o.getAttribute("data-setup")!==null&&Bk(o);else{zk(1);break}}else bee||zk(1)};function zk(t,e){ig()&&(e&&(Bk=e),Te.setTimeout(uzt,t))}function Vk(){bee=!0,Te.removeEventListener("load",Vk)}ig()&&($t.readyState==="complete"?Vk():Te.addEventListener("load",Vk));const _ee=function(t){const e=$t.createElement("style");return e.className=t,e},wee=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Ha=new WeakMap;const czt=3;let dzt=czt;function ou(){return dzt++}function yF(t,e){if(!Ha.has(t))return;const n=Ha.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Ha.delete(t)}function yD(t,e,n,s){n.forEach(function(r){t(e,r,s)})}function l8(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const s=t||Te.event;t={};for(const r in s)r!=="layerX"&&r!=="layerY"&&r!=="keyLocation"&&r!=="webkitMovementX"&&r!=="webkitMovementY"&&r!=="path"&&(r==="returnValue"&&s.preventDefault||(t[r]=s[r]));if(t.target||(t.target=t.srcElement||$t),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){s.preventDefault&&s.preventDefault(),t.returnValue=!1,s.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){s.stopPropagation&&s.stopPropagation(),t.cancelBubble=!0,s.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){s.stopImmediatePropagation&&s.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const r=$t.documentElement,a=$t.body;t.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let d_;const hzt=function(){if(typeof d_!="boolean"){d_=!1;try{const t=Object.defineProperty({},"passive",{get(){d_=!0}});Te.addEventListener("test",null,t),Te.removeEventListener("test",null,t)}catch{}}return d_},fzt=["touchstart","touchmove"];function ei(t,e,n){if(Array.isArray(e))return yD(ei,t,e,n);Ha.has(t)||Ha.set(t,{});const s=Ha.get(t);if(s.handlers||(s.handlers={}),s.handlers[e]||(s.handlers[e]=[]),n.guid||(n.guid=ou()),s.handlers[e].push(n),s.dispatcher||(s.disabled=!1,s.dispatcher=function(r,a){if(s.disabled)return;r=l8(r);const o=s.handlers[r.type];if(o){const i=o.slice(0);for(let l=0,u=i.length;l<u&&!r.isImmediatePropagationStopped();l++)try{i[l].call(t,r,a)}catch(c){Kn.error(c)}}}),s.handlers[e].length===1)if(t.addEventListener){let r=!1;hzt()&&fzt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,s.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,s.dispatcher)}function $a(t,e,n){if(!Ha.has(t))return;const s=Ha.get(t);if(!s.handlers)return;if(Array.isArray(e))return yD($a,t,e,n);const r=function(o,i){s.handlers[i]=[],yF(o,i)};if(e===void 0){for(const o in s.handlers)Object.prototype.hasOwnProperty.call(s.handlers||{},o)&&r(t,o);return}const a=s.handlers[e];if(a){if(!n){r(t,e);return}if(n.guid)for(let o=0;o<a.length;o++)a[o].guid===n.guid&&a.splice(o--,1);yF(t,e)}}function ug(t,e,n){const s=Ha.has(t)?Ha.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=l8(e),s.dispatcher&&s.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)ug.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Ha.has(e.target)||Ha.set(e.target,{});const a=Ha.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function u8(t,e,n){if(Array.isArray(e))return yD(u8,t,e,n);const s=function(){$a(t,e,s),n.apply(this,arguments)};s.guid=n.guid=n.guid||ou(),ei(t,e,s)}function bD(t,e,n){const s=function(){$a(t,e,s),n.apply(this,arguments)};s.guid=n.guid=n.guid||ou(),ei(t,e,s)}var pzt=Object.freeze({__proto__:null,fixEvent:l8,on:ei,off:$a,trigger:ug,one:u8,any:bD});const Ri=30,Ts=function(t,e,n){e.guid||(e.guid=ou());const s=e.bind(t);return s.guid=n?n+"_"+e.guid:e.guid,s},iu=function(t,e){let n=Te.performance.now();return function(...r){const a=Te.performance.now();a-n>=e&&(t(...r),n=a)}},xee=function(t,e,n,s=Te){let r;const a=()=>{s.clearTimeout(r),r=null},o=function(){const i=this,l=arguments;let u=function(){r=null,u=null,n||t.apply(i,l)};!r&&n&&t.apply(i,l),s.clearTimeout(r),r=s.setTimeout(u,e)};return o.cancel=a,o};var mzt=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Ri,bind_:Ts,throttle:iu,debounce:xee});let Gg;class Li{on(e,n){const s=this.addEventListener;this.addEventListener=()=>{},ei(this,e,n),this.addEventListener=s}off(e,n){$a(this,e,n)}one(e,n){const s=this.addEventListener;this.addEventListener=()=>{},u8(this,e,n),this.addEventListener=s}any(e,n){const s=this.addEventListener;this.addEventListener=()=>{},bD(this,e,n),this.addEventListener=s}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=l8(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),ug(this,e)}queueTrigger(e){Gg||(Gg=new Map);const n=e.type||e;let s=Gg.get(this);s||(s=new Map,Gg.set(this,s));const r=s.get(n);s.delete(n),Te.clearTimeout(r);const a=Te.setTimeout(()=>{s.delete(n),s.size===0&&(s=null,Gg.delete(this)),this.trigger(e)},0);s.set(n,a)}}Li.prototype.allowedEvents_={};Li.prototype.addEventListener=Li.prototype.on;Li.prototype.removeEventListener=Li.prototype.off;Li.prototype.dispatchEvent=Li.prototype.trigger;const c8=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,Ou=t=>t instanceof Li||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),gzt=(t,e)=>{Ou(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},Hk=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,m4=(t,e,n)=>{if(!t||!t.nodeName&&!Ou(t))throw new Error(`Invalid target for ${c8(e)}#${n}; must be a DOM node or evented object.`)},Cee=(t,e,n)=>{if(!Hk(t))throw new Error(`Invalid event type for ${c8(e)}#${n}; must be a non-empty string or array.`)},See=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${c8(e)}#${n}; must be a function.`)},zC=(t,e,n)=>{const s=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let r,a,o;return s?(r=t.eventBusEl_,e.length>=3&&e.shift(),[a,o]=e):[r,a,o]=e,m4(r,t,n),Cee(a,t,n),See(o,t,n),o=Ts(t,o),{isTargetingSelf:s,target:r,type:a,listener:o}},Hd=(t,e,n,s)=>{m4(t,t,e),t.nodeName?pzt[e](t,n,s):t[e](n,s)},vzt={on(...t){const{isTargetingSelf:e,target:n,type:s,listener:r}=zC(this,t,"on");if(Hd(n,"on",s,r),!e){const a=()=>this.off(n,s,r);a.guid=r.guid;const o=()=>this.off("dispose",a);o.guid=r.guid,Hd(this,"on","dispose",a),Hd(n,"on","dispose",o)}},one(...t){const{isTargetingSelf:e,target:n,type:s,listener:r}=zC(this,t,"one");if(e)Hd(n,"one",s,r);else{const a=(...o)=>{this.off(n,s,a),r.apply(null,o)};a.guid=r.guid,Hd(n,"one",s,a)}},any(...t){const{isTargetingSelf:e,target:n,type:s,listener:r}=zC(this,t,"any");if(e)Hd(n,"any",s,r);else{const a=(...o)=>{this.off(n,s,a),r.apply(null,o)};a.guid=r.guid,Hd(n,"any",s,a)}},off(t,e,n){if(!t||Hk(t))$a(this.eventBusEl_,t,e);else{const s=t,r=e;m4(s,this,"off"),Cee(r,this,"off"),See(n,this,"off"),n=Ts(this,n),this.off("dispose",n),s.nodeName?($a(s,r,n),$a(s,"dispose",n)):Ou(s)&&(s.off(r,n),s.off("dispose",n))}},trigger(t,e){m4(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!Hk(n))throw new Error(`Invalid event type for ${c8(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return ug(this.eventBusEl_,t,e)}};function _D(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=On("span",{className:"vjs-event-bus"});return Object.assign(t,vzt),t.eventedCallbacks&&t.eventedCallbacks.forEach(s=>{s()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(s){s&&Ha.has(s)&&Ha.delete(s)}),Te.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const yzt={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Ap(t,(n,s)=>{this.state[s]!==n&&(e=e||{},e[s]={from:this.state[s],to:n}),this.state[s]=n}),e&&Ou(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Tee(t,e){return Object.assign(t,yzt),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&Ou(t)&&t.on("statechanged",t.handleStateChanged),t}const L2=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},tr=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},kee=function(t,e){return tr(t)===tr(e)};var bzt=Object.freeze({__proto__:null,toLowerCase:L2,toTitleCase:tr,titleCaseEquals:kee});class lt{constructor(e,n,s){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ss({},this.options_),n=this.options_=Ss(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const r=e&&e.id&&e.id()||"no_player";this.id_=`${r}_component_${ou()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),n.evented!==!1&&(_D(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Tee(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(s),n.reportTouchActivity!==!1&&this.enableTouchActivity()}on(e,n){}off(e,n){}one(e,n){}any(e,n){}trigger(e,n){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Ss(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,s){return On(e,n,s)}localize(e,n,s=e){const r=this.player_.language&&this.player_.language(),a=this.player_.languages&&this.player_.languages(),o=a&&a[r],i=r&&r.split("-")[0],l=a&&a[i];let u=s;return o&&o[e]?u=o[e]:l&&l[e]&&(u=l[e]),n&&(u=u.replace(/\{(\d+)\}/g,function(c,d){const h=n[d-1];let f=h;return typeof h>"u"&&(f=c),f})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((s,r)=>s.concat(r),[]);let n=this;for(let s=0;s<e.length;s++)if(n=n.getChild(e[s]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const s="http://www.w3.org/2000/svg",r=On("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),a=$t.createElementNS(s,"svg");a.setAttributeNS(null,"viewBox","0 0 512 512");const o=$t.createElementNS(s,"use");return a.appendChild(o),o.setAttributeNS(null,"href",`#vjs-icon-${e}`),r.appendChild(a),this.iconIsSet_?n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")):n.appendChild(r),this.iconIsSet_=!0,r}addChild(e,n={},s=this.children_.length){let r,a;if(typeof e=="string"){a=tr(e);const o=n.componentClass||a;n.name=a;const i=lt.getComponent(o);if(!i)throw new Error(`Component ${o} does not exist`);if(typeof i!="function")return null;r=new i(this.player_||this,n)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(s,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),a=a||r.name&&tr(r.name()),a&&(this.childNameIndex_[a]=r,this.childNameIndex_[L2(a)]=r),typeof r.el=="function"&&r.el()){let o=null;this.children_[s+1]&&(this.children_[s+1].el_?o=this.children_[s+1].el_:lg(this.children_[s+1])&&(o=this.children_[s+1])),this.contentEl().insertBefore(r.el(),o)}return r}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){n=!0,this.children_.splice(r,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[tr(e.name())]=null,this.childNameIndex_[L2(e.name())]=null;const s=e.el();s&&s.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,s=o=>{const i=o.name;let l=o.opts;if(n[i]!==void 0&&(l=n[i]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(i,l);u&&(this[i]=u)};let r;const a=lt.getComponent("Tech");Array.isArray(e)?r=e:r=Object.keys(e),r.concat(Object.keys(this.options_).filter(function(o){return!r.some(function(i){return typeof i=="string"?o===i:o===i.name})})).map(o=>{let i,l;return typeof o=="string"?(i=o,l=e[i]||this.options_[i]||{}):(i=o.name,l=o),{name:i,opts:l}}).filter(o=>{const i=lt.getComponent(o.opts.componentClass||tr(o.name));return i&&!a.isTech(i)}).forEach(s)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return fd(e,n||this.contentEl())}$$(e,n){return gee(e,n||this.contentEl())}hasClass(e){return R2(this.el_,e)}addClass(...e){Th(this.el_,...e)}removeClass(...e){r8(this.el_,...e)}toggleClass(e,n){lee(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return cee(this.el_,e)}setAttribute(e,n){k0(this.el_,e,n)}removeAttribute(e){a8(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,s){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[e],a=r.indexOf("px");return parseInt(a!==-1?r.slice(0,a):this.el_["offset"+tr(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=E0(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const s=`offset${tr(e)}`;n=this.el_[s]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(Sn.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const s=10,r=200;let a;this.on("touchstart",function(i){i.touches.length===1&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},e=Te.performance.now(),a=!0)}),this.on("touchmove",function(i){if(i.touches.length>1)a=!1;else if(n){const l=i.touches[0].pageX-n.pageX,u=i.touches[0].pageY-n.pageY;Math.sqrt(l*l+u*u)>s&&(a=!1)}});const o=function(){a=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(i){n=null,a===!0&&Te.performance.now()-e<r&&(i.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Ts(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const s=function(r){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",s),this.on("touchcancel",s)}setTimeout(e,n){var s;return e=Ts(this,e),this.clearTimersOnDispose_(),s=Te.setTimeout(()=>{this.setTimeoutIds_.has(s)&&this.setTimeoutIds_.delete(s),e()},n),this.setTimeoutIds_.add(s),s}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),Te.clearTimeout(e)),e}setInterval(e,n){e=Ts(this,e),this.clearTimersOnDispose_();const s=Te.setInterval(e,n);return this.setIntervalIds_.add(s),s}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),Te.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=Ts(this,e),n=Te.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),n=Ts(this,n);const s=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,s),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),Te.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((s,r)=>this[n](r))}),this.clearingTimersOnDispose_=!1}))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const s=lt.getComponent("Tech"),r=s&&s.isTech(n),a=lt===n||lt.prototype.isPrototypeOf(n.prototype);if(r||!a){let i;throw r?i="techs must be registered using Tech.registerTech()":i="must be a Component subclass",new Error(`Illegal component, "${e}"; ${i}.`)}e=tr(e),lt.components_||(lt.components_={});const o=lt.getComponent("Player");if(e==="Player"&&o&&o.players){const i=o.players,l=Object.keys(i);if(i&&l.length>0&&l.map(u=>i[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return lt.components_[e]=n,lt.components_[L2(e)]=n,n}static getComponent(e){if(!(!e||!lt.components_))return lt.components_[e]}}lt.registerComponent("Component",lt);function _zt(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function bF(t,e,n,s){return _zt(t,s,n.length-1),n[s][e]}function VC(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:bF.bind(null,"start",0,t),end:bF.bind(null,"end",1,t)},Te.Symbol&&Te.Symbol.iterator&&(e[Te.Symbol.iterator]=()=>(t||[]).values()),e}function ql(t,e){return Array.isArray(t)?VC(t):t===void 0||e===void 0?VC():VC([[t,e]])}const $ee=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),s=Math.floor(t/60%60),r=Math.floor(t/3600);const a=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=s=n="-"),r=r>0||o>0?r+":":"",s=((r||a>=10)&&s<10?"0"+s:s)+":",n=n<10?"0"+n:n,r+s+n};let wD=$ee;function Eee(t){wD=t}function Iee(){wD=$ee}function nf(t,e=t){return wD(t,e)}var wzt=Object.freeze({__proto__:null,createTimeRanges:ql,createTimeRange:ql,setFormatTime:Eee,resetFormatTime:Iee,formatTime:nf});function Nee(t,e){let n=0,s,r;if(!e)return 0;(!t||!t.length)&&(t=ql(0,0));for(let a=0;a<t.length;a++)s=t.start(a),r=t.end(a),r>e&&(r=e),n+=r-s;return n/e}function Ua(t){if(t instanceof Ua)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:su(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Ua.defaultMessages[this.code]||"")}Ua.prototype.code=0;Ua.prototype.message="";Ua.prototype.status=null;Ua.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Ua.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let t=0;t<Ua.errorTypes.length;t++)Ua[Ua.errorTypes[t]]=t,Ua.prototype[Ua.errorTypes[t]]=t;function P2(t){return t!=null&&typeof t.then=="function"}function Rl(t){P2(t)&&t.then(null,e=>{})}const Uk=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,s,r)=>(t[s]&&(n[s]=t[s]),n),{cues:t.cues&&Array.prototype.map.call(t.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},xzt=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,r=>r.track);return Array.prototype.map.call(e,function(r){const a=Uk(r.track);return r.src&&(a.src=r.src),a}).concat(Array.prototype.filter.call(t.textTracks(),function(r){return n.indexOf(r)===-1}).map(Uk))},Czt=function(t,e){return t.forEach(function(n){const s=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(r=>s.addCue(r))}),e.textTracks()};var _F={textTracksToJson:xzt,jsonToTextTracks:Czt,trackToJson_:Uk};const HC="vjs-modal-dialog";class cg extends lt{constructor(e,n){super(e,n),this.handleKeyDown_=s=>this.handleKeyDown(s),this.close_=s=>this.close(s),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=On("div",{className:`${HC}-content`},{role:"document"}),this.descEl_=On("p",{className:`${HC}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Ad(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${HC} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let s=this.getChild("closeButton");if(n&&!s){const r=this.contentEl_;this.contentEl_=this.el_,s=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(s,"close",this.close_)}!n&&s&&(this.off(s,"close",this.close_),this.removeChild(s),s.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),s=n.parentNode,r=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,s.removeChild(n),this.empty(),mee(n,e),this.trigger("modalfill"),r?s.insertBefore(n,r):s.appendChild(n);const a=this.getChild("closeButton");a&&s.appendChild(a.el_)}empty(){this.trigger("beforemodalempty"),i8(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=$t.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),Sn.isEventKey(e,"Escape")&&this.closeable()){e.preventDefault(),this.close();return}if(!Sn.isEventKey(e,"Tab"))return;const n=this.focusableEls_(),s=this.el_.querySelector(":focus");let r;for(let a=0;a<n.length;a++)if(s===n[a]){r=a;break}$t.activeElement===this.el_&&(r=0),e.shiftKey&&r===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&r===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof Te.HTMLAnchorElement||n instanceof Te.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof Te.HTMLInputElement||n instanceof Te.HTMLSelectElement||n instanceof Te.HTMLTextAreaElement||n instanceof Te.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof Te.HTMLIFrameElement||n instanceof Te.HTMLObjectElement||n instanceof Te.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}cg.prototype.options_={pauseOnOpen:!0,temporary:!0};lt.registerComponent("ModalDialog",cg);class I0 extends Li{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Ou(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let s=0,r=this.length;s<r;s++)if(this[s]===e){n=this[s],n.off&&n.off(),this.tracks_.splice(s,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let s=0,r=this.length;s<r;s++){const a=this[s];if(a.id===e){n=a;break}}return n}}I0.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in I0.prototype.allowedEvents_)I0.prototype["on"+t]=null;const UC=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class Szt extends I0{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){UC(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&UC(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,UC(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const WC=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class Tzt extends I0{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){WC(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&WC(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,WC(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class Aee extends I0{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class kzt{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,s=e.length;n<s;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let s=0,r=this.trackElements_.length;s<r;s++)if(e===this.trackElements_[s].track){n=this.trackElements_[s];break}return n}removeTrackElement_(e){for(let n=0,s=this.trackElements_.length;n<s;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class g4{constructor(e){g4.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let s=0;const r=e.length;this.cues_=e,this.length_=e.length;const a=function(o){""+o in this||Object.defineProperty(this,""+o,{get(){return this.cues_[o]}})};if(n<r)for(s=n;s<r;s++)a.call(this,s)}getCueById(e){let n=null;for(let s=0,r=this.length;s<r;s++){const a=this[s];if(a.id===e){n=a;break}}return n}}const $zt={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ezt={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Izt={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},wF={disabled:"disabled",hidden:"hidden",showing:"showing"};class xD extends Li{constructor(e={}){super();const n={id:e.id||"vjs_track_"+ou(),kind:e.kind||"",language:e.language||""};let s=e.label||"";for(const r in n)Object.defineProperty(this,r,{get(){return n[r]},set(){}});Object.defineProperty(this,"label",{get(){return s},set(r){r!==s&&(s=r,this.trigger("labelchange"))}})}}const CD=function(t){const e=["protocol","hostname","port","pathname","search","hash","host"],n=$t.createElement("a");n.href=t;const s={};for(let r=0;r<e.length;r++)s[e[r]]=n[e[r]];return s.protocol==="http:"&&(s.host=s.host.replace(/:80$/,"")),s.protocol==="https:"&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=Te.location.protocol),s.host||(s.host=Te.location.host),s},Dee=function(t){if(!t.match(/^https?:\/\//)){const e=$t.createElement("a");e.href=t,t=e.href}return t},SD=function(t){if(typeof t=="string"){const n=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(n)return n.pop().toLowerCase()}return""},d8=function(t,e=Te.location){const n=CD(t);return(n.protocol===":"?e.protocol:n.protocol)+n.host!==e.protocol+e.host};var Nzt=Object.freeze({__proto__:null,parseUrl:CD,getAbsoluteURL:Dee,getFileExtension:SD,isCrossOrigin:d8});const xF=function(t,e){const n=new Te.WebVTT.Parser(Te,Te.vttjs,Te.WebVTT.StringDecoder()),s=[];n.oncue=function(r){e.addCue(r)},n.onparsingerror=function(r){s.push(r)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),s.length>0&&(Te.console&&Te.console.groupCollapsed&&Te.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),s.forEach(r=>Kn.error(r)),Te.console&&Te.console.groupEnd&&Te.console.groupEnd()),n.flush()},CF=function(t,e){const n={uri:t},s=d8(t);s&&(n.cors=s);const r=e.tech_.crossOrigin()==="use-credentials";r&&(n.withCredentials=r),JZ(n,Ts(this,function(a,o,i){if(a)return Kn.error(a,o);e.loaded_=!0,typeof Te.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Kn.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return xF(i,e)}):xF(i,e)}))};class sb extends xD{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Ss(e,{kind:Izt[e.kind]||"subtitles",language:e.language||e.srclang||""});let s=wF[n.mode]||"disabled";const r=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(s="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const a=new g4(this.cues_),o=new g4(this.activeCues_);let i=!1;this.timeupdateHandler=Ts(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,i&&(this.trigger("cuechange"),i=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),s!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return s},set(u){wF[u]&&s!==u&&(s=u,!this.preload_&&s!=="disabled"&&this.cues.length===0&&CF(this.src,this),this.stopTracking(),s!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?a:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return o;const u=this.tech_.currentTime(),c=[];for(let d=0,h=this.cues.length;d<h;d++){const f=this.cues[d];f.startTime<=u&&f.endTime>=u&&c.push(f)}if(i=!1,c.length!==this.activeCues_.length)i=!0;else for(let d=0;d<c.length;d++)this.activeCues_.indexOf(c[d])===-1&&(i=!0);return this.activeCues_=c,o.setCues_(this.activeCues_),o},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&CF(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(n.constructor&&n.constructor.name!=="VTTCue"){n=new Te.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const r in e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}const s=this.tech_.textTracks();for(let r=0;r<s.length;r++)s[r]!==this&&s[r].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const s=this.cues_[n];if(s===e||s.originalCue_&&s.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}sb.prototype.allowedEvents_={cuechange:"cuechange"};class Oee extends xD{constructor(e={}){const n=Ss(e,{kind:Ezt[e.kind]||""});super(n);let s=!1;Object.defineProperty(this,"enabled",{get(){return s},set(r){typeof r!="boolean"||r===s||(s=r,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class Ree extends xD{constructor(e={}){const n=Ss(e,{kind:$zt[e.kind]||""});super(n);let s=!1;Object.defineProperty(this,"selected",{get(){return s},set(r){typeof r!="boolean"||r===s||(s=r,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class Yu extends Li{constructor(e={}){super();let n;const s=new sb(e);this.kind=s.kind,this.src=s.src,this.srclang=s.language,this.label=s.label,this.default=s.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return s}}}),n=Yu.NONE,s.addEventListener("loadeddata",()=>{n=Yu.LOADED,this.trigger({type:"load",target:this})})}}Yu.prototype.allowedEvents_={load:"load"};Yu.NONE=0;Yu.LOADING=1;Yu.LOADED=2;Yu.ERROR=3;const $i={audio:{ListClass:Szt,TrackClass:Oee,capitalName:"Audio"},video:{ListClass:Tzt,TrackClass:Ree,capitalName:"Video"},text:{ListClass:Aee,TrackClass:sb,capitalName:"Text"}};Object.keys($i).forEach(function(t){$i[t].getterName=`${t}Tracks`,$i[t].privateName=`${t}Tracks_`});const N0={remoteText:{ListClass:Aee,TrackClass:sb,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:kzt,TrackClass:Yu,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Ba=Object.assign({},$i,N0);N0.names=Object.keys(N0);$i.names=Object.keys($i);Ba.names=[].concat(N0.names).concat($i.names);function Azt(t,e,n,s,r={}){const a=t.textTracks();r.kind=e,n&&(r.label=n),s&&(r.language=s),r.tech=t;const o=new Ba.text.TrackClass(r);return a.addTrack(o),o}class $n extends lt{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=s=>this.onDurationChange(s),this.trackProgress_=s=>this.trackProgress(s),this.trackCurrentTime_=s=>this.trackCurrentTime(s),this.stopTrackingCurrentTime_=s=>this.stopTrackingCurrentTime(s),this.disposeSourceHandler_=s=>this.disposeSourceHandler(s),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Ba.names.forEach(s=>{const r=Ba[s];e&&e[r.getterName]&&(this[r.privateName]=e[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(s=>{e[`native${s}Tracks`]===!1&&(this[`featuresNative${s}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Ba.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ts(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return ql(0,0)}bufferedPercent(){return Nee(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks($i.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const s=this[`${n}Tracks`]()||[];let r=s.length;for(;r--;){const a=s[r];n==="text"&&this.removeRemoteTextTrack(a),s.removeTrack(a)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const s=e[n];this.removeRemoteTextTrack(s)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Ua(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?ql(0,0):ql()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){$i.names.forEach(e=>{const n=$i[e],s=()=>{this.trigger(`${e}trackchange`)},r=this[n.getterName]();r.addEventListener("removetrack",s),r.addEventListener("addtrack",s),this.on("dispose",()=>{r.removeEventListener("removetrack",s),r.removeEventListener("addtrack",s)})})}addWebVttScript_(){if(!Te.WebVTT)if($t.body.contains(this.el())){if(!this.options_["vtt.js"]&&T0(zM)&&Object.keys(zM).length>0){this.trigger("vttjsloaded");return}const e=$t.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),Te.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),s=i=>e.addTrack(i.track),r=i=>e.removeTrack(i.track);n.on("addtrack",s),n.on("removetrack",r),this.addWebVttScript_();const a=()=>this.trigger("texttrackchange"),o=()=>{a();for(let i=0;i<e.length;i++){const l=e[i];l.removeEventListener("cuechange",a),l.mode==="showing"&&l.addEventListener("cuechange",a)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",s),n.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(let i=0;i<e.length;i++)e[i].removeEventListener("cuechange",a)})}addTextTrack(e,n,s){if(!e)throw new Error("TextTrack kind is required but was not provided");return Azt(this,e,n,s)}createRemoteTextTrack(e){const n=Ss(e,{tech:this});return new N0.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const s=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(s),this.remoteTextTracks().addTrack(s.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(s.track)),s}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=ou();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return $n.canPlayType(e.type)}static isTech(e){return e.prototype instanceof $n||e instanceof $n||e===$n}static registerTech(e,n){if($n.techs_||($n.techs_={}),!$n.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!$n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!$n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=tr(e),$n.techs_[e]=n,$n.techs_[L2(e)]=n,e!=="Tech"&&$n.defaultTechOrder_.push(e),n}static getTech(e){if(e){if($n.techs_&&$n.techs_[e])return $n.techs_[e];if(e=tr(e),Te&&Te.videojs&&Te.videojs[e])return Kn.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),Te.videojs[e]}}}Ba.names.forEach(function(t){const e=Ba[t];$n.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});$n.prototype.featuresVolumeControl=!0;$n.prototype.featuresMuteControl=!0;$n.prototype.featuresFullscreenResize=!1;$n.prototype.featuresPlaybackRate=!1;$n.prototype.featuresProgressEvents=!1;$n.prototype.featuresSourceset=!1;$n.prototype.featuresTimeupdateEvents=!1;$n.prototype.featuresNativeTextTracks=!1;$n.prototype.featuresVideoFrameCallback=!1;$n.withSourceHandlers=function(t){t.registerSourceHandler=function(n,s){let r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),s===void 0&&(s=r.length),r.splice(s,0,n)},t.canPlayType=function(n){const s=t.sourceHandlers||[];let r;for(let a=0;a<s.length;a++)if(r=s[a].canPlayType(n),r)return r;return""},t.selectSourceHandler=function(n,s){const r=t.sourceHandlers||[];let a;for(let o=0;o<r.length;o++)if(a=r[o].canHandleSource(n,s),a)return r[o];return null},t.canPlaySource=function(n,s){const r=t.selectSourceHandler(n,s);return r?r.canHandleSource(n,s):""},["seekable","seeking","duration"].forEach(function(n){const s=this[n];typeof s=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):s.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(n){let s=t.selectSourceHandler(n,this.options_);s||(t.nativeSourceHandler?s=t.nativeSourceHandler:Kn.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),s!==t.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=s.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};lt.registerComponent("Tech",$n);$n.registerTech("Tech",$n);$n.defaultTechOrder_=[];const kh={},Wk={},v4={};function Dzt(t,e){kh[t]=kh[t]||[],kh[t].push(e)}function Ozt(t,e,n){t.setTimeout(()=>qd(e,kh[e.type],n,t),1)}function Rzt(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function Lzt(t,e,n){return t.reduceRight(TD(n),e[n]())}function Pzt(t,e,n,s){return e[n](t.reduce(TD(n),s))}function SF(t,e,n,s=null){const r="call"+tr(n),a=t.reduce(TD(r),s),o=a===v4,i=o?null:e[n](a);return Bzt(t,n,i,o),i}const Mzt={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Fzt={setCurrentTime:1,setMuted:1,setVolume:1},TF={play:1,pause:1};function TD(t){return(e,n)=>e===v4?v4:n[t]?n[t](e):e}function Bzt(t,e,n,s){for(let r=t.length-1;r>=0;r--){const a=t[r];a[e]&&a[e](s,n)}}function zzt(t){Wk[t.id()]=null}function Vzt(t,e){const n=Wk[t.id()];let s=null;if(n==null)return s=e(t),Wk[t.id()]=[[e,s]],s;for(let r=0;r<n.length;r++){const[a,o]=n[r];a===e&&(s=o)}return s===null&&(s=e(t),n.push([e,s])),s}function qd(t={},e=[],n,s,r=[],a=!1){const[o,...i]=e;if(typeof o=="string")qd(t,kh[o],n,s,r,a);else if(o){const l=Vzt(s,o);if(!l.setSource)return r.push(l),qd(t,i,n,s,r,a);l.setSource(Object.assign({},t),function(u,c){if(u)return qd(t,i,n,s,r,a);r.push(l),qd(c,t.type===c.type?i:kh[c.type],n,s,r,a)})}else i.length?qd(t,i,n,s,r,a):a?n(t,r):qd(t,kh["*"],n,s,r,!0)}const Hzt={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},y4=function(t=""){const e=SD(t);return Hzt[e.toLowerCase()]||""},Uzt=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(r=>r.src===e);if(n.length)return n[0].type;const s=t.$$("source");for(let r=0;r<s.length;r++){const a=s[r];if(a.type&&a.src&&a.src===e)return a.type}return y4(e)},Lee=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=Lee(n),Array.isArray(n)?e=e.concat(n):su(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[kF({src:t})]:su(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[kF(t)]:t=[];return t};function kF(t){if(!t.type){const e=y4(t.src);e&&(t.type=e)}return t}var Wzt=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-twitter">
      <path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;class jzt extends lt{constructor(e,n,s){const r=Ss({createEl:!1},n);if(super(e,r,s),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let a=0,o=n.playerOptions.techOrder;a<o.length;a++){const i=tr(o[a]);let l=$n.getTech(i);if(i||(l=lt.getComponent(i)),l&&l.isSupported()){e.loadTech_(i);break}}else e.src(n.playerOptions.sources)}}lt.registerComponent("MediaLoader",jzt);class h8 extends lt{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=s=>this.handleMouseOver(s),this.handleMouseOut_=s=>this.handleMouseOut(s),this.handleClick_=s=>this.handleClick(s),this.handleKeyDown_=s=>this.handleKeyDown(s),this.emitTapEvents(),this.enable()}createEl(e="div",n={},s={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&Kn.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),s=Object.assign({role:"button"},s),this.tabIndex_=n.tabIndex;const r=On(e,n,s);return this.player_.options_.experimentalSvgIcons||r.appendChild(On("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=On("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const s=this.localize(e);this.controlText_=e,Ad(this.controlTextEl_,s),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",s)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){Sn.isEventKey(e,"Space")||Sn.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}lt.registerComponent("ClickableComponent",h8);class jk extends h8{constructor(e,n){super(e,n),this.update(),this.update_=s=>this.update(s),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return On("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(On("picture",{className:"vjs-poster",tabIndex:-1},{},On("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Rl(this.player_.play()):this.player_.pause())}}jk.prototype.crossorigin=jk.prototype.crossOrigin;lt.registerComponent("PosterImage",jk);const ii="#222",$F="#ccc",Gzt={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function jC(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function qg(t,e,n){try{t.style[e]=n}catch{return}}function EF(t){return t?`${t}px`:""}class qzt extends lt{constructor(e,n,s){super(e,n,s);const r=o=>this.updateDisplay(o),a=o=>{this.updateDisplayOverlay(),this.updateDisplay(o)};e.on("loadstart",o=>this.toggleDisplay(o)),e.on("texttrackchange",r),e.on("loadedmetadata",o=>{this.updateDisplayOverlay(),this.preselectTrack(o)}),e.ready(Ts(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",a),e.on("playerresize",a);const o=Te.screen.orientation||Te,i=Te.screen.orientation?"change":"orientationchange";o.addEventListener(i,a),e.on("dispose",()=>o.removeEventListener(i,a));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),s=this.player_.cache_.selectedLanguage;let r,a,o;for(let i=0;i<n.length;i++){const l=n[i];s&&s.enabled&&s.language&&s.language===l.language&&l.kind in e?l.kind===s.kind?o=l:o||(o=l):s&&!s.enabled?(o=null,r=null,a=null):l.default&&(l.kind==="descriptions"&&!r?r=l:l.kind in e&&!a&&(a=l))}o?o.mode="showing":a?a.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof Te.WebVTT=="function"&&Te.WebVTT.processCues(Te,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const o=[];for(let i=0;i<e.length;++i){const l=e[i];l.mode==="showing"&&o.push(l)}this.updateForTrack(o);return}let s=null,r=null,a=e.length;for(;a--;){const o=e[a];o.mode==="showing"&&(o.kind==="descriptions"?s=o:r=o)}r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):s&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(s))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!Te.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),s=e/n,r=this.player_.videoWidth()/this.player_.videoHeight();let a=0,o=0;Math.abs(s-r)>.1&&(s>r?a=Math.round((e-n*r)/2):o=Math.round((n-e/r)/2)),qg(this.el_,"insetInline",EF(a)),qg(this.el_,"insetBlock",EF(o))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),s=e.activeCues;let r=s.length;for(;r--;){const a=s[r];if(!a)continue;const o=a.displayState;if(n.color&&(o.firstChild.style.color=n.color),n.textOpacity&&qg(o.firstChild,"color",jC(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(o.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&qg(o.firstChild,"backgroundColor",jC(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?qg(o,"backgroundColor",jC(n.windowColor,n.windowOpacity)):o.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?o.firstChild.style.textShadow=`2px 2px 3px ${ii}, 2px 2px 4px ${ii}, 2px 2px 5px ${ii}`:n.edgeStyle==="raised"?o.firstChild.style.textShadow=`1px 1px ${ii}, 2px 2px ${ii}, 3px 3px ${ii}`:n.edgeStyle==="depressed"?o.firstChild.style.textShadow=`1px 1px ${$F}, 0 1px ${$F}, -1px -1px ${ii}, 0 -1px ${ii}`:n.edgeStyle==="uniform"&&(o.firstChild.style.textShadow=`0 0 4px ${ii}, 0 0 4px ${ii}, 0 0 4px ${ii}, 0 0 4px ${ii}`)),n.fontPercent&&n.fontPercent!==1){const i=Te.parseFloat(o.style.fontSize);o.style.fontSize=i*n.fontPercent+"px",o.style.height="auto",o.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=Gzt[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof Te.WebVTT!="function"||e.every(s=>!s.activeCues))return;const n=[];for(let s=0;s<e.length;++s){const r=e[s];for(let a=0;a<r.activeCues.length;++a)n.push(r.activeCues[a])}Te.WebVTT.processCues(Te,n,this.el_);for(let s=0;s<e.length;++s){const r=e[s];for(let a=0;a<r.activeCues.length;++a){const o=r.activeCues[a].displayState;Th(o,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:s)),r.language&&k0(o,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}lt.registerComponent("TextTrackDisplay",qzt);class Kzt extends lt{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),s=On("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(s),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}lt.registerComponent("LoadingSpinner",Kzt);class Qo extends h8{createEl(e,n={},s={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),s=Object.assign({type:"button"},s);const r=On(e,n,s);return this.player_.options_.experimentalSvgIcons||r.appendChild(On("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(e,n={}){const s=this.constructor.name;return Kn.warn(`Adding an actionable (user controllable) child to a Button (${s}) is not supported; use a ClickableComponent instead.`),lt.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(Sn.isEventKey(e,"Space")||Sn.isEventKey(e,"Enter")){e.stopPropagation();return}super.handleKeyDown(e)}}lt.registerComponent("Button",Qo);class Pee extends Qo{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",s=>this.handleMouseDown(s))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){Rl(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const s=this.player_.getChild("controlBar"),r=s&&s.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const a=()=>r.focus();P2(n)?n.then(a,()=>{}):this.setTimeout(a,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}Pee.prototype.controlText_="Play Video";lt.registerComponent("BigPlayButton",Pee);class Xzt extends Qo{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){Sn.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}lt.registerComponent("CloseButton",Xzt);class Mee extends Qo{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",s=>this.handlePlay(s)),this.on(e,"pause",s=>this.handlePause(s)),n.replay&&this.on(e,"ended",s=>this.handleEnded(s))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Rl(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}Mee.prototype.controlText_="Play";lt.registerComponent("PlayToggle",Mee);class dg extends lt{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended"],s=>this.updateContent(s)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),s=On("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(s),this.contentEl_=On("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=nf(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,Kn.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=$t.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}dg.prototype.labelText_="Time";dg.prototype.controlText_="Time";lt.registerComponent("TimeDisplay",dg);class kD extends dg{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}kD.prototype.labelText_="Current Time";kD.prototype.controlText_="Current Time";lt.registerComponent("CurrentTimeDisplay",kD);class $D extends dg{constructor(e,n){super(e,n);const s=r=>this.updateContent(r);this.on(e,"durationchange",s),this.on(e,"loadstart",s),this.on(e,"loadedmetadata",s)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}$D.prototype.labelText_="Duration";$D.prototype.controlText_="Duration";lt.registerComponent("DurationDisplay",$D);class Yzt extends lt{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),s=super.createEl("span",{textContent:"/"});return n.appendChild(s),e.appendChild(n),e}}lt.registerComponent("TimeDivider",Yzt);class ED extends dg{constructor(e,n){super(e,n),this.on(e,"durationchange",s=>this.updateContent(s))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(On("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}ED.prototype.labelText_="Remaining Time";ED.prototype.controlText_="Remaining Time";lt.registerComponent("RemainingTimeDisplay",ED);class Qzt extends lt{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",s=>this.updateShowing(s))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=On("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(On("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild($t.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}lt.registerComponent("LiveDisplay",Qzt);class Fee extends Qo{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=s=>this.updateLiveEdgeStatus(s),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=On("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}Fee.prototype.controlText_="Seek to live, currently playing live";lt.registerComponent("SeekToLive",Fee);function rb(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var Zzt=Object.freeze({__proto__:null,clamp:rb});class ID extends lt{constructor(e,n){super(e,n),this.handleMouseDown_=s=>this.handleMouseDown(s),this.handleMouseUp_=s=>this.handleMouseUp(s),this.handleKeyDown_=s=>this.handleKeyDown(s),this.handleClick_=s=>this.handleClick(s),this.handleMouseMove_=s=>this.handleMouseMove(s),this.update_=s=>this.update(s),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},s={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),s=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},s),super.createEl(e,n,s)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!au&&e.preventDefault(),dee(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;hee(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(rb(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=o8(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){Sn.isEventKey(e,"Left")||Sn.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Sn.isEventKey(e,"Right")||Sn.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}lt.registerComponent("Slider",ID);const GC=(t,e)=>rb(t/e*100,0,100).toFixed(2)+"%";class Jzt extends lt{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",s=>this.update(s))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=On("span",{className:"vjs-control-text"}),s=On("span",{textContent:this.localize("Loaded")}),r=$t.createTextNode(": ");return this.percentageEl_=On("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(s),n.appendChild(r),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,s=this.player_.buffered(),r=n&&n.isLive()?n.seekableEnd():this.player_.duration(),a=this.player_.bufferedEnd(),o=this.partEls_,i=GC(a,r);this.percent_!==i&&(this.el_.style.width=i,Ad(this.percentageEl_,i),this.percent_=i);for(let l=0;l<s.length;l++){const u=s.start(l),c=s.end(l);let d=o[l];d||(d=this.el_.appendChild(On()),o[l]=d),!(d.dataset.start===u&&d.dataset.end===c)&&(d.dataset.start=u,d.dataset.end=c,d.style.left=GC(u,a),d.style.width=GC(c-u,a))}for(let l=o.length;l>s.length;l--)this.el_.removeChild(o[l-1]);o.length=s.length})}}lt.registerComponent("LoadProgressBar",Jzt);class eVt extends lt{constructor(e,n){super(e,n),this.update=iu(Ts(this,this.update),Ri)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,s){const r=V1(this.el_),a=$0(this.player_.el()),o=e.width*n;if(!a||!r)return;const i=e.left-a.left+o,l=e.width-o+(a.right-e.right);let u=r.width/2;i<u?u+=u-i:l<u&&(u=l),u<0?u=0:u>r.width&&(u=r.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(s)}write(e){Ad(this.el_,e)}updateTime(e,n,s,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let a;const o=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const i=this.player_.liveTracker.liveWindow(),l=i-n*i;a=(l<1?"":"-")+nf(l,i)}else a=nf(s,o);this.update(e,n,a),r&&r()})}}lt.registerComponent("TimeTooltip",eVt);class ND extends lt{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=iu(Ts(this,this.update),Ri)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const s=this.getChild("timeTooltip");if(!s)return;const r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();s.updateTime(e,n,r)}}ND.prototype.options_={children:[]};!Xa&&!ru&&ND.prototype.options_.children.push("timeTooltip");lt.registerComponent("PlayProgressBar",ND);class Bee extends lt{constructor(e,n){super(e,n),this.update=iu(Ts(this,this.update),Ri)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const s=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,s,()=>{this.el_.style.left=`${e.width*n}px`})}}Bee.prototype.options_={children:["timeTooltip"]};lt.registerComponent("MouseTimeDisplay",Bee);const h_=5,IF=12;class AD extends ID{constructor(e,n){super(e,n),this.setEventHandlers_()}setEventHandlers_(){this.update_=Ts(this,this.update),this.update=iu(this.update_,Ri),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in $t&&"visibilityState"in $t&&this.on($t,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){$t.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ri))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if($t.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const s=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let a=this.player_.duration();r&&r.isLive()&&(a=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==s||this.duration_!==a)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[nf(s,a),nf(a,a)],"{1} of {2}")),this.currentTime_=s,this.duration_=a),this.bar&&this.bar.update($0(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let n;const s=this.player_.liveTracker;return s&&s.isLive()?(n=(e-s.seekableStart())/s.liveWindow(),s.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){H1(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!H1(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let s;const r=this.calculateDistance(e),a=this.player_.liveTracker;if(!a||!a.isLive())s=r*this.player_.duration(),s===this.player_.duration()&&(s=s-.1);else{if(r>=.99){a.seekToLiveEdge();return}const o=a.seekableStart(),i=a.liveCurrentTime();if(s=o+r*a.liveWindow(),s>=i&&(s=i),s<=o&&(s=o+.1),s===1/0)return}this.userSeek_(s)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Rl(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+h_)}stepBack(){this.userSeek_(this.player_.currentTime()-h_)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(Sn.isEventKey(e,"Space")||Sn.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Sn.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Sn.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Sn(e))){e.preventDefault(),e.stopPropagation();const s=(Sn.codes[Sn(e)]-Sn.codes[0])*10/100;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*s):this.userSeek_(this.player_.duration()*s)}else Sn.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-h_*IF)):Sn.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+h_*IF)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in $t&&"visibilityState"in $t&&this.off($t,"visibilitychange",this.toggleVisibility_),super.dispose()}}AD.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Xa&&!ru&&AD.prototype.options_.children.splice(1,0,"mouseTimeDisplay");lt.registerComponent("SeekBar",AD);class zee extends lt{constructor(e,n){super(e,n),this.handleMouseMove=iu(Ts(this,this.handleMouseMove),Ri),this.throttledHandleMouseSeek=iu(Ts(this,this.handleMouseSeek),Ri),this.handleMouseUpHandler_=s=>this.handleMouseUp(s),this.handleMouseDownHandler_=s=>this.handleMouseDown(s),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const s=n.getChild("playProgressBar"),r=n.getChild("mouseTimeDisplay");if(!s&&!r)return;const a=n.el(),o=V1(a);let i=o8(a,e).x;i=rb(i,0,1),r&&r.update(o,i),s&&s.update(o,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Rl(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,s=this.getChild("seekBar");s&&s.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}zee.prototype.options_={children:["seekBar"]};lt.registerComponent("ProgressControl",zee);class Vee extends Qo{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],s=>this.handlePictureInPictureChange(s)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],s=>this.handlePictureInPictureEnabledChange(s)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){$t.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in Te?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof $t.exitPictureInPicture=="function"&&super.show()}}Vee.prototype.controlText_="Picture-in-Picture";lt.registerComponent("PictureInPictureToggle",Vee);class Hee extends Qo{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",s=>this.handleFullscreenChange(s)),$t[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Hee.prototype.controlText_="Fullscreen";lt.registerComponent("FullscreenToggle",Hee);const tVt=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class nVt extends lt{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}lt.registerComponent("VolumeLevel",nVt);class sVt extends lt{constructor(e,n){super(e,n),this.update=iu(Ts(this,this.update),Ri)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,s,r){if(!s){const a=$0(this.el_),o=$0(this.player_.el()),i=e.width*n;if(!o||!a)return;const l=e.left-o.left+i,u=e.width-i+(o.right-e.right);let c=a.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>a.width&&(c=a.width),this.el_.style.right=`-${c}px`}this.write(`${r}%`)}write(e){Ad(this.el_,e)}updateVolume(e,n,s,r,a){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,s,r.toFixed(0)),a&&a()})}}lt.registerComponent("VolumeLevelTooltip",sVt);class Uee extends lt{constructor(e,n){super(e,n),this.update=iu(Ts(this,this.update),Ri)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,s){const r=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,s,r,()=>{s?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}Uee.prototype.options_={children:["volumeLevelTooltip"]};lt.registerComponent("MouseVolumeLevelDisplay",Uee);class f8 extends ID{constructor(e,n){super(e,n),this.on("slideractive",s=>this.updateLastVolume_(s)),this.on(e,"volumechange",s=>this.updateARIAAttributes(s)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){H1(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const s=this.el(),r=$0(s),a=this.vertical();let o=o8(s,e);o=a?o.y:o.x,o=rb(o,0,1),n.update(r,o,a)}H1(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}f8.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Xa&&!ru&&f8.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");f8.prototype.playerEvent="volumechange";lt.registerComponent("VolumeBar",f8);class Wee extends lt{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||T0(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),tVt(this,e),this.throttledHandleMouseMove=iu(Ts(this,this.handleMouseMove),Ri),this.handleMouseUpHandler_=s=>this.handleMouseUp(s),this.on("mousedown",s=>this.handleMouseDown(s)),this.on("touchstart",s=>this.handleMouseDown(s)),this.on("mousemove",s=>this.handleMouseMove(s)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}Wee.prototype.options_={children:["volumeBar"]};lt.registerComponent("VolumeControl",Wee);const rVt=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class jee extends Qo{constructor(e,n){super(e,n),rVt(this,e),this.on(e,["loadstart","volumechange"],s=>this.update(s))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),s=this.player_.lastVolume_();if(n===0){const r=s<.1?.1:s;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Xa&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),r8(this.el_,[0,1,2,3].reduce((s,r)=>s+`${r?" ":""}vjs-vol-${r}`,"")),Th(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}jee.prototype.controlText_="Mute";lt.registerComponent("MuteToggle",jee);class Gee extends lt{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||T0(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=s=>this.handleKeyPress(s),this.on(e,["loadstart"],s=>this.volumePanelState_(s)),this.on(this.muteToggle,"keyup",s=>this.handleKeyPress(s)),this.on(this.volumeControl,"keyup",s=>this.handleVolumeControlKeyUp(s)),this.on("keydown",s=>this.handleKeyPress(s)),this.on("mouseover",s=>this.handleMouseOver(s)),this.on("mouseout",s=>this.handleMouseOut(s)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){Sn.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),ei($t,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),$a($t,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){Sn.isEventKey(e,"Esc")&&this.handleMouseOut()}}Gee.prototype.options_={children:["muteToggle","volumeControl"]};lt.registerComponent("VolumePanel",Gee);class aVt extends Qo{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),s=this.player_.liveTracker,r=s&&s.isLive()?s.seekableEnd():this.player_.duration();let a;n+this.skipTime<=r?a=n+this.skipTime:a=r,this.player_.currentTime(a)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}lt.registerComponent("SkipForward",aVt);class qee extends Qo{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),s=this.player_.liveTracker,r=s&&s.isLive()&&s.seekableStart();let a;r&&n-this.skipTime<=r?a=r:n>=this.skipTime?a=n-this.skipTime:a=0,this.player_.currentTime(a)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}qee.prototype.controlText_="Skip Backward";lt.registerComponent("SkipBackward",qee);class Kee extends lt{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",s=>this.handleKeyDown(s)),this.boundHandleBlur_=s=>this.handleBlur(s),this.boundHandleTapClick_=s=>this.handleTapClick(s)}addEventListenerForItem(e){e instanceof lt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof lt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=On(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),ei(n,"click",function(s){s.preventDefault(),s.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||$t.activeElement;if(!this.children().some(s=>s.el()===n)){const s=this.menuButton_;s&&s.buttonPressed_&&n!==s.el().firstChild&&s.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const s=n.filter(r=>r.el()===e.target)[0];if(!s)return;s.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){Sn.isEventKey(e,"Left")||Sn.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Sn.isEventKey(e,"Right")||Sn.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}lt.registerComponent("Menu",Kee);class DD extends lt{constructor(e,n={}){super(e,n),this.menuButton_=new Qo(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const s=Qo.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+s,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=a=>this.handleClick(a);this.handleMenuKeyUp_=a=>this.handleMenuKeyUp(a),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",a=>this.handleKeyDown(a)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),ei($t,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",a=>this.handleMouseLeave(a)),this.on("keydown",a=>this.handleSubmenuKeyDown(a))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new Kee(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=On("li",{className:"vjs-menu-title",textContent:tr(this.options_.title),tabIndex:-1}),s=new lt(this.player_,{el:n});e.addItem(s)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=Qo.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),$a($t,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){Sn.isEventKey(e,"Esc")||Sn.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Sn.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Sn.isEventKey(e,"Up")||Sn.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(Sn.isEventKey(e,"Esc")||Sn.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(Sn.isEventKey(e,"Esc")||Sn.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Sn.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Xa&&oee())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}lt.registerComponent("MenuButton",DD);class OD extends DD{constructor(e,n){const s=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!s)return;const r=Ts(this,this.update);s.addEventListener("removetrack",r),s.addEventListener("addtrack",r),s.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){s.removeEventListener("removetrack",r),s.removeEventListener("addtrack",r),s.removeEventListener("labelchange",r)})}}lt.registerComponent("TrackButton",OD);const oVt=["Tab","Esc","Up","Down","Right","Left"];class ab extends h8{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,s){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),s),a=On("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(a):r.replaceChild(a,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(e){oVt.some(n=>Sn.isEventKey(e,n))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}lt.registerComponent("MenuItem",ab);class ob extends ab{constructor(e,n){const s=n.track,r=e.textTracks();n.label=s.label||s.language||"Unknown",n.selected=s.mode==="showing",super(e,n),this.track=s,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const a=(...i)=>{this.handleTracksChange.apply(this,i)},o=(...i)=>{this.handleSelectedLanguageChange.apply(this,i)};if(e.on(["loadstart","texttrackchange"],a),r.addEventListener("change",a),r.addEventListener("selectedlanguagechange",o),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],a),r.removeEventListener("change",a),r.removeEventListener("selectedlanguagechange",o)}),r.onchange===void 0){let i;this.on(["tap","click"],function(){if(typeof Te.Event!="object")try{i=new Te.Event("change")}catch{}i||(i=$t.createEvent("Event"),i.initEvent("change",!0,!0)),r.dispatchEvent(i)})}this.handleTracksChange()}handleClick(e){const n=this.track,s=this.player_.textTracks();if(super.handleClick(e),!!s)for(let r=0;r<s.length;r++){const a=s[r];this.kinds.indexOf(a.kind)!==-1&&(a===n?a.mode!=="showing"&&(a.mode="showing"):a.mode!=="disabled"&&(a.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}lt.registerComponent("TextTrackMenuItem",ob);class Xee extends ob{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let s=!0;for(let r=0,a=n.length;r<a;r++){const o=n[r];if(this.options_.kinds.indexOf(o.kind)>-1&&o.mode==="showing"){s=!1;break}}s!==this.isSelected_&&this.selected(s)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let s=!0;for(let r=0,a=n.length;r<a;r++){const o=n[r];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&o.mode==="showing"){s=!1;break}}s&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}lt.registerComponent("OffTextTrackMenuItem",Xee);class hg extends OD{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=ob){let s;this.label_&&(s=`${this.label_} off`),e.push(new Xee(this.player_,{kinds:this.kinds_,kind:this.kind_,label:s})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let a=0;a<r.length;a++){const o=r[a];if(this.kinds_.indexOf(o.kind)>-1){const i=new n(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});i.addClass(`vjs-${o.kind}-menu-item`),e.push(i)}}return e}}lt.registerComponent("TextTrackButton",hg);class Yee extends ab{constructor(e,n){const s=n.track,r=n.cue,a=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=a&&a<r.endTime,super(e,n),this.track=s,this.cue=r}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}lt.registerComponent("ChaptersTrackMenuItem",Yee);class RD extends hg{constructor(e,n,s){super(e,n,s),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const s=e[n];if(s.kind===this.kind_)return s}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(tr(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let s=0,r=n.length;s<r;s++){const a=n[s],o=new Yee(this.player_,{track:this.track_,cue:a});e.push(o)}return e}}RD.prototype.kind_="chapters";RD.prototype.controlText_="Chapters";lt.registerComponent("ChaptersButton",RD);class LD extends hg{constructor(e,n,s){super(e,n,s),this.setIcon("audio-description");const r=e.textTracks(),a=Ts(this,this.handleTracksChange);r.addEventListener("change",a),this.on("dispose",function(){r.removeEventListener("change",a)})}handleTracksChange(e){const n=this.player().textTracks();let s=!1;for(let r=0,a=n.length;r<a;r++){const o=n[r];if(o.kind!==this.kind_&&o.mode==="showing"){s=!0;break}}s?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}LD.prototype.kind_="descriptions";LD.prototype.controlText_="Descriptions";lt.registerComponent("DescriptionsButton",LD);class PD extends hg{constructor(e,n,s){super(e,n,s),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}PD.prototype.kind_="subtitles";PD.prototype.controlText_="Subtitles";lt.registerComponent("SubtitlesButton",PD);class MD extends ob{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}lt.registerComponent("CaptionSettingsMenuItem",MD);class FD extends hg{constructor(e,n,s){super(e,n,s),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new MD(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}FD.prototype.kind_="captions";FD.prototype.controlText_="Captions";lt.registerComponent("CaptionsButton",FD);class Qee extends ob{createEl(e,n,s){const r=super.createEl(e,n,s),a=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):a.appendChild(On("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(On("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),r}}lt.registerComponent("SubsCapsMenuItem",Qee);class BD extends hg{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(tr(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new MD(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Qee),e}}BD.prototype.kinds_=["captions","subtitles"];BD.prototype.controlText_="Subtitles";lt.registerComponent("SubsCapsButton",BD);class Zee extends ab{constructor(e,n){const s=n.track,r=e.audioTracks();n.label=s.label||s.language||"Unknown",n.selected=s.enabled,super(e,n),this.track=s,this.addClass(`vjs-${s.kind}-menu-item`);const a=(...o)=>{this.handleTracksChange.apply(this,o)};r.addEventListener("change",a),this.on("dispose",()=>{r.removeEventListener("change",a)})}createEl(e,n,s){const r=super.createEl(e,n,s),a=r.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(a.appendChild(On("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(On("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let s=0;s<n.length;s++){const r=n[s];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}lt.registerComponent("AudioTrackMenuItem",Zee);class Jee extends OD{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let s=0;s<n.length;s++){const r=n[s];e.push(new Zee(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}Jee.prototype.controlText_="Audio Track";lt.registerComponent("AudioTrackButton",Jee);class zD extends ab{constructor(e,n){const s=n.rate,r=parseFloat(s,10);n.label=s,n.selected=r===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=s,this.rate=r,this.on(e,"ratechange",a=>this.update(a))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}zD.prototype.contentElType="button";lt.registerComponent("PlaybackRateMenuItem",zD);class ete extends DD{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",s=>this.updateVisibility(s)),this.on(e,"ratechange",s=>this.updateLabel(s)),this.on(e,"playbackrateschange",s=>this.handlePlaybackRateschange(s))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=On("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let s=e.length-1;s>=0;s--)n.push(new zD(this.player(),{rate:e[s]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}ete.prototype.controlText_="Playback Rate";lt.registerComponent("PlaybackRateMenuButton",ete);class tte extends lt{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},s={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,s)}}lt.registerComponent("Spacer",tte);class iVt extends tte{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}lt.registerComponent("CustomControlSpacer",iVt);class nte extends lt{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}nte.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};lt.registerComponent("ControlBar",nte);class ste extends cg{constructor(e,n){super(e,n),this.on(e,"error",s=>this.open(s))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}ste.prototype.options_=Object.assign({},cg.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});lt.registerComponent("ErrorDisplay",ste);const qC="vjs-text-track-settings",NF=["#000","Black"],AF=["#00F","Blue"],DF=["#0FF","Cyan"],OF=["#0F0","Green"],RF=["#F0F","Magenta"],LF=["#F00","Red"],PF=["#FFF","White"],MF=["#FF0","Yellow"],KC=["1","Opaque"],XC=["0.5","Semi-Transparent"],FF=["0","Transparent"],nh={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[NF,PF,LF,OF,AF,MF,RF,DF]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[KC,XC,FF]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[PF,NF,LF,OF,AF,MF,RF,DF]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[KC,XC]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[FF,XC,KC]}};nh.windowColor.options=nh.backgroundColor.options;function rte(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function lVt(t,e){const n=t.options[t.options.selectedIndex].value;return rte(n,e)}function uVt(t,e,n){if(e){for(let s=0;s<t.options.length;s++)if(rte(t.options[s].value,n)===e){t.selectedIndex=s;break}}}class cVt extends cg{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=On("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),"click",()=>{this.setDefaults(),this.updateDisplay()}),Ap(nh,s=>{this.on(this.$(s.selector),"change",this.updateDisplay)}),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,n="",s="label"){const r=nh[e],a=r.id.replace("%s",this.id_),o=[n,a].join(" ").trim();return[`<${s} id="${a}" class="${s==="label"?"vjs-label":""}">`,this.localize(r.label),`</${s}>`,`<select aria-labelledby="${o}">`].concat(r.options.map(i=>{const l=a+"-"+i[1].replace(/\W+/g,"");return[`<option id="${l}" value="${i[0]}" `,`aria-labelledby="${o} ${l}">`,this.localize(i[1]),"</option>"].join("")})).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return On("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return On("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return On("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return eee(nh,(e,n,s)=>{const r=lVt(this.$(n.selector),n.parser);return r!==void 0&&(e[s]=r),e},{})}setValues(e){Ap(nh,(n,s)=>{uVt(this.$(n.selector),e[s],n.parser)})}setDefaults(){Ap(nh,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse(Te.localStorage.getItem(qC))}catch(n){Kn.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?Te.localStorage.setItem(qC,JSON.stringify(e)):Te.localStorage.removeItem(qC)}catch(n){Kn.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,n=e&&e.subsCapsButton,s=e&&e.captionsButton;n?n.focus():s&&s.focus()}handleLanguagechange(){this.fill()}}lt.registerComponent("TextTrackSettings",cVt);class dVt extends lt{constructor(e,n){let s=n.ResizeObserver||Te.ResizeObserver;n.ResizeObserver===null&&(s=!1);const r=Ss({createEl:!s,reportTouchActivity:!1},n);super(e,r),this.ResizeObserver=n.ResizeObserver||Te.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=xee(()=>{this.resizeHandler()},100,!1,this),s?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const a=this.debouncedHandler_;let o=this.unloadListener_=function(){$a(this,"resize",a),$a(this,"unload",o),o=null};ei(this.el_.contentWindow,"unload",o),ei(this.el_.contentWindow,"resize",a)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}lt.registerComponent("ResizeManager",dVt);const hVt={trackingThreshold:20,liveTolerance:15};class fVt extends lt{constructor(e,n){const s=Ss(hVt,n,{createEl:!1});super(e,s),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number(Te.performance.now().toFixed(4)),s=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+s;const r=this.liveCurrentTime(),a=this.player_.currentTime();let o=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-a)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(o=!1),o!==this.behindLiveEdge_&&(this.behindLiveEdge_=o,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ri),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let s=e?e.length:0;for(;s--;)n.push(e.end(s));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let s=e?e.length:0;for(;s--;)n.push(e.start(s));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}lt.registerComponent("LiveTracker",fVt);class pVt extends lt{constructor(e,n){super(e,n),this.on("statechanged",s=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:On("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${ou()}`}),description:On("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${ou()}`})},On("div",{className:"vjs-title-bar"},{},tee(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,s={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const a=this.state[r],o=this.els[r],i=s[r];i8(o),a&&Ad(o,a),n&&(n.removeAttribute(i),a&&n.setAttribute(i,o.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}lt.registerComponent("TitleBar",pVt);const Gk=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),s=[];let r="";if(!n.length)return!1;for(let a=0;a<n.length;a++){const o=n[a].src;o&&s.indexOf(o)===-1&&s.push(o)}return s.length?(s.length===1&&(r=s[0]),t.triggerSourceset(r),!0):!1},mVt=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=$t.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=$t.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",Te.Element.prototype.appendChild.call(this,n),this.innerHTML}}),ate=(t,e)=>{let n={};for(let s=0;s<t.length&&(n=Object.getOwnPropertyDescriptor(t[s],e),!(n&&n.set&&n.get));s++);return n.enumerable=!0,n.configurable=!0,n},gVt=t=>ate([t.el(),Te.HTMLMediaElement.prototype,Te.Element.prototype,mVt],"innerHTML"),BF=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},s=gVt(t),r=a=>(...o)=>{const i=a.apply(e,o);return Gk(t),i};["append","appendChild","insertAdjacentHTML"].forEach(a=>{e[a]&&(n[a]=e[a],e[a]=r(n[a]))}),Object.defineProperty(e,"innerHTML",Ss(s,{set:r(s.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(a=>{e[a]=n[a]}),Object.defineProperty(e,"innerHTML",s)},t.one("sourceset",e.resetSourceWatch_)},vVt=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?Dee(Te.Element.prototype.getAttribute.call(this,"src")):""},set(t){return Te.Element.prototype.setAttribute.call(this,"src",t),t}}),yVt=t=>ate([t.el(),Te.HTMLMediaElement.prototype,vVt],"src"),bVt=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=yVt(t),s=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Ss(n,{set:a=>{const o=n.set.call(e,a);return t.triggerSourceset(e.src),o}})),e.setAttribute=(a,o)=>{const i=s.call(e,a,o);return/src/i.test(a)&&t.triggerSourceset(e.src),i},e.load=()=>{const a=r.call(e);return Gk(t)||(t.triggerSourceset(""),BF(t)),a},e.currentSrc?t.triggerSourceset(e.currentSrc):Gk(t)||BF(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=r,e.setAttribute=s,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Wt extends $n{constructor(e,n){super(e,n);const s=e.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",s&&(this.el_.currentSrc!==s.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(s):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const a=this.el_.childNodes;let o=a.length;const i=[];for(;o--;){const l=a[o];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!r&&!this.el_.hasAttribute("crossorigin")&&d8(l.src)&&(r=!0)):i.push(l))}for(let l=0;l<i.length;l++)this.el_.removeChild(i[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&Kn.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(z1||n8)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Wt.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){bVt(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const s=()=>{n=[];for(let a=0;a<e.length;a++){const o=e[a];o.kind==="metadata"&&n.push({track:o,storedMode:o.mode})}};s(),e.addEventListener("change",s),this.on("dispose",()=>e.removeEventListener("change",s));const r=()=>{for(let a=0;a<n.length;a++){const o=n[a];o.track.mode==="disabled"&&o.track.mode!==o.storedMode&&(o.track.mode=o.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",s),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",s),e.addEventListener("change",s),e.removeEventListener("change",r)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const s=e.toLowerCase();this[`${s}TracksListeners_`]&&Object.keys(this[`${s}TracksListeners_`]).forEach(r=>{this.el()[`${s}Tracks`].removeEventListener(r,this[`${s}TracksListeners_`][r])}),this[`featuresNative${e}Tracks`]=!n,this[`${s}TracksListeners_`]=null,this.proxyNativeTracksForType_(s)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=$i[e],s=this.el()[n.getterName],r=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!s||!s.addEventListener)return;const a={change:i=>{const l={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(l),e==="text"&&this[N0.remoteText.getterName]().trigger(l)},addtrack(i){r.addTrack(i.track)},removetrack(i){r.removeTrack(i.track)}},o=function(){const i=[];for(let l=0;l<r.length;l++){let u=!1;for(let c=0;c<s.length;c++)if(s[c]===r[l]){u=!0;break}u||i.push(r[l])}for(;i.length;)r.removeTrack(i.shift())};this[n.getterName+"Listeners_"]=a,Object.keys(a).forEach(i=>{const l=a[i];s.addEventListener(i,l),this.on("dispose",u=>s.removeEventListener(i,l))}),this.on("loadstart",o),this.on("dispose",i=>this.off("loadstart",o))}proxyNativeTracks_(){$i.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const s=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(s,e),Wt.disposeMediaElement(e),e=s}else{e=$t.createElement("video");const s=this.options_.tag&&Dc(this.options_.tag),r=Ss({},s);(!z1||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,uee(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&k0(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let s=0;s<n.length;s++){const r=n[s],a=this.options_[r];typeof a<"u"&&(a?k0(e,r,r):a8(e,r),e[r]=a)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let s=!1;const r=function(){s=!0};this.on("loadstart",r);const a=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",a),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",a),s||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(s){this.trigger(s)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&s8?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){Kn(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&ru&&au&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Rl(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}reset(){Wt.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,s){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,s):super.addTextTrack(e,n,s)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=$t.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const s=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(s),s}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let s=n.length;for(;s--;)(e===n[s]||e===n[s].track)&&this.el().removeChild(n[s])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Te.performance&&(e.creationTime=Te.performance.now()),e}}Jx(Wt,"TEST_VID",function(){if(!ig())return;const t=$t.createElement("video"),e=$t.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Wt.isSupported=function(){try{Wt.TEST_VID.volume=.5}catch{return!1}return!!(Wt.TEST_VID&&Wt.TEST_VID.canPlayType)};Wt.canPlayType=function(t){return Wt.TEST_VID.canPlayType(t)};Wt.canPlaySource=function(t,e){return Wt.canPlayType(t.type)};Wt.canControlVolume=function(){try{const t=Wt.TEST_VID.volume;Wt.TEST_VID.volume=t/2+.1;const e=t!==Wt.TEST_VID.volume;return e&&Xa?(Te.setTimeout(()=>{Wt&&Wt.prototype&&(Wt.prototype.featuresVolumeControl=t!==Wt.TEST_VID.volume)}),!1):e}catch{return!1}};Wt.canMuteVolume=function(){try{const t=Wt.TEST_VID.muted;return Wt.TEST_VID.muted=!t,Wt.TEST_VID.muted?k0(Wt.TEST_VID,"muted","muted"):a8(Wt.TEST_VID,"muted","muted"),t!==Wt.TEST_VID.muted}catch{return!1}};Wt.canControlPlaybackRate=function(){if(ru&&au&&e8<58)return!1;try{const t=Wt.TEST_VID.playbackRate;return Wt.TEST_VID.playbackRate=t/2+.1,t!==Wt.TEST_VID.playbackRate}catch{return!1}};Wt.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty($t.createElement("video"),"src",{get:t,set:t}),Object.defineProperty($t.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty($t.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty($t.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Wt.supportsNativeTextTracks=function(){return s8||Xa&&au};Wt.supportsNativeVideoTracks=function(){return!!(Wt.TEST_VID&&Wt.TEST_VID.videoTracks)};Wt.supportsNativeAudioTracks=function(){return!!(Wt.TEST_VID&&Wt.TEST_VID.audioTracks)};Wt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){Jx(Wt.prototype,t,()=>Wt[e](),!0)});Wt.prototype.featuresVolumeControl=Wt.canControlVolume();Wt.prototype.movingMediaElementInDOM=!Xa;Wt.prototype.featuresFullscreenResize=!0;Wt.prototype.featuresProgressEvents=!0;Wt.prototype.featuresTimeupdateEvents=!0;Wt.prototype.featuresVideoFrameCallback=!!(Wt.TEST_VID&&Wt.TEST_VID.requestVideoFrameCallback);Wt.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Wt.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Wt.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Wt.prototype["set"+tr(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Wt.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Wt.prototype["set"+tr(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Wt.prototype[t]=function(){return this.el_[t]()}});$n.withSourceHandlers(Wt);Wt.nativeSourceHandler={};Wt.nativeSourceHandler.canPlayType=function(t){try{return Wt.TEST_VID.canPlayType(t)}catch{return""}};Wt.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Wt.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=SD(t.src);return Wt.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Wt.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Wt.nativeSourceHandler.dispose=function(){};Wt.registerSourceHandler(Wt.nativeSourceHandler);$n.registerTech("Html5",Wt);const ote=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],YC={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},qk=["tiny","xsmall","small","medium","large","xlarge","huge"],Y_={};qk.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Y_[t]=`vjs-layout-${e}`});const _Vt={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class ks extends lt{constructor(e,n,s){if(e.id=e.id||n.id||`vjs_video_${ou()}`,n=Object.assign(ks.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const o=e.closest("[lang]");o&&(n.language=o.getAttribute("lang"))}if(super(null,n,s),this.boundDocumentFullscreenChange_=o=>this.documentFullscreenChange_(o),this.boundFullWindowOnEscKey_=o=>this.fullWindowOnEscKey(o),this.boundUpdateStyleEl_=o=>this.updateStyleEl_(o),this.boundApplyInitTime_=o=>this.applyInitTime_(o),this.boundUpdateCurrentBreakpoint_=o=>this.updateCurrentBreakpoint_(o),this.boundHandleTechClick_=o=>this.handleTechClick_(o),this.boundHandleTechDoubleClick_=o=>this.handleTechDoubleClick_(o),this.boundHandleTechTouchStart_=o=>this.handleTechTouchStart_(o),this.boundHandleTechTouchMove_=o=>this.handleTechTouchMove_(o),this.boundHandleTechTouchEnd_=o=>this.handleTechTouchEnd_(o),this.boundHandleTechTap_=o=>this.handleTechTap_(o),this.isFullscreen_=!1,this.log=ZJ(this.id_),this.fsApi_=h4,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Dc(e),this.language(this.options_.language),n.languages){const o={};Object.getOwnPropertyNames(n.languages).forEach(function(i){o[i.toLowerCase()]=n.languages[i]}),this.languages_=o}else this.languages_=ks.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(o=>{if(typeof this[o]!="function")throw new Error(`plugin "${o}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),_D(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ei($t,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=Ss(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(o=>{this[o](n.plugins[o])}),n.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const i=new Te.DOMParser().parseFromString(Wzt,"image/svg+xml");if(i.querySelector("parsererror"))Kn.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=i.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),z1&&this.addClass("vjs-touch-enabled"),Xa||this.addClass("vjs-workinghover"),ks.players[this.id_]=this;const a=YJ.split(".")[0];this.addClass(`vjs-v${a}`),this.userActive(!0),this.reportUserActivity(),this.one("play",o=>this.listenForUserActivity_(o)),this.on("keydown",o=>this.handleKeyDown(o)),this.on("languagechange",o=>this.handleLanguagechange(o)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),$a($t,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),$a($t,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ks.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),zzt(this),Ba.names.forEach(e=>{const n=Ba[e],s=this[n.getterName]();s&&s.off&&s.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,s=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";s?n=this.el_=e.parentNode:r||(n=this.el_=super.createEl("div"));const a=Dc(e);if(r){for(n=this.el_=e,e=this.tag=$t.createElement("video");n.children.length;)e.appendChild(n.firstChild);R2(n,"video-js")||Th(n,"video-js"),n.appendChild(e),s=this.playerElIngest_=n,Object.keys(n).forEach(i=>{try{e[i]=n[i]}catch{}})}if(e.setAttribute("tabindex","-1"),a.tabindex="-1",au&&t8&&(e.setAttribute("role","application"),a.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(i){r&&i==="class"||n.setAttribute(i,a[i]),r&&e.setAttribute(i,a[i])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused"),Te.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=_ee("vjs-styles-dimensions");const i=fd(".vjs-styles-defaults"),l=fd("head");l.insertBefore(this.styleEl_,i?i.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let i=0;i<o.length;i++){const l=o.item(i);Th(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!s&&e.parentNode.insertBefore(n,e),Fk(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Kn.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const s=e+"_";if(n===void 0)return this[s]||0;if(n===""||n==="auto"){this[s]=void 0,this.updateStyleEl_();return}const r=parseFloat(n);if(isNaN(r)){Kn.error(`Improper value "${n}" supplied for for ${e}`);return}this[s]=r,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Ou(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),gzt(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(Te.VIDEOJS_NO_DYNAMIC_STYLE===!0){const i=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(i>=0&&(u.width=i),l>=0&&(u.height=l));return}let e,n,s,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?s=this.aspectRatio_:this.videoWidth()>0?s=this.videoWidth()+":"+this.videoHeight():s="16:9";const a=s.split(":"),o=a[1]/a[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/o:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*o,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),wee(this.styleEl_,`
      .${r} {
        width: ${e}px;
        height: ${n}px;
      }

      .${r}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${o*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const s=tr(e),r=e.charAt(0).toLowerCase()+e.slice(1);s!=="Html5"&&this.tag&&($n.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=s,this.isReady_=!1;let a=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(a=!1);const o={source:n,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${r}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Ba.names.forEach(l=>{const u=Ba[l];o[u.getterName]=this[u.privateName]}),Object.assign(o,this.options_[s]),Object.assign(o,this.options_[r]),Object.assign(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);const i=$n.getTech(e);if(!i)throw new Error(`No Tech named '${s}' exists! '${s}' should be registered using videojs.registerTech()'`);this.tech_=new i(o),this.tech_.ready(Ts(this,this.handleTechReady_),!0),_F.jsonToTextTracks(this.textTracksJson_||[],this.tech_),ote.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${tr(l)}_`](u))}),Object.keys(YC).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${YC[l]}_`].bind(this),event:u});return}this[`handleTech${YC[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(s!=="Html5"||!this.tag)&&Fk(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Ba.names.forEach(e=>{const n=Ba[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=_F.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Kn.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const r=this.muted();this.muted(!0);const a=()=>{this.muted(r)};this.playTerminatedQueue_.push(a);const o=this.play();if(P2(o))return o.catch(i=>{throw a(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${i||""}`)})};let s;if(e==="any"&&!this.muted()?(s=this.play(),P2(s)&&(s=s.catch(n))):e==="muted"&&!this.muted()?s=n():s=this.play(),!!P2(s))return s.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,s="";typeof n!="string"&&(n=e.src,s=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!s&&(s=Uzt(this,n)),this.cache_.source=Ss({},e,{src:n,type:s});const r=this.cache_.sources.filter(l=>l.src&&l.src===n),a=[],o=this.$$("source"),i=[];for(let l=0;l<o.length;l++){const u=Dc(o[l]);a.push(u),u.src&&u.src===n&&i.push(u.src)}i.length&&!r.length?this.cache_.sources=a:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=a=>this.updateSourceCaches_(a);const s=this.currentSource().src,r=e.src;s&&!/^blob:/.test(s)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==s)&&(n=()=>{}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],a=>{if(a.type==="sourceset")return;const o=this.techGet_("currentSrc");this.lastSource_.tech=o,this.updateSourceCaches_(o)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Rl(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),s=>s.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const s=this.el();let r=$t[this.fsApi_.fullscreenElement]===s;!r&&s.matches&&(r=s.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in Fzt)return Pzt(this.middleware_,this.tech_,e,n);if(e in TF)return SF(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(s){throw Kn(s),s}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in Mzt)return Lzt(this.middleware_,this.tech_,e);if(e in TF)return SF(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(Kn(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(Kn(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(Kn(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Rl){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),s=!!(s8||Xa);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=o=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&s&&this.load();return}const r=this.techGet_("play");s&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(s){s(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||ql(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=ql(0,0)),e}bufferedPercent(){return Nee(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let s=e.end(e.length-1);return s>n&&(s=n),s}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((s,r)=>{function a(){n.off("fullscreenerror",i),n.off("fullscreenchange",o)}function o(){a(),s()}function i(u,c){a(),r(c)}n.one("fullscreenchange",o),n.one("fullscreenerror",i);const l=n.requestFullscreenHelper_(e);l&&(l.then(a,a),l.then(s,r))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const s=this.el_[this.fsApi_.requestFullscreen](n);return s&&s.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,s)=>{function r(){e.off("fullscreenerror",o),e.off("fullscreenchange",a)}function a(){r(),n()}function o(l,u){r(),s(u)}e.one("fullscreenchange",a),e.one("fullscreenerror",o);const i=e.exitFullscreenHelper_();i&&(i.then(r,r),i.then(n,s))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=$t[this.fsApi_.exitFullscreen]();return e&&Rl(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=$t.documentElement.style.overflow,ei($t,"keydown",this.boundFullWindowOnEscKey_),$t.documentElement.style.overflow="hidden",Th($t.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){Sn.isEventKey(e,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,$a($t,"keydown",this.boundFullWindowOnEscKey_),$t.documentElement.style.overflow=this.docOrigOverflow,r8($t.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&Te.documentPictureInPicture){const e=$t.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(On("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),Te.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(vee(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),n.addEventListener("pagehide",s=>{const r=s.target.querySelector(".video-js");e.parentNode.replaceChild(r,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in $t&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(Te.documentPictureInPicture&&Te.documentPictureInPicture.window)return Te.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in $t)return $t.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const a=r.tagName.toLowerCase();if(r.isContentEditable)return!0;const o=["button","checkbox","hidden","radio","reset","submit"];return a==="input"?o.indexOf(r.type)===-1:["textarea"].indexOf(a)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:s=o=>Sn.isEventKey(o,"f"),muteKey:r=o=>Sn.isEventKey(o,"m"),playPauseKey:a=o=>Sn.isEventKey(o,"k")||Sn.isEventKey(o,"Space")}=n;if(s.call(this,e)){e.preventDefault(),e.stopPropagation();const o=lt.getComponent("FullscreenToggle");$t[this.fsApi_.fullscreenEnabled]!==!1&&o.prototype.handleClick.call(this,e)}else r.call(this,e)?(e.preventDefault(),e.stopPropagation(),lt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):a.call(this,e)&&(e.preventDefault(),e.stopPropagation(),lt.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let s=0,r=this.options_.techOrder;s<r.length;s++){const a=r[s];let o=$n.getTech(a);if(o||(o=lt.getComponent(a)),!o){Kn.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`);continue}if(o.isSupported()&&(n=o.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(i=>[i,$n.getTech(i)]).filter(([i,l])=>l?l.isSupported():(Kn.error(`The "${i}" tech is undefined. Skipped browser support check for that tech.`),!1)),s=function(i,l,u){let c;return i.some(d=>l.some(h=>{if(c=u(d,h),c)return!0})),c};let r;const a=i=>(l,u)=>i(u,l),o=([i,l],u)=>{if(l.canPlaySource(u,this.options_[i.toLowerCase()]))return{source:u,tech:i}};return this.options_.sourceOrder?r=s(e,n,a(o)):r=s(n,e,o),r||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const s=Lee(e);if(!s.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=s),this.updateSourceCaches_(s[0]),Ozt(this,s[0],(r,a)=>{if(this.middleware_=a,n||(this.cache_.sources=s),this.updateSourceCaches_(r),this.src_(r)){if(s.length>1)return this.handleSrc_(s.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Rzt(a,this.tech_)}),s.length>1){const r=()=>{this.error(null),this.handleSrc_(s.slice(1),!0)},a=()=>{this.off("error",r)};this.one("error",r),this.one("playing",a),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",a)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?kee(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Rl(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ou(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:s,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:a}=s||{};e&&e.updateContent(),n&&n.updateContent(),r&&r.updateContent(),a&&(a.update(),a.loadProgressBar&&a.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(hd("beforeerror").forEach(n=>{const s=n(this,e);if(!(su(s)&&!Array.isArray(s)||typeof s=="string"||typeof s=="number"||s===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=s}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Ua(e),this.addClass("vjs-error"),Kn.error(`(CODE:${this.error_.code} ${Ua.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),hd("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,s;const r=Ts(this,this.reportUserActivity),a=function(d){(d.screenX!==n||d.screenY!==s)&&(n=d.screenX,s=d.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},i=function(d){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",a),this.on("mouseup",i),this.on("mouseleave",i);const l=this.getChild("controlBar");l&&!Xa&&!ru&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const d=this.options_.inactivityTimeout;d<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),s=n&&n.currentHeight();e.forEach(r=>{r!==n&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(s),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,s){if(this.tech_)return this.tech_.addTextTrack(e,n,s)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Ou(this)&&this.trigger("languagechange"))}languages(){return Ss(ks.prototype.options_.languages,this.languages_)}toJSON(){const e=Ss(this.options_),n=e.tracks;e.tracks=[];for(let s=0;s<n.length;s++){let r=n[s];r=Ss(r),r.player=void 0,e.tracks[s]=r}return e}createModal(e,n){n=n||{},n.content=e||"";const s=new cg(this,n);return this.addChild(s),s.on("dispose",()=>{this.removeChild(s)}),s.open(),s}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let s=0;s<qk.length;s++){const r=qk[s],a=this.breakpoints_[r];if(n<=a){if(e===r)return;e&&this.removeClass(Y_[e]),this.addClass(Y_[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},_Vt,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Y_[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const s=this.crossOrigin();this.reset(),this.cache_.media=Ss(e);const{artist:r,artwork:a,description:o,poster:i,src:l,textTracks:u,title:c}=this.cache_.media;!a&&i&&(this.cache_.media.artwork=[{src:i,type:y4(i)}]),s&&this.crossOrigin(s),l&&this.src(l),i&&this.poster(i),Array.isArray(u)&&u.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:c,description:o||r||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),s=Array.prototype.map.call(this.remoteTextTracks(),a=>({kind:a.kind,label:a.label,language:a.language,src:a.src})),r={src:n,textTracks:s};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:y4(r.poster)}]),r}return Ss(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},s=Dc(e),r=s["data-setup"];if(R2(e,"vjs-fill")&&(s.fill=!0),R2(e,"vjs-fluid")&&(s.fluid=!0),r!==null){const[a,o]=aMt(r||"{}");a&&Kn.error(a),Object.assign(s,o)}if(Object.assign(n,s),e.hasChildNodes()){const a=e.childNodes;for(let o=0,i=a.length;o<i;o++){const l=a[o],u=l.nodeName.toLowerCase();u==="source"?n.sources.push(Dc(l)):u==="track"&&n.tracks.push(Dc(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Ba.names.forEach(function(t){const e=Ba[t];ks.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ks.prototype.crossorigin=ks.prototype.crossOrigin;ks.players={};const Kg=Te.navigator;ks.prototype.options_={techOrder:$n.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Kg&&(Kg.languages&&Kg.languages[0]||Kg.userLanguage||Kg.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){ks.prototype[t]=function(){return this.techGet_(t)}});ote.forEach(function(t){ks.prototype[`handleTech${tr(t)}_`]=function(){return this.trigger(t)}});lt.registerComponent("Player",ks);const b4="plugin",Rp="activePlugins_",yp={},_4=t=>yp.hasOwnProperty(t),Q_=t=>_4(t)?yp[t]:void 0,ite=(t,e)=>{t[Rp]=t[Rp]||{},t[Rp][e]=!0},w4=(t,e,n)=>{const s=(n?"before":"")+"pluginsetup";t.trigger(s,e),t.trigger(s+":"+e.name,e)},wVt=function(t,e){const n=function(){w4(this,{name:t,plugin:e,instance:null},!0);const s=e.apply(this,arguments);return ite(this,t),w4(this,{name:t,plugin:e,instance:s}),s};return Object.keys(e).forEach(function(s){n[s]=e[s]}),n},zF=(t,e)=>(e.prototype.name=t,function(...n){w4(this,{name:t,plugin:e,instance:null},!0);const s=new e(this,...n);return this[t]=()=>s,w4(this,s.getEventHash()),s});class Co{constructor(e){if(this.constructor===Co)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),_D(this),delete this.trigger,Tee(this,this.constructor.defaultState),ite(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return ug(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Rp][e]=!1,this.player=this.state=null,n[e]=zF(e,yp[e])}static isBasic(e){const n=typeof e=="string"?Q_(e):e;return typeof n=="function"&&!Co.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(_4(e))Kn.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(ks.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return yp[e]=n,e!==b4&&(Co.isBasic(n)?ks.prototype[e]=wVt(e,n):ks.prototype[e]=zF(e,n)),n}static deregisterPlugin(e){if(e===b4)throw new Error("Cannot de-register base plugin.");_4(e)&&(delete yp[e],delete ks.prototype[e])}static getPlugins(e=Object.keys(yp)){let n;return e.forEach(s=>{const r=Q_(s);r&&(n=n||{},n[s]=r)}),n}static getPluginVersion(e){const n=Q_(e);return n&&n.VERSION||""}}Co.getPlugin=Q_;Co.BASE_PLUGIN_NAME=b4;Co.registerPlugin(b4,Co);ks.prototype.usingPlugin=function(t){return!!this[Rp]&&this[Rp][t]===!0};ks.prototype.hasPlugin=function(t){return!!_4(t)};function xVt(t,e){let n=!1;return function(...s){return n||Kn.warn(t),n=!0,e.apply(this,s)}}function wl(t,e,n,s){return xVt(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,s)}const lte=t=>t.indexOf("#")===0?t.slice(1):t;function et(t,e,n){let s=et.getPlayer(t);if(s)return e&&Kn.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&s.ready(n),s;const r=typeof t=="string"?fd("#"+lte(t)):t;if(!lg(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const o=("getRootNode"in r?r.getRootNode()instanceof Te.ShadowRoot:!1)?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!o.contains(r))&&Kn.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),hd("beforesetup").forEach(l=>{const u=l(r,Ss(e));if(!su(u)||Array.isArray(u)){Kn.error("please return an object in beforesetup hooks");return}e=Ss(e,u)});const i=lt.getComponent("Player");return s=new i(r,e,n),hd("setup").forEach(l=>l(s)),s}et.hooks_=Tu;et.hooks=hd;et.hook=nzt;et.hookOnce=szt;et.removeHook=QJ;if(Te.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&ig()){let t=fd(".vjs-styles-defaults");if(!t){t=_ee("vjs-styles-defaults");const e=fd("head");e&&e.insertBefore(t,e.firstChild),wee(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}zk(1,et);et.VERSION=YJ;et.options=ks.prototype.options_;et.getPlayers=()=>ks.players;et.getPlayer=t=>{const e=ks.players;let n;if(typeof t=="string"){const s=lte(t),r=e[s];if(r)return r;n=fd("#"+s)}else n=t;if(lg(n)){const{player:s,playerId:r}=n;if(s||e[r])return s||e[r]}};et.getAllPlayers=()=>Object.keys(ks.players).map(t=>ks.players[t]).filter(Boolean);et.players=ks.players;et.getComponent=lt.getComponent;et.registerComponent=(t,e)=>($n.isTech(e)&&Kn.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),lt.registerComponent.call(lt,t,e));et.getTech=$n.getTech;et.registerTech=$n.registerTech;et.use=Dzt;Object.defineProperty(et,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(et.middleware,"TERMINATOR",{value:v4,writeable:!1,enumerable:!0});et.browser=izt;et.obj=ozt;et.mergeOptions=wl(9,"videojs.mergeOptions","videojs.obj.merge",Ss);et.defineLazyProperty=wl(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Jx);et.bind=wl(9,"videojs.bind","native Function.prototype.bind",Ts);et.registerPlugin=Co.registerPlugin;et.deregisterPlugin=Co.deregisterPlugin;et.plugin=(t,e)=>(Kn.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Co.registerPlugin(t,e));et.getPlugins=Co.getPlugins;et.getPlugin=Co.getPlugin;et.getPluginVersion=Co.getPluginVersion;et.addLanguage=function(t,e){return t=(""+t).toLowerCase(),et.options.languages=Ss(et.options.languages,{[t]:e}),et.options.languages[t]};et.log=Kn;et.createLogger=ZJ;et.time=wzt;et.createTimeRange=wl(9,"videojs.createTimeRange","videojs.time.createTimeRanges",ql);et.createTimeRanges=wl(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",ql);et.formatTime=wl(9,"videojs.formatTime","videojs.time.formatTime",nf);et.setFormatTime=wl(9,"videojs.setFormatTime","videojs.time.setFormatTime",Eee);et.resetFormatTime=wl(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",Iee);et.parseUrl=wl(9,"videojs.parseUrl","videojs.url.parseUrl",CD);et.isCrossOrigin=wl(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",d8);et.EventTarget=Li;et.any=bD;et.on=ei;et.one=u8;et.off=$a;et.trigger=ug;et.xhr=JZ;et.TextTrack=sb;et.AudioTrack=Oee;et.VideoTrack=Ree;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{et[t]=function(){return Kn.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),yee[t].apply(null,arguments)}});et.computedStyle=wl(9,"videojs.computedStyle","videojs.dom.computedStyle",E0);et.dom=yee;et.fn=mzt;et.num=Zzt;et.str=bzt;et.url=Nzt;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */class CVt{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(s){n.enabled_(s)}}),n}}class x4 extends et.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const s=this.levels_.length;return n=new CVt(e),""+s in this||Object.defineProperty(this,s,{get(){return this.levels_[s]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let s=0,r=this.length;s<r;s++)if(this[s]===e){n=this.levels_.splice(s,1)[0],this.selectedIndex_===s?this.selectedIndex_=-1:this.selectedIndex_>s&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,s=this.length;n<s;n++){const r=this[n];if(r.id===e)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}x4.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in x4.prototype.allowedEvents_)x4.prototype["on"+t]=null;var ute="4.0.0";const SVt=function(t,e){const n=t.qualityLevels,s=new x4,r=function(){s.dispose(),t.qualityLevels=n,t.off("dispose",r)};return t.on("dispose",r),t.qualityLevels=()=>s,t.qualityLevels.VERSION=ute,s},cte=function(t){return SVt(this,et.obj.merge({},t))};et.registerPlugin("qualityLevels",cte);cte.VERSION=ute;/*! @name @videojs/http-streaming @version 3.6.0 @license Apache-2.0 */const Yi=KMt,C4=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,xl=t=>et.log.debug?et.log.debug.bind(et,"VHS:",`${t} >`):function(){};function fs(...t){const e=et.obj||et;return(e.merge||e.mergeOptions).apply(e,t)}function Sa(...t){const e=et.time||et;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function TVt(t){let e="";for(let n=0;n<t.length;n++){const s=t.start(n),r=t.end(n),a=r-s;e.length&&(e+=`
`),e+=`[${a}](${s} -> ${r})`}return e||"empty"}const pd=1/30,Ll=pd*3,dte=function(t,e){const n=[];let s;if(t&&t.length)for(s=0;s<t.length;s++)e(t.start(s),t.end(s))&&n.push([t.start(s),t.end(s)]);return Sa(n)},bp=function(t,e){return dte(t,function(n,s){return n-Ll<=e&&s+Ll>=e})},f_=function(t,e){return dte(t,function(n){return n-pd>=e})},kVt=function(t){if(t.length<2)return Sa();const e=[];for(let n=1;n<t.length;n++){const s=t.end(n-1),r=t.start(n);e.push([s,r])}return Sa(e)},$Vt=function(t,e){let n=null,s=null,r=0;const a=[],o=[];if(!t||!t.length||!e||!e.length)return Sa();let i=t.length;for(;i--;)a.push({time:t.start(i),type:"start"}),a.push({time:t.end(i),type:"end"});for(i=e.length;i--;)a.push({time:e.start(i),type:"start"}),a.push({time:e.end(i),type:"end"});for(a.sort(function(l,u){return l.time-u.time}),i=0;i<a.length;i++)a[i].type==="start"?(r++,r===2&&(n=a[i].time)):a[i].type==="end"&&(r--,r===1&&(s=a[i].time)),n!==null&&s!==null&&(o.push([n,s]),n=null,s=null);return Sa(o)},hte=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},EVt=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},ph=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},IVt=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},VF=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},VD=function(t,e){let n=0;if(!t||!t.length)return n;for(let s=0;s<t.length;s++){const r=t.start(s),a=t.end(s);if(!(e>a)){if(e>r&&e<=a){n+=a-e;continue}n+=a-r}}return n},HD=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(s){n+=s.duration}),(e.preloadHints||[]).forEach(function(s){s.type==="PART"&&(n+=t.partTargetDuration)}),n},Kk=t=>(t.segments||[]).reduce((e,n,s)=>(n.parts?n.parts.forEach(function(r,a){e.push({duration:r.duration,segmentIndex:s,partIndex:a,part:r,segment:n})}):e.push({duration:n.duration,segmentIndex:s,partIndex:null,segment:n,part:null}),e),[]),fte=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},pte=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let s=(n||[]).reduce((r,a)=>r+(a.type==="PART"?1:0),0);return s+=e&&e.length?e.length:0,s},mte=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=fte(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},NVt=function(t,e){let n=0,s=e-t.mediaSequence,r=t.segments[s];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;s--;){if(r=t.segments[s],typeof r.end<"u")return{result:n+r.end,precise:!0};if(n+=HD(t,r),typeof r.start<"u")return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},AVt=function(t,e){let n=0,s,r=e-t.mediaSequence;for(;r<t.segments.length;r++){if(s=t.segments[r],typeof s.start<"u")return{result:s.start-n,precise:!0};if(n+=HD(t,s),typeof s.end<"u")return{result:s.end-n,precise:!0}}return{result:-1,precise:!1}},gte=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const s=NVt(t,e);if(s.precise)return s.result;const r=AVt(t,e);return r.precise?r.result:s.result+n},vte=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return Te.Infinity}return gte(t,e,n)},M2=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:s}){let r=0;if(n>s&&([n,s]=[s,n]),n<0){for(let a=n;a<Math.min(0,s);a++)r+=t;n=0}for(let a=n;a<s;a++)r+=e[a].duration;return r},yte=function(t,e,n,s){if(!t||!t.segments)return null;if(t.endList)return vte(t);if(e===null)return null;e=e||0;let r=gte(t,t.mediaSequence+t.segments.length,e);return n&&(s=typeof s=="number"?s:mte(null,t),r-=s),Math.max(0,r)},DVt=function(t,e,n){const r=e||0,a=yte(t,e,!0,n);return a===null?Sa():Sa(r,a)},OVt=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:s,startTime:r,exactManifestTimings:a}){let o=e-r;const i=Kk(t);let l=0;for(let u=0;u<i.length;u++){const c=i[u];if(n===c.segmentIndex&&!(typeof s=="number"&&typeof c.partIndex=="number"&&s!==c.partIndex)){l=u;break}}if(o<0){if(l>0)for(let u=l-1;u>=0;u--){const c=i[u];if(o+=c.duration,a){if(o<0)continue}else if(o+pd<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:r-M2({defaultDuration:t.targetDuration,durationList:i,startIndex:l,endIndex:u})}}return{partIndex:i[0]&&i[0].partIndex||null,segmentIndex:i[0]&&i[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(o-=t.targetDuration,o<0)return{partIndex:i[0]&&i[0].partIndex||null,segmentIndex:i[0]&&i[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<i.length;u++){const c=i[u];if(o-=c.duration,a){if(o>0)continue}else if(o-pd>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:r+M2({defaultDuration:t.targetDuration,durationList:i,startIndex:l,endIndex:u})}}return{segmentIndex:i[i.length-1].segmentIndex,partIndex:i[i.length-1].partIndex,startTime:e}},bte=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},UD=function(t){return t.excludeUntil&&t.excludeUntil===1/0},p8=function(t){const e=bte(t);return!t.disabled&&!e},RVt=function(t){return t.disabled},LVt=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},_te=function(t,e){return e.attributes&&e.attributes[t]},PVt=function(t,e,n,s=0){return _te("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-s*8)/e:NaN},Xk=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(s=>p8(s)?(s.attributes.BANDWIDTH||0)<n:!1).length===0},WD=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),HF=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let s=!1;for(const r in n){for(const a in n[r])if(s=e(n[r][a]),s)break;if(s)break}return!!s},ib=t=>{if(!t||!t.playlists||!t.playlists.length)return HF(t,n=>n.playlists&&n.playlists.length||n.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],s=n.attributes&&n.attributes.CODECS;if(!(s&&s.split(",").every(a=>oJ(a))||HF(t,a=>WD(n,a))))return!1}return!0};var go={liveEdgeDelay:mte,duration:vte,seekable:DVt,getMediaInfoForTime:OVt,isEnabled:p8,isDisabled:RVt,isExcluded:bte,isIncompatible:UD,playlistEnd:yte,isAes:LVt,hasAttribute:_te,estimateSegmentRequestTime:PVt,isLowestEnabledRendition:Xk,isAudioOnly:ib,playlistMatch:WD,segmentDurationWithParts:HD};const{log:wte}=et,jD=(t,e)=>`${t}-${e}`,MVt=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,FVt=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:s=[],customTagMappers:r=[],llhls:a})=>{const o=new tFt;t&&o.on("warn",t),e&&o.on("info",e),s.forEach(u=>o.addParser(u)),r.forEach(u=>o.addTagMapper(u)),o.push(n),o.end();const i=o.manifest;if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){i.hasOwnProperty(u)&&delete i[u]}),i.segments&&i.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!i.targetDuration){let u=10;i.segments&&i.segments.length&&(u=i.segments.reduce((c,d)=>Math.max(c,d.duration),0)),t&&t(`manifest has no targetDuration defaulting to ${u}`),i.targetDuration=u}const l=fte(i);if(l.length&&!i.partTargetDuration){const u=l.reduce((c,d)=>Math.max(c,d.duration),0);t&&(t(`manifest has no partTargetDuration defaulting to ${u}`),wte.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),i.partTargetDuration=u}return i},fg=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const s in t.mediaGroups[n])for(const r in t.mediaGroups[n][s]){const a=t.mediaGroups[n][s][r];e(a,n,s,r)}})},xte=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},BVt=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];xte({playlist:n,id:jD(e,n.uri)}),n.resolvedUri=Yi(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||wte.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},zVt=t=>{fg(t,e=>{e.uri&&(e.resolvedUri=Yi(t.uri,e.uri))})},VVt=(t,e)=>{const n=jD(0,e),s={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:Te.location.href,resolvedUri:Te.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return s.playlists[n]=s.playlists[0],s.playlists[e]=s.playlists[0],s},Cte=(t,e,n=MVt)=>{t.uri=e;for(let r=0;r<t.playlists.length;r++)if(!t.playlists[r].uri){const a=`placeholder-uri-${r}`;t.playlists[r].uri=a}const s=ib(t);fg(t,(r,a,o,i)=>{if(!r.playlists||!r.playlists.length){if(s&&a==="AUDIO"&&!r.uri)for(let l=0;l<t.playlists.length;l++){const u=t.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o)return}r.playlists=[dd({},r)]}r.playlists.forEach(function(l,u){const c=n(a,o,i,l),d=jD(u,c);l.uri?l.resolvedUri=l.resolvedUri||Yi(t.uri,l.uri):(l.uri=u===0?c:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),BVt(t),zVt(t)};class UF{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,s=n.startDate.getTime();this.trimProcessedDateRanges_(s),this.pendingDateRanges_=e.reduce((r,a)=>(r.set(a.id,a),r),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((s,r)=>{if(!this.processedDateRanges_.has(r)&&(s.startTime=s.startDate.getTime()/1e3-this.offset_,s.processDateRange=()=>this.processDateRange(s),n.push(s),!!s.class))if(e[s.class]){const a=e[s.class].push(s);s.classListIndex=a-1}else e[s.class]=[s],s.classListIndex=0});for(const s of n){const r=e[s.class]||[];s.endDate?s.endTime=s.endDate.getTime()/1e3-this.offset_:s.endOnNext&&r[s.classListIndex+1]?s.endTime=r[s.classListIndex+1].startTime:s.duration?s.endTime=s.startTime+s.duration:s.plannedDuration?s.endTime=s.startTime+s.plannedDuration:s.endTime=s.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((s,r)=>{s.startDate.getTime()<e&&this.processedDateRanges_.delete(r)})}}const{EventTarget:HVt}=et,UVt=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:s}=e;let r=e.mediaSequence+e.segments.length;if(s){const a=s.parts||[],o=pte(e)-1;o>-1&&o!==a.length-1&&(n._HLS_part=o),(o>-1||a.length)&&r--}n._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const s=new Te.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){n.hasOwnProperty(r)&&s.searchParams.set(r,n[r])}),t=s.toString()}return t},WVt=(t,e)=>{if(!t)return e;const n=fs(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let s=0;s<e.parts.length;s++)t.parts&&t.parts[s]&&(n.parts[s]=fs(t.parts[s],e.parts[s]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},jVt=(t,e,n)=>{const s=t.slice(),r=e.slice();n=n||0;const a=[];let o;for(let i=0;i<r.length;i++){const l=s[i+n],u=r[i];l?(o=l.map||o,a.push(WVt(l,u))):(o&&!u.map&&(u.map=o),a.push(u))}return a},Ste=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Yi(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Yi(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Yi(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Yi(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Yi(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Yi(e,n.uri))})},Tte=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let s=0;s<n.preloadHints.length;s++)if(n.preloadHints[s].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},kte=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,Yk=(t,e,n=kte)=>{const s=fs(t,{}),r=s.playlists[e.id];if(!r||n(r,e))return null;e.segments=Tte(e);const a=fs(r,e);if(a.preloadSegment&&!e.preloadSegment&&delete a.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(let o=0;o<e.skip.skippedSegments;o++)e.segments.unshift({skipped:!0})}a.segments=jVt(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}a.segments.forEach(o=>{Ste(o,a.resolvedUri)});for(let o=0;o<s.playlists.length;o++)s.playlists[o].id===e.id&&(s.playlists[o]=a);return s.playlists[e.id]=a,s.playlists[e.uri]=a,fg(t,(o,i,l,u)=>{if(o.playlists)for(let c=0;c<o.playlists.length;c++)e.id===o.playlists[c].id&&(o.playlists[c]=a)}),s},Qk=(t,e)=>{const n=t.segments||[],s=n[n.length-1],r=s&&s.parts&&s.parts[s.parts.length-1],a=r&&r.duration||s&&s.duration;return e&&a?a*1e3:(t.partTargetDuration||t.targetDuration||10)*500};class _p extends HVt{constructor(e,n,s={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=xl("PlaylistLoader");const{withCredentials:r=!1}=s;this.src=e,this.vhs_=n,this.withCredentials=r,this.addDateRangesToTextTrack_=s.addDateRangesToTextTrack;const a=n.options_;this.customTagParsers=a&&a.customTagParsers||[],this.customTagMappers=a&&a.customTagMappers||[],this.llhls=a&&a.llhls,this.dateRangesStorage_=new UF,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Yi(this.main.uri,e.uri);this.llhls&&(n=UVt(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials},(s,r)=>{if(this.request){if(s)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,s){const{uri:r,id:a}=n;this.request=null,s&&(this.state=s),this.error={playlist:this.main.playlists[a],status:e.status,message:`HLS playlist request error at URL: ${r}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:n}){return FVt({onwarn:({message:s})=>this.logger_(`m3u8-parser warn for ${e}: ${s}`),oninfo:({message:s})=>this.logger_(`m3u8-parser info for ${e}: ${s}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:n,url:s,id:r}){this.request=null,this.state="HAVE_METADATA";const a=n||this.parseManifest_({url:s,manifestString:e});a.lastRequest=Date.now(),xte({playlist:a,uri:s,id:r});const o=Yk(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Qk(this.media(),!!o)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),Te.clearTimeout(this.mediaUpdateTimeout),Te.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new UF,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(Te.clearTimeout(this.finalRenditionTimeout),n){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=Te.setTimeout(this.media.bind(this,e,!1),o);return}const s=this.state,r=!this.media_||e.id!==this.media_.id,a=this.main.playlists[e.id];if(a&&a.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),s==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Qk(e,!0)),!!r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(o,i)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=C4(e.resolvedUri,i),o)return this.playlistRequestError(this.request,e,s);this.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),s==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}}pause(){this.mediaUpdateTimeout&&(Te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(Te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const s=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=Te.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},s);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(Te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=Te.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=Te.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(e,n)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.src=C4(this.src,n);const s=this.parseManifest_({manifestString:n.responseText,url:this.src});this.setupInitialPlaylist(s)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,Cte(this.main,this.srcUri()),e.playlists.forEach(s=>{s.segments=Tte(s),s.segments.forEach(r=>{Ste(r,s.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||Te.location.href;this.main=VVt(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:GVt}=et,Zk=function(t,e,n,s){const r=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),s(e,t)},qVt=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(s=>{n=s(n)}),n},KVt=(t,e,n,s)=>{!t||!t.size||t.forEach(r=>{r(e,n,s)})},$te=function(){const t=function e(n,s){n=fs({timeout:45e3},n);const r=e.beforeRequest||et.Vhs.xhr.beforeRequest,a=e._requestCallbackSet||et.Vhs.xhr._requestCallbackSet||new Set,o=e._responseCallbackSet||et.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(et.log.warn("beforeRequest is deprecated, use onRequest instead."),a.add(r));const i=et.Vhs.xhr.original===!0?GVt:et.Vhs.xhr,l=qVt(a,n);a.delete(r);const u=i(l||n,function(d,h){return KVt(o,u,d,h),Zk(u,d,h,s)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=n.uri,u.requestTime=Date.now(),u};return t.original=!0,t},XVt=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=Te.BigInt(t.offset)+Te.BigInt(t.length)-Te.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},Jk=function(t){const e={};return t.byterange&&(e.Range=XVt(t.byterange)),e},YVt=function(t,e){return t.start(e)+"-"+t.end(e)},QVt=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},ZVt=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Ete=function(t){const e={};return Object.keys(t).forEach(n=>{const s=t[n];lJ(s)?e[n]={bytes:s.buffer,byteOffset:s.byteOffset,byteLength:s.byteLength}:e[n]=s}),e},S4=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},Ite=function(t){return t.resolvedUri},Nte=t=>{const e=Array.prototype.slice.call(t),n=16;let s="",r,a;for(let o=0;o<e.length/n;o++)r=e.slice(o*n,o*n+n).map(QVt).join(""),a=e.slice(o*n,o*n+n).map(ZVt).join(""),s+=r+" "+a+`
`;return s},JVt=({bytes:t})=>Nte(t),eHt=t=>{let e="",n;for(n=0;n<t.length;n++)e+=YVt(t,n)+" ";return e};var tHt=Object.freeze({__proto__:null,createTransferableMessage:Ete,initSegmentId:S4,segmentKeyId:Ite,hexDump:Nte,tagDump:JVt,textRanges:eHt});const Ate=.25,nHt=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,r=e.videoTimingInfo.transmuxedPresentationStart+n,a=t-r;return new Date(e.dateTimeObject.getTime()+a*1e3)},sHt=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,rHt=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let s=e.segments[0];if(n<new Date(s.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){s=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(n<u)break}const r=e.segments[e.segments.length-1],a=r.dateTimeObject,o=r.videoTimingInfo?sHt(r.videoTimingInfo):r.duration+r.duration*Ate,i=new Date(a.getTime()+o*1e3);return n>i?null:(n>new Date(a)&&(s=r),{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:go.duration(e,e.mediaSequence+e.segments.indexOf(s)),type:s.videoTimingInfo?"accurate":"estimate"})},aHt=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,s;for(let a=0;a<e.segments.length&&(s=e.segments[a],n=s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationEnd:n+s.duration,!(t<=n));a++);const r=e.segments[e.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+r.duration*Ate)return null;s=r}return{segment:s,estimatedStart:s.videoTimingInfo?s.videoTimingInfo.transmuxedPresentationStart:n-s.duration,type:s.videoTimingInfo?"accurate":"estimate"}},oHt=(t,e)=>{let n,s;try{n=new Date(t),s=new Date(e)}catch{}const r=n.getTime();return(s.getTime()-r)/1e3},iHt=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},lHt=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const s=aHt(e,t);if(!s)return n({message:"valid programTime was not found"});if(s.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:s.estimatedStart});const r={mediaSeconds:e},a=nHt(e,s.segment);return a&&(r.programDateTime=a.toISOString()),n(null,r)},Dte=({programTime:t,playlist:e,retryCount:n=2,seekTo:s,pauseAfterSeek:r=!0,tech:a,callback:o})=>{if(!o)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!s)return o({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!a.hasStarted_)return o({message:"player must be playing a live stream to start buffering"});if(!iHt(e))return o({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const i=rHt(t,e);if(!i)return o({message:`${t} was not found in the stream`});const l=i.segment,u=oHt(l.dateTimeObject,t);if(i.type==="estimate"){if(n===0)return o({message:`${t} is not buffered yet. Try again`});s(i.estimatedStart+u),a.one("seeked",()=>{Dte({programTime:t,playlist:e,retryCount:n-1,seekTo:s,pauseAfterSeek:r,tech:a,callback:o})});return}const c=l.start+u,d=()=>o(null,a.currentTime());a.one("seeked",d),r&&a.pause(),s(c)},QC=(t,e)=>{if(t.readyState===4)return e()},uHt=(t,e,n)=>{let s=[],r,a=!1;const o=function(c,d,h,f){return d.abort(),a=!0,n(c,d,h,f)},i=function(c,d){if(a)return;if(c)return o(c,d,"",s);const h=d.responseText.substring(s&&s.byteLength||0,d.responseText.length);if(s=fFt(s,uJ(h,!0)),r=r||b2(s),s.length<10||r&&s.length<r+2)return QC(d,()=>o(c,d,"",s));const f=cD(s);return f==="ts"&&s.length<188?QC(d,()=>o(c,d,"",s)):!f&&s.length<376?QC(d,()=>o(c,d,"",s)):o(null,d,f,s)},u=e({uri:t,beforeSend(c){c.overrideMimeType("text/plain; charset=x-user-defined"),c.addEventListener("progress",function({total:d,loaded:h}){return Zk(c,null,{statusCode:c.status},i)})}},function(c,d){return Zk(u,c,d,i)});return u},{EventTarget:cHt}=et,WF=function(t,e){if(!kte(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const s=t.segments[n],r=e.segments[n];if(s.uri!==r.uri)return!1;if(!s.byterange&&!r.byterange)continue;const a=s.byterange,o=r.byterange;if(a&&!o||!a&&o||a.offset!==o.offset||a.length!==o.length)return!1}return!0},dHt=(t,e,n,s)=>{const r=s.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${r}`},hHt=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:s,previousManifest:r})=>{const a=RBt(t,{manifestUri:e,clientOffset:n,sidxMapping:s,previousManifest:r});return Cte(a,e,dHt),a},fHt=(t,e)=>{fg(t,(n,s,r,a)=>{a in e.mediaGroups[s][r]||delete t.mediaGroups[s][r][a]})},pHt=(t,e,n)=>{let s=!0,r=fs(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let a=0;a<e.playlists.length;a++){const o=e.playlists[a];if(o.sidx){const l=Yx(o.sidx);n&&n[l]&&n[l].sidx&&iD(o,n[l].sidx,o.sidx.resolvedUri)}const i=Yk(r,o,WF);i&&(r=i,s=!1)}return fg(e,(a,o,i,l)=>{if(a.playlists&&a.playlists.length){const u=a.playlists[0].id,c=Yk(r,a.playlists[0],WF);c&&(r=c,l in r.mediaGroups[o][i]||(r.mediaGroups[o][i][l]=a),r.mediaGroups[o][i][l].playlists[0]=r.playlists[u],s=!1)}}),fHt(r,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(s=!1),s?null:r},mHt=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,jF=(t,e)=>{const n={};for(const s in t){const a=t[s].sidx;if(a){const o=Yx(a);if(!e[o])break;const i=e[o].sidxInfo;mHt(i,a)&&(n[o]=e[o])}}return n},gHt=(t,e)=>{let s=jF(t.playlists,e);return fg(t,(r,a,o,i)=>{if(r.playlists&&r.playlists.length){const l=r.playlists;s=fs(s,jF(l,e))}}),s};class e$ extends cHt{constructor(e,n,s={},r){super(),this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:a=!1}=s;if(this.vhs_=n,this.withCredentials=a,this.addMetadataToTextTrack=s.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=xl("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,n,s){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2},s&&(this.state=s),this.trigger("error"),!0}addSidxSegments_(e,n,s){const r=e.sidx&&Yx(e.sidx);if(!e.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){this.mediaRequest_=Te.setTimeout(()=>s(!1),0);return}const a=C4(e.sidx.resolvedUri),o=(i,l)=>{if(this.requestErrored_(i,l,n))return;const u=this.mainPlaylistLoader_.sidxMapping_;let c;try{c=zBt(dn(l.response).subarray(8))}catch(d){this.requestErrored_(d,l,n);return}return u[r]={sidxInfo:e.sidx,sidx:c},iD(e,c,e.sidx.resolvedUri),s(!0)};this.request=uHt(a,this.vhs_.xhr,(i,l,u,c)=>{if(i)return o(i,l);if(!u||u!=="mp4")return o({status:l.status,message:`Unsupported ${u||"unknown"} container type for sidx segment at URL: ${a}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},l);const{offset:d,length:h}=e.sidx.byterange;if(c.length>=h+d)return o(i,{response:c.subarray(d,d+h),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:Jk({byterange:e.sidx.byterange})},o)})}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},Te.clearTimeout(this.minimumUpdatePeriodTimeout_),Te.clearTimeout(this.mediaRequest_),Te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const s=!this.media_||e.id!==this.media_.id;if(s&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}s&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,r=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),Te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(Te.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){Te.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const s=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=Te.setTimeout(()=>this.load(),s);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=Te.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(n,s)=>{if(this.requestErrored_(n,s)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}const r=s.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?this.mainLoaded_=Date.parse(s.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=C4(this.mainPlaylistLoader_.srcUrl,s),r){this.handleMain_(),this.syncClientServerClock_(()=>e(s,r));return}return e(s,r)})}syncClientServerClock_(e){const n=LBt(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Yi(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials},(s,r)=>{if(!this.request)return;if(s)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let a;n.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?a=this.mainLoaded_:a=Date.parse(r.responseHeaders.date):a=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=a-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let n=hHt({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(n=pHt(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const s=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return s&&s!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=s),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(Te.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=Te.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=gHt(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,s=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,s=!this.media_||this.media_!==n[e];if(s?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=Te.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},Qk(this.media(),!!s)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(s=>({cueTime:s.start,frames:[{data:s.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}}var Gr={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const vHt=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},Ote=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},yHt=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(t),URL.createObjectURL(n.getBlob())}},Rte=function(t){return function(){const e=yHt(t),n=Ote(new Worker(e));n.objURL=e;const s=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),s.call(this)},n}},Lte=function(t){return`var browserWorkerPolyFill = ${Ote.toString()};
browserWorkerPolyFill(self);
`+t},Pte=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},bHt=Lte(Pte(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var E={};this.on=function(M,z){E[M]||(E[M]=[]),E[M]=E[M].concat(z)},this.off=function(M,z){var F;return E[M]?(F=E[M].indexOf(z),E[M]=E[M].slice(),E[M].splice(F,1),F>-1):!1},this.trigger=function(M){var z,F,X,Q;if(z=E[M],!!z)if(arguments.length===2)for(X=z.length,F=0;F<X;++F)z[F].call(this,arguments[1]);else{for(Q=[],F=arguments.length,F=1;F<arguments.length;++F)Q.push(arguments[F]);for(X=z.length,F=0;F<X;++F)z[F].apply(this,Q)}},this.dispose=function(){E={}}}};e.prototype.pipe=function(E){return this.on("data",function(M){E.push(M)}),this.on("done",function(M){E.flush(M)}),this.on("partialdone",function(M){E.partialFlush(M)}),this.on("endedtimeline",function(M){E.endTimeline(M)}),this.on("reset",function(M){E.reset(M)}),E},e.prototype.push=function(E){this.trigger("data",E)},e.prototype.flush=function(E){this.trigger("done",E)},e.prototype.partialFlush=function(E){this.trigger("partialdone",E)},e.prototype.endTimeline=function(E){this.trigger("endedtimeline",E)},e.prototype.reset=function(E){this.trigger("reset",E)};var n=e,s=Math.pow(2,32),r=function(E){var M=new DataView(E.buffer,E.byteOffset,E.byteLength),z;return M.getBigUint64?(z=M.getBigUint64(0),z<Number.MAX_SAFE_INTEGER?Number(z):z):M.getUint32(0)*s+M.getUint32(4)},a={getUint64:r,MAX_UINT32:s},o=a.MAX_UINT32,i,l,u,c,d,h,f,p,m,y,v,b,w,_,C,x,T,k,N,O,L,V,H,K,U,R,W,G,P,j,J,ne,te,de,me,_e;(function(){var E;if(H={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(E in H)H.hasOwnProperty(E)&&(H[E]=[E.charCodeAt(0),E.charCodeAt(1),E.charCodeAt(2),E.charCodeAt(3)]);K=new Uint8Array([105,115,111,109]),R=new Uint8Array([97,118,99,49]),U=new Uint8Array([0,0,0,1]),W=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),G=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:W,audio:G},ne=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),J=new Uint8Array([0,0,0,0,0,0,0,0]),te=new Uint8Array([0,0,0,0,0,0,0,0]),de=te,me=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),_e=te,j=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(E){var M=[],z=0,F,X,Q;for(F=1;F<arguments.length;F++)M.push(arguments[F]);for(F=M.length;F--;)z+=M[F].byteLength;for(X=new Uint8Array(z+8),Q=new DataView(X.buffer,X.byteOffset,X.byteLength),Q.setUint32(0,X.byteLength),X.set(E,4),F=0,z=8;F<M.length;F++)X.set(M[F],z),z+=M[F].byteLength;return X},l=function(){return i(H.dinf,i(H.dref,ne))},u=function(E){return i(H.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,E.audioobjecttype<<3|E.samplingfrequencyindex>>>1,E.samplingfrequencyindex<<7|E.channelcount<<3,6,1,2]))},c=function(){return i(H.ftyp,K,U,K,R)},x=function(E){return i(H.hdlr,P[E])},d=function(E){return i(H.mdat,E)},C=function(E){var M=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,E.duration>>>24&255,E.duration>>>16&255,E.duration>>>8&255,E.duration&255,85,196,0,0]);return E.samplerate&&(M[12]=E.samplerate>>>24&255,M[13]=E.samplerate>>>16&255,M[14]=E.samplerate>>>8&255,M[15]=E.samplerate&255),i(H.mdhd,M)},_=function(E){return i(H.mdia,C(E),x(E.type),f(E))},h=function(E){return i(H.mfhd,new Uint8Array([0,0,0,0,(E&4278190080)>>24,(E&16711680)>>16,(E&65280)>>8,E&255]))},f=function(E){return i(H.minf,E.type==="video"?i(H.vmhd,j):i(H.smhd,J),l(),k(E))},p=function(E,M){for(var z=[],F=M.length;F--;)z[F]=O(M[F]);return i.apply(null,[H.moof,h(E)].concat(z))},m=function(E){for(var M=E.length,z=[];M--;)z[M]=b(E[M]);return i.apply(null,[H.moov,v(4294967295)].concat(z).concat(y(E)))},y=function(E){for(var M=E.length,z=[];M--;)z[M]=L(E[M]);return i.apply(null,[H.mvex].concat(z))},v=function(E){var M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(E&4278190080)>>24,(E&16711680)>>16,(E&65280)>>8,E&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(H.mvhd,M)},T=function(E){var M=E.samples||[],z=new Uint8Array(4+M.length),F,X;for(X=0;X<M.length;X++)F=M[X].flags,z[X+4]=F.dependsOn<<4|F.isDependedOn<<2|F.hasRedundancy;return i(H.sdtp,z)},k=function(E){return i(H.stbl,N(E),i(H.stts,_e),i(H.stsc,de),i(H.stsz,me),i(H.stco,te))},function(){var E,M;N=function(z){return i(H.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),z.type==="video"?E(z):M(z))},E=function(z){var F=z.sps||[],X=z.pps||[],Q=[],pe=[],ye,Ce;for(ye=0;ye<F.length;ye++)Q.push((F[ye].byteLength&65280)>>>8),Q.push(F[ye].byteLength&255),Q=Q.concat(Array.prototype.slice.call(F[ye]));for(ye=0;ye<X.length;ye++)pe.push((X[ye].byteLength&65280)>>>8),pe.push(X[ye].byteLength&255),pe=pe.concat(Array.prototype.slice.call(X[ye]));if(Ce=[H.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(z.width&65280)>>8,z.width&255,(z.height&65280)>>8,z.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(H.avcC,new Uint8Array([1,z.profileIdc,z.profileCompatibility,z.levelIdc,255].concat([F.length],Q,[X.length],pe))),i(H.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],z.sarRatio){var ke=z.sarRatio[0],Be=z.sarRatio[1];Ce.push(i(H.pasp,new Uint8Array([(ke&4278190080)>>24,(ke&16711680)>>16,(ke&65280)>>8,ke&255,(Be&4278190080)>>24,(Be&16711680)>>16,(Be&65280)>>8,Be&255])))}return i.apply(null,Ce)},M=function(z){return i(H.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(z.channelcount&65280)>>8,z.channelcount&255,(z.samplesize&65280)>>8,z.samplesize&255,0,0,0,0,(z.samplerate&65280)>>8,z.samplerate&255,0,0]),u(z))}}(),w=function(E){var M=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(E.id&4278190080)>>24,(E.id&16711680)>>16,(E.id&65280)>>8,E.id&255,0,0,0,0,(E.duration&4278190080)>>24,(E.duration&16711680)>>16,(E.duration&65280)>>8,E.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(E.width&65280)>>8,E.width&255,0,0,(E.height&65280)>>8,E.height&255,0,0]);return i(H.tkhd,M)},O=function(E){var M,z,F,X,Q,pe,ye;return M=i(H.tfhd,new Uint8Array([0,0,0,58,(E.id&4278190080)>>24,(E.id&16711680)>>16,(E.id&65280)>>8,E.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),pe=Math.floor(E.baseMediaDecodeTime/o),ye=Math.floor(E.baseMediaDecodeTime%o),z=i(H.tfdt,new Uint8Array([1,0,0,0,pe>>>24&255,pe>>>16&255,pe>>>8&255,pe&255,ye>>>24&255,ye>>>16&255,ye>>>8&255,ye&255])),Q=92,E.type==="audio"?(F=V(E,Q),i(H.traf,M,z,F)):(X=T(E),F=V(E,X.length+Q),i(H.traf,M,z,F,X))},b=function(E){return E.duration=E.duration||4294967295,i(H.trak,w(E),_(E))},L=function(E){var M=new Uint8Array([0,0,0,0,(E.id&4278190080)>>24,(E.id&16711680)>>16,(E.id&65280)>>8,E.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return E.type!=="video"&&(M[M.length-1]=0),i(H.trex,M)},function(){var E,M,z;z=function(F,X){var Q=0,pe=0,ye=0,Ce=0;return F.length&&(F[0].duration!==void 0&&(Q=1),F[0].size!==void 0&&(pe=2),F[0].flags!==void 0&&(ye=4),F[0].compositionTimeOffset!==void 0&&(Ce=8)),[0,0,Q|pe|ye|Ce,1,(F.length&4278190080)>>>24,(F.length&16711680)>>>16,(F.length&65280)>>>8,F.length&255,(X&4278190080)>>>24,(X&16711680)>>>16,(X&65280)>>>8,X&255]},M=function(F,X){var Q,pe,ye,Ce,ke,Be;for(Ce=F.samples||[],X+=20+16*Ce.length,ye=z(Ce,X),pe=new Uint8Array(ye.length+Ce.length*16),pe.set(ye),Q=ye.length,Be=0;Be<Ce.length;Be++)ke=Ce[Be],pe[Q++]=(ke.duration&4278190080)>>>24,pe[Q++]=(ke.duration&16711680)>>>16,pe[Q++]=(ke.duration&65280)>>>8,pe[Q++]=ke.duration&255,pe[Q++]=(ke.size&4278190080)>>>24,pe[Q++]=(ke.size&16711680)>>>16,pe[Q++]=(ke.size&65280)>>>8,pe[Q++]=ke.size&255,pe[Q++]=ke.flags.isLeading<<2|ke.flags.dependsOn,pe[Q++]=ke.flags.isDependedOn<<6|ke.flags.hasRedundancy<<4|ke.flags.paddingValue<<1|ke.flags.isNonSyncSample,pe[Q++]=ke.flags.degradationPriority&61440,pe[Q++]=ke.flags.degradationPriority&15,pe[Q++]=(ke.compositionTimeOffset&4278190080)>>>24,pe[Q++]=(ke.compositionTimeOffset&16711680)>>>16,pe[Q++]=(ke.compositionTimeOffset&65280)>>>8,pe[Q++]=ke.compositionTimeOffset&255;return i(H.trun,pe)},E=function(F,X){var Q,pe,ye,Ce,ke,Be;for(Ce=F.samples||[],X+=20+8*Ce.length,ye=z(Ce,X),Q=new Uint8Array(ye.length+Ce.length*8),Q.set(ye),pe=ye.length,Be=0;Be<Ce.length;Be++)ke=Ce[Be],Q[pe++]=(ke.duration&4278190080)>>>24,Q[pe++]=(ke.duration&16711680)>>>16,Q[pe++]=(ke.duration&65280)>>>8,Q[pe++]=ke.duration&255,Q[pe++]=(ke.size&4278190080)>>>24,Q[pe++]=(ke.size&16711680)>>>16,Q[pe++]=(ke.size&65280)>>>8,Q[pe++]=ke.size&255;return i(H.trun,Q)},V=function(F,X){return F.type==="audio"?E(F,X):M(F,X)}}();var ee={ftyp:c,mdat:d,moof:p,moov:m,initSegment:function(E){var M=c(),z=m(E),F;return F=new Uint8Array(M.byteLength+z.byteLength),F.set(M),F.set(z,M.byteLength),F}},he=function(E){var M,z,F=[],X=[];for(X.byteLength=0,X.nalCount=0,X.duration=0,F.byteLength=0,M=0;M<E.length;M++)z=E[M],z.nalUnitType==="access_unit_delimiter_rbsp"?(F.length&&(F.duration=z.dts-F.dts,X.byteLength+=F.byteLength,X.nalCount+=F.length,X.duration+=F.duration,X.push(F)),F=[z],F.byteLength=z.data.byteLength,F.pts=z.pts,F.dts=z.dts):(z.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(F.keyFrame=!0),F.duration=z.dts-F.dts,F.byteLength+=z.data.byteLength,F.push(z));return X.length&&(!F.duration||F.duration<=0)&&(F.duration=X[X.length-1].duration),X.byteLength+=F.byteLength,X.nalCount+=F.length,X.duration+=F.duration,X.push(F),X},le=function(E){var M,z,F=[],X=[];for(F.byteLength=0,F.nalCount=0,F.duration=0,F.pts=E[0].pts,F.dts=E[0].dts,X.byteLength=0,X.nalCount=0,X.duration=0,X.pts=E[0].pts,X.dts=E[0].dts,M=0;M<E.length;M++)z=E[M],z.keyFrame?(F.length&&(X.push(F),X.byteLength+=F.byteLength,X.nalCount+=F.nalCount,X.duration+=F.duration),F=[z],F.nalCount=z.length,F.byteLength=z.byteLength,F.pts=z.pts,F.dts=z.dts,F.duration=z.duration):(F.duration+=z.duration,F.nalCount+=z.length,F.byteLength+=z.byteLength,F.push(z));return X.length&&F.duration<=0&&(F.duration=X[X.length-1].duration),X.byteLength+=F.byteLength,X.nalCount+=F.nalCount,X.duration+=F.duration,X.push(F),X},ue=function(E){var M;return!E[0][0].keyFrame&&E.length>1&&(M=E.shift(),E.byteLength-=M.byteLength,E.nalCount-=M.nalCount,E[0][0].dts=M.dts,E[0][0].pts=M.pts,E[0][0].duration+=M.duration),E},re=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},we=function(E,M){var z=re();return z.dataOffset=M,z.compositionTimeOffset=E.pts-E.dts,z.duration=E.duration,z.size=4*E.length,z.size+=E.byteLength,E.keyFrame&&(z.flags.dependsOn=2,z.flags.isNonSyncSample=0),z},Ae=function(E,M){var z,F,X,Q,pe,ye=M||0,Ce=[];for(z=0;z<E.length;z++)for(Q=E[z],F=0;F<Q.length;F++)pe=Q[F],X=we(pe,ye),ye+=X.size,Ce.push(X);return Ce},Ue=function(E){var M,z,F,X,Q,pe,ye=0,Ce=E.byteLength,ke=E.nalCount,Be=Ce+4*ke,nt=new Uint8Array(Be),Vt=new DataView(nt.buffer);for(M=0;M<E.length;M++)for(X=E[M],z=0;z<X.length;z++)for(Q=X[z],F=0;F<Q.length;F++)pe=Q[F],Vt.setUint32(ye,pe.data.byteLength),ye+=4,nt.set(pe.data,ye),ye+=pe.data.byteLength;return nt},at=function(E,M){var z,F=M||0,X=[];return z=we(E,F),X.push(z),X},ot=function(E){var M,z,F=0,X=E.byteLength,Q=E.length,pe=X+4*Q,ye=new Uint8Array(pe),Ce=new DataView(ye.buffer);for(M=0;M<E.length;M++)z=E[M],Ce.setUint32(F,z.data.byteLength),F+=4,ye.set(z.data,F),F+=z.data.byteLength;return ye},Pe={groupNalsIntoFrames:he,groupFramesIntoGops:le,extendFirstKeyFrame:ue,generateSampleTable:Ae,concatenateNalData:Ue,generateSampleTableForFrame:at,concatenateNalDataForFrame:ot},je=[33,16,5,32,164,27],dt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Qe=function(E){for(var M=[];E--;)M.push(0);return M},wt=function(E){return Object.keys(E).reduce(function(M,z){return M[z]=new Uint8Array(E[z].reduce(function(F,X){return F.concat(X)},[])),M},{})},vt,Ge=function(){if(!vt){var E={96e3:[je,[227,64],Qe(154),[56]],88200:[je,[231],Qe(170),[56]],64e3:[je,[248,192],Qe(240),[56]],48e3:[je,[255,192],Qe(268),[55,148,128],Qe(54),[112]],44100:[je,[255,192],Qe(268),[55,163,128],Qe(84),[112]],32e3:[je,[255,192],Qe(268),[55,234],Qe(226),[112]],24e3:[je,[255,192],Qe(268),[55,255,128],Qe(268),[111,112],Qe(126),[224]],16e3:[je,[255,192],Qe(268),[55,255,128],Qe(268),[111,255],Qe(269),[223,108],Qe(195),[1,192]],12e3:[dt,Qe(268),[3,127,248],Qe(268),[6,255,240],Qe(268),[13,255,224],Qe(268),[27,253,128],Qe(259),[56]],11025:[dt,Qe(268),[3,127,248],Qe(268),[6,255,240],Qe(268),[13,255,224],Qe(268),[27,255,192],Qe(268),[55,175,128],Qe(108),[112]],8e3:[dt,Qe(268),[3,121,16],Qe(47),[7]]};vt=wt(E)}return vt},fe=9e4,_t,Dt,Qt,rn,Cn,Ct,It;_t=function(E){return E*fe},Dt=function(E,M){return E*M},Qt=function(E){return E/fe},rn=function(E,M){return E/M},Cn=function(E,M){return _t(rn(E,M))},Ct=function(E,M){return Dt(Qt(E),M)},It=function(E,M,z){return Qt(z?E:E-M)};var Re={ONE_SECOND_IN_TS:fe,secondsToVideoTs:_t,secondsToAudioTs:Dt,videoTsToSeconds:Qt,audioTsToSeconds:rn,audioTsToVideoTs:Cn,videoTsToAudioTs:Ct,metadataTsToSeconds:It},ut=Ge,xe=Re,Ke=function(E){var M,z,F=0;for(M=0;M<E.length;M++)z=E[M],F+=z.data.byteLength;return F},Ze=function(E,M,z,F){var X,Q=0,pe=0,ye=0,Ce=0,ke,Be,nt;if(M.length&&(X=xe.audioTsToVideoTs(E.baseMediaDecodeTime,E.samplerate),Q=Math.ceil(xe.ONE_SECOND_IN_TS/(E.samplerate/1024)),z&&F&&(pe=X-Math.max(z,F),ye=Math.floor(pe/Q),Ce=ye*Q),!(ye<1||Ce>xe.ONE_SECOND_IN_TS/2))){for(ke=ut()[E.samplerate],ke||(ke=M[0].data),Be=0;Be<ye;Be++)nt=M[0],M.splice(0,0,{data:ke,dts:nt.dts-Q,pts:nt.pts-Q});return E.baseMediaDecodeTime-=Math.floor(xe.videoTsToAudioTs(Ce,E.samplerate)),Ce}},Zt=function(E,M,z){return M.minSegmentDts>=z?E:(M.minSegmentDts=1/0,E.filter(function(F){return F.dts>=z?(M.minSegmentDts=Math.min(M.minSegmentDts,F.dts),M.minSegmentPts=M.minSegmentDts,!0):!1}))},Mn=function(E){var M,z,F=[];for(M=0;M<E.length;M++)z=E[M],F.push({size:z.data.byteLength,duration:1024});return F},Oe=function(E){var M,z,F=0,X=new Uint8Array(Ke(E));for(M=0;M<E.length;M++)z=E[M],X.set(z.data,F),F+=z.data.byteLength;return X},St={prefixWithSilence:Ze,trimAdtsFramesByEarliestDts:Zt,generateSampleTable:Mn,concatenateFrameData:Oe},bn=Re.ONE_SECOND_IN_TS,xn=function(E,M){typeof M.pts=="number"&&(E.timelineStartInfo.pts===void 0&&(E.timelineStartInfo.pts=M.pts),E.minSegmentPts===void 0?E.minSegmentPts=M.pts:E.minSegmentPts=Math.min(E.minSegmentPts,M.pts),E.maxSegmentPts===void 0?E.maxSegmentPts=M.pts:E.maxSegmentPts=Math.max(E.maxSegmentPts,M.pts)),typeof M.dts=="number"&&(E.timelineStartInfo.dts===void 0&&(E.timelineStartInfo.dts=M.dts),E.minSegmentDts===void 0?E.minSegmentDts=M.dts:E.minSegmentDts=Math.min(E.minSegmentDts,M.dts),E.maxSegmentDts===void 0?E.maxSegmentDts=M.dts:E.maxSegmentDts=Math.max(E.maxSegmentDts,M.dts))},Zn=function(E){delete E.minSegmentDts,delete E.maxSegmentDts,delete E.minSegmentPts,delete E.maxSegmentPts},In=function(E,M){var z,F,X=E.minSegmentDts;return M||(X-=E.timelineStartInfo.dts),z=E.timelineStartInfo.baseMediaDecodeTime,z+=X,z=Math.max(0,z),E.type==="audio"&&(F=E.samplerate/bn,z*=F,z=Math.floor(z)),z},Wr={clearDtsInfo:Zn,calculateTrackBaseMediaDecodeTime:In,collectDtsInfo:xn},Pf=4,fc=128,Mf=function(E){for(var M=0,z={payloadType:-1,payloadSize:0},F=0,X=0;M<E.byteLength&&E[M]!==fc;){for(;E[M]===255;)F+=255,M++;for(F+=E[M++];E[M]===255;)X+=255,M++;if(X+=E[M++],!z.payload&&F===Pf){var Q=String.fromCharCode(E[M+3],E[M+4],E[M+5],E[M+6]);if(Q==="GA94"){z.payloadType=F,z.payloadSize=X,z.payload=E.subarray(M,M+X);break}else z.payload=void 0}M+=X,F=0,X=0}return z},Cl=function(E){return E.payload[0]!==181||(E.payload[1]<<8|E.payload[2])!==49||String.fromCharCode(E.payload[3],E.payload[4],E.payload[5],E.payload[6])!=="GA94"||E.payload[7]!==3?null:E.payload.subarray(8,E.payload.length-1)},gg=function(E,M){var z=[],F,X,Q,pe;if(!(M[0]&64))return z;for(X=M[0]&31,F=0;F<X;F++)Q=F*3,pe={type:M[Q+2]&3,pts:E},M[Q+2]&4&&(pe.ccData=M[Q+3]<<8|M[Q+4],z.push(pe));return z},pc=function(E){for(var M=E.byteLength,z=[],F=1,X,Q;F<M-2;)E[F]===0&&E[F+1]===0&&E[F+2]===3?(z.push(F+2),F+=2):F++;if(z.length===0)return E;X=M-z.length,Q=new Uint8Array(X);var pe=0;for(F=0;F<X;pe++,F++)pe===z[0]&&(pe++,z.shift()),Q[F]=E[pe];return Q},Ff={parseSei:Mf,parseUserData:Cl,parseCaptionPackets:gg,discardEmulationPreventionBytes:pc,USER_DATA_REGISTERED_ITU_T_T35:Pf},mc=n,gc=Ff,jr=function(E){E=E||{},jr.prototype.init.call(this),this.parse708captions_=typeof E.parse708captions=="boolean"?E.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new We(0,0),new We(0,1),new We(1,0),new We(1,1)],this.parse708captions_&&(this.cc708Stream_=new ln({captionServices:E.captionServices})),this.reset(),this.ccStreams_.forEach(function(M){M.on("data",this.trigger.bind(this,"data")),M.on("partialdone",this.trigger.bind(this,"partialdone")),M.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};jr.prototype=new mc,jr.prototype.push=function(E){var M,z,F;if(E.nalUnitType==="sei_rbsp"&&(M=gc.parseSei(E.escapedRBSP),!!M.payload&&M.payloadType===gc.USER_DATA_REGISTERED_ITU_T_T35&&(z=gc.parseUserData(M),!!z))){if(E.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(E.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}F=gc.parseCaptionPackets(E.pts,z),this.captionPackets_=this.captionPackets_.concat(F),this.latestDts_!==E.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=E.dts}},jr.prototype.flushCCStreams=function(E){this.ccStreams_.forEach(function(M){return E==="flush"?M.flush():M.partialFlush()},this)},jr.prototype.flushStream=function(E){if(!this.captionPackets_.length){this.flushCCStreams(E);return}this.captionPackets_.forEach(function(M,z){M.presortIndex=z}),this.captionPackets_.sort(function(M,z){return M.pts===z.pts?M.presortIndex-z.presortIndex:M.pts-z.pts}),this.captionPackets_.forEach(function(M){M.type<2?this.dispatchCea608Packet(M):this.dispatchCea708Packet(M)},this),this.captionPackets_.length=0,this.flushCCStreams(E)},jr.prototype.flush=function(){return this.flushStream("flush")},jr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},jr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(E){E.reset()})},jr.prototype.dispatchCea608Packet=function(E){this.setsTextOrXDSActive(E)?this.activeCea608Channel_[E.type]=null:this.setsChannel1Active(E)?this.activeCea608Channel_[E.type]=0:this.setsChannel2Active(E)&&(this.activeCea608Channel_[E.type]=1),this.activeCea608Channel_[E.type]!==null&&this.ccStreams_[(E.type<<1)+this.activeCea608Channel_[E.type]].push(E)},jr.prototype.setsChannel1Active=function(E){return(E.ccData&30720)===4096},jr.prototype.setsChannel2Active=function(E){return(E.ccData&30720)===6144},jr.prototype.setsTextOrXDSActive=function(E){return(E.ccData&28928)===256||(E.ccData&30974)===4138||(E.ccData&30974)===6186},jr.prototype.dispatchCea708Packet=function(E){this.parse708captions_&&this.cc708Stream_.push(E)};var vg={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Bf=function(E){var M=vg[E]||E;return E&4096&&E===M?"":String.fromCharCode(M)},st=function(E){return 32<=E&&E<=127||160<=E&&E<=255},kt=function(E){this.windowNum=E,this.reset()};kt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},kt.prototype.getText=function(){return this.rows.join(`
`)},kt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},kt.prototype.newLine=function(E){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(E),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},kt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},kt.prototype.addText=function(E){this.rows[this.rowIdx]+=E},kt.prototype.backspace=function(){if(!this.isEmpty()){var E=this.rows[this.rowIdx];this.rows[this.rowIdx]=E.substr(0,E.length-1)}};var kn=function(E,M,z){this.serviceNum=E,this.text="",this.currentWindow=new kt(-1),this.windows=[],this.stream=z,typeof M=="string"&&this.createTextDecoder(M)};kn.prototype.init=function(E,M){this.startPts=E;for(var z=0;z<8;z++)this.windows[z]=new kt(z),typeof M=="function"&&(this.windows[z].beforeRowOverflow=M)},kn.prototype.setCurrentWindow=function(E){this.currentWindow=this.windows[E]},kn.prototype.createTextDecoder=function(E){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(E)}catch(M){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+E+" encoding. "+M})}};var ln=function(E){E=E||{},ln.prototype.init.call(this);var M=this,z=E.captionServices||{},F={},X;Object.keys(z).forEach(Q=>{X=z[Q],/^SERVICE/.test(Q)&&(F[Q]=X.encoding)}),this.serviceEncodings=F,this.current708Packet=null,this.services={},this.push=function(Q){Q.type===3?(M.new708Packet(),M.add708Bytes(Q)):(M.current708Packet===null&&M.new708Packet(),M.add708Bytes(Q))}};ln.prototype=new mc,ln.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},ln.prototype.add708Bytes=function(E){var M=E.ccData,z=M>>>8,F=M&255;this.current708Packet.ptsVals.push(E.pts),this.current708Packet.data.push(z),this.current708Packet.data.push(F)},ln.prototype.push708Packet=function(){var E=this.current708Packet,M=E.data,z=null,F=null,X=0,Q=M[X++];for(E.seq=Q>>6,E.sizeCode=Q&63;X<M.length;X++)Q=M[X++],z=Q>>5,F=Q&31,z===7&&F>0&&(Q=M[X++],z=Q),this.pushServiceBlock(z,X,F),F>0&&(X+=F-1)},ln.prototype.pushServiceBlock=function(E,M,z){var F,X=M,Q=this.current708Packet.data,pe=this.services[E];for(pe||(pe=this.initService(E,X));X<M+z&&X<Q.length;X++)F=Q[X],st(F)?X=this.handleText(X,pe):F===24?X=this.multiByteCharacter(X,pe):F===16?X=this.extendedCommands(X,pe):128<=F&&F<=135?X=this.setCurrentWindow(X,pe):152<=F&&F<=159?X=this.defineWindow(X,pe):F===136?X=this.clearWindows(X,pe):F===140?X=this.deleteWindows(X,pe):F===137?X=this.displayWindows(X,pe):F===138?X=this.hideWindows(X,pe):F===139?X=this.toggleWindows(X,pe):F===151?X=this.setWindowAttributes(X,pe):F===144?X=this.setPenAttributes(X,pe):F===145?X=this.setPenColor(X,pe):F===146?X=this.setPenLocation(X,pe):F===143?pe=this.reset(X,pe):F===8?pe.currentWindow.backspace():F===12?pe.currentWindow.clearText():F===13?pe.currentWindow.pendingNewLine=!0:F===14?pe.currentWindow.clearText():F===141&&X++},ln.prototype.extendedCommands=function(E,M){var z=this.current708Packet.data,F=z[++E];return st(F)&&(E=this.handleText(E,M,{isExtended:!0})),E},ln.prototype.getPts=function(E){return this.current708Packet.ptsVals[Math.floor(E/2)]},ln.prototype.initService=function(E,M){var F="SERVICE"+E,z=this,F,X;return F in this.serviceEncodings&&(X=this.serviceEncodings[F]),this.services[E]=new kn(E,X,z),this.services[E].init(this.getPts(M),function(Q){z.flushDisplayed(Q,z.services[E])}),this.services[E]},ln.prototype.handleText=function(E,M,z){var F=z&&z.isExtended,X=z&&z.isMultiByte,Q=this.current708Packet.data,pe=F?4096:0,ye=Q[E],Ce=Q[E+1],ke=M.currentWindow,Be,nt;return M.textDecoder_&&!F?(X?(nt=[ye,Ce],E++):nt=[ye],Be=M.textDecoder_.decode(new Uint8Array(nt))):Be=Bf(pe|ye),ke.pendingNewLine&&!ke.isEmpty()&&ke.newLine(this.getPts(E)),ke.pendingNewLine=!1,ke.addText(Be),E},ln.prototype.multiByteCharacter=function(E,M){var z=this.current708Packet.data,F=z[E+1],X=z[E+2];return st(F)&&st(X)&&(E=this.handleText(++E,M,{isMultiByte:!0})),E},ln.prototype.setCurrentWindow=function(E,M){var z=this.current708Packet.data,F=z[E],X=F&7;return M.setCurrentWindow(X),E},ln.prototype.defineWindow=function(E,M){var z=this.current708Packet.data,F=z[E],X=F&7;M.setCurrentWindow(X);var Q=M.currentWindow;return F=z[++E],Q.visible=(F&32)>>5,Q.rowLock=(F&16)>>4,Q.columnLock=(F&8)>>3,Q.priority=F&7,F=z[++E],Q.relativePositioning=(F&128)>>7,Q.anchorVertical=F&127,F=z[++E],Q.anchorHorizontal=F,F=z[++E],Q.anchorPoint=(F&240)>>4,Q.rowCount=F&15,F=z[++E],Q.columnCount=F&63,F=z[++E],Q.windowStyle=(F&56)>>3,Q.penStyle=F&7,Q.virtualRowCount=Q.rowCount+1,E},ln.prototype.setWindowAttributes=function(E,M){var z=this.current708Packet.data,F=z[E],X=M.currentWindow.winAttr;return F=z[++E],X.fillOpacity=(F&192)>>6,X.fillRed=(F&48)>>4,X.fillGreen=(F&12)>>2,X.fillBlue=F&3,F=z[++E],X.borderType=(F&192)>>6,X.borderRed=(F&48)>>4,X.borderGreen=(F&12)>>2,X.borderBlue=F&3,F=z[++E],X.borderType+=(F&128)>>5,X.wordWrap=(F&64)>>6,X.printDirection=(F&48)>>4,X.scrollDirection=(F&12)>>2,X.justify=F&3,F=z[++E],X.effectSpeed=(F&240)>>4,X.effectDirection=(F&12)>>2,X.displayEffect=F&3,E},ln.prototype.flushDisplayed=function(E,M){for(var z=[],F=0;F<8;F++)M.windows[F].visible&&!M.windows[F].isEmpty()&&z.push(M.windows[F].getText());M.endPts=E,M.text=z.join(`

`),this.pushCaption(M),M.startPts=E},ln.prototype.pushCaption=function(E){E.text!==""&&(this.trigger("data",{startPts:E.startPts,endPts:E.endPts,text:E.text,stream:"cc708_"+E.serviceNum}),E.text="",E.startPts=E.endPts)},ln.prototype.displayWindows=function(E,M){var z=this.current708Packet.data,F=z[++E],X=this.getPts(E);this.flushDisplayed(X,M);for(var Q=0;Q<8;Q++)F&1<<Q&&(M.windows[Q].visible=1);return E},ln.prototype.hideWindows=function(E,M){var z=this.current708Packet.data,F=z[++E],X=this.getPts(E);this.flushDisplayed(X,M);for(var Q=0;Q<8;Q++)F&1<<Q&&(M.windows[Q].visible=0);return E},ln.prototype.toggleWindows=function(E,M){var z=this.current708Packet.data,F=z[++E],X=this.getPts(E);this.flushDisplayed(X,M);for(var Q=0;Q<8;Q++)F&1<<Q&&(M.windows[Q].visible^=1);return E},ln.prototype.clearWindows=function(E,M){var z=this.current708Packet.data,F=z[++E],X=this.getPts(E);this.flushDisplayed(X,M);for(var Q=0;Q<8;Q++)F&1<<Q&&M.windows[Q].clearText();return E},ln.prototype.deleteWindows=function(E,M){var z=this.current708Packet.data,F=z[++E],X=this.getPts(E);this.flushDisplayed(X,M);for(var Q=0;Q<8;Q++)F&1<<Q&&M.windows[Q].reset();return E},ln.prototype.setPenAttributes=function(E,M){var z=this.current708Packet.data,F=z[E],X=M.currentWindow.penAttr;return F=z[++E],X.textTag=(F&240)>>4,X.offset=(F&12)>>2,X.penSize=F&3,F=z[++E],X.italics=(F&128)>>7,X.underline=(F&64)>>6,X.edgeType=(F&56)>>3,X.fontStyle=F&7,E},ln.prototype.setPenColor=function(E,M){var z=this.current708Packet.data,F=z[E],X=M.currentWindow.penColor;return F=z[++E],X.fgOpacity=(F&192)>>6,X.fgRed=(F&48)>>4,X.fgGreen=(F&12)>>2,X.fgBlue=F&3,F=z[++E],X.bgOpacity=(F&192)>>6,X.bgRed=(F&48)>>4,X.bgGreen=(F&12)>>2,X.bgBlue=F&3,F=z[++E],X.edgeRed=(F&48)>>4,X.edgeGreen=(F&12)>>2,X.edgeBlue=F&3,E},ln.prototype.setPenLocation=function(E,M){var z=this.current708Packet.data,F=z[E],X=M.currentWindow.penLoc;return M.currentWindow.pendingNewLine=!0,F=z[++E],X.row=F&15,F=z[++E],X.column=F&63,E},ln.prototype.reset=function(E,M){var z=this.getPts(E);return this.flushDisplayed(z,M),this.initService(M.serviceNum,E)};var ni={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Oo=function(E){return E===null?"":(E=ni[E]||E,String.fromCharCode(E))},Ro=14,Bi=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],er=function(){for(var E=[],M=Ro+1;M--;)E.push({text:"",indent:0,offset:0});return E},We=function(E,M){We.prototype.init.call(this),this.field_=E||0,this.dataChannel_=M||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(z){var F,X,Q,pe,ye;if(F=z.ccData&32639,F===this.lastControlCode_){this.lastControlCode_=null;return}if((F&61440)===4096?this.lastControlCode_=F:F!==this.PADDING_&&(this.lastControlCode_=null),Q=F>>>8,pe=F&255,F!==this.PADDING_)if(F===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(F===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(z.pts),this.flushDisplayed(z.pts),X=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=X,this.startPts_=z.pts;else if(F===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(z.pts);else if(F===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(z.pts);else if(F===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(z.pts);else if(F===this.CARRIAGE_RETURN_)this.clearFormatting(z.pts),this.flushDisplayed(z.pts),this.shiftRowsUp_(),this.startPts_=z.pts;else if(F===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(F===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(z.pts),this.displayed_=er();else if(F===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=er();else if(F===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(z.pts),this.displayed_=er()),this.mode_="paintOn",this.startPts_=z.pts;else if(this.isSpecialCharacter(Q,pe))Q=(Q&3)<<8,ye=Oo(Q|pe),this[this.mode_](z.pts,ye),this.column_++;else if(this.isExtCharacter(Q,pe))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),Q=(Q&3)<<8,ye=Oo(Q|pe),this[this.mode_](z.pts,ye),this.column_++;else if(this.isMidRowCode(Q,pe))this.clearFormatting(z.pts),this[this.mode_](z.pts," "),this.column_++,(pe&14)===14&&this.addFormatting(z.pts,["i"]),(pe&1)===1&&this.addFormatting(z.pts,["u"]);else if(this.isOffsetControlCode(Q,pe)){const ke=pe&3;this.nonDisplayed_[this.row_].offset=ke,this.column_+=ke}else if(this.isPAC(Q,pe)){var Ce=Bi.indexOf(F&7968);if(this.mode_==="rollUp"&&(Ce-this.rollUpRows_+1<0&&(Ce=this.rollUpRows_-1),this.setRollUp(z.pts,Ce)),Ce!==this.row_&&(this.clearFormatting(z.pts),this.row_=Ce),pe&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(z.pts,["u"]),(F&16)===16){const ke=(F&14)>>1;this.column_=ke*4,this.nonDisplayed_[this.row_].indent+=ke}this.isColorPAC(pe)&&(pe&14)===14&&this.addFormatting(z.pts,["i"])}else this.isNormalChar(Q)&&(pe===0&&(pe=null),ye=Oo(Q),ye+=Oo(pe),this[this.mode_](z.pts,ye),this.column_+=ye.length)}};We.prototype=new mc,We.prototype.flushDisplayed=function(E){const M=F=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+F+"."})},z=[];this.displayed_.forEach((F,X)=>{if(F&&F.text&&F.text.length){try{F.text=F.text.trim()}catch{M(X)}F.text.length&&z.push({text:F.text,line:X+1,position:10+Math.min(70,F.indent*10)+F.offset*2.5})}else F==null&&M(X)}),z.length&&this.trigger("data",{startPts:this.startPts_,endPts:E,content:z,stream:this.name_})},We.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=er(),this.nonDisplayed_=er(),this.lastControlCode_=null,this.column_=0,this.row_=Ro,this.rollUpRows_=2,this.formatting_=[]},We.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},We.prototype.isSpecialCharacter=function(E,M){return E===this.EXT_&&M>=48&&M<=63},We.prototype.isExtCharacter=function(E,M){return(E===this.EXT_+1||E===this.EXT_+2)&&M>=32&&M<=63},We.prototype.isMidRowCode=function(E,M){return E===this.EXT_&&M>=32&&M<=47},We.prototype.isOffsetControlCode=function(E,M){return E===this.OFFSET_&&M>=33&&M<=35},We.prototype.isPAC=function(E,M){return E>=this.BASE_&&E<this.BASE_+8&&M>=64&&M<=127},We.prototype.isColorPAC=function(E){return E>=64&&E<=79||E>=96&&E<=127},We.prototype.isNormalChar=function(E){return E>=32&&E<=127},We.prototype.setRollUp=function(E,M){if(this.mode_!=="rollUp"&&(this.row_=Ro,this.mode_="rollUp",this.flushDisplayed(E),this.nonDisplayed_=er(),this.displayed_=er()),M!==void 0&&M!==this.row_)for(var z=0;z<this.rollUpRows_;z++)this.displayed_[M-z]=this.displayed_[this.row_-z],this.displayed_[this.row_-z]={text:"",indent:0,offset:0};M===void 0&&(M=this.row_),this.topRow_=M-this.rollUpRows_+1},We.prototype.addFormatting=function(E,M){this.formatting_=this.formatting_.concat(M);var z=M.reduce(function(F,X){return F+"<"+X+">"},"");this[this.mode_](E,z)},We.prototype.clearFormatting=function(E){if(this.formatting_.length){var M=this.formatting_.reverse().reduce(function(z,F){return z+"</"+F+">"},"");this.formatting_=[],this[this.mode_](E,M)}},We.prototype.popOn=function(E,M){var z=this.nonDisplayed_[this.row_].text;z+=M,this.nonDisplayed_[this.row_].text=z},We.prototype.rollUp=function(E,M){var z=this.displayed_[this.row_].text;z+=M,this.displayed_[this.row_].text=z},We.prototype.shiftRowsUp_=function(){var E;for(E=0;E<this.topRow_;E++)this.displayed_[E]={text:"",indent:0,offset:0};for(E=this.row_+1;E<Ro+1;E++)this.displayed_[E]={text:"",indent:0,offset:0};for(E=this.topRow_;E<this.row_;E++)this.displayed_[E]=this.displayed_[E+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},We.prototype.paintOn=function(E,M){var z=this.displayed_[this.row_].text;z+=M,this.displayed_[this.row_].text=z};var Bt={CaptionStream:jr,Cea608Stream:We,Cea708Stream:ln},un={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},zn=n,io=8589934592,zi=4294967296,o7="shared",_8=function(E,M){var z=1;for(E>M&&(z=-1);Math.abs(M-E)>zi;)E+=z*io;return E},w8=function(E){var M,z;w8.prototype.init.call(this),this.type_=E||o7,this.push=function(F){this.type_!==o7&&F.type!==this.type_||(z===void 0&&(z=F.dts),F.dts=_8(F.dts,z),F.pts=_8(F.pts,z),M=F.dts,this.trigger("data",F))},this.flush=function(){z=M,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){z=void 0,M=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};w8.prototype=new zn;var i7={TimestampRolloverStream:w8,handleRollover:_8},hse=(E,M,z)=>{if(!E)return-1;for(var F=z;F<E.length;F++)if(E[F]===M)return F;return-1},fse={typedArrayIndexOf:hse},hb=fse.typedArrayIndexOf,fb={Iso88591:0,Utf16:1,Utf16be:2,Utf8:3},l7=function(E,M,z){var F,X="";for(F=M;F<z;F++)X+="%"+("00"+E[F].toString(16)).slice(-2);return X},yg=function(E,M,z){return decodeURIComponent(l7(E,M,z))},bg=function(E,M,z){return unescape(l7(E,M,z))},_g=function(E){return E[0]<<21|E[1]<<14|E[2]<<7|E[3]},wg={APIC:function(E){var M=1,z,F,X="-->";E.data[0]===fb.Utf8&&(z=hb(E.data,0,M),!(z<0)&&(E.mimeType=bg(E.data,M,z),M=z+1,E.pictureType=E.data[M],M++,F=hb(E.data,0,M),!(F<0)&&(E.description=yg(E.data,M,F),M=F+1,E.mimeType===X?E.url=bg(E.data,M,E.data.length):E.pictureData=E.data.subarray(M,E.data.length))))},"T*":function(E){E.data[0]===fb.Utf8&&(E.value=yg(E.data,1,E.data.length).replace(/\0*$/,""),E.values=E.value.split("\0"))},TXXX:function(E){var M;E.data[0]===fb.Utf8&&(M=hb(E.data,0,1),M!==-1&&(E.description=yg(E.data,1,M),E.value=yg(E.data,M+1,E.data.length).replace(/\0*$/,""),E.data=E.value))},"W*":function(E){E.url=bg(E.data,0,E.data.length).replace(/\0.*$/,"")},WXXX:function(E){var M;E.data[0]===fb.Utf8&&(M=hb(E.data,0,1),M!==-1&&(E.description=yg(E.data,1,M),E.url=bg(E.data,M+1,E.data.length).replace(/\0.*$/,"")))},PRIV:function(E){var M;for(M=0;M<E.data.length;M++)if(E.data[M]===0){E.owner=bg(E.data,0,M);break}E.privateData=E.data.subarray(M+1),E.data=E.privateData}},pse=function(E){var M,z,F=10,X=0,Q=[];if(!(E.length<10||E[0]!==73||E[1]!==68||E[2]!==51)){X=_g(E.subarray(6,10)),X+=10;var pe=E[5]&64;pe&&(F+=4,F+=_g(E.subarray(10,14)),X-=_g(E.subarray(16,20)));do{if(M=_g(E.subarray(F+4,F+8)),M<1)break;z=String.fromCharCode(E[F],E[F+1],E[F+2],E[F+3]);var ye={id:z,data:E.subarray(F+10,F+M+10)};ye.key=ye.id,wg[ye.id]?wg[ye.id](ye):ye.id[0]==="T"?wg["T*"](ye):ye.id[0]==="W"&&wg["W*"](ye),Q.push(ye),F+=10,F+=M}while(F<X);return Q}},u7={parseId3Frames:pse,parseSyncSafeInteger:_g,frameParsers:wg},mse=n,gse=un,vc=u7,pb;pb=function(E){var M={descriptor:E&&E.descriptor},z=0,F=[],X=0,Q;if(pb.prototype.init.call(this),this.dispatchType=gse.METADATA_STREAM_TYPE.toString(16),M.descriptor)for(Q=0;Q<M.descriptor.length;Q++)this.dispatchType+=("00"+M.descriptor[Q].toString(16)).slice(-2);this.push=function(pe){var ye,Ce,ke,Be,nt,Vt;if(pe.type==="timed-metadata"){if(pe.dataAlignmentIndicator&&(X=0,F.length=0),F.length===0&&(pe.data.length<10||pe.data[0]!==73||pe.data[1]!==68||pe.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(F.push(pe),X+=pe.data.byteLength,F.length===1&&(z=vc.parseSyncSafeInteger(pe.data.subarray(6,10)),z+=10),!(X<z)){for(ye={data:new Uint8Array(z),frames:[],pts:F[0].pts,dts:F[0].dts},nt=0;nt<z;)ye.data.set(F[0].data.subarray(0,z-nt),nt),nt+=F[0].data.byteLength,X-=F[0].data.byteLength,F.shift();Ce=10,ye.data[5]&64&&(Ce+=4,Ce+=vc.parseSyncSafeInteger(ye.data.subarray(10,14)),z-=vc.parseSyncSafeInteger(ye.data.subarray(16,20)));do{if(ke=vc.parseSyncSafeInteger(ye.data.subarray(Ce+4,Ce+8)),ke<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Vt=String.fromCharCode(ye.data[Ce],ye.data[Ce+1],ye.data[Ce+2],ye.data[Ce+3]),Be={id:Vt,data:ye.data.subarray(Ce+10,Ce+ke+10)},Be.key=Be.id,vc.frameParsers[Be.id]?vc.frameParsers[Be.id](Be):Be.id[0]==="T"?vc.frameParsers["T*"](Be):Be.id[0]==="W"&&vc.frameParsers["W*"](Be),Be.owner==="com.apple.streaming.transportStreamTimestamp"){var ft=Be.data,pn=(ft[3]&1)<<30|ft[4]<<22|ft[5]<<14|ft[6]<<6|ft[7]>>>2;pn*=4,pn+=ft[7]&3,Be.timeStamp=pn,ye.pts===void 0&&ye.dts===void 0&&(ye.pts=Be.timeStamp,ye.dts=Be.timeStamp),this.trigger("timestamp",Be)}ye.frames.push(Be),Ce+=10,Ce+=ke}while(Ce<z);this.trigger("data",ye)}}}},pb.prototype=new mse;var vse=pb,x8=n,C8=Bt,Vi=un,yse=i7.TimestampRolloverStream,mb,xg,gb,zf=188,S8=71;mb=function(){var E=new Uint8Array(zf),M=0;mb.prototype.init.call(this),this.push=function(z){var F=0,X=zf,Q;for(M?(Q=new Uint8Array(z.byteLength+M),Q.set(E.subarray(0,M)),Q.set(z,M),M=0):Q=z;X<Q.byteLength;){if(Q[F]===S8&&Q[X]===S8){this.trigger("data",Q.subarray(F,X)),F+=zf,X+=zf;continue}F++,X++}F<Q.byteLength&&(E.set(Q.subarray(F),0),M=Q.byteLength-F)},this.flush=function(){M===zf&&E[0]===S8&&(this.trigger("data",E),M=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){M=0,this.trigger("reset")}},mb.prototype=new x8,xg=function(){var E,M,z,F;xg.prototype.init.call(this),F=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,E=function(X,Q){var pe=0;Q.payloadUnitStartIndicator&&(pe+=X[pe]+1),Q.type==="pat"?M(X.subarray(pe),Q):z(X.subarray(pe),Q)},M=function(X,Q){Q.section_number=X[7],Q.last_section_number=X[8],F.pmtPid=(X[10]&31)<<8|X[11],Q.pmtPid=F.pmtPid},z=function(X,Q){var pe,ye,Ce,ke;if(X[5]&1){for(F.programMapTable={video:null,audio:null,"timed-metadata":{}},pe=(X[1]&15)<<8|X[2],ye=3+pe-4,Ce=(X[10]&15)<<8|X[11],ke=12+Ce;ke<ye;){var Be=X[ke],nt=(X[ke+1]&31)<<8|X[ke+2];Be===Vi.H264_STREAM_TYPE&&F.programMapTable.video===null?F.programMapTable.video=nt:Be===Vi.ADTS_STREAM_TYPE&&F.programMapTable.audio===null?F.programMapTable.audio=nt:Be===Vi.METADATA_STREAM_TYPE&&(F.programMapTable["timed-metadata"][nt]=Be),ke+=((X[ke+3]&15)<<8|X[ke+4])+5}Q.programMapTable=F.programMapTable}},this.push=function(X){var Q={},pe=4;if(Q.payloadUnitStartIndicator=!!(X[1]&64),Q.pid=X[1]&31,Q.pid<<=8,Q.pid|=X[2],(X[3]&48)>>>4>1&&(pe+=X[pe]+1),Q.pid===0)Q.type="pat",E(X.subarray(pe),Q),this.trigger("data",Q);else if(Q.pid===this.pmtPid)for(Q.type="pmt",E(X.subarray(pe),Q),this.trigger("data",Q);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([X,pe,Q]):this.processPes_(X,pe,Q)},this.processPes_=function(X,Q,pe){pe.pid===this.programMapTable.video?pe.streamType=Vi.H264_STREAM_TYPE:pe.pid===this.programMapTable.audio?pe.streamType=Vi.ADTS_STREAM_TYPE:pe.streamType=this.programMapTable["timed-metadata"][pe.pid],pe.type="pes",pe.data=X.subarray(Q),this.trigger("data",pe)}},xg.prototype=new x8,xg.STREAM_TYPES={h264:27,adts:15},gb=function(){var E=this,M=!1,z={data:[],size:0},F={data:[],size:0},X={data:[],size:0},Q,pe=function(Ce,ke){var Be;const nt=Ce[0]<<16|Ce[1]<<8|Ce[2];ke.data=new Uint8Array,nt===1&&(ke.packetLength=6+(Ce[4]<<8|Ce[5]),ke.dataAlignmentIndicator=(Ce[6]&4)!==0,Be=Ce[7],Be&192&&(ke.pts=(Ce[9]&14)<<27|(Ce[10]&255)<<20|(Ce[11]&254)<<12|(Ce[12]&255)<<5|(Ce[13]&254)>>>3,ke.pts*=4,ke.pts+=(Ce[13]&6)>>>1,ke.dts=ke.pts,Be&64&&(ke.dts=(Ce[14]&14)<<27|(Ce[15]&255)<<20|(Ce[16]&254)<<12|(Ce[17]&255)<<5|(Ce[18]&254)>>>3,ke.dts*=4,ke.dts+=(Ce[18]&6)>>>1)),ke.data=Ce.subarray(9+Ce[8]))},ye=function(Ce,ke,Be){var nt=new Uint8Array(Ce.size),Vt={type:ke},ft=0,pn=0,_n=!1,Ar;if(!(!Ce.data.length||Ce.size<9)){for(Vt.trackId=Ce.data[0].pid,ft=0;ft<Ce.data.length;ft++)Ar=Ce.data[ft],nt.set(Ar.data,pn),pn+=Ar.data.byteLength;pe(nt,Vt),_n=ke==="video"||Vt.packetLength<=Ce.size,(Be||_n)&&(Ce.size=0,Ce.data.length=0),_n&&E.trigger("data",Vt)}};gb.prototype.init.call(this),this.push=function(Ce){({pat:function(){},pes:function(){var ke,Be;switch(Ce.streamType){case Vi.H264_STREAM_TYPE:ke=z,Be="video";break;case Vi.ADTS_STREAM_TYPE:ke=F,Be="audio";break;case Vi.METADATA_STREAM_TYPE:ke=X,Be="timed-metadata";break;default:return}Ce.payloadUnitStartIndicator&&ye(ke,Be,!0),ke.data.push(Ce),ke.size+=Ce.data.byteLength},pmt:function(){var ke={type:"metadata",tracks:[]};Q=Ce.programMapTable,Q.video!==null&&ke.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.video,codec:"avc",type:"video"}),Q.audio!==null&&ke.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.audio,codec:"adts",type:"audio"}),M=!0,E.trigger("data",ke)}})[Ce.type]()},this.reset=function(){z.size=0,z.data.length=0,F.size=0,F.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ye(z,"video"),ye(F,"audio"),ye(X,"timed-metadata")},this.flush=function(){if(!M&&Q){var Ce={type:"metadata",tracks:[]};Q.video!==null&&Ce.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.video,codec:"avc",type:"video"}),Q.audio!==null&&Ce.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+Q.audio,codec:"adts",type:"audio"}),E.trigger("data",Ce)}M=!1,this.flushStreams_(),this.trigger("done")}},gb.prototype=new x8;var c7={PAT_PID:0,MP2T_PACKET_LENGTH:zf,TransportPacketStream:mb,TransportParseStream:xg,ElementaryStream:gb,TimestampRolloverStream:yse,CaptionStream:C8.CaptionStream,Cea608Stream:C8.Cea608Stream,Cea708Stream:C8.Cea708Stream,MetadataStream:vse};for(var T8 in Vi)Vi.hasOwnProperty(T8)&&(c7[T8]=Vi[T8]);var bse=c7,_se=n,wse=Re.ONE_SECOND_IN_TS,vb,d7=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];vb=function(E){var M,z=0;vb.prototype.init.call(this),this.skipWarn_=function(F,X){this.trigger("log",{level:"warn",message:`adts skiping bytes ${F} to ${X} in frame ${z} outside syncword`})},this.push=function(F){var X=0,Q,pe,ye,Ce,ke;if(E||(z=0),F.type==="audio"){M&&M.length?(ye=M,M=new Uint8Array(ye.byteLength+F.data.byteLength),M.set(ye),M.set(F.data,ye.byteLength)):M=F.data;for(var Be;X+7<M.length;){if(M[X]!==255||(M[X+1]&246)!==240){typeof Be!="number"&&(Be=X),X++;continue}if(typeof Be=="number"&&(this.skipWarn_(Be,X),Be=null),pe=(~M[X+1]&1)*2,Q=(M[X+3]&3)<<11|M[X+4]<<3|(M[X+5]&224)>>5,Ce=((M[X+6]&3)+1)*1024,ke=Ce*wse/d7[(M[X+2]&60)>>>2],M.byteLength-X<Q)break;this.trigger("data",{pts:F.pts+z*ke,dts:F.dts+z*ke,sampleCount:Ce,audioobjecttype:(M[X+2]>>>6&3)+1,channelcount:(M[X+2]&1)<<2|(M[X+3]&192)>>>6,samplerate:d7[(M[X+2]&60)>>>2],samplingfrequencyindex:(M[X+2]&60)>>>2,samplesize:16,data:M.subarray(X+7+pe,X+Q)}),z++,X+=Q}typeof Be=="number"&&(this.skipWarn_(Be,X),Be=null),M=M.subarray(X)}},this.flush=function(){z=0,this.trigger("done")},this.reset=function(){M=void 0,this.trigger("reset")},this.endTimeline=function(){M=void 0,this.trigger("endedtimeline")}},vb.prototype=new _se;var xse=vb,h7;h7=function(E){var M=E.byteLength,z=0,F=0;this.length=function(){return 8*M},this.bitsAvailable=function(){return 8*M+F},this.loadWord=function(){var X=E.byteLength-M,Q=new Uint8Array(4),pe=Math.min(4,M);if(pe===0)throw new Error("no bytes available");Q.set(E.subarray(X,X+pe)),z=new DataView(Q.buffer).getUint32(0),F=pe*8,M-=pe},this.skipBits=function(X){var Q;F>X?(z<<=X,F-=X):(X-=F,Q=Math.floor(X/8),X-=Q*8,M-=Q,this.loadWord(),z<<=X,F-=X)},this.readBits=function(X){var Q=Math.min(F,X),pe=z>>>32-Q;return F-=Q,F>0?z<<=Q:M>0&&this.loadWord(),Q=X-Q,Q>0?pe<<Q|this.readBits(Q):pe},this.skipLeadingZeros=function(){var X;for(X=0;X<F;++X)if(z&2147483648>>>X)return z<<=X,F-=X,X;return this.loadWord(),X+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var X=this.skipLeadingZeros();return this.readBits(X+1)-1},this.readExpGolomb=function(){var X=this.readUnsignedExpGolomb();return 1&X?1+X>>>1:-1*(X>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Cse=h7,f7=n,Sse=Cse,yb,Cg,p7;Cg=function(){var E=0,M,z;Cg.prototype.init.call(this),this.push=function(F){var X;z?(X=new Uint8Array(z.byteLength+F.data.byteLength),X.set(z),X.set(F.data,z.byteLength),z=X):z=F.data;for(var Q=z.byteLength;E<Q-3;E++)if(z[E+2]===1){M=E+5;break}for(;M<Q;)switch(z[M]){case 0:if(z[M-1]!==0){M+=2;break}else if(z[M-2]!==0){M++;break}E+3!==M-2&&this.trigger("data",z.subarray(E+3,M-2));do M++;while(z[M]!==1&&M<Q);E=M-2,M+=3;break;case 1:if(z[M-1]!==0||z[M-2]!==0){M+=3;break}this.trigger("data",z.subarray(E+3,M-2)),E=M-2,M+=3;break;default:M+=3;break}z=z.subarray(E),M-=E,E=0},this.reset=function(){z=null,E=0,this.trigger("reset")},this.flush=function(){z&&z.byteLength>3&&this.trigger("data",z.subarray(E+3)),z=null,E=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Cg.prototype=new f7,p7={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},yb=function(){var E=new Cg,M,z,F,X,Q,pe,ye;yb.prototype.init.call(this),M=this,this.push=function(Ce){Ce.type==="video"&&(z=Ce.trackId,F=Ce.pts,X=Ce.dts,E.push(Ce))},E.on("data",function(Ce){var ke={trackId:z,pts:F,dts:X,data:Ce,nalUnitTypeCode:Ce[0]&31};switch(ke.nalUnitTypeCode){case 5:ke.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ke.nalUnitType="sei_rbsp",ke.escapedRBSP=Q(Ce.subarray(1));break;case 7:ke.nalUnitType="seq_parameter_set_rbsp",ke.escapedRBSP=Q(Ce.subarray(1)),ke.config=pe(ke.escapedRBSP);break;case 8:ke.nalUnitType="pic_parameter_set_rbsp";break;case 9:ke.nalUnitType="access_unit_delimiter_rbsp";break}M.trigger("data",ke)}),E.on("done",function(){M.trigger("done")}),E.on("partialdone",function(){M.trigger("partialdone")}),E.on("reset",function(){M.trigger("reset")}),E.on("endedtimeline",function(){M.trigger("endedtimeline")}),this.flush=function(){E.flush()},this.partialFlush=function(){E.partialFlush()},this.reset=function(){E.reset()},this.endTimeline=function(){E.endTimeline()},ye=function(Ce,ke){var Be=8,nt=8,Vt,ft;for(Vt=0;Vt<Ce;Vt++)nt!==0&&(ft=ke.readExpGolomb(),nt=(Be+ft+256)%256),Be=nt===0?Be:nt},Q=function(Ce){for(var ke=Ce.byteLength,Be=[],nt=1,Vt,ft;nt<ke-2;)Ce[nt]===0&&Ce[nt+1]===0&&Ce[nt+2]===3?(Be.push(nt+2),nt+=2):nt++;if(Be.length===0)return Ce;Vt=ke-Be.length,ft=new Uint8Array(Vt);var pn=0;for(nt=0;nt<Vt;pn++,nt++)pn===Be[0]&&(pn++,Be.shift()),ft[nt]=Ce[pn];return ft},pe=function(Ce){var ke=0,Be=0,nt=0,Vt=0,ft,pn,_n,Ar,si,Ld,H7,U7,W7,P8,j7,hr=[1,1],G7,Pd;if(ft=new Sse(Ce),pn=ft.readUnsignedByte(),Ar=ft.readUnsignedByte(),_n=ft.readUnsignedByte(),ft.skipUnsignedExpGolomb(),p7[pn]&&(si=ft.readUnsignedExpGolomb(),si===3&&ft.skipBits(1),ft.skipUnsignedExpGolomb(),ft.skipUnsignedExpGolomb(),ft.skipBits(1),ft.readBoolean()))for(j7=si!==3?8:12,Pd=0;Pd<j7;Pd++)ft.readBoolean()&&(Pd<6?ye(16,ft):ye(64,ft));if(ft.skipUnsignedExpGolomb(),Ld=ft.readUnsignedExpGolomb(),Ld===0)ft.readUnsignedExpGolomb();else if(Ld===1)for(ft.skipBits(1),ft.skipExpGolomb(),ft.skipExpGolomb(),H7=ft.readUnsignedExpGolomb(),Pd=0;Pd<H7;Pd++)ft.skipExpGolomb();if(ft.skipUnsignedExpGolomb(),ft.skipBits(1),U7=ft.readUnsignedExpGolomb(),W7=ft.readUnsignedExpGolomb(),P8=ft.readBits(1),P8===0&&ft.skipBits(1),ft.skipBits(1),ft.readBoolean()&&(ke=ft.readUnsignedExpGolomb(),Be=ft.readUnsignedExpGolomb(),nt=ft.readUnsignedExpGolomb(),Vt=ft.readUnsignedExpGolomb()),ft.readBoolean()&&ft.readBoolean()){switch(G7=ft.readUnsignedByte(),G7){case 1:hr=[1,1];break;case 2:hr=[12,11];break;case 3:hr=[10,11];break;case 4:hr=[16,11];break;case 5:hr=[40,33];break;case 6:hr=[24,11];break;case 7:hr=[20,11];break;case 8:hr=[32,11];break;case 9:hr=[80,33];break;case 10:hr=[18,11];break;case 11:hr=[15,11];break;case 12:hr=[64,33];break;case 13:hr=[160,99];break;case 14:hr=[4,3];break;case 15:hr=[3,2];break;case 16:hr=[2,1];break;case 255:{hr=[ft.readUnsignedByte()<<8|ft.readUnsignedByte(),ft.readUnsignedByte()<<8|ft.readUnsignedByte()];break}}hr&&hr[0]/hr[1]}return{profileIdc:pn,levelIdc:_n,profileCompatibility:Ar,width:(U7+1)*16-ke*2-Be*2,height:(2-P8)*(W7+1)*16-nt*2-Vt*2,sarRatio:hr}}},yb.prototype=new f7;var Tse={H264Stream:yb,NalByteStream:Cg},kse=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],m7=function(E,M){var z=E[M+6]<<21|E[M+7]<<14|E[M+8]<<7|E[M+9],F=E[M+5],X=(F&16)>>4;return z=z>=0?z:0,X?z+20:z+10},g7=function(E,M){return E.length-M<10||E[M]!==73||E[M+1]!==68||E[M+2]!==51?M:(M+=m7(E,M),g7(E,M))},$se=function(E){var M=g7(E,0);return E.length>=M+2&&(E[M]&255)===255&&(E[M+1]&240)===240&&(E[M+1]&22)===16},v7=function(E){return E[0]<<21|E[1]<<14|E[2]<<7|E[3]},Ese=function(E,M,z){var F,X="";for(F=M;F<z;F++)X+="%"+("00"+E[F].toString(16)).slice(-2);return X},Ise=function(E,M,z){return unescape(Ese(E,M,z))},Nse=function(E,M){var z=(E[M+5]&224)>>5,F=E[M+4]<<3,X=E[M+3]&6144;return X|F|z},Ase=function(E,M){return E[M]===73&&E[M+1]===68&&E[M+2]===51?"timed-metadata":E[M]&!0&&(E[M+1]&240)===240?"audio":null},Dse=function(E){for(var M=0;M+5<E.length;){if(E[M]!==255||(E[M+1]&246)!==240){M++;continue}return kse[(E[M+2]&60)>>>2]}return null},Ose=function(E){var M,z,F,X;M=10,E[5]&64&&(M+=4,M+=v7(E.subarray(10,14)));do{if(z=v7(E.subarray(M+4,M+8)),z<1)return null;if(X=String.fromCharCode(E[M],E[M+1],E[M+2],E[M+3]),X==="PRIV"){F=E.subarray(M+10,M+z+10);for(var Q=0;Q<F.byteLength;Q++)if(F[Q]===0){var pe=Ise(F,0,Q);if(pe==="com.apple.streaming.transportStreamTimestamp"){var ye=F.subarray(Q+1),Ce=(ye[3]&1)<<30|ye[4]<<22|ye[5]<<14|ye[6]<<6|ye[7]>>>2;return Ce*=4,Ce+=ye[7]&3,Ce}break}}M+=10,M+=z}while(M<E.byteLength);return null},k8={isLikelyAacData:$se,parseId3TagSize:m7,parseAdtsSize:Nse,parseType:Ase,parseSampleRate:Dse,parseAacTimestamp:Ose},Rse=n,y7=k8,bb;bb=function(){var E=new Uint8Array,M=0;bb.prototype.init.call(this),this.setTimestamp=function(z){M=z},this.push=function(z){var F=0,X=0,Q,pe,ye,Ce;for(E.length?(Ce=E.length,E=new Uint8Array(z.byteLength+Ce),E.set(E.subarray(0,Ce)),E.set(z,Ce)):E=z;E.length-X>=3;){if(E[X]===73&&E[X+1]===68&&E[X+2]===51){if(E.length-X<10||(F=y7.parseId3TagSize(E,X),X+F>E.length))break;pe={type:"timed-metadata",data:E.subarray(X,X+F)},this.trigger("data",pe),X+=F;continue}else if((E[X]&255)===255&&(E[X+1]&240)===240){if(E.length-X<7||(F=y7.parseAdtsSize(E,X),X+F>E.length))break;ye={type:"audio",data:E.subarray(X,X+F),pts:M,dts:M},this.trigger("data",ye),X+=F;continue}X++}Q=E.length-X,Q>0?E=E.subarray(X):E=new Uint8Array},this.reset=function(){E=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){E=new Uint8Array,this.trigger("endedtimeline")}},bb.prototype=new Rse;var Lse=bb,Pse=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Mse=Pse,Fse=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Bse=Fse,_b=n,Sg=ee,Tg=Pe,wb=St,Hi=Wr,pu=bse,xb=Re,b7=xse,zse=Tse.H264Stream,Vse=Lse,Hse=k8.isLikelyAacData,Use=Re.ONE_SECOND_IN_TS,$8=Mse,E8=Bse,kg,Vf,Cb,Od,Wse=function(E,M){M.stream=E,this.trigger("log",M)},_7=function(E,M){for(var z=Object.keys(M),F=0;F<z.length;F++){var X=z[F];X==="headOfPipeline"||!M[X].on||M[X].on("log",Wse.bind(E,X))}},w7=function(E,M){var z;if(E.length!==M.length)return!1;for(z=0;z<E.length;z++)if(E[z]!==M[z])return!1;return!0},I8=function(E,M,z,F,X,Q){var pe=z-M,ye=F-M,Ce=X-z;return{start:{dts:E,pts:E+pe},end:{dts:E+ye,pts:E+Ce},prependedContentDuration:Q,baseMediaDecodeTime:E}};Vf=function(E,M){var z=[],F,X=0,Q=0,pe=1/0;M=M||{},F=M.firstSequenceNumber||0,Vf.prototype.init.call(this),this.push=function(ye){Hi.collectDtsInfo(E,ye),E&&$8.forEach(function(Ce){E[Ce]=ye[Ce]}),z.push(ye)},this.setEarliestDts=function(ye){X=ye},this.setVideoBaseMediaDecodeTime=function(ye){pe=ye},this.setAudioAppendStart=function(ye){Q=ye},this.flush=function(){var ye,Ce,ke,Be,nt,Vt,ft;if(z.length===0){this.trigger("done","AudioSegmentStream");return}ye=wb.trimAdtsFramesByEarliestDts(z,E,X),E.baseMediaDecodeTime=Hi.calculateTrackBaseMediaDecodeTime(E,M.keepOriginalTimestamps),ft=wb.prefixWithSilence(E,ye,Q,pe),E.samples=wb.generateSampleTable(ye),ke=Sg.mdat(wb.concatenateFrameData(ye)),z=[],Ce=Sg.moof(F,[E]),Be=new Uint8Array(Ce.byteLength+ke.byteLength),F++,Be.set(Ce),Be.set(ke,Ce.byteLength),Hi.clearDtsInfo(E),nt=Math.ceil(Use*1024/E.samplerate),ye.length&&(Vt=ye.length*nt,this.trigger("segmentTimingInfo",I8(xb.audioTsToVideoTs(E.baseMediaDecodeTime,E.samplerate),ye[0].dts,ye[0].pts,ye[0].dts+Vt,ye[0].pts+Vt,ft||0)),this.trigger("timingInfo",{start:ye[0].pts,end:ye[0].pts+Vt})),this.trigger("data",{track:E,boxes:Be}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Hi.clearDtsInfo(E),z=[],this.trigger("reset")}},Vf.prototype=new _b,kg=function(E,M){var z,F=[],X=[],Q,pe;M=M||{},z=M.firstSequenceNumber||0,kg.prototype.init.call(this),delete E.minPTS,this.gopCache_=[],this.push=function(ye){Hi.collectDtsInfo(E,ye),ye.nalUnitType==="seq_parameter_set_rbsp"&&!Q&&(Q=ye.config,E.sps=[ye.data],E8.forEach(function(Ce){E[Ce]=Q[Ce]},this)),ye.nalUnitType==="pic_parameter_set_rbsp"&&!pe&&(pe=ye.data,E.pps=[ye.data]),F.push(ye)},this.flush=function(){for(var ye,Ce,ke,Be,nt,Vt,ft=0,pn,_n;F.length&&F[0].nalUnitType!=="access_unit_delimiter_rbsp";)F.shift();if(F.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ye=Tg.groupNalsIntoFrames(F),ke=Tg.groupFramesIntoGops(ye),ke[0][0].keyFrame||(Ce=this.getGopForFusion_(F[0],E),Ce?(ft=Ce.duration,ke.unshift(Ce),ke.byteLength+=Ce.byteLength,ke.nalCount+=Ce.nalCount,ke.pts=Ce.pts,ke.dts=Ce.dts,ke.duration+=Ce.duration):ke=Tg.extendFirstKeyFrame(ke)),X.length){var Ar;if(M.alignGopsAtEnd?Ar=this.alignGopsAtEnd_(ke):Ar=this.alignGopsAtStart_(ke),!Ar){this.gopCache_.unshift({gop:ke.pop(),pps:E.pps,sps:E.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),F=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Hi.clearDtsInfo(E),ke=Ar}Hi.collectDtsInfo(E,ke),E.samples=Tg.generateSampleTable(ke),nt=Sg.mdat(Tg.concatenateNalData(ke)),E.baseMediaDecodeTime=Hi.calculateTrackBaseMediaDecodeTime(E,M.keepOriginalTimestamps),this.trigger("processedGopsInfo",ke.map(function(si){return{pts:si.pts,dts:si.dts,byteLength:si.byteLength}})),pn=ke[0],_n=ke[ke.length-1],this.trigger("segmentTimingInfo",I8(E.baseMediaDecodeTime,pn.dts,pn.pts,_n.dts+_n.duration,_n.pts+_n.duration,ft)),this.trigger("timingInfo",{start:ke[0].pts,end:ke[ke.length-1].pts+ke[ke.length-1].duration}),this.gopCache_.unshift({gop:ke.pop(),pps:E.pps,sps:E.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),F=[],this.trigger("baseMediaDecodeTime",E.baseMediaDecodeTime),this.trigger("timelineStartInfo",E.timelineStartInfo),Be=Sg.moof(z,[E]),Vt=new Uint8Array(Be.byteLength+nt.byteLength),z++,Vt.set(Be),Vt.set(nt,Be.byteLength),this.trigger("data",{track:E,boxes:Vt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),F=[],this.gopCache_.length=0,X.length=0,this.trigger("reset")},this.resetStream_=function(){Hi.clearDtsInfo(E),Q=void 0,pe=void 0},this.getGopForFusion_=function(ye){var Ce=45e3,ke=1e4,Be=1/0,nt,Vt,ft,pn,_n;for(_n=0;_n<this.gopCache_.length;_n++)pn=this.gopCache_[_n],ft=pn.gop,!(!(E.pps&&w7(E.pps[0],pn.pps[0]))||!(E.sps&&w7(E.sps[0],pn.sps[0])))&&(ft.dts<E.timelineStartInfo.dts||(nt=ye.dts-ft.dts-ft.duration,nt>=-ke&&nt<=Ce&&(!Vt||Be>nt)&&(Vt=pn,Be=nt)));return Vt?Vt.gop:null},this.alignGopsAtStart_=function(ye){var Ce,ke,Be,nt,Vt,ft,pn,_n;for(Vt=ye.byteLength,ft=ye.nalCount,pn=ye.duration,Ce=ke=0;Ce<X.length&&ke<ye.length&&(Be=X[Ce],nt=ye[ke],Be.pts!==nt.pts);){if(nt.pts>Be.pts){Ce++;continue}ke++,Vt-=nt.byteLength,ft-=nt.nalCount,pn-=nt.duration}return ke===0?ye:ke===ye.length?null:(_n=ye.slice(ke),_n.byteLength=Vt,_n.duration=pn,_n.nalCount=ft,_n.pts=_n[0].pts,_n.dts=_n[0].dts,_n)},this.alignGopsAtEnd_=function(ye){var Ce,ke,Be,nt,Vt,ft;for(Ce=X.length-1,ke=ye.length-1,Vt=null,ft=!1;Ce>=0&&ke>=0;){if(Be=X[Ce],nt=ye[ke],Be.pts===nt.pts){ft=!0;break}if(Be.pts>nt.pts){Ce--;continue}Ce===X.length-1&&(Vt=ke),ke--}if(!ft&&Vt===null)return null;var pn;if(ft?pn=ke:pn=Vt,pn===0)return ye;var _n=ye.slice(pn),Ar=_n.reduce(function(si,Ld){return si.byteLength+=Ld.byteLength,si.duration+=Ld.duration,si.nalCount+=Ld.nalCount,si},{byteLength:0,duration:0,nalCount:0});return _n.byteLength=Ar.byteLength,_n.duration=Ar.duration,_n.nalCount=Ar.nalCount,_n.pts=_n[0].pts,_n.dts=_n[0].dts,_n},this.alignGopsWith=function(ye){X=ye}},kg.prototype=new _b,Od=function(E,M){this.numberOfTracks=0,this.metadataStream=M,E=E||{},typeof E.remux<"u"?this.remuxTracks=!!E.remux:this.remuxTracks=!0,typeof E.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=E.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Od.prototype.init.call(this),this.push=function(z){if(z.content||z.text)return this.pendingCaptions.push(z);if(z.frames)return this.pendingMetadata.push(z);this.pendingTracks.push(z.track),this.pendingBytes+=z.boxes.byteLength,z.track.type==="video"&&(this.videoTrack=z.track,this.pendingBoxes.push(z.boxes)),z.track.type==="audio"&&(this.audioTrack=z.track,this.pendingBoxes.unshift(z.boxes))}},Od.prototype=new _b,Od.prototype.flush=function(E){var M=0,z={captions:[],captionStreams:{},metadata:[],info:{}},F,X,Q,pe=0,ye;if(this.pendingTracks.length<this.numberOfTracks){if(E!=="VideoSegmentStream"&&E!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(pe=this.videoTrack.timelineStartInfo.pts,E8.forEach(function(Ce){z.info[Ce]=this.videoTrack[Ce]},this)):this.audioTrack&&(pe=this.audioTrack.timelineStartInfo.pts,$8.forEach(function(Ce){z.info[Ce]=this.audioTrack[Ce]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?z.type=this.pendingTracks[0].type:z.type="combined",this.emittedTracks+=this.pendingTracks.length,Q=Sg.initSegment(this.pendingTracks),z.initSegment=new Uint8Array(Q.byteLength),z.initSegment.set(Q),z.data=new Uint8Array(this.pendingBytes),ye=0;ye<this.pendingBoxes.length;ye++)z.data.set(this.pendingBoxes[ye],M),M+=this.pendingBoxes[ye].byteLength;for(ye=0;ye<this.pendingCaptions.length;ye++)F=this.pendingCaptions[ye],F.startTime=xb.metadataTsToSeconds(F.startPts,pe,this.keepOriginalTimestamps),F.endTime=xb.metadataTsToSeconds(F.endPts,pe,this.keepOriginalTimestamps),z.captionStreams[F.stream]=!0,z.captions.push(F);for(ye=0;ye<this.pendingMetadata.length;ye++)X=this.pendingMetadata[ye],X.cueTime=xb.metadataTsToSeconds(X.pts,pe,this.keepOriginalTimestamps),z.metadata.push(X);for(z.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",z),ye=0;ye<z.captions.length;ye++)F=z.captions[ye],this.trigger("caption",F);for(ye=0;ye<z.metadata.length;ye++)X=z.metadata[ye],this.trigger("id3Frame",X)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Od.prototype.setRemux=function(E){this.remuxTracks=E},Cb=function(E){var M=this,z=!0,F,X;Cb.prototype.init.call(this),E=E||{},this.baseMediaDecodeTime=E.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var Q={};this.transmuxPipeline_=Q,Q.type="aac",Q.metadataStream=new pu.MetadataStream,Q.aacStream=new Vse,Q.audioTimestampRolloverStream=new pu.TimestampRolloverStream("audio"),Q.timedMetadataTimestampRolloverStream=new pu.TimestampRolloverStream("timed-metadata"),Q.adtsStream=new b7,Q.coalesceStream=new Od(E,Q.metadataStream),Q.headOfPipeline=Q.aacStream,Q.aacStream.pipe(Q.audioTimestampRolloverStream).pipe(Q.adtsStream),Q.aacStream.pipe(Q.timedMetadataTimestampRolloverStream).pipe(Q.metadataStream).pipe(Q.coalesceStream),Q.metadataStream.on("timestamp",function(pe){Q.aacStream.setTimestamp(pe.timeStamp)}),Q.aacStream.on("data",function(pe){pe.type!=="timed-metadata"&&pe.type!=="audio"||Q.audioSegmentStream||(X=X||{timelineStartInfo:{baseMediaDecodeTime:M.baseMediaDecodeTime},codec:"adts",type:"audio"},Q.coalesceStream.numberOfTracks++,Q.audioSegmentStream=new Vf(X,E),Q.audioSegmentStream.on("log",M.getLogTrigger_("audioSegmentStream")),Q.audioSegmentStream.on("timingInfo",M.trigger.bind(M,"audioTimingInfo")),Q.adtsStream.pipe(Q.audioSegmentStream).pipe(Q.coalesceStream),M.trigger("trackinfo",{hasAudio:!!X,hasVideo:!!F}))}),Q.coalesceStream.on("data",this.trigger.bind(this,"data")),Q.coalesceStream.on("done",this.trigger.bind(this,"done")),_7(this,Q)},this.setupTsPipeline=function(){var Q={};this.transmuxPipeline_=Q,Q.type="ts",Q.metadataStream=new pu.MetadataStream,Q.packetStream=new pu.TransportPacketStream,Q.parseStream=new pu.TransportParseStream,Q.elementaryStream=new pu.ElementaryStream,Q.timestampRolloverStream=new pu.TimestampRolloverStream,Q.adtsStream=new b7,Q.h264Stream=new zse,Q.captionStream=new pu.CaptionStream(E),Q.coalesceStream=new Od(E,Q.metadataStream),Q.headOfPipeline=Q.packetStream,Q.packetStream.pipe(Q.parseStream).pipe(Q.elementaryStream).pipe(Q.timestampRolloverStream),Q.timestampRolloverStream.pipe(Q.h264Stream),Q.timestampRolloverStream.pipe(Q.adtsStream),Q.timestampRolloverStream.pipe(Q.metadataStream).pipe(Q.coalesceStream),Q.h264Stream.pipe(Q.captionStream).pipe(Q.coalesceStream),Q.elementaryStream.on("data",function(pe){var ye;if(pe.type==="metadata"){for(ye=pe.tracks.length;ye--;)!F&&pe.tracks[ye].type==="video"?(F=pe.tracks[ye],F.timelineStartInfo.baseMediaDecodeTime=M.baseMediaDecodeTime):!X&&pe.tracks[ye].type==="audio"&&(X=pe.tracks[ye],X.timelineStartInfo.baseMediaDecodeTime=M.baseMediaDecodeTime);F&&!Q.videoSegmentStream&&(Q.coalesceStream.numberOfTracks++,Q.videoSegmentStream=new kg(F,E),Q.videoSegmentStream.on("log",M.getLogTrigger_("videoSegmentStream")),Q.videoSegmentStream.on("timelineStartInfo",function(Ce){X&&!E.keepOriginalTimestamps&&(X.timelineStartInfo=Ce,Q.audioSegmentStream.setEarliestDts(Ce.dts-M.baseMediaDecodeTime))}),Q.videoSegmentStream.on("processedGopsInfo",M.trigger.bind(M,"gopInfo")),Q.videoSegmentStream.on("segmentTimingInfo",M.trigger.bind(M,"videoSegmentTimingInfo")),Q.videoSegmentStream.on("baseMediaDecodeTime",function(Ce){X&&Q.audioSegmentStream.setVideoBaseMediaDecodeTime(Ce)}),Q.videoSegmentStream.on("timingInfo",M.trigger.bind(M,"videoTimingInfo")),Q.h264Stream.pipe(Q.videoSegmentStream).pipe(Q.coalesceStream)),X&&!Q.audioSegmentStream&&(Q.coalesceStream.numberOfTracks++,Q.audioSegmentStream=new Vf(X,E),Q.audioSegmentStream.on("log",M.getLogTrigger_("audioSegmentStream")),Q.audioSegmentStream.on("timingInfo",M.trigger.bind(M,"audioTimingInfo")),Q.audioSegmentStream.on("segmentTimingInfo",M.trigger.bind(M,"audioSegmentTimingInfo")),Q.adtsStream.pipe(Q.audioSegmentStream).pipe(Q.coalesceStream)),M.trigger("trackinfo",{hasAudio:!!X,hasVideo:!!F})}}),Q.coalesceStream.on("data",this.trigger.bind(this,"data")),Q.coalesceStream.on("id3Frame",function(pe){pe.dispatchType=Q.metadataStream.dispatchType,M.trigger("id3Frame",pe)}),Q.coalesceStream.on("caption",this.trigger.bind(this,"caption")),Q.coalesceStream.on("done",this.trigger.bind(this,"done")),_7(this,Q)},this.setBaseMediaDecodeTime=function(Q){var pe=this.transmuxPipeline_;E.keepOriginalTimestamps||(this.baseMediaDecodeTime=Q),X&&(X.timelineStartInfo.dts=void 0,X.timelineStartInfo.pts=void 0,Hi.clearDtsInfo(X),pe.audioTimestampRolloverStream&&pe.audioTimestampRolloverStream.discontinuity()),F&&(pe.videoSegmentStream&&(pe.videoSegmentStream.gopCache_=[]),F.timelineStartInfo.dts=void 0,F.timelineStartInfo.pts=void 0,Hi.clearDtsInfo(F),pe.captionStream.reset()),pe.timestampRolloverStream&&pe.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(Q){X&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(Q)},this.setRemux=function(Q){var pe=this.transmuxPipeline_;E.remux=Q,pe&&pe.coalesceStream&&pe.coalesceStream.setRemux(Q)},this.alignGopsWith=function(Q){F&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(Q)},this.getLogTrigger_=function(Q){var pe=this;return function(ye){ye.stream=Q,pe.trigger("log",ye)}},this.push=function(Q){if(z){var pe=Hse(Q);pe&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!pe&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),z=!1}this.transmuxPipeline_.headOfPipeline.push(Q)},this.flush=function(){z=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Cb.prototype=new _b;var jse={Transmuxer:Cb,VideoSegmentStream:kg,AudioSegmentStream:Vf,AUDIO_PROPERTIES:$8,VIDEO_PROPERTIES:E8,generateSegmentTimingInfo:I8},Gse=function(E){return E>>>0},qse=function(E){return("00"+E.toString(16)).slice(-2)},Sb={toUnsigned:Gse,toHexString:qse},Kse=function(E){var M="";return M+=String.fromCharCode(E[0]),M+=String.fromCharCode(E[1]),M+=String.fromCharCode(E[2]),M+=String.fromCharCode(E[3]),M},x7=Kse,Xse=Sb.toUnsigned,Yse=x7,C7=function(E,M){var z=[],F,X,Q,pe,ye;if(!M.length)return null;for(F=0;F<E.byteLength;)X=Xse(E[F]<<24|E[F+1]<<16|E[F+2]<<8|E[F+3]),Q=Yse(E.subarray(F+4,F+8)),pe=X>1?F+X:E.byteLength,Q===M[0]&&(M.length===1?z.push(E.subarray(F+8,pe)):(ye=C7(E.subarray(F+8,pe),M.slice(1)),ye.length&&(z=z.concat(ye)))),F=pe;return z},S7=C7,Qse=Sb.toUnsigned,Zse=a.getUint64,Jse=function(E){var M={version:E[0],flags:new Uint8Array(E.subarray(1,4))};return M.version===1?M.baseMediaDecodeTime=Zse(E.subarray(4)):M.baseMediaDecodeTime=Qse(E[4]<<24|E[5]<<16|E[6]<<8|E[7]),M},T7=Jse,ere=function(E){return{isLeading:(E[0]&12)>>>2,dependsOn:E[0]&3,isDependedOn:(E[1]&192)>>>6,hasRedundancy:(E[1]&48)>>>4,paddingValue:(E[1]&14)>>>1,isNonSyncSample:E[1]&1,degradationPriority:E[2]<<8|E[3]}},tre=ere,k7=tre,nre=function(E){var M={version:E[0],flags:new Uint8Array(E.subarray(1,4)),samples:[]},z=new DataView(E.buffer,E.byteOffset,E.byteLength),F=M.flags[2]&1,X=M.flags[2]&4,Q=M.flags[1]&1,pe=M.flags[1]&2,ye=M.flags[1]&4,Ce=M.flags[1]&8,ke=z.getUint32(4),Be=8,nt;for(F&&(M.dataOffset=z.getInt32(Be),Be+=4),X&&ke&&(nt={flags:k7(E.subarray(Be,Be+4))},Be+=4,Q&&(nt.duration=z.getUint32(Be),Be+=4),pe&&(nt.size=z.getUint32(Be),Be+=4),Ce&&(M.version===1?nt.compositionTimeOffset=z.getInt32(Be):nt.compositionTimeOffset=z.getUint32(Be),Be+=4),M.samples.push(nt),ke--);ke--;)nt={},Q&&(nt.duration=z.getUint32(Be),Be+=4),pe&&(nt.size=z.getUint32(Be),Be+=4),ye&&(nt.flags=k7(E.subarray(Be,Be+4)),Be+=4),Ce&&(M.version===1?nt.compositionTimeOffset=z.getInt32(Be):nt.compositionTimeOffset=z.getUint32(Be),Be+=4),M.samples.push(nt);return M},$7=nre,sre=function(E){var M=new DataView(E.buffer,E.byteOffset,E.byteLength),z={version:E[0],flags:new Uint8Array(E.subarray(1,4)),trackId:M.getUint32(4)},F=z.flags[2]&1,X=z.flags[2]&2,Q=z.flags[2]&8,pe=z.flags[2]&16,ye=z.flags[2]&32,Ce=z.flags[0]&65536,ke=z.flags[0]&131072,Be;return Be=8,F&&(Be+=4,z.baseDataOffset=M.getUint32(12),Be+=4),X&&(z.sampleDescriptionIndex=M.getUint32(Be),Be+=4),Q&&(z.defaultSampleDuration=M.getUint32(Be),Be+=4),pe&&(z.defaultSampleSize=M.getUint32(Be),Be+=4),ye&&(z.defaultSampleFlags=M.getUint32(Be)),Ce&&(z.durationIsEmpty=!0),!F&&ke&&(z.baseDataOffsetIsMoof=!0),z},E7=sre,$g;typeof window<"u"?$g=window:typeof t<"u"?$g=t:typeof self<"u"?$g=self:$g={};var I7=$g,rre=Ff.discardEmulationPreventionBytes,are=Bt.CaptionStream,Eg=S7,ore=T7,ire=$7,lre=E7,N7=I7,ure=function(E,M){for(var z=E,F=0;F<M.length;F++){var X=M[F];if(z<X.size)return X;z-=X.size}return null},cre=function(E,M,z){var F=new DataView(E.buffer,E.byteOffset,E.byteLength),X={logs:[],seiNals:[]},Q,pe,ye,Ce;for(pe=0;pe+4<E.length;pe+=ye)if(ye=F.getUint32(pe),pe+=4,!(ye<=0))switch(E[pe]&31){case 6:var ke=E.subarray(pe+1,pe+1+ye),Be=ure(pe,M);if(Q={nalUnitType:"sei_rbsp",size:ye,data:ke,escapedRBSP:rre(ke),trackId:z},Be)Q.pts=Be.pts,Q.dts=Be.dts,Ce=Be;else if(Ce)Q.pts=Ce.pts,Q.dts=Ce.dts;else{X.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+pe+" for trackId "+z+". See mux.js#223."});break}X.seiNals.push(Q);break}return X},dre=function(E,M,z){var F=M,X=z.defaultSampleDuration||0,Q=z.defaultSampleSize||0,pe=z.trackId,ye=[];return E.forEach(function(Ce){var ke=ire(Ce),Be=ke.samples;Be.forEach(function(nt){nt.duration===void 0&&(nt.duration=X),nt.size===void 0&&(nt.size=Q),nt.trackId=pe,nt.dts=F,nt.compositionTimeOffset===void 0&&(nt.compositionTimeOffset=0),typeof F=="bigint"?(nt.pts=F+N7.BigInt(nt.compositionTimeOffset),F+=N7.BigInt(nt.duration)):(nt.pts=F+nt.compositionTimeOffset,F+=nt.duration)}),ye=ye.concat(Be)}),ye},hre=function(E,M){var z=Eg(E,["moof","traf"]),F=Eg(E,["mdat"]),X={},Q=[];return F.forEach(function(pe,ye){var Ce=z[ye];Q.push({mdat:pe,traf:Ce})}),Q.forEach(function(pe){var ye=pe.mdat,Ce=pe.traf,ke=Eg(Ce,["tfhd"]),Be=lre(ke[0]),nt=Be.trackId,Vt=Eg(Ce,["tfdt"]),ft=Vt.length>0?ore(Vt[0]).baseMediaDecodeTime:0,pn=Eg(Ce,["trun"]),_n,Ar;M===nt&&pn.length>0&&(_n=dre(pn,ft,Be),Ar=cre(ye,_n,nt),X[nt]||(X[nt]={seiNals:[],logs:[]}),X[nt].seiNals=X[nt].seiNals.concat(Ar.seiNals),X[nt].logs=X[nt].logs.concat(Ar.logs))}),X},fre=function(E,M,z){var F;if(M===null)return null;F=hre(E,M);var X=F[M]||{};return{seiNals:X.seiNals,logs:X.logs,timescale:z}},pre=function(){var E=!1,M,z,F,X,Q,pe;this.isInitialized=function(){return E},this.init=function(ye){M=new are,E=!0,pe=ye?ye.isPartial:!1,M.on("data",function(Ce){Ce.startTime=Ce.startPts/X,Ce.endTime=Ce.endPts/X,Q.captions.push(Ce),Q.captionStreams[Ce.stream]=!0}),M.on("log",function(Ce){Q.logs.push(Ce)})},this.isNewInit=function(ye,Ce){return ye&&ye.length===0||Ce&&typeof Ce=="object"&&Object.keys(Ce).length===0?!1:F!==ye[0]||X!==Ce[F]},this.parse=function(ye,Ce,ke){var Be;if(this.isInitialized()){if(!Ce||!ke)return null;if(this.isNewInit(Ce,ke))F=Ce[0],X=ke[F];else if(F===null||!X)return z.push(ye),null}else return null;for(;z.length>0;){var nt=z.shift();this.parse(nt,Ce,ke)}return Be=fre(ye,F,X),Be&&Be.logs&&(Q.logs=Q.logs.concat(Be.logs)),Be===null||!Be.seiNals?Q.logs.length?{logs:Q.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Be.seiNals),this.flushStream(),Q)},this.pushNals=function(ye){if(!this.isInitialized()||!ye||ye.length===0)return null;ye.forEach(function(Ce){M.push(Ce)})},this.flushStream=function(){if(!this.isInitialized())return null;pe?M.partialFlush():M.flush()},this.clearParsedCaptions=function(){Q.captions=[],Q.captionStreams={},Q.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;M.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){z=[],F=null,X=null,Q?this.clearParsedCaptions():Q={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},mre=pre,gre=function(E){for(var M=0,z=String.fromCharCode(E[M]),F="";z!=="\0";)F+=z,M++,z=String.fromCharCode(E[M]);return F+=z,F},vre={uint8ToCString:gre},Tb=vre.uint8ToCString,yre=a.getUint64,bre=function(E){var M=4,z=E[0],F,X,Q,pe,ye,Ce,ke,Be;if(z===0){F=Tb(E.subarray(M)),M+=F.length,X=Tb(E.subarray(M)),M+=X.length;var nt=new DataView(E.buffer);Q=nt.getUint32(M),M+=4,ye=nt.getUint32(M),M+=4,Ce=nt.getUint32(M),M+=4,ke=nt.getUint32(M),M+=4}else if(z===1){var nt=new DataView(E.buffer);Q=nt.getUint32(M),M+=4,pe=yre(E.subarray(M)),M+=8,Ce=nt.getUint32(M),M+=4,ke=nt.getUint32(M),M+=4,F=Tb(E.subarray(M)),M+=F.length,X=Tb(E.subarray(M)),M+=X.length}Be=new Uint8Array(E.subarray(M,E.byteLength));var Vt={scheme_id_uri:F,value:X,timescale:Q||1,presentation_time:pe,presentation_time_delta:ye,event_duration:Ce,id:ke,message_data:Be};return wre(z,Vt)?Vt:void 0},_re=function(E,M,z,F){return E||E===0?E/M:F+z/M},wre=function(E,M){var z=M.scheme_id_uri!=="\0",F=E===0&&A7(M.presentation_time_delta)&&z,X=E===1&&A7(M.presentation_time)&&z;return!(E>1)&&F||X},A7=function(E){return E!==void 0||E!==null},xre={parseEmsgBox:bre,scaleTime:_re},kb=Sb.toUnsigned,Ig=Sb.toHexString,dr=S7,Hf=x7,N8=xre,Cre=E7,Sre=$7,Tre=T7,kre=a.getUint64,D7,O7,R7,L7,P7,A8,M7,D8=I7,$re=u7.parseId3Frames;D7=function(E){var M={},z=dr(E,["moov","trak"]);return z.reduce(function(F,X){var Q,pe,ye,Ce,ke;return Q=dr(X,["tkhd"])[0],!Q||(pe=Q[0],ye=pe===0?12:20,Ce=kb(Q[ye]<<24|Q[ye+1]<<16|Q[ye+2]<<8|Q[ye+3]),ke=dr(X,["mdia","mdhd"])[0],!ke)?null:(pe=ke[0],ye=pe===0?12:20,F[Ce]=kb(ke[ye]<<24|ke[ye+1]<<16|ke[ye+2]<<8|ke[ye+3]),F)},M)},O7=function(E,M){var z;z=dr(M,["moof","traf"]);var F=z.reduce(function(X,Q){var pe=dr(Q,["tfhd"])[0],ye=kb(pe[4]<<24|pe[5]<<16|pe[6]<<8|pe[7]),Ce=E[ye]||9e4,ke=dr(Q,["tfdt"])[0],Be=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),nt;ke[0]===1?nt=kre(ke.subarray(4,12)):nt=Be.getUint32(4);let Vt;return typeof nt=="bigint"?Vt=nt/D8.BigInt(Ce):typeof nt=="number"&&!isNaN(nt)&&(Vt=nt/Ce),Vt<Number.MAX_SAFE_INTEGER&&(Vt=Number(Vt)),Vt<X&&(X=Vt),X},1/0);return typeof F=="bigint"||isFinite(F)?F:0},R7=function(E,M){var z=dr(M,["moof","traf"]),F=0,X=0,Q;if(z&&z.length){var pe=dr(z[0],["tfhd"])[0],ye=dr(z[0],["trun"])[0],Ce=dr(z[0],["tfdt"])[0];if(pe){var ke=Cre(pe);Q=ke.trackId}if(Ce){var Be=Tre(Ce);F=Be.baseMediaDecodeTime}if(ye){var nt=Sre(ye);nt.samples&&nt.samples.length&&(X=nt.samples[0].compositionTimeOffset||0)}}var Vt=E[Q]||9e4;typeof F=="bigint"&&(X=D8.BigInt(X),Vt=D8.BigInt(Vt));var ft=(F+X)/Vt;return typeof ft=="bigint"&&ft<Number.MAX_SAFE_INTEGER&&(ft=Number(ft)),ft},L7=function(E){var M=dr(E,["moov","trak"]),z=[];return M.forEach(function(F){var X=dr(F,["mdia","hdlr"]),Q=dr(F,["tkhd"]);X.forEach(function(pe,ye){var Ce=Hf(pe.subarray(8,12)),ke=Q[ye],Be,nt,Vt;Ce==="vide"&&(Be=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),nt=Be.getUint8(0),Vt=nt===0?Be.getUint32(12):Be.getUint32(20),z.push(Vt))})}),z},A8=function(E){var M=E[0],z=M===0?12:20;return kb(E[z]<<24|E[z+1]<<16|E[z+2]<<8|E[z+3])},P7=function(E){var M=dr(E,["moov","trak"]),z=[];return M.forEach(function(F){var X={},Q=dr(F,["tkhd"])[0],pe,ye;Q&&(pe=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),ye=pe.getUint8(0),X.id=ye===0?pe.getUint32(12):pe.getUint32(20));var Ce=dr(F,["mdia","hdlr"])[0];if(Ce){var ke=Hf(Ce.subarray(8,12));ke==="vide"?X.type="video":ke==="soun"?X.type="audio":X.type=ke}var Be=dr(F,["mdia","minf","stbl","stsd"])[0];if(Be){var nt=Be.subarray(8);X.codec=Hf(nt.subarray(4,8));var Vt=dr(nt,[X.codec])[0],ft,pn;Vt&&(/^[asm]vc[1-9]$/i.test(X.codec)?(ft=Vt.subarray(78),pn=Hf(ft.subarray(4,8)),pn==="avcC"&&ft.length>11?(X.codec+=".",X.codec+=Ig(ft[9]),X.codec+=Ig(ft[10]),X.codec+=Ig(ft[11])):X.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(X.codec)?(ft=Vt.subarray(28),pn=Hf(ft.subarray(4,8)),pn==="esds"&&ft.length>20&&ft[19]!==0?(X.codec+="."+Ig(ft[19]),X.codec+="."+Ig(ft[20]>>>2&63).replace(/^0/,"")):X.codec="mp4a.40.2"):X.codec=X.codec.toLowerCase())}var _n=dr(F,["mdia","mdhd"])[0];_n&&(X.timescale=A8(_n)),z.push(X)}),z},M7=function(E,M=0){var z=dr(E,["emsg"]);return z.map(F=>{var X=N8.parseEmsgBox(new Uint8Array(F)),Q=$re(X.message_data);return{cueTime:N8.scaleTime(X.presentation_time,X.timescale,X.presentation_time_delta,M),duration:N8.scaleTime(X.event_duration,X.timescale),frames:Q}})};var O8={findBox:dr,parseType:Hf,timescale:D7,startTime:O7,compositionStartTime:R7,videoTrackIds:L7,tracks:P7,getTimescaleFromMediaHeader:A8,getEmsgID3:M7},R8=un,F7=function(E){var M=E[1]&31;return M<<=8,M|=E[2],M},$b=function(E){return!!(E[1]&64)},Eb=function(E){var M=0;return(E[3]&48)>>>4>1&&(M+=E[4]+1),M},Ere=function(E,M){var z=F7(E);return z===0?"pat":z===M?"pmt":M?"pes":null},Ire=function(E){var M=$b(E),z=4+Eb(E);return M&&(z+=E[z]+1),(E[z+10]&31)<<8|E[z+11]},Nre=function(E){var M={},z=$b(E),F=4+Eb(E);if(z&&(F+=E[F]+1),!!(E[F+5]&1)){var X,Q,pe;X=(E[F+1]&15)<<8|E[F+2],Q=3+X-4,pe=(E[F+10]&15)<<8|E[F+11];for(var ye=12+pe;ye<Q;){var Ce=F+ye;M[(E[Ce+1]&31)<<8|E[Ce+2]]=E[Ce],ye+=((E[Ce+3]&15)<<8|E[Ce+4])+5}return M}},Are=function(E,M){var z=F7(E),F=M[z];switch(F){case R8.H264_STREAM_TYPE:return"video";case R8.ADTS_STREAM_TYPE:return"audio";case R8.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},Dre=function(E){var M=$b(E);if(!M)return null;var z=4+Eb(E);if(z>=E.byteLength)return null;var F=null,X;return X=E[z+7],X&192&&(F={},F.pts=(E[z+9]&14)<<27|(E[z+10]&255)<<20|(E[z+11]&254)<<12|(E[z+12]&255)<<5|(E[z+13]&254)>>>3,F.pts*=4,F.pts+=(E[z+13]&6)>>>1,F.dts=F.pts,X&64&&(F.dts=(E[z+14]&14)<<27|(E[z+15]&255)<<20|(E[z+16]&254)<<12|(E[z+17]&255)<<5|(E[z+18]&254)>>>3,F.dts*=4,F.dts+=(E[z+18]&6)>>>1)),F},L8=function(E){switch(E){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ore=function(E){for(var M=4+Eb(E),z=E.subarray(M),F=0,X=0,Q=!1,pe;X<z.byteLength-3;X++)if(z[X+2]===1){F=X+5;break}for(;F<z.byteLength;)switch(z[F]){case 0:if(z[F-1]!==0){F+=2;break}else if(z[F-2]!==0){F++;break}X+3!==F-2&&(pe=L8(z[X+3]&31),pe==="slice_layer_without_partitioning_rbsp_idr"&&(Q=!0));do F++;while(z[F]!==1&&F<z.length);X=F-2,F+=3;break;case 1:if(z[F-1]!==0||z[F-2]!==0){F+=3;break}pe=L8(z[X+3]&31),pe==="slice_layer_without_partitioning_rbsp_idr"&&(Q=!0),X=F-2,F+=3;break;default:F+=3;break}return z=z.subarray(X),F-=X,X=0,z&&z.byteLength>3&&(pe=L8(z[X+3]&31),pe==="slice_layer_without_partitioning_rbsp_idr"&&(Q=!0)),Q},Rre={parseType:Ere,parsePat:Ire,parsePmt:Nre,parsePayloadUnitStartIndicator:$b,parsePesType:Are,parsePesTime:Dre,videoPacketContainsKeyFrame:Ore},B7=un,Uf=i7.handleRollover,os={};os.ts=Rre,os.aac=k8;var Rd=Re.ONE_SECOND_IN_TS,La=188,Sl=71,Lre=function(E,M){for(var z=0,F=La,X,Q;F<E.byteLength;){if(E[z]===Sl&&E[F]===Sl){switch(X=E.subarray(z,F),Q=os.ts.parseType(X,M.pid),Q){case"pat":M.pid=os.ts.parsePat(X);break;case"pmt":var pe=os.ts.parsePmt(X);M.table=M.table||{},Object.keys(pe).forEach(function(ye){M.table[ye]=pe[ye]});break}z+=La,F+=La;continue}z++,F++}},z7=function(E,M,z){for(var F=0,X=La,Q,pe,ye,Ce,ke,Be=!1;X<=E.byteLength;){if(E[F]===Sl&&(E[X]===Sl||X===E.byteLength)){switch(Q=E.subarray(F,X),pe=os.ts.parseType(Q,M.pid),pe){case"pes":ye=os.ts.parsePesType(Q,M.table),Ce=os.ts.parsePayloadUnitStartIndicator(Q),ye==="audio"&&Ce&&(ke=os.ts.parsePesTime(Q),ke&&(ke.type="audio",z.audio.push(ke),Be=!0));break}if(Be)break;F+=La,X+=La;continue}F++,X++}for(X=E.byteLength,F=X-La,Be=!1;F>=0;){if(E[F]===Sl&&(E[X]===Sl||X===E.byteLength)){switch(Q=E.subarray(F,X),pe=os.ts.parseType(Q,M.pid),pe){case"pes":ye=os.ts.parsePesType(Q,M.table),Ce=os.ts.parsePayloadUnitStartIndicator(Q),ye==="audio"&&Ce&&(ke=os.ts.parsePesTime(Q),ke&&(ke.type="audio",z.audio.push(ke),Be=!0));break}if(Be)break;F-=La,X-=La;continue}F--,X--}},Pre=function(E,M,z){for(var F=0,X=La,Q,pe,ye,Ce,ke,Be,nt,Vt,ft=!1,pn={data:[],size:0};X<E.byteLength;){if(E[F]===Sl&&E[X]===Sl){switch(Q=E.subarray(F,X),pe=os.ts.parseType(Q,M.pid),pe){case"pes":if(ye=os.ts.parsePesType(Q,M.table),Ce=os.ts.parsePayloadUnitStartIndicator(Q),ye==="video"&&(Ce&&!ft&&(ke=os.ts.parsePesTime(Q),ke&&(ke.type="video",z.video.push(ke),ft=!0)),!z.firstKeyFrame)){if(Ce&&pn.size!==0){for(Be=new Uint8Array(pn.size),nt=0;pn.data.length;)Vt=pn.data.shift(),Be.set(Vt,nt),nt+=Vt.byteLength;if(os.ts.videoPacketContainsKeyFrame(Be)){var _n=os.ts.parsePesTime(Be);_n?(z.firstKeyFrame=_n,z.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}pn.size=0}pn.data.push(Q),pn.size+=Q.byteLength}break}if(ft&&z.firstKeyFrame)break;F+=La,X+=La;continue}F++,X++}for(X=E.byteLength,F=X-La,ft=!1;F>=0;){if(E[F]===Sl&&E[X]===Sl){switch(Q=E.subarray(F,X),pe=os.ts.parseType(Q,M.pid),pe){case"pes":ye=os.ts.parsePesType(Q,M.table),Ce=os.ts.parsePayloadUnitStartIndicator(Q),ye==="video"&&Ce&&(ke=os.ts.parsePesTime(Q),ke&&(ke.type="video",z.video.push(ke),ft=!0));break}if(ft)break;F-=La,X-=La;continue}F--,X--}},Mre=function(E,M){if(E.audio&&E.audio.length){var z=M;(typeof z>"u"||isNaN(z))&&(z=E.audio[0].dts),E.audio.forEach(function(Q){Q.dts=Uf(Q.dts,z),Q.pts=Uf(Q.pts,z),Q.dtsTime=Q.dts/Rd,Q.ptsTime=Q.pts/Rd})}if(E.video&&E.video.length){var F=M;if((typeof F>"u"||isNaN(F))&&(F=E.video[0].dts),E.video.forEach(function(Q){Q.dts=Uf(Q.dts,F),Q.pts=Uf(Q.pts,F),Q.dtsTime=Q.dts/Rd,Q.ptsTime=Q.pts/Rd}),E.firstKeyFrame){var X=E.firstKeyFrame;X.dts=Uf(X.dts,F),X.pts=Uf(X.pts,F),X.dtsTime=X.dts/Rd,X.ptsTime=X.pts/Rd}}},Fre=function(E){for(var M=!1,z=0,F=null,X=null,Q=0,pe=0,ye;E.length-pe>=3;){var Ce=os.aac.parseType(E,pe);switch(Ce){case"timed-metadata":if(E.length-pe<10){M=!0;break}if(Q=os.aac.parseId3TagSize(E,pe),Q>E.length){M=!0;break}X===null&&(ye=E.subarray(pe,pe+Q),X=os.aac.parseAacTimestamp(ye)),pe+=Q;break;case"audio":if(E.length-pe<7){M=!0;break}if(Q=os.aac.parseAdtsSize(E,pe),Q>E.length){M=!0;break}F===null&&(ye=E.subarray(pe,pe+Q),F=os.aac.parseSampleRate(ye)),z++,pe+=Q;break;default:pe++;break}if(M)return null}if(F===null||X===null)return null;var ke=Rd/F,Be={audio:[{type:"audio",dts:X,pts:X},{type:"audio",dts:X+z*1024*ke,pts:X+z*1024*ke}]};return Be},Bre=function(E){var M={pid:null,table:null},z={};Lre(E,M);for(var F in M.table)if(M.table.hasOwnProperty(F)){var X=M.table[F];switch(X){case B7.H264_STREAM_TYPE:z.video=[],Pre(E,M,z),z.video.length===0&&delete z.video;break;case B7.ADTS_STREAM_TYPE:z.audio=[],z7(E,M,z),z.audio.length===0&&delete z.audio;break}}return z},zre=function(E,M){var z=os.aac.isLikelyAacData(E),F;return z?F=Fre(E):F=Bre(E),!F||!F.audio&&!F.video?null:(Mre(F,M),F)},Vre={inspect:zre,parseAudioPes_:z7};const Hre=function(E,M){M.on("data",function(z){const F=z.initSegment;z.initSegment={data:F.buffer,byteOffset:F.byteOffset,byteLength:F.byteLength};const X=z.data;z.data=X.buffer,E.postMessage({action:"data",segment:z,byteOffset:X.byteOffset,byteLength:X.byteLength},[z.data])}),M.on("done",function(z){E.postMessage({action:"done"})}),M.on("gopInfo",function(z){E.postMessage({action:"gopInfo",gopInfo:z})}),M.on("videoSegmentTimingInfo",function(z){const F={start:{decode:Re.videoTsToSeconds(z.start.dts),presentation:Re.videoTsToSeconds(z.start.pts)},end:{decode:Re.videoTsToSeconds(z.end.dts),presentation:Re.videoTsToSeconds(z.end.pts)},baseMediaDecodeTime:Re.videoTsToSeconds(z.baseMediaDecodeTime)};z.prependedContentDuration&&(F.prependedContentDuration=Re.videoTsToSeconds(z.prependedContentDuration)),E.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:F})}),M.on("audioSegmentTimingInfo",function(z){const F={start:{decode:Re.videoTsToSeconds(z.start.dts),presentation:Re.videoTsToSeconds(z.start.pts)},end:{decode:Re.videoTsToSeconds(z.end.dts),presentation:Re.videoTsToSeconds(z.end.pts)},baseMediaDecodeTime:Re.videoTsToSeconds(z.baseMediaDecodeTime)};z.prependedContentDuration&&(F.prependedContentDuration=Re.videoTsToSeconds(z.prependedContentDuration)),E.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:F})}),M.on("id3Frame",function(z){E.postMessage({action:"id3Frame",id3Frame:z})}),M.on("caption",function(z){E.postMessage({action:"caption",caption:z})}),M.on("trackinfo",function(z){E.postMessage({action:"trackinfo",trackInfo:z})}),M.on("audioTimingInfo",function(z){E.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Re.videoTsToSeconds(z.start),end:Re.videoTsToSeconds(z.end)}})}),M.on("videoTimingInfo",function(z){E.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Re.videoTsToSeconds(z.start),end:Re.videoTsToSeconds(z.end)}})}),M.on("log",function(z){E.postMessage({action:"log",log:z})})};class V7{constructor(M,z){this.options=z||{},this.self=M,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new jse.Transmuxer(this.options),Hre(this.self,this.transmuxer)}pushMp4Captions(M){this.captionParser||(this.captionParser=new mre,this.captionParser.init());const z=new Uint8Array(M.data,M.byteOffset,M.byteLength),F=this.captionParser.parse(z,M.trackIds,M.timescales);this.self.postMessage({action:"mp4Captions",captions:F&&F.captions||[],logs:F&&F.logs||[],data:z.buffer},[z.buffer])}probeMp4StartTime({timescales:M,data:z}){const F=O8.startTime(M,z);this.self.postMessage({action:"probeMp4StartTime",startTime:F,data:z},[z.buffer])}probeMp4Tracks({data:M}){const z=O8.tracks(M);this.self.postMessage({action:"probeMp4Tracks",tracks:z,data:M},[M.buffer])}probeEmsgID3({data:M,offset:z}){const F=O8.getEmsgID3(M,z);this.self.postMessage({action:"probeEmsgID3",id3Frames:F,emsgData:M},[M.buffer])}probeTs({data:M,baseStartTime:z}){const F=typeof z=="number"&&!isNaN(z)?z*Re.ONE_SECOND_IN_TS:void 0,X=Vre.inspect(M,F);let Q=null;X&&(Q={hasVideo:X.video&&X.video.length===2||!1,hasAudio:X.audio&&X.audio.length===2||!1},Q.hasVideo&&(Q.videoStart=X.video[0].ptsTime),Q.hasAudio&&(Q.audioStart=X.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:Q,data:M},[M.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(M){const z=new Uint8Array(M.data,M.byteOffset,M.byteLength);this.transmuxer.push(z)}reset(){this.transmuxer.reset()}setTimestampOffset(M){const z=M.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Re.secondsToVideoTs(z)))}setAudioAppendStart(M){this.transmuxer.setAudioAppendStart(Math.ceil(Re.secondsToVideoTs(M.appendStart)))}setRemux(M){this.transmuxer.setRemux(M.remux)}flush(M){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(M){this.transmuxer.alignGopsWith(M.gopsToAlignWith.slice())}}self.onmessage=function(E){if(E.data.action==="init"&&E.data.options){this.messageHandlers=new V7(self,E.data.options);return}this.messageHandlers||(this.messageHandlers=new V7(self)),E.data&&E.data.action&&E.data.action!=="init"&&this.messageHandlers[E.data.action]&&this.messageHandlers[E.data.action](E.data)}}));var _Ht=Rte(bHt);const wHt=(t,e,n)=>{const{type:s,initSegment:r,captions:a,captionStreams:o,metadata:i,videoFrameDtsTime:l,videoFramePtsTime:u}=t.data.segment;e.buffer.push({captions:a,captionStreams:o,metadata:i});const c=t.data.segment.boxes||{data:t.data.segment.data},d={type:s,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof u<"u"&&(d.videoFramePtsTime=u),n(d)},xHt=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},CHt=(t,e)=>{e.gopInfo=t.data.gopInfo},Mte=t=>{const{transmuxer:e,bytes:n,audioAppendStart:s,gopsToAlignWith:r,remux:a,onData:o,onTrackInfo:i,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:f,onDone:p,onEndedTimeline:m,onTransmuxerLog:y,isEndOfTimeline:v}=t,b={buffer:[]};let w=v;const _=C=>{e.currentTransmux===t&&(C.data.action==="data"&&wHt(C,b,o),C.data.action==="trackinfo"&&i(C.data.trackInfo),C.data.action==="gopInfo"&&CHt(C,b),C.data.action==="audioTimingInfo"&&l(C.data.audioTimingInfo),C.data.action==="videoTimingInfo"&&u(C.data.videoTimingInfo),C.data.action==="videoSegmentTimingInfo"&&c(C.data.videoSegmentTimingInfo),C.data.action==="audioSegmentTimingInfo"&&d(C.data.audioSegmentTimingInfo),C.data.action==="id3Frame"&&h([C.data.id3Frame],C.data.id3Frame.dispatchType),C.data.action==="caption"&&f(C.data.caption),C.data.action==="endedtimeline"&&(w=!1,m()),C.data.action==="log"&&y(C.data.log),C.data.type==="transmuxed"&&(w||(e.onmessage=null,xHt({transmuxedData:b,callback:p}),Fte(e))))};if(e.onmessage=_,s&&e.postMessage({action:"setAudioAppendStart",appendStart:s}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof a<"u"&&e.postMessage({action:"setRemux",remux:a}),n.byteLength){const C=n instanceof ArrayBuffer?n:n.buffer,x=n instanceof ArrayBuffer?0:n.byteOffset;e.postMessage({action:"push",data:C,byteOffset:x,byteLength:n.byteLength},[C])}v&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},Fte=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():Mte(t.currentTransmux))},GF=(t,e)=>{t.postMessage({action:e}),Fte(t)},Bte=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,GF(e,t);return}e.transmuxQueue.push(GF.bind(null,e,t))},SHt=t=>{Bte("reset",t)},THt=t=>{Bte("endTimeline",t)},zte=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,Mte(t);return}t.transmuxer.transmuxQueue.push(t)},kHt=t=>{const e=new _Ht;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var ZC={reset:SHt,endTimeline:THt,transmux:zte,createTransmuxer:kHt};const F2=function(t){const e=t.transmuxer,n=t.endAction||t.action,s=t.callback,r=dd({},t,{endAction:null,transmuxer:null,callback:null}),a=o=>{o.data.action===n&&(e.removeEventListener("message",a),o.data.data&&(o.data.data=new Uint8Array(o.data.data,t.byteOffset||0,t.byteLength||o.data.data.byteLength),t.data&&(t.data=o.data.data)),s(o.data))};if(e.addEventListener("message",a),t.data){const o=t.data instanceof ArrayBuffer;r.byteOffset=o?0:t.data.byteOffset,r.byteLength=t.data.byteLength;const i=[o?t.data:t.data.buffer];e.postMessage(r,i)}else e.postMessage(r)},Pl={FAILURE:2,TIMEOUT:-101,ABORTED:-102},t$=t=>{t.forEach(e=>{e.abort()})},$Ht=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),EHt=t=>{const e=t.target,s={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return s.bytesReceived=t.loaded,s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3),s},GD=(t,e)=>e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Pl.TIMEOUT,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Pl.ABORTED,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Pl.FAILURE,xhr:e}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Pl.FAILURE,xhr:e}:null,qF=(t,e,n)=>(s,r)=>{const a=r.response,o=GD(s,r);if(o)return n(o,t);if(a.byteLength!==16)return n({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:Pl.FAILURE,xhr:r},t);const i=new DataView(a),l=new Uint32Array([i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12)]);for(let u=0;u<e.length;u++)e[u].bytes=l;return n(null,t)},Vte=(t,e)=>{const n=cD(t.map.bytes);if(n!=="mp4"){const s=t.map.resolvedUri||t.map.uri;return e({internal:!0,message:`Found unsupported ${n||"unknown"} container for initialization segment at URL: ${s}`,code:Pl.FAILURE})}F2({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:s,data:r})=>(t.map.bytes=r,s.forEach(function(a){t.map.tracks=t.map.tracks||{},!t.map.tracks[a.type]&&(t.map.tracks[a.type]=a,typeof a.id=="number"&&a.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[a.id]=a.timescale))}),e(null))})},IHt=({segment:t,finishProcessingFn:e})=>(n,s)=>{const r=GD(n,s);if(r)return e(r,t);const a=new Uint8Array(s.response);if(t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,Vte(t,function(o){if(o)return o.xhr=s,o.status=s.status,e(o,t);e(null,t)})},NHt=({segment:t,finishProcessingFn:e,responseType:n})=>(s,r)=>{const a=GD(s,r);if(a)return e(a,t);const o=n==="arraybuffer"||!r.responseText?r.response:vHt(r.responseText.substring(t.lastReachedChar||0));return t.stats=$Ht(r),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},AHt=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})=>{const f=t.map&&t.map.tracks||{},p=!!(f.audio&&f.video);let m=s.bind(null,t,"audio","start");const y=s.bind(null,t,"audio","end");let v=s.bind(null,t,"video","start");const b=s.bind(null,t,"video","end"),w=()=>zte({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:_=>{_.type=_.type==="combined"?"video":_.type,c(t,_)},onTrackInfo:_=>{n&&(p&&(_.isMuxed=!0),n(t,_))},onAudioTimingInfo:_=>{m&&typeof _.start<"u"&&(m(_.start),m=null),y&&typeof _.end<"u"&&y(_.end)},onVideoTimingInfo:_=>{v&&typeof _.start<"u"&&(v(_.start),v=null),b&&typeof _.end<"u"&&b(_.end)},onVideoSegmentTimingInfo:_=>{r(_)},onAudioSegmentTimingInfo:_=>{a(_)},onId3:(_,C)=>{o(t,_,C)},onCaptions:_=>{i(t,[_])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:h,onDone:_=>{d&&(_.type=_.type==="combined"?"video":_.type,d(null,t,_))}});F2({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:_=>{t.bytes=e=_.data;const C=_.result;C&&(n(t,{hasAudio:C.hasAudio,hasVideo:C.hasVideo,isMuxed:p}),n=null),w()}})},Hte=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})=>{let f=new Uint8Array(e);if(tzt(f)){t.isFmp4=!0;const{tracks:p}=t.map,m={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(m.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(m.videoCodec=p.video.codec),p.video&&p.audio&&(m.isMuxed=!0),n(t,m);const y=(v,b)=>{c(t,{data:f,type:m.hasAudio&&!m.isMuxed?"audio":"video"}),b&&b.length&&o(t,b),v&&v.length&&i(t,v),d(null,t,{})};F2({action:"probeMp4StartTime",timescales:t.map.timescales,data:f,transmuxer:t.transmuxer,callback:({data:v,startTime:b})=>{e=v.buffer,t.bytes=f=v,m.hasAudio&&!m.isMuxed&&s(t,"audio","start",b),m.hasVideo&&s(t,"video","start",b),F2({action:"probeEmsgID3",data:f,transmuxer:t.transmuxer,offset:b,callback:({emsgData:w,id3Frames:_})=>{if(e=w.buffer,t.bytes=f=w,!p.video||!v.byteLength||!t.transmuxer){y(void 0,_);return}F2({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:f,timescales:t.map.timescales,trackIds:[p.video.id],callback:C=>{e=C.data.buffer,t.bytes=f=C.data,C.logs.forEach(function(x){h(fs(x,{stream:"mp4CaptionParser"}))}),y(C.captions,_)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=cD(f)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}AHt({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})},Ute=function({id:t,key:e,encryptedBytes:n,decryptionWorker:s},r){const a=i=>{if(i.data.source===t){s.removeEventListener("message",a);const l=i.data.decrypted;r(new Uint8Array(l.bytes,l.byteOffset,l.byteLength))}};s.addEventListener("message",a);let o;e.bytes.slice?o=e.bytes.slice():o=new Uint32Array(Array.prototype.slice.call(e.bytes)),s.postMessage(Ete({source:t,encrypted:n,key:o,iv:e.iv}),[n.buffer,o.buffer])},DHt=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})=>{Ute({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t},f=>{e.bytes=f,Hte({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})})},OHt=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})=>{let f=0,p=!1;return(m,y)=>{if(!p){if(m)return p=!0,t$(t),d(m,y);if(f+=1,f===t.length){const v=function(){if(y.encryptedBytes)return DHt({decryptionWorker:e,segment:y,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h});Hte({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:h})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return Ute({decryptionWorker:e,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key},b=>{y.map.bytes=b,Vte(y,w=>{if(w)return t$(t),d(w,y);v()})});v()}}}},RHt=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},LHt=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:o,captionsFn:i,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>d=>{if(!d.target.aborted)return t.stats=fs(t.stats,EHt(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},PHt=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:s,abortFn:r,progressFn:a,trackInfoFn:o,timingInfoFn:i,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p,doneFn:m,onTransmuxerLog:y})=>{const v=[],b=OHt({activeXhrs:v,decryptionWorker:n,trackInfoFn:o,timingInfoFn:i,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p,doneFn:m,onTransmuxerLog:y});if(s.key&&!s.key.bytes){const T=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&T.push(s.map.key);const k=fs(e,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),N=qF(s,T,b),O=t(k,N);v.push(O)}if(s.map&&!s.map.bytes){if(s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri)){const L=fs(e,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),V=qF(s,[s.map.key],b),H=t(L,V);v.push(H)}const k=fs(e,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Jk(s.map)}),N=IHt({segment:s,finishProcessingFn:b}),O=t(k,N);v.push(O)}const w=fs(e,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Jk(s)}),_=NHt({segment:s,finishProcessingFn:b,responseType:w.responseType}),C=t(w,_);C.addEventListener("progress",LHt({segment:s,progressFn:a,trackInfoFn:o,timingInfoFn:i,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p})),v.push(C);const x={};return v.forEach(T=>{T.addEventListener("loadend",RHt({loadendState:x,abortFn:r}))}),()=>t$(v)},MHt=xl("CodecUtils"),FHt=function(t){const e=t.attributes||{};if(e.CODECS)return Tl(e.CODECS)},Wte=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},BHt=(t,e)=>{if(!Wte(t,e))return!0;const n=e.attributes||{},s=t.mediaGroups.AUDIO[n.AUDIO];for(const r in s)if(!s[r].uri&&!s[r].playlists)return!0;return!1},T4=function(t){const e={};return t.forEach(({mediaType:n,type:s,details:r})=>{e[n]=e[n]||[],e[n].push(aJ(`${s}${r}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){MHt(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},KF=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},B2=function(t,e){const n=e.attributes||{},s=T4(FHt(e)||[]);if(Wte(t,e)&&!s.audio&&!BHt(t,e)){const r=T4(sFt(t,n.AUDIO)||[]);r.audio&&(s.audio=r.audio)}return s},p_=xl("PlaylistSelector"),XF=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},k4=function(t,e){if(!t)return"";const n=Te.getComputedStyle(t);return n?n[e]:""},Lp=function(t,e){const n=t.slice();t.sort(function(s,r){const a=e(s,r);return a===0?n.indexOf(s)-n.indexOf(r):a})},qD=function(t,e){let n,s;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||Te.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(s=e.attributes.BANDWIDTH),s=s||Te.Number.MAX_VALUE,n-s},zHt=function(t,e){let n,s;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||Te.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(s=e.attributes.RESOLUTION.width),s=s||Te.Number.MAX_VALUE,n===s&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-s};let jte=function(t,e,n,s,r,a){if(!t)return;const o={bandwidth:e,width:n,height:s,limitRenditionByPlayerDimensions:r};let i=t.playlists;go.isAudioOnly(t)&&(i=a.getAudioTrackPlaylists_(),o.audioOnly=!0);let l=i.map(C=>{let x;const T=C.attributes&&C.attributes.RESOLUTION&&C.attributes.RESOLUTION.width,k=C.attributes&&C.attributes.RESOLUTION&&C.attributes.RESOLUTION.height;return x=C.attributes&&C.attributes.BANDWIDTH,x=x||Te.Number.MAX_VALUE,{bandwidth:x,width:T,height:k,playlist:C}});Lp(l,(C,x)=>C.bandwidth-x.bandwidth),l=l.filter(C=>!go.isIncompatible(C.playlist));let u=l.filter(C=>go.isEnabled(C.playlist));u.length||(u=l.filter(C=>!go.isDisabled(C.playlist)));const c=u.filter(C=>C.bandwidth*Gr.BANDWIDTH_VARIANCE<e);let d=c[c.length-1];const h=c.filter(C=>C.bandwidth===d.bandwidth)[0];if(r===!1){const C=h||u[0]||l[0];if(C&&C.playlist){let x="sortedPlaylistReps";return h&&(x="bandwidthBestRep"),u[0]&&(x="enabledPlaylistReps"),p_(`choosing ${XF(C)} using ${x} with options`,o),C.playlist}return p_("could not choose a playlist with options",o),null}const f=c.filter(C=>C.width&&C.height);Lp(f,(C,x)=>C.width-x.width);const p=f.filter(C=>C.width===n&&C.height===s);d=p[p.length-1];const m=p.filter(C=>C.bandwidth===d.bandwidth)[0];let y,v,b;m||(y=f.filter(C=>C.width>n||C.height>s),v=y.filter(C=>C.width===y[0].width&&C.height===y[0].height),d=v[v.length-1],b=v.filter(C=>C.bandwidth===d.bandwidth)[0]);let w;if(a.leastPixelDiffSelector){const C=f.map(x=>(x.pixelDiff=Math.abs(x.width-n)+Math.abs(x.height-s),x));Lp(C,(x,T)=>x.pixelDiff===T.pixelDiff?T.bandwidth-x.bandwidth:x.pixelDiff-T.pixelDiff),w=C[0]}const _=w||b||m||h||u[0]||l[0];if(_&&_.playlist){let C="sortedPlaylistReps";return w?C="leastPixelDiffRep":b?C="resolutionPlusOneRep":m?C="resolutionBestRep":h?C="bandwidthBestRep":u[0]&&(C="enabledPlaylistReps"),p_(`choosing ${XF(_)} using ${C} with options`,o),_.playlist}return p_("could not choose a playlist with options",o),null};const YF=function(){const t=this.useDevicePixelRatio&&Te.devicePixelRatio||1;return jte(this.playlists.main,this.systemBandwidth,parseInt(k4(this.tech_.el(),"width"),10)*t,parseInt(k4(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},VHt=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const s=this.useDevicePixelRatio&&Te.devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),jte(this.playlists.main,e,parseInt(k4(this.tech_.el(),"width"),10)*s,parseInt(k4(this.tech_.el(),"height"),10)*s,this.limitRenditionByPlayerDimensions,this.playlistController_)}},HHt=function(t){const{main:e,currentTime:n,bandwidth:s,duration:r,segmentDuration:a,timeUntilRebuffer:o,currentTimeline:i,syncController:l}=t,u=e.playlists.filter(p=>!go.isIncompatible(p));let c=u.filter(go.isEnabled);c.length||(c=u.filter(p=>!go.isDisabled(p)));const h=c.filter(go.hasAttribute.bind(null,"BANDWIDTH")).map(p=>{const y=l.getSyncPoint(p,r,i,n)?1:2,b=go.estimateSegmentRequestTime(a,s,p)*y-o;return{playlist:p,rebufferingImpact:b}}),f=h.filter(p=>p.rebufferingImpact<=0);return Lp(f,(p,m)=>qD(m.playlist,p.playlist)),f.length?f[0]:(Lp(h,(p,m)=>p.rebufferingImpact-m.rebufferingImpact),h[0]||null)},UHt=function(){const t=this.playlists.main.playlists.filter(go.isEnabled);return Lp(t,(n,s)=>qD(n,s)),t.filter(n=>!!B2(this.playlists.main,n).video)[0]||null},WHt=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(s=>{n.set(s,e),e+=s.byteLength})),n},jHt=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let s=n;/^cc708_/.test(n)&&(s="SERVICE"+n.split("_")[1]);const r=e.textTracks().getTrackById(s);if(r)t[n]=r;else{const a=e.options_.vhs&&e.options_.vhs.captionServices||{};let o=n,i=n,l=!1;const u=a[s];u&&(o=u.label,i=u.language,l=u.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:s,default:l,label:o,language:i},!1).track}}},GHt=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const s=Te.WebKitDataCue||Te.VTTCue;e.forEach(r=>{const a=r.stream;r.content?r.content.forEach(o=>{const i=new s(r.startTime+n,r.endTime+n,o.text);i.line=o.line,i.align="left",i.position=o.position,i.positionAlign="line-left",t[a].addCue(i)}):t[a].addCue(new s(r.startTime+n,r.endTime+n,r.text))})},qHt=function(t){Object.defineProperties(t.frame,{id:{get(){return et.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return et.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return et.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},KHt=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:s})=>{if(!e)return;const r=Te.WebKitDataCue||Te.VTTCue,a=t.metadataTrack_;if(!a||(e.forEach(c=>{const d=c.cueTime+n;typeof d!="number"||Te.isNaN(d)||d<0||!(d<1/0)||!c.frames||!c.frames.length||c.frames.forEach(h=>{const f=new r(d,d,h.value||h.url||h.data||"");f.frame=h,f.value=h,qHt(f),a.addCue(f)})}),!a.cues||!a.cues.length))return;const o=a.cues,i=[];for(let c=0;c<o.length;c++)o[c]&&i.push(o[c]);const l=i.reduce((c,d)=>{const h=c[d.startTime]||[];return h.push(d),c[d.startTime]=h,c},{}),u=Object.keys(l).sort((c,d)=>Number(c)-Number(d));u.forEach((c,d)=>{const h=l[c],f=isFinite(s)?s:0,p=Number(u[d+1])||f;h.forEach(m=>{m.endTime=p})})},XHt={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},YHt=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),QHt=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const s=Te.WebKitDataCue||Te.VTTCue;e.forEach(r=>{for(const a of Object.keys(r)){if(YHt.has(a))continue;const o=new s(r.startTime,r.endTime,"");o.id=r.id,o.type="com.apple.quicktime.HLS",o.value={key:XHt[a],data:r[a]},(a==="scte35Out"||a==="scte35In")&&(o.value.data=new Uint8Array(o.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(o)}r.processDateRange()})},QF=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,et.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},w2=function(t,e,n){let s,r;if(n&&n.cues)for(s=n.cues.length;s--;)r=n.cues[s],r.startTime>=t&&r.endTime<=e&&n.removeCue(r)},ZHt=function(t){const e=t.cues;if(!e)return;const n={};for(let s=e.length-1;s>=0;s--){const r=e[s],a=`${r.startTime}-${r.endTime}-${r.text}`;n[a]?t.removeCue(r):n[a]=r}},JHt=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const s=Math.ceil((e-n+3)*d4.ONE_SECOND_IN_TS);let r;for(r=0;r<t.length&&!(t[r].pts>s);r++);return t.slice(r)},eUt=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const s=e[0].pts;let r=0;for(r;r<t.length&&!(t[r].pts>=s);r++);return t.slice(0,r).concat(e)},tUt=(t,e,n,s)=>{const r=Math.ceil((e-s)*d4.ONE_SECOND_IN_TS),a=Math.ceil((n-s)*d4.ONE_SECOND_IN_TS),o=t.slice();let i=t.length;for(;i--&&!(t[i].pts<=a););if(i===-1)return o;let l=i+1;for(;l--&&!(t[l].pts<=r););return l=Math.max(l,0),o.splice(l,i-l+1),o},nUt=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),s=Object.keys(e).sort();if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++){const a=n[r];if(a!==s[r]||t[a]!==e[a])return!1}return!0},Gte=22,sUt=function(t,e,n){e=e||[];const s=[];let r=0;for(let a=0;a<e.length;a++){const o=e[a];if(t===o.timeline&&(s.push(a),r+=o.duration,r>n))return a}return s.length===0?0:s[s.length-1]},Xg=1,rUt=500,ZF=t=>typeof t=="number"&&isFinite(t),m_=1/60,aUt=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,oUt=(t,e,n)=>{let s=e-Gr.BACK_BUFFER_LENGTH;t.length&&(s=Math.max(s,t.start(0)));const r=e-n;return Math.min(r,s)},sp=t=>{const{startOfSegment:e,duration:n,segment:s,part:r,playlist:{mediaSequence:a,id:o,segments:i=[]},mediaIndex:l,partIndex:u,timeline:c}=t,d=i.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const f=typeof u=="number",p=t.segment.uri?"segment":"pre-segment",m=f?pte({preloadSegment:s})-1:0;return`${p} [${a+l}/${a+d}]`+(f?` part [${u}/${m}]`:"")+` segment start/end [${s.start} => ${s.end}]`+(f?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${c}] selected by [${h}] playlist [${o}]`},JF=t=>`${t}TimingInfo`,eB=(t,e)=>t.length?t.end(t.length-1):e,iUt=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:s,calculateTimestampOffsetForEachSegment:r,overrideCheck:a})=>r?eB(s,n):!a&&t===e?null:t<e?n:eB(s,n),tB=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:s,audioDisabled:r})=>{if(e===n)return!1;if(s==="audio"){const a=t.lastTimelineChange({type:"main"});return!a||a.to!==n}if(s==="main"&&r){const a=t.pendingTimelineChange({type:"audio"});return!(a&&a.to===n)}return!1},lUt=t=>{let e=0;return["video","audio"].forEach(function(n){const s=t[`${n}TimingInfo`];if(!s)return;const{start:r,end:a}=s;let o;typeof r=="bigint"||typeof a=="bigint"?o=Te.BigInt(a)-Te.BigInt(r):typeof r=="number"&&typeof a=="number"&&(o=a-r),typeof o<"u"&&o>e&&(e=o)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},nB=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+pd:!1,uUt=(t,e)=>{if(e!=="hls")return null;const n=lUt({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const s=t.playlist.targetDuration,r=nB({segmentDuration:n,maxDuration:s*2}),a=nB({segmentDuration:n,maxDuration:s}),o=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${s}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||a?{severity:r?"warn":"info",message:o}:null};class n$ extends et.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.calculateTimestampOffsetForEachSegment_=e.calculateTimestampOffsetForEachSegment,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=xl(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(s){s!==this.state_&&(this.logger_(`${this.state_} -> ${s}`),this.state_=s,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})}createTransmuxer_(){return ZC.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&Te.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,Te.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&ZC.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Sa();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:s,isMuxed:r}=e;if(s&&n&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(s)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const s=S4(e);let r=this.initSegments_[s];return n&&!r&&e.bytes&&(this.initSegments_[s]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}segmentKey(e,n=!1){if(!e)return null;const s=Ite(e);let r=this.keyCache_[s];this.cacheEncryptionKeys_&&n&&!r&&e.bytes&&(this.keyCache_[s]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});const a={resolvedUri:(r||e).resolvedUri};return r&&(a.bytes=r.bytes),a}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e)return;const s=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let a=null;if(s&&(s.id?a=s.id:s.uri&&(a=s.uri)),this.logger_(`playlist update [${a} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!s||s.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const o=e.mediaSequence-s.mediaSequence;if(this.logger_(`live window shift [${o}]`),this.mediaIndex!==null)if(this.mediaIndex-=o,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const i=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!i.parts||!i.parts.length||!i.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}r&&(r.mediaIndex-=o,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(s,e)}pause(){this.checkBufferTimeout_&&(Te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&ZC.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,s=()=>{},r=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let a=1;const o=()=>{a--,a===0&&s()};(r||!this.audioDisabled_)&&(a++,this.sourceUpdater_.removeAudio(e,n,o)),(r||this.loaderType_==="main")&&(this.gopBuffer_=tUt(this.gopBuffer_,e,n,this.timeMapping_),a++,this.sourceUpdater_.removeVideo(e,n,o));for(const i in this.inbandTextTracks_)w2(e,n,this.inbandTextTracks_[i]);w2(e,n,this.segmentMetadataTrack_),o()}monitorBuffer_(){this.checkBufferTimeout_&&Te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Te.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&Te.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=Te.setTimeout(this.monitorBufferTick_.bind(this),rUt)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&(typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,s=this.partIndex){if(!n||!this.mediaSource_)return!1;const r=typeof e=="number"&&n.segments[e],a=e+1===n.segments.length,o=!r||!r.parts||s+1===r.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&a&&o}chooseNextRequest_(){const e=this.buffered_(),n=VF(e)||0,s=VD(e,this.currentTime_()),r=!this.hasPlayed_()&&s>=1,a=s>=this.goalBufferLength_(),o=this.playlist_.segments;if(!o.length||r||a)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const i={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(i.isSyncRequest)i.mediaIndex=sUt(this.currentTimeline_,o,n);else if(this.mediaIndex!==null){const h=o[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;i.startOfSegment=h.end?h.end:n,h.parts&&h.parts[f+1]?(i.mediaIndex=this.mediaIndex,i.partIndex=f+1):i.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:h,startTime:f,partIndex:p}=go.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?n:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});i.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${n}`:`currentTime ${this.currentTime_()}`,i.mediaIndex=h,i.startOfSegment=f,i.partIndex=p}const l=o[i.mediaIndex];let u=l&&typeof i.partIndex=="number"&&l.parts&&l.parts[i.partIndex];if(!l||typeof i.partIndex=="number"&&!u)return null;typeof i.partIndex!="number"&&l.parts&&(i.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!s&&u&&!c&&!u.independent)if(i.partIndex===0){const h=o[i.mediaIndex-1],f=h.parts&&h.parts.length&&h.parts[h.parts.length-1];f&&f.independent&&(i.mediaIndex-=1,i.partIndex=h.parts.length-1,i.independent="previous segment")}else l.parts[i.partIndex-1].independent&&(i.partIndex-=1,i.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return i.mediaIndex>=o.length-1&&d&&!this.seeking_()?null:this.generateSegmentInfo_(i)}generateSegmentInfo_(e){const{independent:n,playlist:s,mediaIndex:r,startOfSegment:a,isSyncRequest:o,partIndex:i,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=s.segments[r],d=typeof i=="number"&&c.parts[i],h={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:r,partIndex:d?i:null,isSyncRequest:o,startOfSegment:a,playlist:s,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},f=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:a,buffered:this.buffered_(),calculateTimestampOffsetForEachSegment:this.calculateTimestampOffsetForEachSegment_,overrideCheck:f});const p=VF(this.sourceUpdater_.audioBuffered());return typeof p=="number"&&(h.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=JHt(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return iUt(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),s=e.bandwidth,r=this.pendingSegment_.duration,a=go.estimateSegmentRequestTime(r,s,this.playlist_,e.bytesReceived),o=EVt(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(a<=o)return;const i=HHt({main:this.vhs_.playlists.main,currentTime:n,bandwidth:s,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!i)return;const u=a-o-i.rebufferingImpact;let c=.5;o<=pd&&(c=1),!(!i.playlist||i.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=i.playlist.attributes.BANDWIDTH*Gr.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${sp(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},nUt(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))}handleTimingInfo_(e,n,s,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const a=this.pendingSegment_,o=JF(n);a[o]=a[o]||{},a[o][s]=r,this.logger_(`timinginfo: ${n} - ${s} - ${r}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),a={};n.forEach(o=>{a[o.stream]=a[o.stream]||{startTime:1/0,captions:[],endTime:0};const i=a[o.stream];i.startTime=Math.min(i.startTime,o.startTime+r),i.endTime=Math.max(i.endTime,o.endTime+r),i.captions.push(o)}),Object.keys(a).forEach(o=>{const{startTime:i,endTime:l,captions:u}=a[o],c=this.inbandTextTracks_;this.logger_(`adding cues from ${i} -> ${l} for ${o}`),jHt(c,this.vhs_.tech_,o),w2(i,l,c[o]),GHt({captionArray:u,inbandTextTracks:c,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,s));return}this.addMetadataToTextTrack(s,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!tB({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:s,hasVideo:r,isMuxed:a}=n;return!(r&&!e.videoTimingInfo||s&&!this.audioDisabled_&&!a&&!e.audioTimingInfo||tB({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,e,n));return}const s=this.pendingSegment_;if(this.setTimeMapping_(s.timeline),this.updateMediaSecondsLoaded_(s.part||s.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),s.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),s.isFmp4=e.isFmp4,s.timingInfo=s.timingInfo||{},s.isFmp4)this.trigger("fmp4"),s.timingInfo.start=s[JF(n.type)].start;else{const r=this.getCurrentMediaInfo_(),a=this.loaderType_==="main"&&r&&r.hasVideo;let o;a&&(o=s.videoTimingInfo.start),s.timingInfo.start=this.trueSegmentStart_({currentStart:s.timingInfo.start,playlist:s.playlist,mediaIndex:s.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:o,videoTimingInfo:s.videoTimingInfo,audioTimingInfo:s.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(s,n.type),this.updateSourceBufferTimestampOffset_(s),s.isSyncRequest){this.updateTimingInfoEnd_(s),this.syncController_.saveSegmentTimingInfo({segmentInfo:s,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==s.mediaIndex||r.partIndex!==s.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}s.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(s,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:s,playlist:r}){if(s){const a=S4(s);if(this.activeInitSegmentId_===a)return null;n=this.initSegmentForMap(s,!0).bytes,this.activeInitSegmentId_=a}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:s},r){const a=this.sourceUpdater_.audioBuffered(),o=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+ph(a).join(", ")),o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+ph(o).join(", "));const i=a.length?a.start(0):0,l=a.length?a.end(a.length-1):0,u=o.length?o.start(0):0,c=o.length?o.end(o.length-1):0;if(l-i<=Xg&&c-u<=Xg){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${s.byteLength}, audio buffer: ${ph(a).join(", ")}, video buffer: ${ph(o).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:s}));const h=this.currentTime_()-Xg;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Xg}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=Te.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Xg*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:s},r){if(r){if(r.code===Gte){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:s});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error(`${n} append of ${s.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:r,bytes:a}){if(!a){const o=[r];let i=r.byteLength;s&&(o.unshift(s),i+=s.byteLength),a=WHt({bytes:i,segments:o})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:a},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:a}))}handleSegmentTimingInfo_(e,n,s){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,a=`${e}TimingInfo`;r[a]||(r[a]={}),r[a].transmuxerPrependedSeconds=s.prependedContentDuration||0,r[a].transmuxedPresentationStart=s.start.presentation,r[a].transmuxedDecodeStart=s.start.decode,r[a].transmuxedPresentationEnd=s.end.presentation,r[a].transmuxedDecodeEnd=s.end.decode,r[a].baseMediaDecodeTime=s.baseMediaDecodeTime}appendData_(e,n){const{type:s,data:r}=n;if(!r||!r.byteLength||s==="audio"&&this.audioDisabled_)return;const a=this.getInitSegmentAndUpdateState_({type:s,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:s,initSegment:a,data:r})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(()=>{const n=dd({},e,{forceTimestampOffset:!0});dd(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),s=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=this.mediaIndex!==null,a=e.timeline!==this.currentTimeline_&&e.timeline>0,o=s||r&&a;this.logger_(`Requesting ${sp(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=PHt({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:i,level:l,stream:u})=>{this.logger_(`${sp(e)} logged from transmuxer stream ${u} as a ${l}: ${i}`)}})}trimBackBuffer_(e){const n=oUt(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,s=e.part,r={resolvedUri:s?s.resolvedUri:n.resolvedUri,byterange:s?s.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},a=e.playlist.segments[e.mediaIndex-1];if(a&&a.timeline===n.timeline&&(a.videoTimingInfo?r.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(r.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),n.key){const o=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);r.key=this.segmentKey(n.key),r.key.iv=o}return n.map&&(r.map=this.initSegmentForMap(n.map)),r}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<m_){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${m_}`);return}this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,s){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,s));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Pl.ABORTED)return;if(this.pause(),e.code===Pl.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),r.endOfAllRequests=n.endOfAllRequests,s.gopInfo&&(this.gopBuffer_=eUt(this.gopBuffer_,s.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:s,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:a,useVideoTimingInfo:o,videoTimingInfo:i,audioTimingInfo:l}){if(typeof e<"u")return e;if(!o)return l.start;const u=n.segments[s-1];return s===0||!u||typeof u.start>"u"||u.end!==r+a?r:i.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:s,hasVideo:r,isMuxed:a}=n,o=this.loaderType_==="main"&&r,i=!this.audioDisabled_&&s&&!a;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}o&&e.waitingOnAppends++,i&&e.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),i&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=aUt(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:s}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:s.start:s.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;r&&(e.timingInfo.end=typeof r.end=="number"?r.end:r.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=uUt(e,this.sourceType_);if(n&&(n.severity==="warn"?et.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${sp(e)}`);return}this.logger_(`Appended ${sp(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const s=e.segment,r=e.part,a=s.end&&this.currentTime_()-s.end>e.playlist.targetDuration*3,o=r&&r.end&&this.currentTime_()-r.end>e.playlist.partTargetDuration*3;if(a||o){this.logger_(`bad ${a?"segment":"part"} ${sp(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<m_){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${m_}`);return}const n=this.throughput.rate,s=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/s*8*1e3);this.throughput.rate+=(r-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,s=n.start,r=n.end;if(!ZF(s)||!ZF(r))return;w2(s,r,this.segmentMetadataTrack_);const a=Te.WebKitDataCue||Te.VTTCue,o={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:s,end:r},i=JSON.stringify(o),l=new a(s,r,i);l.value=o,this.segmentMetadataTrack_.addCue(l)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function ku(){}const qte=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},cUt=["video","audio"],s$=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},dUt=(t,e)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.type==="mediaSource")return null;if(s.type===t)return n}return null},Pp=(t,e)=>{if(e.queue.length===0)return;let n=0,s=e.queue[n];if(s.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),s.action(e),s.doneFn&&s.doneFn(),Pp("audio",e),Pp("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||s$(t,e))){if(s.type!==t){if(n=dUt(t,e.queue),n===null)return;s=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=s,s.action(t,e),!s.doneFn){e.queuePending[t]=null,Pp(t,e);return}}},Kte=(t,e)=>{const n=e[`${t}Buffer`],s=qte(t);n&&(n.removeEventListener("updateend",e[`on${s}UpdateEnd_`]),n.removeEventListener("error",e[`on${s}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Il=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Lo={appendBuffer:(t,e,n)=>(s,r)=>{const a=r[`${s}Buffer`];if(Il(r.mediaSource,a)){r.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${s}Buffer`);try{a.appendBuffer(t)}catch(o){r.logger_(`Error with code ${o.code} `+(o.code===Gte?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${s}Buffer`),r.queuePending[s]=null,n(o)}}},remove:(t,e)=>(n,s)=>{const r=s[`${n}Buffer`];if(Il(s.mediaSource,r)){s.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{r.remove(t,e)}catch{s.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const s=n[`${e}Buffer`];Il(n.mediaSource,s)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),s.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){et.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){et.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Il(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(s){et.log.warn(`Failed to abort on ${t}Buffer`,s)}}},addSourceBuffer:(t,e)=>n=>{const s=qte(t),r=L1(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const a=n.mediaSource.addSourceBuffer(r);a.addEventListener("updateend",n[`on${s}UpdateEnd_`]),a.addEventListener("error",n[`on${s}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=a},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(Kte(t,e),!!Il(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(s){et.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,s)}}},changeType:t=>(e,n)=>{const s=n[`${e}Buffer`],r=L1(t);Il(n.mediaSource,s)&&n.codecs[e]!==t&&(n.logger_(`changing ${e}Buffer codec from ${n.codecs[e]} to ${t}`),s.changeType(r),n.codecs[e]=t)}},Po=({type:t,sourceUpdater:e,action:n,doneFn:s,name:r})=>{e.queue.push({type:t,action:n,doneFn:s,name:r}),Pp(t,e)},sB=(t,e)=>n=>{const s=e[`${t}Buffered`](),r=TVt(s);if(e.logger_(`${t} source buffer update end. Buffered: 
`,r),e.queuePending[t]){const a=e.queuePending[t].doneFn;e.queuePending[t]=null,a&&a(e[`${t}Error_`])}Pp(t,e)};class Xte extends et.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Pp("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=xl("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=sB("video",this),this.onAudioUpdateEnd_=sB("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){Po({type:"mediaSource",sourceUpdater:this,action:Lo.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){Po({type:e,sourceUpdater:this,action:Lo.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){et.log.error("removeSourceBuffer is not supported!");return}Po({type:"mediaSource",sourceUpdater:this,action:Lo.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!et.browser.IS_FIREFOX&&Te.MediaSource&&Te.MediaSource.prototype&&typeof Te.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return Te.SourceBuffer&&Te.SourceBuffer.prototype&&typeof Te.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){et.log.error("changeType is not supported!");return}Po({type:e,sourceUpdater:this,action:Lo.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const s=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,s);this.canChangeType()&&this.changeType(n,s)})}appendBuffer(e,n){const{segmentInfo:s,type:r,bytes:a}=e;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${a.length} until video append`);return}const o=n;if(Po({type:r,sourceUpdater:this,action:Lo.appendBuffer(a,s||{mediaIndex:-1},o),doneFn:n,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const i=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${i.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,i.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Il(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Sa()}videoBuffered(){return Il(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Sa()}buffered(){const e=Il(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Il(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():$Vt(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=ku){Po({type:"mediaSource",sourceUpdater:this,action:Lo.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=ku){typeof e!="string"&&(e=void 0),Po({type:"mediaSource",sourceUpdater:this,action:Lo.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,s=ku){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){s();return}Po({type:"audio",sourceUpdater:this,action:Lo.remove(e,n),doneFn:s,name:"remove"})}removeVideo(e,n,s=ku){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){s();return}Po({type:"video",sourceUpdater:this,action:Lo.remove(e,n),doneFn:s,name:"remove"})}updating(){return!!(s$("audio",this)||s$("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Po({type:"audio",sourceUpdater:this,action:Lo.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset!==e&&(Po({type:"video",sourceUpdater:this,action:Lo.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Po({type:"audio",sourceUpdater:this,action:Lo.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Po({type:"video",sourceUpdater:this,action:Lo.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),cUt.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>Kte(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const rB=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),aB=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class hUt extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class fUt extends n${constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Sa();const e=this.subtitlesTrack_.cues,n=e[0].startTime,s=e[e.length-1].startTime;return Sa([[n,s]])}initSegmentForMap(e,n=!1){if(!e)return null;const s=S4(e);let r=this.initSegments_[s];if(n&&!r&&e.bytes){const a=aB.byteLength+e.bytes.byteLength,o=new Uint8Array(a);o.set(e.bytes),o.set(aB,e.bytes.byteLength),this.initSegments_[s]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:o}}return r||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){w2(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,s){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Pl.TIMEOUT&&this.handleTimeout_(),e.code===Pl.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=r.segment;if(a.map&&(a.map.bytes=n.map.bytes),r.bytes=n.bytes,typeof Te.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,s),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(r)}catch(o){this.stopForError({message:o.message});return}if(this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,r.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new Te.VTTCue(o.startTime,o.endTime,o.text):o)}),ZHt(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let n,s=!1;if(typeof Te.WebVTT!="function")throw new hUt;typeof Te.TextDecoder=="function"?n=new Te.TextDecoder("utf8"):(n=Te.WebVTT.StringDecoder(),s=!0);const r=new Te.WebVTT.Parser(Te,Te.vttjs,n);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=o=>{e.timestampmap=o},r.onparsingerror=o=>{et.log.warn("Error encountered when parsing cues: "+o.message)},e.segment.map){let o=e.segment.map.bytes;s&&(o=rB(o)),r.parse(o)}let a=e.bytes;s&&(a=rB(a)),r.parse(a),r.flush()}updateTimeMapping_(e,n,s){const r=e.segment;if(!n)return;if(!e.cues.length){r.empty=!0;return}const a=e.timestampmap,o=a.MPEGTS/d4.ONE_SECOND_IN_TS-a.LOCAL+n.mapping;if(e.cues.forEach(i=>{i.startTime+=o,i.endTime+=o}),!s.syncInfo){const i=e.cues[0].startTime,l=e.cues[e.cues.length-1].startTime;s.syncInfo={mediaSequence:s.mediaSequence+e.mediaIndex,time:Math.min(i,l-r.duration)}}}}const pUt=function(t,e){const n=t.cues;for(let s=0;s<n.length;s++){const r=n[s];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},mUt=function(t,e,n=0){if(!t.segments)return;let s=n,r;for(let a=0;a<t.segments.length;a++){const o=t.segments[a];if(r||(r=pUt(e,s+o.duration/2)),r){if("cueIn"in o){r.endTime=s,r.adEndTime=s,s+=o.duration,r=null;continue}if(s<r.endTime){s+=o.duration;continue}r.endTime+=o.duration}else if("cueOut"in o&&(r=new Te.VTTCue(s,s+o.duration,o.cueOut),r.adStartTime=s,r.adEndTime=s+parseFloat(o.cueOut),e.addCue(r)),"cueOutCont"in o){const[i,l]=o.cueOutCont.split("/").map(parseFloat);r=new Te.VTTCue(s,s+o.duration,""),r.adStartTime=s-i,r.adEndTime=r.adStartTime+l,e.addCue(r)}s+=o.duration}},gUt=86400,oB=[{name:"VOD",run:(t,e,n,s,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"ProgramDateTime",run:(t,e,n,s,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let a=null,o=null;const i=Kk(e);r=r||0;for(let l=0;l<i.length;l++){const u=e.endList||r===0?l:i.length-(l+1),c=i[u],d=c.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!h||!d.dateTimeObject)continue;let p=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&typeof c.partIndex=="number")for(let y=0;y<c.partIndex;y++)p+=d.parts[y].duration;const m=Math.abs(r-p);if(o!==null&&(m===0||o<m))break;o=m,a={time:p,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return a}},{name:"Segment",run:(t,e,n,s,r)=>{let a=null,o=null;r=r||0;const i=Kk(e);for(let l=0;l<i.length;l++){const u=e.endList||r===0?l:i.length-(l+1),c=i[u],d=c.segment,h=c.part&&c.part.start||d&&d.start;if(d.timeline===s&&typeof h<"u"){const f=Math.abs(r-h);if(o!==null&&o<f)break;(!a||o===null||o>=f)&&(o=f,a={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return a}},{name:"Discontinuity",run:(t,e,n,s,r)=>{let a=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length){let o=null;for(let i=0;i<e.discontinuityStarts.length;i++){const l=e.discontinuityStarts[i],u=e.discontinuitySequence+i+1,c=t.discontinuities[u];if(c){const d=Math.abs(r-c.time);if(o!==null&&o<d)break;(!a||o===null||o>=d)&&(o=d,a={time:c.time,segmentIndex:l,partIndex:null})}}}return a}},{name:"Playlist",run:(t,e,n,s,r)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class vUt extends et.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=xl("SyncController")}getSyncPoint(e,n,s,r){const a=this.runStrategies_(e,n,s,r);return a.length?this.selectSyncPoint_(a,{key:"time",value:r}):null}getExpiredTime(e,n){if(!e||!e.segments)return null;const s=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!s.length)return null;const r=this.selectSyncPoint_(s,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+M2({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(e,n,s,r){const a=[];for(let o=0;o<oB.length;o++){const i=oB[o],l=i.run(this,e,n,s,r);l&&(l.strategy=i.name,a.push({strategy:i.name,syncPoint:l}))}return a}selectSyncPoint_(e,n){let s=e[0].syncPoint,r=Math.abs(e[0].syncPoint[n.key]-n.value),a=e[0].strategy;for(let o=1;o<e.length;o++){const i=Math.abs(e[o].syncPoint[n.key]-n.value);i<r&&(r=i,s=e[o].syncPoint,a=e[o].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${a}]: [time:${s.time}, segmentIndex:${s.segmentIndex}`+(typeof s.partIndex=="number"?`,partIndex:${s.partIndex}`:"")+"]"),s}saveExpiredSegmentInfo(e,n){const s=n.mediaSequence-e.mediaSequence;if(s>gUt){et.log.warn(`Not saving expired segment info. Media sequence gap ${s} is too large.`);return}for(let r=s-1;r>=0;r--){const a=e.segments[r];if(a&&typeof a.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+r,time:a.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],s=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-s}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const s=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),r=e.segment;s&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));const a=r.dateTimeObject;r.discontinuity&&n&&a&&(this.timelineToDatetimeMappings[r.timeline]=-(a.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,s){const r=e.segment,a=e.part;let o=this.timelines[e.timeline],i,l;if(typeof e.timestampOffset=="number")o={time:e.startOfSegment,mapping:e.startOfSegment-n.start},s&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),i=e.startOfSegment,l=n.end+o.mapping;else if(o)i=n.start+o.mapping,l=n.end+o.mapping;else return!1;return a&&(a.start=i,a.end=l),(!r.start||i<r.start)&&(r.start=i),r.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,s=e.segment;if(s.discontinuity)this.discontinuities[s.timeline]={time:s.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let r=0;r<n.discontinuityStarts.length;r++){const a=n.discontinuityStarts[r],o=n.discontinuitySequence+r+1,i=a-e.mediaIndex,l=Math.abs(i);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>l){let u;i<0?u=s.start-M2({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:a}):u=s.end+M2({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:a}),this.discontinuities[o]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class yUt extends et.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:s}){return typeof n=="number"&&typeof s=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:s},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:s}){return typeof n=="number"&&typeof s=="number"&&(this.lastTimelineChanges_[e]={type:e,from:n,to:s},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const bUt=Lte(Pte(function(){var t=function(){function m(){this.listeners={}}var y=m.prototype;return y.on=function(b,w){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push(w)},y.off=function(b,w){if(!this.listeners[b])return!1;var _=this.listeners[b].indexOf(w);return this.listeners[b]=this.listeners[b].slice(0),this.listeners[b].splice(_,1),_>-1},y.trigger=function(b){var w=this.listeners[b];if(w)if(arguments.length===2)for(var _=w.length,C=0;C<_;++C)w[C].call(this,arguments[1]);else for(var x=Array.prototype.slice.call(arguments,1),T=w.length,k=0;k<T;++k)w[k].apply(this,x)},y.dispose=function(){this.listeners={}},y.pipe=function(b){this.on("data",function(w){b.push(w)})},m}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(m){return m.subarray(0,m.byteLength-m[m.byteLength-1])}/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */const n=function(){const m=[[[],[],[],[],[]],[[],[],[],[],[]]],y=m[0],v=m[1],b=y[4],w=v[4];let _,C,x;const T=[],k=[];let N,O,L,V,H,K;for(_=0;_<256;_++)k[(T[_]=_<<1^(_>>7)*283)^_]=_;for(C=x=0;!b[C];C^=N||1,x=k[x]||1)for(V=x^x<<1^x<<2^x<<3^x<<4,V=V>>8^V&255^99,b[C]=V,w[V]=C,L=T[O=T[N=T[C]]],K=L*16843009^O*65537^N*257^C*16843008,H=T[V]*257^V*16843008,_=0;_<4;_++)y[_][C]=H=H<<24^H>>>8,v[_][V]=K=K<<24^K>>>8;for(_=0;_<5;_++)y[_]=y[_].slice(0),v[_]=v[_].slice(0);return m};let s=null;class r{constructor(y){s||(s=n()),this._tables=[[s[0][0].slice(),s[0][1].slice(),s[0][2].slice(),s[0][3].slice(),s[0][4].slice()],[s[1][0].slice(),s[1][1].slice(),s[1][2].slice(),s[1][3].slice(),s[1][4].slice()]];let v,b,w;const _=this._tables[0][4],C=this._tables[1],x=y.length;let T=1;if(x!==4&&x!==6&&x!==8)throw new Error("Invalid aes key size");const k=y.slice(0),N=[];for(this._key=[k,N],v=x;v<4*x+28;v++)w=k[v-1],(v%x===0||x===8&&v%x===4)&&(w=_[w>>>24]<<24^_[w>>16&255]<<16^_[w>>8&255]<<8^_[w&255],v%x===0&&(w=w<<8^w>>>24^T<<24,T=T<<1^(T>>7)*283)),k[v]=k[v-x]^w;for(b=0;v;b++,v--)w=k[b&3?v:v-4],v<=4||b<4?N[b]=w:N[b]=C[0][_[w>>>24]]^C[1][_[w>>16&255]]^C[2][_[w>>8&255]]^C[3][_[w&255]]}decrypt(y,v,b,w,_,C){const x=this._key[1];let T=y^x[0],k=w^x[1],N=b^x[2],O=v^x[3],L,V,H;const K=x.length/4-2;let U,R=4;const W=this._tables[1],G=W[0],P=W[1],j=W[2],J=W[3],ne=W[4];for(U=0;U<K;U++)L=G[T>>>24]^P[k>>16&255]^j[N>>8&255]^J[O&255]^x[R],V=G[k>>>24]^P[N>>16&255]^j[O>>8&255]^J[T&255]^x[R+1],H=G[N>>>24]^P[O>>16&255]^j[T>>8&255]^J[k&255]^x[R+2],O=G[O>>>24]^P[T>>16&255]^j[k>>8&255]^J[N&255]^x[R+3],R+=4,T=L,k=V,N=H;for(U=0;U<4;U++)_[(3&-U)+C]=ne[T>>>24]<<24^ne[k>>16&255]<<16^ne[N>>8&255]<<8^ne[O&255]^x[R++],L=T,T=k,k=N,N=O,O=L}}class a extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(y){this.jobs.push(y),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const o=function(m){return m<<24|(m&65280)<<8|(m&16711680)>>8|m>>>24},i=function(m,y,v){const b=new Int32Array(m.buffer,m.byteOffset,m.byteLength>>2),w=new r(Array.prototype.slice.call(y)),_=new Uint8Array(m.byteLength),C=new Int32Array(_.buffer);let x,T,k,N,O,L,V,H,K;for(x=v[0],T=v[1],k=v[2],N=v[3],K=0;K<b.length;K+=4)O=o(b[K]),L=o(b[K+1]),V=o(b[K+2]),H=o(b[K+3]),w.decrypt(O,L,V,H,C,K),C[K]=o(C[K]^x),C[K+1]=o(C[K+1]^T),C[K+2]=o(C[K+2]^k),C[K+3]=o(C[K+3]^N),x=O,T=L,k=V,N=H;return _};class l{constructor(y,v,b,w){const _=l.STEP,C=new Int32Array(y.buffer),x=new Uint8Array(y.byteLength);let T=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(C.subarray(T,T+_),v,b,x)),T=_;T<C.length;T+=_)b=new Uint32Array([o(C[T-4]),o(C[T-3]),o(C[T-2]),o(C[T-1])]),this.asyncStream_.push(this.decryptChunk_(C.subarray(T,T+_),v,b,x));this.asyncStream_.push(function(){w(null,e(x))})}static get STEP(){return 32e3}decryptChunk_(y,v,b,w){return function(){const _=i(y,v,b);w.set(_,y.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var d=c,h=function(y){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(y):y&&y.buffer instanceof ArrayBuffer},f=d.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000"),function(){var m=new Uint16Array([65484]),y=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);return y[0]===255?"big":y[0]===204?"little":"unknown"}();const p=function(m){const y={};return Object.keys(m).forEach(v=>{const b=m[v];h(b)?y[v]={bytes:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength}:y[v]=b}),y};self.onmessage=function(m){const y=m.data,v=new Uint8Array(y.encrypted.bytes,y.encrypted.byteOffset,y.encrypted.byteLength),b=new Uint32Array(y.key.bytes,y.key.byteOffset,y.key.byteLength/4),w=new Uint32Array(y.iv.bytes,y.iv.byteOffset,y.iv.byteLength/4);new l(v,b,w,function(_,C){self.postMessage(p({source:y.source,decrypted:C}),[C.buffer])})}}));var _Ut=Rte(bUt);const wUt=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},$4=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},r$=(t,e)=>{e.activePlaylistLoader=t,t.load()},xUt=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:s},mediaTypes:{[t]:r}}=e,a=r.activeTrack(),o=r.getActiveGroup(),i=r.activePlaylistLoader,l=r.lastGroup_;if(!(o&&l&&o.id===l.id)&&(r.lastGroup_=o,r.lastTrack_=a,$4(n,r),!(!o||o.isMainPlaylist))){if(!o.playlistLoader){i&&s.resetEverything();return}n.resyncLoader(),r$(o.playlistLoader,r)}},CUt=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:s}}=e;s.lastGroup_=null,n.abort(),n.pause()},SUt=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:s,main:r},mediaTypes:{[t]:a}}=e,o=a.activeTrack(),i=a.getActiveGroup(),l=a.activePlaylistLoader,u=a.lastTrack_;if(!(u&&o&&u.id===o.id)&&(a.lastGroup_=i,a.lastTrack_=o,$4(s,a),!!i)){if(i.isMainPlaylist){if(!o||!u||o.id===u.id)return;const c=e.vhs.playlistController_,d=c.selectPlaylist();if(c.media()===d)return;a.logger_(`track change. Switching main audio from ${u.id} to ${o.id}`),n.pause(),r.resetEverything(),c.fastQualityChange_(d);return}if(t==="AUDIO"){if(!i.playlistLoader){r.setAudio(!0),r.resetEverything();return}s.setAudio(!0),r.setAudio(!1)}if(l===i.playlistLoader){r$(i.playlistLoader,a);return}s.track&&s.track(o),s.resetEverything(),r$(i.playlistLoader,a)}},E4={AUDIO:(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:s},excludePlaylist:r}=e;$4(n,s);const a=s.activeTrack(),o=s.activeGroup(),i=(o.filter(u=>u.default)[0]||o[0]).id,l=s.tracks[i];if(a===l){r({error:{message:"Problem encountered loading the default audio track."}});return}et.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const u in s.tracks)s.tracks[u].enabled=s.tracks[u]===l;s.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:s}}=e;et.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),$4(n,s);const r=s.activeTrack();r&&(r.mode="disabled"),s.onTrackChanged()}},iB={AUDIO:(t,e,n)=>{if(!e)return;const{tech:s,requestOptions:r,segmentLoaders:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();a.playlist(o,r),(!s.paused()||o.endList&&s.preload()!=="none")&&a.load()}),e.on("loadedplaylist",()=>{a.playlist(e.media(),r),s.paused()||a.load()}),e.on("error",E4[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:s,requestOptions:r,segmentLoaders:{[t]:a},mediaTypes:{[t]:o}}=n;e.on("loadedmetadata",()=>{const i=e.media();a.playlist(i,r),a.track(o.activeTrack()),(!s.paused()||i.endList&&s.preload()!=="none")&&a.load()}),e.on("loadedplaylist",()=>{a.playlist(e.media(),r),s.paused()||a.load()}),e.on("error",E4[t](t,n))}},TUt={AUDIO:(t,e)=>{const{vhs:n,sourceType:s,segmentLoaders:{[t]:r},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:i,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,d=ib(c.main);(!o[t]||Object.keys(o[t]).length===0)&&(o[t]={main:{default:{default:!0}}},d&&(o[t].main.default.playlists=c.main.playlists));for(const h in o[t]){i[h]||(i[h]=[]);for(const f in o[t][h]){let p=o[t][h][f],m;if(d?(u(`AUDIO group '${h}' label '${f}' is a main playlist`),p.isMainPlaylist=!0,m=null):s==="vhs-json"&&p.playlists?m=new _p(p.playlists[0],n,a):p.resolvedUri?m=new _p(p.resolvedUri,n,a):p.playlists&&s==="dash"?m=new e$(p.playlists[0],n,a,c):m=null,p=fs({id:f,playlistLoader:m},p),iB[t](t,p.playlistLoader,e),i[h].push(p),typeof l[f]>"u"){const y=new et.AudioTrack({id:f,kind:wUt(p),enabled:!1,language:p.language,default:p.default,label:f});l[f]=y}}}r.on("error",E4[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:s,sourceType:r,segmentLoaders:{[t]:a},requestOptions:o,main:{mediaGroups:i},mediaTypes:{[t]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const d in i[t]){l[d]||(l[d]=[]);for(const h in i[t][d]){if(!s.options_.useForcedSubtitles&&i[t][d][h].forced)continue;let f=i[t][d][h],p;if(r==="hls")p=new _p(f.resolvedUri,s,o);else if(r==="dash"){if(!f.playlists.filter(y=>y.excludeUntil!==1/0).length)return;p=new e$(f.playlists[0],s,o,c)}else r==="vhs-json"&&(p=new _p(f.playlists?f.playlists[0]:f.resolvedUri,s,o));if(f=fs({id:h,playlistLoader:p},f),iB[t](t,f.playlistLoader,e),l[d].push(f),typeof u[h]>"u"){const m=n.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;u[h]=m}}}a.on("error",E4[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:s},mediaTypes:{[t]:{groups:r,tracks:a}}}=e;for(const o in s[t]){r[o]||(r[o]=[]);for(const i in s[t][o]){const l=s[t][o][i];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:i,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=fs(c,u[c.instreamId])),c.default===void 0&&delete c.default,r[o].push(fs({id:i},l)),typeof a[i]>"u"){const d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;a[i]=d}}}}},Yte=(t,e)=>{for(let n=0;n<t.length;n++)if(WD(e,t[n])||t[n].playlists&&Yte(t[n].playlists,e))return!0;return!1},kUt=(t,e)=>n=>{const{mainPlaylistLoader:s,mediaTypes:{[t]:{groups:r}}}=e,a=s.media();if(!a)return null;let o=null;a.attributes[t]&&(o=r[a.attributes[t]]);const i=Object.keys(r);if(!o)if(t==="AUDIO"&&i.length>1&&ib(e.main))for(let l=0;l<i.length;l++){const u=r[i[l]];if(Yte(u,a)){o=u;break}}else r.main?o=r.main:i.length===1&&(o=r[i[0]]);return typeof n>"u"?o:n===null||!o?null:o.filter(l=>l.id===n.id)[0]||null},$Ut={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const s in n)if(n[s].enabled)return n[s];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const s in n)if(n[s].mode==="showing"||n[s].mode==="hidden")return n[s];return null}},EUt=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},IUt=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{TUt[u](u,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:s,vhs:r,segmentLoaders:{["AUDIO"]:a,main:o}}=t;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=kUt(u,t),e[u].activeTrack=$Ut[u](u,t),e[u].onGroupChanged=xUt(u,t),e[u].onGroupChanging=CUt(u,t),e[u].onTrackChanged=SUt(u,t),e[u].getActiveGroup=EUt(u,t)});const i=e.AUDIO.activeGroup();if(i){const u=(i.filter(d=>d.default)[0]||i[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(o.setAudio(!1),a.setAudio(!0)):o.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),s.trigger({type:"usage",name:"vhs-audio-change"})};s.audioTracks().addEventListener("change",l),s.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",()=>{s.audioTracks().removeEventListener("change",l),s.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),s.clearTracks("audio");for(const u in e.AUDIO.tracks)s.audioTracks().addTrack(e.AUDIO.tracks[u])},NUt=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ku,activeTrack:ku,getActiveGroup:ku,onGroupChanged:ku,onTrackChanged:ku,lastTrack_:null,logger_:xl(`MediaGroups[${e}]`)}}),t},AUt=10;let vu;const DUt=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],OUt=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},RUt=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:s,bufferLowWaterLine:r,bufferHighWaterLine:a,duration:o,bufferBasedABR:i,log:l}){if(!s)return et.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${t&&t.id||"null"} -> ${s.id}`;if(!t)return l(`${u} as current playlist is not set`),!0;if(s.id===t.id)return!1;const c=!!bp(e,n).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const d=VD(e,n),h=i?Gr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Gr.MAX_BUFFER_LOW_WATER_LINE;if(o<h)return l(`${u} as duration < max low water line (${o} < ${h})`),!0;const f=s.attributes.BANDWIDTH,p=t.attributes.BANDWIDTH;if(f<p&&(!i||d<a)){let m=`${u} as next bandwidth < current bandwidth (${f} < ${p})`;return i&&(m+=` and forwardBuffer < bufferHighWaterLine (${d} < ${a})`),l(m),!0}if((!i||f>p)&&d>=r){let m=`${u} as forwardBuffer >= bufferLowWaterLine (${d} >= ${r})`;return i&&(m+=` and next bandwidth > current bandwidth (${f} > ${p})`),l(m),!0}return l(`not ${u} as no switching criteria met`),!1};class LUt extends et.EventTarget{constructor(e){super();const{src:n,withCredentials:s,tech:r,bandwidth:a,externVhs:o,useCueTags:i,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:h,leastPixelDiffSelector:f,captionServices:p}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:m}=e;(m===null||typeof m>"u")&&(m=1/0),vu=o,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!f,this.withCredentials=s,this.tech_=r,this.vhs_=r.vhs,this.sourceType_=c,this.useCueTags_=i,this.playlistExclusionDuration=l,this.maxPlaylistRetries=m,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:s,maxPlaylistRetries:m,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=NUt(),this.mediaSource=new Te.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=Sa(),this.hasPlayed_=!1,this.syncController_=new vUt(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new _Ut,this.sourceUpdater_=new Xte(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new yUt;const y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,calculateTimestampOffsetForEachSegment:e.calculateTimestampOffsetForEachSegment,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:a,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new e$(n,this.vhs_,fs(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new _p(n,this.vhs_,fs(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new n$(fs(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new n$(fs(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new fUt(fs(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((b,w)=>{function _(){r.off("vttjserror",C),b()}function C(){r.off("vttjsloaded",_),w()}r.one("vttjsloaded",_),r.one("vttjserror",C),r.addWebVttScript_()})}),e),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),DUt.forEach(b=>{this[b+"_"]=OUt.bind(this,b)}),this.logger_=xl("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const v=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(v,()=>{const b=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-b,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,s){const r=this.media(),a=r&&(r.id||r.uri),o=e.id||e.uri;a&&a!==o&&(this.logger_(`switch media ${a} -> ${o} from ${n}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})),this.mainPlaylistLoader_.media(e,s)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=Te.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(Te.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const s=e.mediaGroups.AUDIO,r=Object.keys(s);let a;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)a=this.mediaTypes_.AUDIO.activeTrack();else{const i=s.main||r.length&&s[r[0]];for(const l in i)if(i[l].default){a={label:l};break}}if(!a)return n;const o=[];for(const i in s)if(s[i][a.label]){const l=s[i][a.label];if(l.playlists&&l.playlists.length)o.push.apply(o,l.playlists);else if(l.uri)o.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===i&&o.push(c)}}return o.length?o:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Xk(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),IUt({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;Xk(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();if(e.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const s=e.mediaGroups||{};let r=!0;const a=Object.keys(s.AUDIO);for(const o in s.AUDIO)for(const i in s.AUDIO[o])s.AUDIO[o][i].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(s.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),vu.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),a.length&&Object.keys(s.AUDIO[a[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,s=this.tech_.currentTime(),r=this.bufferLowWaterLine(),a=this.bufferHighWaterLine(),o=this.tech_.buffered();return RUt({buffered:o,currentTime:s,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:a,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:AUt}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){if(e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),n=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=n,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const s=n.end(0);let r=s;if(e.start){const a=e.start.timeOffset;a<0?r=Math.max(s+a,n.start(0)):r=Math.min(s,a)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const s=this.syncController_.getExpiredTime(e,this.duration());if(s===null)return!1;const r=vu.Playlist.playlistEnd(e,s),a=this.tech_.currentTime(),o=this.tech_.buffered();if(!o.length)return r-a<=Ll;const i=o.end(o.length-1);return i-a<=Ll&&r-i<=Ll}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:s}){if(e=e||this.mainPlaylistLoader_.media(),s=s||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,a=r.filter(p8),o=a.length===1&&a[0]===e;if(r.length===1&&s!==1/0)return et.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(o);if(o){let f=!1;r.forEach(p=>{if(p===e)return;const m=p.excludeUntil;typeof m<"u"&&m!==1/0&&(f=!0,delete p.excludeUntil)}),f&&(et.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let i;e.playlistErrors_>this.maxPlaylistRetries?i=1/0:i=Date.now()+s*1e3,e.excludeUntil=i,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:et.log.warn,c=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",o||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const s=[],r=e==="all";(r||e==="main")&&s.push(this.mainPlaylistLoader_);const a=[];(r||e==="audio")&&a.push("AUDIO"),(r||e==="subtitle")&&(a.push("CLOSED-CAPTIONS"),a.push("SUBTITLES")),a.forEach(o=>{const i=this.mediaTypes_[o]&&this.mediaTypes_[o].activePlaylistLoader;i&&s.push(i)}),["main","audio","subtitle"].forEach(o=>{const i=this[`${o}SegmentLoader_`];i&&(e===o||e==="all")&&s.push(i)}),s.forEach(o=>n.forEach(i=>{typeof o[i]=="function"&&o[i]()}))}setCurrentTime(e){const n=bp(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:vu.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let n=this.mainPlaylistLoader_.media();if(!n)return;let s=this.syncController_.getExpiredTime(n,this.duration());if(s===null)return;const r=this.mainPlaylistLoader_.main,a=vu.Playlist.seekable(n,s,vu.Playlist.liveEdgeDelay(r,n));if(a.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),s=this.syncController_.getExpiredTime(n,this.duration()),s===null||(e=vu.Playlist.seekable(n,s,vu.Playlist.liveEdgeDelay(r,n)),e.length===0)))return;let o,i;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),i=this.seekable_.start(0)),e?e.start(0)>a.end(0)||a.start(0)>e.end(0)?this.seekable_=a:this.seekable_=Sa([[e.start(0)>a.start(0)?e.start(0):a.start(0),e.end(0)<a.end(0)?e.end(0):a.end(0)]]):this.seekable_=a,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===i)&&(this.logger_(`seekable updated [${hte(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const n=this.tech_.buffered();let s=vu.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(s=Math.max(s,n.end(n.length-1))),this.mediaSource.duration!==s&&this.sourceUpdater_.setDuration(s)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const s in n)n[s].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),s=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!s)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const s=B2(this.main(),n),r={},a=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(r.video=s.video||e.main.videoCodec||aFt),e.main.isMuxed&&(r.video+=`,${s.audio||e.main.audioCodec||UM}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||a)&&(r.audio=s.audio||e.main.audioCodec||e.audio.audioCodec||UM,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const o=(u,c)=>u?K_(c):MC(c),i={};let l;if(["video","audio"].forEach(function(u){if(r.hasOwnProperty(u)&&!o(e[u].isFmp4,r[u])){const c=e[u].isFmp4?"browser":"muxer";i[c]=i[c]||[],i[c].push(r[u]),u==="audio"&&(l=c)}}),a&&l&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==n&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${r.audio}"`)}if(Object.keys(i).length){const u=Object.keys(i).reduce((c,d)=>(c&&(c+=", "),c+=`${d} does not support codec(s): "${i[d].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const d=(Tl(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,h=(Tl(r[c]||"")[0]||{}).type;d&&h&&d.toLowerCase()!==h.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${r[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(s=>{const r=e[s];if(n.indexOf(r.id)!==-1)return;n.push(r.id);const a=B2(this.main,r),o=[];a.audio&&!MC(a.audio)&&!K_(a.audio)&&o.push(`audio codec ${a.audio}`),a.video&&!MC(a.video)&&!K_(a.video)&&o.push(`video codec ${a.video}`),a.text&&a.text==="stpp.ttml.im1t"&&o.push(`text codec ${a.text}`),o.length&&(r.excludeUntil=1/0,this.logger_(`excluding ${r.id} for unsupported: ${o.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],s=this.main().playlists,r=T4(Tl(e)),a=KF(r),o=r.video&&Tl(r.video)[0]||null,i=r.audio&&Tl(r.audio)[0]||null;Object.keys(s).forEach(l=>{const u=s[l];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const c=[],d=B2(this.mainPlaylistLoader_.main,u),h=KF(d);if(!(!d.audio&&!d.video)){if(h!==a&&c.push(`codec count "${h}" !== "${a}"`),!this.sourceUpdater_.canChangeType()){const f=d.video&&Tl(d.video)[0]||null,p=d.audio&&Tl(d.audio)[0]||null;f&&o&&f.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`video codec "${f.type}" !== "${o.type}"`),p&&i&&p.type.toLowerCase()!==i.type.toLowerCase()&&c.push(`audio codec "${p.type}" !== "${i.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let n=0;const s=this.seekable();s.length&&(n=s.start(0)),mUt(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=Gr.GOAL_BUFFER_LENGTH,s=Gr.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,Gr.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*s,r)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=Gr.BUFFER_LOW_WATER_LINE,s=Gr.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,Gr.MAX_BUFFER_LOW_WATER_LINE),a=Math.max(n,Gr.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*s,this.bufferBasedABR?a:r)}bufferHighWaterLine(){return Gr.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){QF(this.inbandTextTracks_,"com.apple.streaming",this.tech_),QHt({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,s){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();QF(this.inbandTextTracks_,e,this.tech_),KHt({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:r,videoDuration:s})}}const PUt=(t,e,n)=>s=>{const r=t.main.playlists[e],a=UD(r),o=p8(r);return typeof s>"u"?o:(s?delete r.disabled:r.disabled=!0,s!==o&&!a&&(n(),s?t.trigger("renditionenabled"):t.trigger("renditiondisabled")),s)};class MUt{constructor(e,n,s){const{playlistController_:r}=e,a=r.fastQualityChange_.bind(r);if(n.attributes){const o=n.attributes.RESOLUTION;this.width=o&&o.width,this.height=o&&o.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=B2(r.main(),n),this.playlist=n,this.id=s,this.enabled=PUt(e.playlists,n.id,a)}}const FUt=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=ib(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(s=>!UD(s)).map((s,r)=>new MUt(t,s,s.id)):[]}},lB=["seeking","seeked","pause","playing","error"];class BUt{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=xl("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),s=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),a=()=>this.resetTimeUpdate_(),o=this.playlistController_,i=["main","subtitle","audio"],l={};i.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},o[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),o[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(d=>{o[`${d}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(lB,a),this.tech_.on("canplay",s),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(lB,a),this.tech_.off("canplay",s),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),i.forEach(c=>{o[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),o[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&Te.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&Te.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=Te.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,s=n[`${e}SegmentLoader_`],r=s.buffered_(),a=IVt(this[`${e}Buffered_`],r);if(this[`${e}Buffered_`]=r,a){this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:s.playlist_&&s.playlist_.id,buffered:ph(r)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+Ll>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),s=this.tech_.currentTime(),r=this.afterSeekableWindow_(n,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let a;if(r&&(a=n.end(n.length-1)),this.beforeSeekableWindow_(n,s)){const p=n.start(0);a=p+(p===n.end(0)?0:Ll)}if(typeof a<"u")return this.logger_(`Trying to seek outside of seekable at time ${s} with seekable range ${hte(n)}. Seeking to ${a}.`),this.tech_.setCurrentTime(a),!0;const o=this.playlistController_.sourceUpdater_,i=this.tech_.buffered(),l=o.audioBuffer?o.audioBuffered():null,u=o.videoBuffer?o.videoBuffered():null,c=this.media(),d=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-pd)*2,h=[l,u];for(let p=0;p<h.length;p++){if(!h[p])continue;if(VD(h[p],s)<d)return!1}const f=f_(i,s);return f.length===0?!1:(a=f.start(0)+Ll,this.logger_(`Buffered region starts (${f.start(0)})  just beyond seek point (${s}). Seeking to ${a}.`),this.tech_.setCurrentTime(a),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),s=bp(n,e);if(s.length&&e+3<=s.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${s.start(0)} -> ${s.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const i=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${i}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const s=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:s.audioBuffered(),videoBuffered:s.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const o=f_(r,n);return o.length>0?(this.logger_(`Stopped at ${n} and seeking to ${o.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,s,r=!1){if(!e.length)return!1;let a=e.end(e.length-1)+Ll;const o=!s.endList,i=typeof s.partTargetDuration=="number";return o&&(i||r)&&(a=e.end(e.length-1)+s.targetDuration*3),n>a}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:s}){if(!e)return;let r;if(e.length&&n.length){const a=bp(e,s-3),o=bp(e,s),i=bp(n,s);i.length&&!o.length&&a.length&&(r={start:a.end(0),end:i.end(0)})}else f_(e,s).length||(r=this.gapFromVideoUnderflow_(e,s));return r?(this.logger_(`Encountered a gap in video from ${r.start} to ${r.end}. Seeking to current time ${s}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),s=this.tech_.currentTime(),r=f_(n,s);this.resetTimeUpdate_(),!(r.length===0||s!==e)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+pd),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,n){const s=kVt(e);for(let r=0;r<s.length;r++){const a=s.start(r),o=s.end(r);if(n-a<4&&n-a>2)return{start:a,end:o}}return null}}const zUt={errorInterval:30,getSource(t){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(n)}},Qte=function(t,e){let n=0,s=0;const r=fs(zUt,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const a=function(){s&&t.currentTime(s)},o=function(c){c!=null&&(s=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},i=function(){if(Date.now()-n<r.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){et.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),r.getSource.call(t,o)},l=function(){t.off("loadedmetadata",a),t.off("error",i),t.off("dispose",l)},u=function(c){l(),Qte(t,c)};t.on("error",i),t.on("dispose",l),t.reloadSourceOnError=u},VUt=function(t){Qte(this,t)};var Zte="3.6.0",HUt="7.0.0",UUt="1.2.2",WUt="7.1.0",jUt="4.0.1";const Js={PlaylistLoader:_p,Playlist:go,utils:tHt,STANDARD_PLAYLIST_SELECTOR:YF,INITIAL_PLAYLIST_SELECTOR:UHt,lastBandwidthSelector:YF,movingAverageBandwidthSelector:VHt,comparePlaylistBandwidth:qD,comparePlaylistResolution:zHt,xhr:$te()};Object.keys(Gr).forEach(t=>{Object.defineProperty(Js,t,{get(){return et.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),Gr[t]},set(e){if(et.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){et.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}Gr[t]=e}})});const Jte="videojs-vhs",ene=function(t,e){const n=e.media();let s=-1;for(let r=0;r<t.length;r++)if(t[r].id===n.id){s=r;break}t.selectedIndex_=s,t.trigger({selectedIndex:s,type:"change"})},GUt=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),ene(t,e.playlists)};Js.canPlaySource=function(){return et.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const qUt=(t,e,n)=>{if(!t)return t;let s={};e&&e.attributes&&e.attributes.CODECS&&(s=T4(Tl(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(s.audio=n.attributes.CODECS);const r=L1(s.video),a=L1(s.audio),o={};for(const i in t)o[i]={},a&&(o[i].audioContentType=a),r&&(o[i].videoContentType=r),e.contentProtection&&e.contentProtection[i]&&e.contentProtection[i].pssh&&(o[i].pssh=e.contentProtection[i].pssh),typeof t[i]=="string"&&(o[i].url=t[i]);return fs(t,o)},KUt=(t,e)=>t.reduce((n,s)=>{if(!s.contentProtection)return n;const r=e.reduce((a,o)=>{const i=s.contentProtection[o];return i&&i.pssh&&(a[o]={pssh:i.pssh}),a},{});return Object.keys(r).length&&n.push(r),n},[]),XUt=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:s})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const r=n?s.concat([n]):s,a=KUt(r,Object.keys(e)),o=[],i=[];return a.forEach(l=>{i.push(new Promise((u,c)=>{t.tech_.one("keysessioncreated",u)})),o.push(new Promise((u,c)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){c(d);return}u()})}))}),Promise.race([Promise.all(o),Promise.race(i)])},YUt=({player:t,sourceKeySystems:e,media:n,audioMedia:s})=>{const r=qUt(e,n,s);return r?(t.currentSource().keySystems=r,r&&!t.eme?(et.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},tne=()=>{if(!Te.localStorage)return null;const t=Te.localStorage.getItem(Jte);if(!t)return null;try{return JSON.parse(t)}catch{return null}},QUt=t=>{if(!Te.localStorage)return!1;let e=tne();e=e?fs(e,t):t;try{Te.localStorage.setItem(Jte,JSON.stringify(e))}catch{return!1}return e},ZUt=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,nne=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},sne=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},rne=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},ane=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};Js.supportsNativeHls=function(){if(!$t||!$t.createElement)return!1;const t=$t.createElement("video");return et.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(t.canPlayType(n))}):!1}();Js.supportsNativeDash=function(){return!$t||!$t.createElement||!et.getTech("Html5").isSupported()?!1:/maybe|probably/i.test($t.createElement("video").canPlayType("application/dash+xml"))}();Js.supportsTypeNatively=t=>t==="hls"?Js.supportsNativeHls:t==="dash"?Js.supportsNativeDash:!1;Js.isSupported=function(){return et.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};Js.xhr.onRequest=function(t){nne(Js.xhr,t)};Js.xhr.onResponse=function(t){sne(Js.xhr,t)};Js.xhr.offRequest=function(t){rne(Js.xhr,t)};Js.xhr.offResponse=function(t){ane(Js.xhr,t)};const JUt=et.getComponent("Component");class one extends JUt{constructor(e,n,s){if(super(n,s.vhs),typeof s.initialBandwidth=="number"&&(this.options_.bandwidth=s.initialBandwidth),this.logger_=xl("VhsHandler"),n.options_&&n.options_.playerId){const r=et.getPlayer(n.options_.playerId);this.player_=r}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on($t,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const a=$t.fullscreenElement||$t.webkitFullscreenElement||$t.mozFullScreenElement||$t.msFullscreenElement;a&&a.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.calculateTimestampOffsetForEachSegment=this.options_.calculateTimestampOffsetForEachSegment||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const e=tne();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Gr.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Gr.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","calculateTimestampOffsetForEachSegment","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{typeof this.source_[e]<"u"&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=ZUt(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Js,this.options_.sourceType=iJ(n),this.options_.seekTo=a=>{this.tech_.setCurrentTime(a)},this.playlistController_=new LUt(this.options_);const s=fs({liveRangeSafeTimeDelta:Ll},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new BUt(s),this.playlistController_.on("error",()=>{const a=et.players[this.tech_.options_.playerId];let o=this.playlistController_.error;typeof o=="object"&&!o.code?o.code=3:typeof o=="string"&&(o={message:o,code:3}),a.error(o)});const r=this.options_.bufferBasedABR?Js.movingAverageBandwidthSelector(.55):Js.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=Js.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(a){this.playlistController_.selectPlaylist=a.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(a){this.playlistController_.mainSegmentLoader_.throughput.rate=a,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let a=this.playlistController_.mainSegmentLoader_.bandwidth;const o=Te.navigator.connection||Te.navigator.mozConnection||Te.navigator.webkitConnection,i=1e7;if(this.options_.useNetworkInformationApi&&o){const l=o.downlink*1e3*1e3;l>=i&&a>=i?a=Math.max(a,l):a=l}return a},set(a){this.playlistController_.mainSegmentLoader_.bandwidth=a,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const a=1/(this.bandwidth||1);let o;return this.throughput>0?o=1/this.throughput:o=0,Math.floor(1/(a+o))},set(){et.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>ph(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>ph(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&QUt({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{FUt(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=Te.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),XUt({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=YUt({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",s=>{if(s.status!=="output-restricted")return;const r=this.playlistController_.main();if(!r||!r.playlists)return;const a=[];r.playlists.forEach(o=>{o&&o.attributes&&o.attributes.RESOLUTION&&o.attributes.RESOLUTION.height>=720&&(!o.excludeUntil||o.excludeUntil<1/0)&&(o.excludeUntil=1/0,a.push(o))}),a.length&&(et.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...a),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=et.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{GUt(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{ene(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":Zte,"mux.js":HUt,"mpd-parser":UUt,"m3u8-parser":WUt,"aes-decrypter":jUt}}version(){return this.constructor.version()}canChangeType(){return Xte.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&Te.URL.revokeObjectURL&&(Te.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return lHt({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,s=!0,r=2){return Dte({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:s,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{nne(this.xhr,e)},this.xhr.onResponse=e=>{sne(this.xhr,e)},this.xhr.offRequest=e=>{rne(this.xhr,e)},this.xhr.offResponse=e=>{ane(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const I4={name:"videojs-http-streaming",VERSION:Zte,canHandleSource(t,e={}){const n=fs(et.options,e);return I4.canPlayType(t.type,n)},handleSource(t,e,n={}){const s=fs(et.options,n);return e.vhs=new one(t,e,s),e.vhs.xhr=$te(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=iJ(t);if(!n)return"";const s=I4.getOverrideNative(e);return!Js.supportsTypeNatively(n)||s?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(et.browser.IS_ANY_SAFARI||et.browser.IS_IOS),{overrideNative:s=n}=e;return s}},eWt=()=>K_("avc1.4d400d,mp4a.40.2");eWt()&&et.getTech("Html5").registerSourceHandler(I4,0);et.VhsHandler=one;et.VhsSourceHandler=I4;et.Vhs=Js;et.use||et.registerComponent("Vhs",Js);et.options.vhs=et.options.vhs||{};(!et.getPlugin||!et.getPlugin("reloadSourceOnError"))&&et.registerPlugin("reloadSourceOnError",VUt);const tWt="",nWt="",sWt="",rWt="",aWt="",oWt="",iWt="",lWt="",uWt="",cWt="",dWt="",hWt="",fWt="",pWt="",mWt="",gWt="",vWt="",yWt="",bWt="",_Wt="",wWt="",xWt="",CWt="",SWt="",TWt="",kWt="",$Wt="",EWt="",IWt="",NWt="",AWt="",DWt="",OWt="",RWt="",LWt="",PWt="",MWt="",FWt="",BWt="",uB={Play:tWt,Pause:nWt,"Current Time":"",Duration:sWt,"Remaining Time":"","Stream Type":"",LIVE:rWt,Loaded:aWt,Progress:oWt,Fullscreen:iWt,"Exit Fullscreen":"","Picture-in-Picture":"","Exit Picture-in-Picture":"",Mute:lWt,Unmute:uWt,"Playback Rate":"",Subtitles:cWt,"subtitles off":"",Captions:dWt,"captions off":"",Chapters:hWt,"Close Modal Dialog":"",Descriptions:fWt,"descriptions off":"","Audio Track":"","You aborted the media playback":"","A network error caused the media download to fail part-way.":"","The media could not be loaded, either because the server or network failed or because the format is not supported.":"","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"","No compatible source was found for this media.":"","The media is encrypted and we do not have the keys to decrypt it.":"","Play Video":"",Close:pWt,"Modal Window":"","This is a modal window":"","This modal can be closed by pressing the Escape key or activating the close button.":"ESC",", opens captions settings dialog":", ",", opens subtitles settings dialog":", ",", opens descriptions settings dialog":", ",", selected":", ","captions settings":"","Audio Player":"","Video Player":"",Replay:mWt,"Progress Bar":"","Volume Level":"","subtitles settings":"","descriptions settings":"",Text:gWt,White:vWt,Black:yWt,Red:bWt,Green:_Wt,Blue:wWt,Yellow:xWt,Magenta:CWt,Cyan:SWt,Background:TWt,Window:kWt,Transparent:$Wt,"Semi-Transparent":"",Opaque:EWt,"Font Size":"","Text Edge Style":"",None:IWt,Raised:NWt,Depressed:AWt,Uniform:DWt,Dropshadow:OWt,"Font Family":"","Proportional Sans-Serif":"","Monospace Sans-Serif":"","Proportional Serif":"","Monospace Serif":"",Casual:RWt,Script:LWt,"Small Caps":"",Reset:PWt,"restore all settings to the default values":"",Done:MWt,"Caption Settings Dialog":"","Beginning of dialog window. Escape will cancel and close the window.":"Escape","End of dialog window.":"","Seek to live, currently behind live":"","Seek to live, currently playing live":"","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":" {1}","No content":"",Color:FWt,Opacity:BWt,"Text Background":"","Caption Area Background":"","Skip forward {1} seconds":" {1} ","Skip backward {1} seconds":" {1} "},zWt="Play",VWt="Pause",HWt="Replay",UWt="Duration",WWt="LIVE",jWt="Loaded",GWt="Progress",qWt="Fullscreen",KWt="Mute",XWt="Unmute",YWt="Subtitles",QWt="Captions",ZWt="Chapters",JWt="Descriptions",ejt="Close",tjt="Text",njt="White",sjt="Black",rjt="Red",ajt="Green",ojt="Blue",ijt="Yellow",ljt="Magenta",ujt="Cyan",cjt="Background",djt="Window",hjt="Transparent",fjt="Opaque",pjt="None",mjt="Raised",gjt="Depressed",vjt="Uniform",yjt="Casual",bjt="Script",_jt="Reset",wjt="Done",xjt="Color",Cjt="Opacity",Sjt={"Audio Player":"Audio Player","Video Player":"Video Player",Play:zWt,Pause:VWt,Replay:HWt,"Current Time":"Current Time",Duration:UWt,"Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:WWt,"Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live",Loaded:jWt,Progress:GWt,"Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}",Fullscreen:qWt,"Exit Fullscreen":"Exit Fullscreen",Mute:KWt,Unmute:XWt,"Playback Rate":"Playback Rate",Subtitles:YWt,"subtitles off":"subtitles off",Captions:QWt,"captions off":"captions off",Chapters:ZWt,Descriptions:JWt,"descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video",Close:ejt,"Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subtitles settings","descriptions settings":"descriptions settings",Text:tjt,White:njt,Black:sjt,Red:rjt,Green:ajt,Blue:ojt,Yellow:ijt,Magenta:ljt,Cyan:ujt,Background:cjt,Window:djt,Transparent:hjt,"Semi-Transparent":"Semi-Transparent",Opaque:fjt,"Font Size":"Font Size","Text Edge Style":"Text Edge Style",None:pjt,Raised:mjt,Depressed:gjt,Uniform:vjt,"Drop shadow":"Drop shadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:yjt,Script:bjt,"Small Caps":"Small Caps",Reset:_jt,"restore all settings to the default values":"restore all settings to the default values",Done:wjt,"Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","{1} is loading.":"{1} is loading.","Exit Picture-in-Picture":"Exit Picture-in-Picture","Picture-in-Picture":"Picture-in-Picture","No content":"No content",Color:xjt,Opacity:Cjt,"Text Background":"Text Background","Caption Area Background":"Caption Area Background","Playing in Picture-in-Picture":"Playing in Picture-in-Picture","Skip backward {1} seconds":"Skip backward {1} seconds","Skip forward {1} seconds":"Skip forward {1} seconds"},Tjt="",kjt="",$jt="",Ejt="",Ijt="",Njt="",Ajt="",Djt="",Ojt="",Rjt="",Ljt="",Pjt="",Mjt="",Fjt="",Bjt="",zjt="",Vjt="",Hjt="",Ujt="",Wjt="",jjt="",Gjt="",qjt="",Kjt="",Xjt="",Yjt="",Qjt="",Zjt="",Jjt="",eGt="",tGt="",nGt="",sGt="",rGt="",aGt="",oGt="",iGt="",lGt="",uGt={Play:Tjt,Pause:kjt,"Current Time":"",Duration:$jt,"Remaining Time":"","Stream Type":"",LIVE:Ejt,Loaded:Ijt,Progress:Njt,Fullscreen:Ajt,"Exit Fullscreen":"","Picture-in-Picture":"","Exit Picture-in-Picture":"",Mute:Djt,Unmute:Ojt,"Playback Rate":" ",Subtitles:Rjt,"subtitles off":"",Captions:Ljt,"captions off":"",Chapters:Pjt,"Close Modal Dialog":"",Descriptions:Mjt,"descriptions off":"","Audio Track":"","You aborted the media playback":"","A network error caused the media download to fail part-way.":"","The media could not be loaded, either because the server or network failed or because the format is not supported.":"","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"","No compatible source was found for this media.":"","The media is encrypted and we do not have the keys to decrypt it.":"","Play Video":"",Close:Fjt,"Modal Window":"","This is a modal window":"","This modal can be closed by pressing the Escape key or activating the close button.":"ESC",", opens captions settings dialog":", ",", opens subtitles settings dialog":", ",", opens descriptions settings dialog":", ",", selected":", ","captions settings":"","Audio Player":"","Video Player":"",Replay:Bjt,"Progress Bar":"","Volume Level":"","subtitles settings":"","descriptions settings":"",Text:zjt,White:Vjt,Black:Hjt,Red:Ujt,Green:Wjt,Blue:jjt,Yellow:Gjt,Magenta:qjt,Cyan:Kjt,Background:Xjt,Window:Yjt,Transparent:Qjt,"Semi-Transparent":"",Opaque:Zjt,"Font Size":"","Text Edge Style":"",None:Jjt,Raised:eGt,Depressed:tGt,Uniform:nGt,"Drop shadow":"","Font Family":"","Proportional Sans-Serif":"","Monospace Sans-Serif":"","Proportional Serif":"","Monospace Serif":"",Casual:sGt,Script:rGt,"Small Caps":"",Reset:aGt,"restore all settings to the default values":"",Done:oGt,"Caption Settings Dialog":"","Beginning of dialog window. Escape will cancel and close the window.":"","End of dialog window.":"","Seek to live, currently behind live":"","Seek to live, currently playing live":"","progress bar timing: currentTime={1} duration={2}":"{1}/{2}","{1} is loading.":"{1} ","No content":"",Color:iGt,Opacity:lGt,"Text Background":"","Caption Area Background":"","Skip forward {1} seconds":" {1} ","Skip backward {1} seconds":" {1} "},cGt="next",Ud=(t,e,n,s,r)=>{let a=`${t}-${e}`;return n&&(a+=`-${n}`),s&&(a+=`__${s}`),r&&(a+=`--${r}`),a},ine=Symbol("namespaceContextKey"),lne=t=>{const e=t||(Ht()?Le(ine,B("next")):B("next"));return D(()=>g(e)||"next")},Vs=(t,e)=>{const n=lne(e);return{namespace:n,b:(s="")=>Ud(n.value,t,s,"",""),e:s=>s?Ud(n.value,t,"",s,""):"",m:s=>s?Ud(n.value,t,"","",s):"",be:(s,r)=>s&&r?Ud(n.value,t,s,r,""):"",em:(s,r)=>s&&r?Ud(n.value,t,"",s,r):"",bm:(s,r)=>s&&r?Ud(n.value,t,s,"",r):"",bem:(s,r,a)=>s&&r&&a?Ud(n.value,t,s,r,a):"",bf:(...s)=>{let r=`${n.value}-${t}`;for(const a in s){const o=s[a];o&&(r+="-"+o)}return r},is:(s,...r)=>{const a=!(r.length>=1)||r[0];return s&&a?`is-${s}`:""},cssVar:s=>{const r={};for(const a in s)s[a]&&(r[`--${n.value}-${a}`]=s[a]);return r},cssVarName:s=>`--${n.value}-${s}`,cssVarBlock:s=>{const r={};for(const a in s)s[a]&&(r[`--${n.value}-${t}-${a}`]=s[a]);return r},cssVarBlockName:s=>`--${n.value}-${t}-${s}`}};var une=typeof global=="object"&&global&&global.Object===Object&&global,dGt=typeof self=="object"&&self&&self.Object===Object&&self,fu=une||dGt||Function("return this")(),md=fu.Symbol,cne=Object.prototype,hGt=cne.hasOwnProperty,fGt=cne.toString,Yg=md?md.toStringTag:void 0,pGt=Object.prototype.toString,mGt="[object Null]",gGt="[object Undefined]",cB=md?md.toStringTag:void 0;function Dd(t){return t==null?t===void 0?gGt:mGt:cB&&cB in Object(t)?function(e){var n=hGt.call(e,Yg),s=e[Yg];try{e[Yg]=void 0;var r=!0}catch{}var a=fGt.call(e);return r&&(n?e[Yg]=s:delete e[Yg]),a}(t):function(e){return pGt.call(e)}(t)}function Qu(t){return t!=null&&typeof t=="object"}var vGt="[object Symbol]";function KD(t){return typeof t=="symbol"||Qu(t)&&Dd(t)==vGt}var lu=Array.isArray,yGt=1/0,dB=md?md.prototype:void 0,hB=dB?dB.toString:void 0;function dne(t){if(typeof t=="string")return t;if(lu(t))return function(n,s){for(var r=-1,a=n==null?0:n.length,o=Array(a);++r<a;)o[r]=s(n[r],r,n);return o}(t,dne)+"";if(KD(t))return hB?hB.call(t):"";var e=t+"";return e=="0"&&1/t==-yGt?"-0":e}function Nf(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function hne(t){return t}var bGt="[object AsyncFunction]",_Gt="[object Function]",wGt="[object GeneratorFunction]",xGt="[object Proxy]";function XD(t){if(!Nf(t))return!1;var e=Dd(t);return e==_Gt||e==wGt||e==bGt||e==xGt}var fB,JC=fu["__core-js_shared__"],pB=(fB=/[^.]+$/.exec(JC&&JC.keys&&JC.keys.IE_PROTO||""))?"Symbol(src)_1."+fB:"",CGt=Function.prototype.toString;function Af(t){if(t!=null){try{return CGt.call(t)}catch{}try{return t+""}catch{}}return""}var SGt=/^\[object .+?Constructor\]$/,TGt=Function.prototype,kGt=Object.prototype,$Gt=TGt.toString,EGt=kGt.hasOwnProperty,IGt=RegExp("^"+$Gt.call(EGt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NGt(t){return!(!Nf(t)||(e=t,pB&&pB in e))&&(XD(t)?IGt:SGt).test(Af(t));var e}function Df(t,e){var n=function(s,r){return s==null?void 0:s[r]}(t,e);return NGt(n)?n:void 0}var a$=Df(fu,"WeakMap"),mB=Object.create,AGt=function(){function t(){}return function(e){if(!Nf(e))return{};if(mB)return mB(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),DGt=Date.now,gB,eS,tS,N4=function(){try{var t=Df(Object,"defineProperty");return t({},"",{}),t}catch{}}(),OGt=N4?function(t,e){return N4(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:hne,RGt=(gB=OGt,eS=0,tS=0,function(){var t=DGt(),e=16-(t-tS);if(tS=t,e>0){if(++eS>=800)return arguments[0]}else eS=0;return gB.apply(void 0,arguments)}),LGt=9007199254740991,PGt=/^(?:0|[1-9]\d*)$/;function fne(t,e){var n=typeof t;return!!(e=e??LGt)&&(n=="number"||n!="symbol"&&PGt.test(t))&&t>-1&&t%1==0&&t<e}function YD(t,e,n){e=="__proto__"&&N4?N4(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function lb(t,e){return t===e||t!=t&&e!=e}var MGt=Object.prototype.hasOwnProperty;function FGt(t,e,n){var s=t[e];MGt.call(t,e)&&lb(s,n)&&(n!==void 0||e in t)||YD(t,e,n)}var vB=Math.max;function BGt(t,e){return RGt(function(n,s,r){return s=vB(s===void 0?n.length-1:s,0),function(){for(var a=arguments,o=-1,i=vB(a.length-s,0),l=Array(i);++o<i;)l[o]=a[s+o];o=-1;for(var u=Array(s+1);++o<s;)u[o]=a[o];return u[s]=r(l),function(c,d,h){switch(h.length){case 0:return c.call(d);case 1:return c.call(d,h[0]);case 2:return c.call(d,h[0],h[1]);case 3:return c.call(d,h[0],h[1],h[2])}return c.apply(d,h)}(n,this,u)}}(t,e,hne),t+"")}var zGt=9007199254740991;function pne(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zGt}function m8(t){return t!=null&&pne(t.length)&&!XD(t)}function mne(t){return BGt(function(e,n){var s=-1,r=n.length,a=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(r--,a):void 0,o&&function(l,u,c){if(!Nf(c))return!1;var d=typeof u;return!!(d=="number"?m8(c)&&fne(u,c.length):d=="string"&&u in c)&&lb(c[u],l)}(n[0],n[1],o)&&(a=r<3?void 0:a,r=1),e=Object(e);++s<r;){var i=n[s];i&&t(e,i,s,a)}return e})}var VGt=Object.prototype;function QD(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||VGt)}function yB(t){return Qu(t)&&Dd(t)=="[object Arguments]"}var gne=Object.prototype,HGt=gne.hasOwnProperty,UGt=gne.propertyIsEnumerable,o$=yB(function(){return arguments}())?yB:function(t){return Qu(t)&&HGt.call(t,"callee")&&!UGt.call(t,"callee")},vne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,bB=vne&&typeof module=="object"&&module&&!module.nodeType&&module,_B=bB&&bB.exports===vne?fu.Buffer:void 0,A4=(_B?_B.isBuffer:void 0)||function(){return!1},Ds={};Ds["[object Float32Array]"]=Ds["[object Float64Array]"]=Ds["[object Int8Array]"]=Ds["[object Int16Array]"]=Ds["[object Int32Array]"]=Ds["[object Uint8Array]"]=Ds["[object Uint8ClampedArray]"]=Ds["[object Uint16Array]"]=Ds["[object Uint32Array]"]=!0,Ds["[object Arguments]"]=Ds["[object Array]"]=Ds["[object ArrayBuffer]"]=Ds["[object Boolean]"]=Ds["[object DataView]"]=Ds["[object Date]"]=Ds["[object Error]"]=Ds["[object Function]"]=Ds["[object Map]"]=Ds["[object Number]"]=Ds["[object Object]"]=Ds["[object RegExp]"]=Ds["[object Set]"]=Ds["[object String]"]=Ds["[object WeakMap]"]=!1;var yne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z2=yne&&typeof module=="object"&&module&&!module.nodeType&&module,nS=z2&&z2.exports===yne&&une.process,wB=function(){try{var t=z2&&z2.require&&z2.require("util").types;return t||nS&&nS.binding&&nS.binding("util")}catch{}}(),xB=wB&&wB.isTypedArray,ZD=xB?function(t){return function(e){return t(e)}}(xB):function(t){return Qu(t)&&pne(t.length)&&!!Ds[Dd(t)]},WGt=Object.prototype.hasOwnProperty;function bne(t,e){var n=lu(t),s=!n&&o$(t),r=!n&&!s&&A4(t),a=!n&&!s&&!r&&ZD(t),o=n||s||r||a,i=o?function(c,d){for(var h=-1,f=Array(c);++h<c;)f[h]=d(h);return f}(t.length,String):[],l=i.length;for(var u in t)!e&&!WGt.call(t,u)||o&&(u=="length"||r&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fne(u,l))||i.push(u);return i}function _ne(t,e){return function(n){return t(e(n))}}var jGt=_ne(Object.keys,Object),GGt=Object.prototype.hasOwnProperty;function qGt(t){return m8(t)?bne(t):function(e){if(!QD(e))return jGt(e);var n=[];for(var s in Object(e))GGt.call(e,s)&&s!="constructor"&&n.push(s);return n}(t)}var KGt=Object.prototype.hasOwnProperty;function XGt(t){if(!Nf(t))return function(r){var a=[];if(r!=null)for(var o in Object(r))a.push(o);return a}(t);var e=QD(t),n=[];for(var s in t)(s!="constructor"||!e&&KGt.call(t,s))&&n.push(s);return n}function wne(t){return m8(t)?bne(t,!0):XGt(t)}var YGt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QGt=/^\w*$/,Qg=Df(Object,"create"),ZGt=Object.prototype.hasOwnProperty,JGt=Object.prototype.hasOwnProperty;function sh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}function g_(t,e){for(var n=t.length;n--;)if(lb(t[n][0],e))return n;return-1}sh.prototype.clear=function(){this.__data__=Qg?Qg(null):{},this.size=0},sh.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},sh.prototype.get=function(t){var e=this.__data__;if(Qg){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return ZGt.call(e,t)?e[t]:void 0},sh.prototype.has=function(t){var e=this.__data__;return Qg?e[t]!==void 0:JGt.call(e,t)},sh.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qg&&e===void 0?"__lodash_hash_undefined__":e,this};var eqt=Array.prototype.splice;function $u(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}$u.prototype.clear=function(){this.__data__=[],this.size=0},$u.prototype.delete=function(t){var e=this.__data__,n=g_(e,t);return!(n<0)&&(n==e.length-1?e.pop():eqt.call(e,n,1),--this.size,!0)},$u.prototype.get=function(t){var e=this.__data__,n=g_(e,t);return n<0?void 0:e[n][1]},$u.prototype.has=function(t){return g_(this.__data__,t)>-1},$u.prototype.set=function(t,e){var n=this.__data__,s=g_(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this};var U1=Df(fu,"Map");function v_(t,e){var n,s,r=t.__data__;return((s=typeof(n=e))=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null)?r[typeof e=="string"?"string":"hash"]:r.map}function Eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}Eu.prototype.clear=function(){this.size=0,this.__data__={hash:new sh,map:new(U1||$u),string:new sh}},Eu.prototype.delete=function(t){var e=v_(this,t).delete(t);return this.size-=e?1:0,e},Eu.prototype.get=function(t){return v_(this,t).get(t)},Eu.prototype.has=function(t){return v_(this,t).has(t)},Eu.prototype.set=function(t,e){var n=v_(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this};var tqt="Expected a function";function JD(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tqt);var n=function(){var s=arguments,r=e?e.apply(this,s):s[0],a=n.cache;if(a.has(r))return a.get(r);var o=t.apply(this,s);return n.cache=a.set(r,o)||a,o};return n.cache=new(JD.Cache||Eu),n}JD.Cache=Eu;var nqt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sqt=/\\(\\)?/g,rqt=function(t){var e=JD(t,function(s){return n.size===500&&n.clear(),s}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nqt,function(n,s,r,a){e.push(r?a.replace(sqt,"$1"):s||n)}),e});function aqt(t,e){return lu(t)?t:function(n,s){if(lu(n))return!1;var r=typeof n;return!(r!="number"&&r!="symbol"&&r!="boolean"&&n!=null&&!KD(n))||QGt.test(n)||!YGt.test(n)||s!=null&&n in Object(s)}(t,e)?[t]:rqt(function(n){return n==null?"":dne(n)}(t))}var oqt=1/0;function iqt(t){if(typeof t=="string"||KD(t))return t;var e=t+"";return e=="0"&&1/t==-oqt?"-0":e}function lqt(t,e,n){var s=t==null?void 0:function(r,a){for(var o=0,i=(a=aqt(a,r)).length;r!=null&&o<i;)r=r[iqt(a[o++])];return o&&o==i?r:void 0}(t,e);return s===void 0?n:s}var CB=_ne(Object.getPrototypeOf,Object),uqt="[object Object]",cqt=Function.prototype,dqt=Object.prototype,xne=cqt.toString,hqt=dqt.hasOwnProperty,fqt=xne.call(Object);function Iu(t){var e=this.__data__=new $u(t);this.size=e.size}Iu.prototype.clear=function(){this.__data__=new $u,this.size=0},Iu.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Iu.prototype.get=function(t){return this.__data__.get(t)},Iu.prototype.has=function(t){return this.__data__.has(t)},Iu.prototype.set=function(t,e){var n=this.__data__;if(n instanceof $u){var s=n.__data__;if(!U1||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new Eu(s)}return n.set(t,e),this.size=n.size,this};var Cne=typeof exports=="object"&&exports&&!exports.nodeType&&exports,SB=Cne&&typeof module=="object"&&module&&!module.nodeType&&module,TB=SB&&SB.exports===Cne?fu.Buffer:void 0,kB=TB?TB.allocUnsafe:void 0,pqt=Object.prototype.propertyIsEnumerable,$B=Object.getOwnPropertySymbols,mqt=$B?function(t){return t==null?[]:(t=Object(t),function(e,n){for(var s=-1,r=e==null?0:e.length,a=0,o=[];++s<r;){var i=e[s];n(i,s,e)&&(o[a++]=i)}return o}($B(t),function(e){return pqt.call(t,e)}))}:function(){return[]},gqt=mqt;function EB(t){return function(e,n,s){var r=n(e);return lu(e)?r:function(a,o){for(var i=-1,l=o.length,u=a.length;++i<l;)a[u+i]=o[i];return a}(r,s(e))}(t,qGt,gqt)}var i$=Df(fu,"DataView"),l$=Df(fu,"Promise"),u$=Df(fu,"Set"),vqt=Af(i$),yqt=Af(U1),bqt=Af(l$),_qt=Af(u$),wqt=Af(a$),Kd=Dd;(i$&&Kd(new i$(new ArrayBuffer(1)))!="[object DataView]"||U1&&Kd(new U1)!="[object Map]"||l$&&Kd(l$.resolve())!="[object Promise]"||u$&&Kd(new u$)!="[object Set]"||a$&&Kd(new a$)!="[object WeakMap]")&&(Kd=function(t){var e=Dd(t),n=e=="[object Object]"?t.constructor:void 0,s=n?Af(n):"";if(s)switch(s){case vqt:return"[object DataView]";case yqt:return"[object Map]";case bqt:return"[object Promise]";case _qt:return"[object Set]";case wqt:return"[object WeakMap]"}return e});var IB=Kd,D4=fu.Uint8Array;function xqt(t,e){var n,s,r=e?(n=t.buffer,s=new n.constructor(n.byteLength),new D4(s).set(new D4(n)),s):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Z_(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Eu;++e<n;)this.add(t[e])}function Cqt(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1}Z_.prototype.add=Z_.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Z_.prototype.has=function(t){return this.__data__.has(t)};var Sqt=1,Tqt=2;function NB(t,e,n,s,r,a){var o=n&Sqt,i=t.length,l=e.length;if(i!=l&&!(o&&l>i))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,f=n&Tqt?new Z_:void 0;for(a.set(t,e),a.set(e,t);++d<i;){var p=t[d],m=e[d];if(s)var y=o?s(m,p,d,e,t,a):s(p,m,d,t,e,a);if(y!==void 0){if(y)continue;h=!1;break}if(f){if(!Cqt(e,function(v,b){if(w=b,!f.has(w)&&(p===v||r(p,v,n,s,a)))return f.push(b);var w})){h=!1;break}}else if(p!==m&&!r(p,m,n,s,a)){h=!1;break}}return a.delete(t),a.delete(e),h}function kqt(t){var e=-1,n=Array(t.size);return t.forEach(function(s,r){n[++e]=[r,s]}),n}function $qt(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n}var Eqt=1,Iqt=2,Nqt="[object Boolean]",Aqt="[object Date]",Dqt="[object Error]",Oqt="[object Map]",Rqt="[object Number]",Lqt="[object RegExp]",Pqt="[object Set]",Mqt="[object String]",Fqt="[object Symbol]",Bqt="[object ArrayBuffer]",zqt="[object DataView]",AB=md?md.prototype:void 0,sS=AB?AB.valueOf:void 0,Vqt=1,Hqt=Object.prototype.hasOwnProperty,Uqt=1,DB="[object Arguments]",OB="[object Array]",y_="[object Object]",RB=Object.prototype.hasOwnProperty;function Wqt(t,e,n,s,r,a){var o=lu(t),i=lu(e),l=o?OB:IB(t),u=i?OB:IB(e),c=(l=l==DB?y_:l)==y_,d=(u=u==DB?y_:u)==y_,h=l==u;if(h&&A4(t)){if(!A4(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new Iu),o||ZD(t)?NB(t,e,n,s,r,a):function(v,b,w,_,C,x,T){switch(w){case zqt:if(v.byteLength!=b.byteLength||v.byteOffset!=b.byteOffset)return!1;v=v.buffer,b=b.buffer;case Bqt:return!(v.byteLength!=b.byteLength||!x(new D4(v),new D4(b)));case Nqt:case Aqt:case Rqt:return lb(+v,+b);case Dqt:return v.name==b.name&&v.message==b.message;case Lqt:case Mqt:return v==b+"";case Oqt:var k=kqt;case Pqt:var N=_&Eqt;if(k||(k=$qt),v.size!=b.size&&!N)return!1;var O=T.get(v);if(O)return O==b;_|=Iqt,T.set(v,b);var L=NB(k(v),k(b),_,C,x,T);return T.delete(v),L;case Fqt:if(sS)return sS.call(v)==sS.call(b)}return!1}(t,e,l,n,s,r,a);if(!(n&Uqt)){var f=c&&RB.call(t,"__wrapped__"),p=d&&RB.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,y=p?e.value():e;return a||(a=new Iu),r(m,y,n,s,a)}}return!!h&&(a||(a=new Iu),function(v,b,w,_,C,x){var T=w&Vqt,k=EB(v),N=k.length;if(N!=EB(b).length&&!T)return!1;for(var O=N;O--;){var L=k[O];if(!(T?L in b:Hqt.call(b,L)))return!1}var V=x.get(v),H=x.get(b);if(V&&H)return V==b&&H==v;var K=!0;x.set(v,b),x.set(b,v);for(var U=T;++O<N;){var R=v[L=k[O]],W=b[L];if(_)var G=T?_(W,R,L,b,v,x):_(R,W,L,v,b,x);if(!(G===void 0?R===W||C(R,W,w,_,x):G)){K=!1;break}U||(U=L=="constructor")}if(K&&!U){var P=v.constructor,j=b.constructor;P==j||!("constructor"in v)||!("constructor"in b)||typeof P=="function"&&P instanceof P&&typeof j=="function"&&j instanceof j||(K=!1)}return x.delete(v),x.delete(b),K}(t,e,n,s,r,a))}function Sne(t,e,n,s,r){return t===e||(t==null||e==null||!Qu(t)&&!Qu(e)?t!=t&&e!=e:Wqt(t,e,n,s,Sne,r))}var jqt=function(t,e,n){for(var s=-1,r=Object(t),a=n(t),o=a.length;o--;){var i=a[++s];if(e(r[i],i,r)===!1)break}return t};function c$(t,e,n){(n!==void 0&&!lb(t[e],n)||n===void 0&&!(e in t))&&YD(t,e,n)}function d$(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]}function Gqt(t){return function(e,n,s,r){var a=!s;s||(s={});for(var o=-1,i=n.length;++o<i;){var l=n[o],u=r?r(s[l],e[l],l,s,e):void 0;u===void 0&&(u=e[l]),a?YD(s,l,u):FGt(s,l,u)}return s}(t,wne(t))}function qqt(t,e,n,s,r,a,o){var i=d$(t,n),l=d$(e,n),u=o.get(l);if(u)c$(t,n,u);else{var c,d=a?a(i,l,n+"",t,e,o):void 0,h=d===void 0;if(h){var f=lu(l),p=!f&&A4(l),m=!f&&!p&&ZD(l);d=l,f||p||m?lu(i)?d=i:Qu(c=i)&&m8(c)?d=function(y,v){var b=-1,w=y.length;for(v||(v=Array(w));++b<w;)v[b]=y[b];return v}(i):p?(h=!1,d=function(y,v){if(v)return y.slice();var b=y.length,w=kB?kB(b):new y.constructor(b);return y.copy(w),w}(l,!0)):m?(h=!1,d=xqt(l,!0)):d=[]:function(y){if(!Qu(y)||Dd(y)!=uqt)return!1;var v=CB(y);if(v===null)return!0;var b=hqt.call(v,"constructor")&&v.constructor;return typeof b=="function"&&b instanceof b&&xne.call(b)==fqt}(l)||o$(l)?(d=i,o$(i)?d=Gqt(i):Nf(i)&&!XD(i)||(d=function(y){return typeof y.constructor!="function"||QD(y)?{}:AGt(CB(y))}(l))):h=!1}h&&(o.set(l,d),r(d,l,s,a,o),o.delete(l)),c$(t,n,d)}}function e7(t,e,n,s,r){t!==e&&jqt(e,function(a,o){if(r||(r=new Iu),Nf(a))qqt(t,e,o,n,e7,s,r);else{var i=s?s(d$(t,o),a,o+"",t,e,r):void 0;i===void 0&&(i=a),c$(t,o,i)}},wne)}var LB=mne(function(t,e,n,s){e7(t,e,n,s)}),Kqt=mne(function(t,e,n){e7(t,e,n)}),sf=Kqt,h$={name:"zh-cn",next:{loading:"...",table:{search:"",clear:"",add:"",delete:"",batchDelete:"",export:"",edit:"",view:"",unfoldSearch:"",foldSearch:"",notData:"",operation:"",selection:"",selectionAll:"",setting:{title:"",label:"",hide:"",filter:"",sort:""},message:{tip:"",batchDeleteTip:"?",cancelBatchDelete:"",deleteTip:"?",cancelDelete:"",confirmButtonText:" ",cancelButtonText:" "},uploadfileExceed:""},form:{input:"",select:"",requiredInput:" ",requiredSelect:" ",submit:" ",cancel:" ",reset:" ",confirm:" ",tableSelect:" ",selectFile:""},date:{oneWeekAge:"",oneMonthAge:"",threeMonthsAge:"",oneYearAge:"",threeYearsAge:"",rangeSeparator:"",startPlaceholder:"",endPlaceholder:""},layout:{home:"",personal:"",logOut:"",tabsOther:"",tabsLeft:"",tabsRight:"",tabsAll:"",systemSetting:""},labelimg:{saveTxt:"...",emptyLabelText:"",confirmDeleteLabel:"",saveLabel:"",instructions:"",labelNoUpdate:"",zoomRestore:""},labelme:{saveLabel:"",createPolygon:"",editPolygon:"",deletePolyton:""}}},PB={name:"en",next:{loading:"loading...",table:{search:"search",clear:"clear",add:"add",delete:"del",batchDelete:"batch delete",export:"export",edit:"edit",view:"view",unfoldSearch:"unfold search",foldSearch:"fold search",notData:"not data",operation:"operations",selection:"selection",selectionAll:"select all",setting:{title:"column setting",label:"column name",hide:"hide",filter:"filter",sort:"srot"},message:{tip:"tip",batchDeleteTip:"Are you sure you want to delete them in bulk ?",cancelBatchDelete:"Cancel batch deletion",deleteTip:"Are you sure you want to delete this data ?",cancelDelete:"Cancel delete",confirmButtonText:"OK",cancelButtonText:"Cancel"},uploadfileExceed:"The number of uploaded files exceeds the limit"},form:{input:"please input ",select:"please select ",requiredInput:" required",requiredSelect:" required",submit:"Submit",cancel:"Cancel",reset:"reset",confirm:"confirm",tableSelect:" select",selectFile:"select file"},date:{oneWeekAge:"one week age",oneMonthAge:"one month age",threeMonthsAge:"three months age",oneYearAge:"one year age",threeYearsAge:"three years age",rangeSeparator:"to",startPlaceholder:"start time",endPlaceholder:"end time"},layout:{home:"Home",personal:"Personal",logOut:"LogOut",tabsOther:"close other",tabsLeft:"close left",tabsRight:"close right",tabsAll:"close all",systemSetting:"system setting"},labelimg:{saveTxt:"saving...",emptyLabelText:"No label data",confirmDeleteLabel:"Are you sure you want to delete this annotation?",saveLabel:"save label",instructions:"instructions",labelNoUpdate:"No label data update",zoomRestore:"restore zoom"},labelme:{saveLabel:"saving...",createPolygon:"create polygon",editPolygon:"edit polygon",deletePolyton:"delete polygon"}}},MB={name:"zh-tw",next:{loading:"...",table:{search:"",clear:"",add:"",delete:"",batchDelete:"",export:"",edit:"",view:"",unfoldSearch:"",foldSearch:"",notData:"",operation:"",selection:"",selectionAll:"",setting:{title:"",label:"",hide:"",filter:"",sort:""},message:{tip:"",batchDeleteTip:"?",cancelBatchDelete:"",deleteTip:"?",cancelDelete:"",confirmButtonText:" ",cancelButtonText:" "},uploadfileExceed:""},form:{input:"",select:"",requiredInput:" ",requiredSelect:" ",submit:" ",cancel:" ",reset:" ",confirm:" ",tableSelect:" ",selectFile:""},date:{oneWeekAge:"",oneMonthAge:"",threeMonthsAge:"",oneYearAge:"",threeYearsAge:"",rangeSeparator:"",startPlaceholder:"",endPlaceholder:""},layout:{home:"",personal:"",logOut:"",tabsOther:"",tabsLeft:"",tabsRight:"",tabsAll:"",systemSetting:""},labelimg:{saveTxt:"...",emptyLabelText:"",confirmDeleteLabel:"",saveLabel:"",instructions:"",labelNoUpdate:"",zoomRestore:""},labelme:{saveLabel:""}}};const W1={[h$.name]:{...h$},[PB.name]:{...PB},[MB.name]:{...MB}},Tne=(t,e,n)=>{var s;return(s=lqt(n,t,t))==null?void 0:s.replace(/\{(\w+)\}/g,(r,a)=>`${(e==null?void 0:e[a])??`{${a}}`}`)},kne=t=>(e,n)=>Tne(e,n,g(t)),$ne=t=>{const e=D(()=>g(t).name),n=ms(t)?t:B(t),s=W1[e.value]||W1["zh-cn"];return n.value.next=s.next,{lang:e,locale:n,t:kne(t)}},g8=r5,As=t=>{const e=t||Le(g8,B());return $ne(D(()=>(e==null?void 0:e.value)||h$))},Ene=(t,e)=>{const n=ms(t)?t:B(t),s=W1[e]||W1["zh-cn"];n.value.name=e,n.value.next=s.next};function Ti(){return{hexToRgb:t=>{let e="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(t))return gi.warning("hex"),"";e=(t=t.replace("#","")).match(/../g);for(let n=0;n<3;n++)e[n]=parseInt(e[n],16);return e},hexToRgba:(t,e=1)=>{let n="";if(!/^\#?[0-9A-Fa-f]{6}$/.test(t))return gi.warning("hex"),"";n=(t=t.replace("#","")).match(/../g);for(let s=0;s<3;s++)n[s]=parseInt(n[s],16);return`rgba(${n.join(",")},${e})`},rgbToHex:(t,e,n)=>{let s=/^\d{1,3}$/;if(!s.test(t)||!s.test(e)||!s.test(n))return gi.warning("rgb"),"";let r=[t.toString(16),e.toString(16),n.toString(16)];for(let a=0;a<3;a++)r[a].length==1&&(r[a]=`0${r[a]}`);return`#${r.join("")}`},getDarkColor:(t,e)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(t))return gi.warning("hex"),"";let n=Ti().hexToRgb(t);for(let s=0;s<3;s++)n[s]=Math.floor(n[s]*(1-e));return Ti().rgbToHex(n[0],n[1],n[2])},getLightColor:(t,e)=>{if(!/^\#?[0-9A-Fa-f]{6}$/.test(t))return gi.warning("hex"),"";let n=Ti().hexToRgb(t);for(let s=0;s<3;s++)n[s]=Math.floor((255-n[s])*e+n[s]);return Ti().rgbToHex(n[0],n[1],n[2])}}}const{getLightColor:Xqt}=Ti(),V2=(t,e)=>{document.documentElement.style.setProperty(t,e)},v8=(t,e)=>{V2(t,e);for(let n=1;n<10;n++)V2(t+"-light-"+n,Xqt(e,n/10));V2(`${t}-dark-2`,e)},Yqt=t=>{t&&v8("--el-color-primary",t)},FB={themeColor:"--el-color-primary",headerBarColor:"--next-layout-bg-color",headerBarFontColor:"--next-layout-font-color"},Ine=t=>{for(const n in FB){const s=FB[n];t[n]&&v8(s,t[n])}const e=document.documentElement;t.isDark?e.setAttribute("data-theme","dark"):e.setAttribute("data-theme","")},Nne=async(t,e,n,s,r,a=[],o,i)=>{const{videoWidth:l,videoHeight:u}=t;if(!l||!u)return;let[c,d]=e.inputs[0].shape.slice(1,3),h=s.tidy(()=>s.image.resizeBilinear(s.browser.fromPixels(t),[c,d]).div(255).expandDims(0));n.clearRect(0,0,l,u),o.clearRect(0,0,l,u),await e.executeAsync(h).then(async f=>{let[p,m,y,v]=f;for(let b=0;b<v.dataSync()[0];++b){let[w,_,C,x]=p.dataSync().slice(4*b,4*(b+1));w=w<0||w>1?parseInt(w):w,C=C<0||C>1?parseInt(C):C,_=_<0||_>1?parseInt(_):_,x=x<0||x>1?parseInt(x):x,w=Math.round(Math.abs(w)*l),C=Math.round(Math.abs(C)*l),_=Math.round(Math.abs(_)*u),x=Math.round(Math.abs(x)*u);const T=C-w,k=x-_,N=w,O=_;let L=y.dataSync()[b],V=m.dataSync()[b].toFixed(2);const H=(K,U,R)=>{const W=`#${(16777216|Math.floor(256*Math.random())<<16|Math.floor(256*Math.random())<<8|Math.floor(256*Math.random())).toString(16).slice(1)}`;R.strokeStyle=W,R.lineWidth=2,R.beginPath(),R.rect(N,O,T,k),R.stroke(),R.font="bold 16px Arial",R.fillStyle=W,R.fillText(`${K} ${U}`,N+10,O<20?20:O-10)};if(a!=null&&a.length)for(let K=0;K<a.length;K++){const U=a[K];if(U.cls==L&&Number(V)>U.score){const R=r.find(W=>W.value==L);if(R){const W=R.label;H(W,V,await Qqt(t,o)),H(W,V,n),i&&i(W,V)}}}else if(V>.5){const K=r.find(U=>U.value==L);K&&H(K.label||"",V,n)}}h.dispose(),s.dispose(f)})},Qqt=(t,e)=>{const n=t.videoWidth,s=t.videoHeight,r=n/s,a=n/s,o=n,i=s;let l,u,c,d;return r>a?(c=n,d=n/r,l=0,u=Math.round((s-d)/2)):r===a?(c=n,d=s,l=0,u=0):r<a&&(c=s*r,d=s,l=Math.round((n-c)/2),u=0),e.drawImage(t,0,0,o,i,l,u,c,d),e},Ane=()=>({detectVideoFrameImage:({container:t,video:e,modelUrl:n,classNames:s,classInput:r=[]},a,o)=>n?s?void gA(n).then(i=>{const l=document.createElement("canvas"),u=l.getContext("2d");l.style.position="absolute",l.style.zIndex="99",l.style.pointerEvents="none",t&&t.appendChild(l);const c=document.createElement("canvas"),d=c.getContext("2d");e.ontimeupdate=h=>{const{clientWidth:f,clientHeight:p}=h.target,{videoWidth:m,videoHeight:y,offsetTop:v,offsetLeft:b}=e;l.width=m,l.height=y,l.style.top=v+"px",l.style.left=b+"px",l.style.width=f+"px",l.style.height=p+"px",c.width=m,c.height=y,c.style.width=f+"px",c.style.height=p+"px",Nne(e,i,u,qZ,s,r,d,(w,_)=>{const C="image/png";let x=l.toDataURL(C,.92).replace(C,"image/octet-stream");x=x.replace(/^data:image\/[^;]+/,"data:application/octet-stream");const T=c.toDataURL(C,.92);a&&a({name:w,score:_,detectImage:T,detectCanvas:c},{canvas:l,imageDataURL:x})})}}):(o&&o(""),!1):(o&&o(""),!1)}),Ur=(t,e)=>{if(t.install=n=>{for(const s of[t,...Object.values(e??{})])n.component(s.name,s)},e)for(const[n,s]of Object.entries(e))t[n]=s;return t},Mr="header-menu",ss="header-tools-prefix",rs="header-tools-suffix";var Zqt={logo:"",title:"Next Element Vue",userName:"Admin",language:"zh-cn",languageDropdown:[{value:"zh-cn",label:""},{value:"en",label:"English"},{value:"zh-tw",label:""}],userDropdown:[{value:"/",label:"next.layout.home",svg:'<svg t="1718695810903" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11410" width="16" height="16"><path d="M988.672 502.272l-476.16-476.16-476.16 476.16c-8.704 8.704-8.704 22.528 0 31.232l1.536 1.536c8.704 8.704 22.528 8.704 31.232 0l443.392-443.392 443.392 443.392c8.704 8.704 22.528 8.704 31.232 0l1.536-1.536c8.704-8.704 8.704-22.528 0-31.232z" fill="" p-id="11411"></path><path d="M860.16 534.016c-12.288 0-22.016 9.728-22.016 22.016v333.312c0 54.272-27.648 64-47.104 64h-152.064v-227.84c0-25.088 0-59.392-44.544-59.392H418.816c-44.032 0-44.032 33.28-44.032 59.392v227.84h-153.6c-44.032 0-45.056-64-45.056-64v-333.312c0.512-12.288-8.704-22.528-20.992-23.04-12.288-0.512-22.528 8.704-23.04 20.992v368.64c0 65.536 70.144 75.264 70.144 75.264h217.088v-287.232h176.64v287.232H824.32c39.424 0 57.856-44.032 57.856-75.264v-366.592c0-12.288-9.728-22.016-22.016-22.016z" fill="" p-id="11412"></path></svg>'},{value:"/personal",label:"next.layout.personal",svg:'<svg t="1718695007028" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2161" width="16" height="16"><path d="M512 87.04c-136.704 0-247.808 111.104-247.808 247.808 0 98.816 58.368 184.32 142.336 223.744-155.136 45.568-268.8 188.928-268.8 358.912 0 10.752 8.704 19.456 19.456 19.456 10.752 0 19.456-8.704 19.456-19.456 0-184.832 150.528-335.36 335.36-335.36 136.704 0 247.808-111.104 247.808-247.808S648.704 87.04 512 87.04z m0 456.192c-115.2 0-208.384-93.696-208.384-208.384 0-115.2 93.696-208.384 208.384-208.384 115.2 0 208.384 93.696 208.384 208.384 0 114.688-93.184 208.384-208.384 208.384z m226.816 76.8c-8.704-6.656-20.992-5.12-27.648 3.584-6.656 8.704-5.12 20.992 3.584 27.648 83.968 64 132.096 161.28 132.096 266.752 0 10.752 8.704 19.456 19.456 19.456 10.752 0 19.456-8.704 19.456-19.456 0.512-118.272-53.248-226.816-146.944-297.984z" fill="" p-id="2162"></path></svg>'},{value:"logOut",label:"next.layout.logOut",svg:'<svg t="1718695049981" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2313" width="16" height="16"><path d="M896 928H384a32 32 0 0 1-32-32v-128a32 32 0 0 1 64 0v96h448v-704h-448V256a32 32 0 1 1-64 0V128a32 32 0 0 1 32-32h512a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32z" fill="" p-id="2314"></path><path d="M608 544H192a32 32 0 0 1 0-64h416a32 32 0 0 1 0 64z" fill="" p-id="2315"></path><path d="M256 672a30.08 30.08 0 0 1-22.4-9.6l-128-128a30.72 30.72 0 0 1 0-44.8l128-128a31.36 31.36 0 1 1 44.8 44.8L173.44 512l104.96 105.6a30.72 30.72 0 0 1 0 44.8 30.08 30.08 0 0 1-22.4 9.6z" fill="" p-id="2316"></path></svg>',divided:!0}],showTabs:!0,activeTab:"/",tabs:[],menuTree:[],menuRouter:!0,menuMode:"horizontal",setting:{layout:"transverse",themeColor:"#c71585",headerBarColor:"#282c34",headerBarFontColor:"#FFFFFF",isHeaderBarColorGradual:!1,asidebarColor:"#282c34",asidebarFontColor:"#ffffff",isAsidebarColorGradual:!1,isDark:!1}};const rS=Vs("text-ellipsis"),pg=Ur(Z({name:"NextTextEllipsis",props:{content:{type:String,default:""},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},placement:{type:String,default:"top"},textAlign:{type:String,default:"left"},class:{type:String,default:""}},setup(t,{slots:e}){const n=B(!1),s=D(()=>{const o=t.width;let i={textAlign:t.textAlign};return o&&(typeof o=="string"?i.width=o:typeof o=="number"&&(i.width=o+"px")),i}),r=B(),a=()=>{try{const o=r.value;o&&o.scrollWidth&&o.scrollWidth>o.offsetWidth?n.value=!0:n.value=!1}catch{n.value=!1}};return()=>$(He,null,[$("div",{class:[rS.b(),t.class],style:s.value,onMouseenter:a},[n.value?$(ys,{effect:"dark",content:t.content,placement:t.placement,disabled:t.disabled},{default:()=>[$("span",{class:rS.e("text"),ref:r},[e.default?e.default():t.content])]}):$("span",{class:rS.e("text"),ref:r},[e.default?e.default():t.content])])])}}));var ub=Z({setup(){const t=Le("__ns__",{}),e=Le("options",{}),{t:n}=As();return()=>$(He,null,[$("div",{class:t.bf("header","logo")},[e.logo&&$("img",{class:t.be("header-logo","img"),src:e.logo,alt:"logo"},null),e.title&&$("p",{class:t.be("header-logo","title")},[$(pg,{content:n(e.title)},null)])])])}}),Qs=(t,e)=>{let n=t.__vccOpts||t;for(let[s,r]of e)n[s]=r;return n},Jqt={name:"ArrowDown"},eKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},tKt=[I("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1)],Dne=Qs(Jqt,[["render",function(t,e,n,s,r,a){return S(),A("svg",eKt,tKt)}],["__file","arrow-down.vue"]]),nKt={name:"ArrowLeft"},sKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},rKt=[I("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"},null,-1)],One=Qs(nKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",sKt,rKt)}],["__file","arrow-left.vue"]]),aKt={name:"ArrowRight"},oKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},iKt=[I("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"},null,-1)],Rne=Qs(aKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",oKt,iKt)}],["__file","arrow-right.vue"]]),lKt={name:"ArrowUp"},uKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},cKt=[I("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0z"},null,-1)],dKt=Qs(lKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",uKt,cKt)}],["__file","arrow-up.vue"]]),hKt={name:"Back"},fKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},pKt=[I("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64z"},null,-1),I("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312L237.248 512z"},null,-1)],mKt=Qs(hKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",fKt,pKt)}],["__file","back.vue"]]),gKt={name:"Camera"},vKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},yKt=[I("path",{fill:"currentColor",d:"M896 256H128v576h768V256zm-199.424-64-32.064-64h-304.96l-32 64h369.024zM96 192h160l46.336-92.608A64 64 0 0 1 359.552 64h304.96a64 64 0 0 1 57.216 35.328L768.192 192H928a32 32 0 0 1 32 32v640a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V224a32 32 0 0 1 32-32zm416 512a160 160 0 1 0 0-320 160 160 0 0 0 0 320zm0 64a224 224 0 1 1 0-448 224 224 0 0 1 0 448z"},null,-1)],bKt=Qs(gKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",vKt,yKt)}],["__file","camera.vue"]]),_Kt={name:"Close"},wKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},xKt=[I("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1)],H2=Qs(_Kt,[["render",function(t,e,n,s,r,a){return S(),A("svg",wKt,xKt)}],["__file","close.vue"]]),CKt={name:"DArrowLeft"},SKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},TKt=[I("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"},null,-1)],kKt=Qs(CKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",SKt,TKt)}],["__file","d-arrow-left.vue"]]),$Kt={name:"DArrowRight"},EKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},IKt=[I("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688zm-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"},null,-1)],NKt=Qs($Kt,[["render",function(t,e,n,s,r,a){return S(),A("svg",EKt,IKt)}],["__file","d-arrow-right.vue"]]),AKt={name:"Delete"},DKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},OKt=[I("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32zm192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32z"},null,-1)],cb=Qs(AKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",DKt,OKt)}],["__file","delete.vue"]]),RKt={name:"EditPen"},LKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},PKt=[I("path",{fill:"currentColor",d:"m199.04 672.64 193.984 112 224-387.968-193.92-112-224 388.032zm-23.872 60.16 32.896 148.288 144.896-45.696L175.168 732.8zM455.04 229.248l193.92 112 56.704-98.112-193.984-112-56.64 98.112zM104.32 708.8l384-665.024 304.768 175.936L409.152 884.8h.064l-248.448 78.336L104.32 708.8zm384 254.272v-64h448v64h-448z"},null,-1)],MKt=Qs(RKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",LKt,PKt)}],["__file","edit-pen.vue"]]),FKt={name:"FullScreen"},BKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},zKt=[I("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64v.064zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64l-192 .192zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64v-.064z"},null,-1)],VKt=Qs(FKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",BKt,zKt)}],["__file","full-screen.vue"]]),HKt={name:"InfoFilled"},UKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},WKt=[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1)],jKt=Qs(HKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",UKt,WKt)}],["__file","info-filled.vue"]]),GKt={name:"MoonNight"},qKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},KKt=[I("path",{fill:"currentColor",d:"M384 512a448 448 0 0 1 215.872-383.296A384 384 0 0 0 213.76 640h188.8A448.256 448.256 0 0 1 384 512zM171.136 704a448 448 0 0 1 636.992-575.296A384 384 0 0 0 499.328 704h-328.32z"},null,-1),I("path",{fill:"currentColor",d:"M32 640h960q32 0 32 32t-32 32H32q-32 0-32-32t32-32zm128 128h384a32 32 0 1 1 0 64H160a32 32 0 1 1 0-64zm160 127.68 224 .256a32 32 0 0 1 32 32V928a32 32 0 0 1-32 32l-224-.384a32 32 0 0 1-32-32v-.064a32 32 0 0 1 32-32z"},null,-1)],XKt=Qs(GKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",qKt,KKt)}],["__file","moon-night.vue"]]),YKt={name:"Picture"},QKt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},ZKt=[I("path",{fill:"currentColor",d:"M160 160v704h704V160H160zm-32-64h768a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H128a32 32 0 0 1-32-32V128a32 32 0 0 1 32-32z"},null,-1),I("path",{fill:"currentColor",d:"M384 288q64 0 64 64t-64 64q-64 0-64-64t64-64zM185.408 876.992l-50.816-38.912L350.72 556.032a96 96 0 0 1 134.592-17.856l1.856 1.472 122.88 99.136a32 32 0 0 0 44.992-4.864l216-269.888 49.92 39.936-215.808 269.824-.256.32a96 96 0 0 1-135.04 14.464l-122.88-99.072-.64-.512a32 32 0 0 0-44.8 5.952L185.408 876.992z"},null,-1)],JKt=Qs(YKt,[["render",function(t,e,n,s,r,a){return S(),A("svg",QKt,ZKt)}],["__file","picture.vue"]]),eXt={name:"Plus"},tXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},nXt=[I("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64h352z"},null,-1)],j1=Qs(eXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",tXt,nXt)}],["__file","plus.vue"]]),sXt={name:"Refresh"},rXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},aXt=[I("path",{fill:"currentColor",d:"M771.776 794.88A384 384 0 0 1 128 512h64a320 320 0 0 0 555.712 216.448H654.72a32 32 0 1 1 0-64h149.056a32 32 0 0 1 32 32v148.928a32 32 0 1 1-64 0v-50.56zM276.288 295.616h92.992a32 32 0 0 1 0 64H220.16a32 32 0 0 1-32-32V178.56a32 32 0 0 1 64 0v50.56A384 384 0 0 1 896.128 512h-64a320 320 0 0 0-555.776-216.384z"},null,-1)],oXt=Qs(sXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",rXt,aXt)}],["__file","refresh.vue"]]),iXt={name:"Right"},lXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},uXt=[I("path",{fill:"currentColor",d:"M754.752 480H160a32 32 0 1 0 0 64h594.752L521.344 777.344a32 32 0 0 0 45.312 45.312l288-288a32 32 0 0 0 0-45.312l-288-288a32 32 0 1 0-45.312 45.312L754.752 480z"},null,-1)],cXt=Qs(iXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",lXt,uXt)}],["__file","right.vue"]]),dXt={name:"Search"},hXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},fXt=[I("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1)],Lne=Qs(dXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",hXt,fXt)}],["__file","search.vue"]]),pXt={name:"Setting"},mXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},gXt=[I("path",{fill:"currentColor",d:"M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36-116.224-25.088-65.28 113.152 79.68 88.192-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136-79.808 88.192 65.344 113.152 116.224-25.024 22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152 24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296 116.288 25.024 65.28-113.152-79.744-88.192 1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136 79.808-88.128-65.344-113.152-116.288 24.96-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384 192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256 128 128 0 0 0 0-256z"},null,-1)],vXt=Qs(pXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",mXt,gXt)}],["__file","setting.vue"]]),yXt={name:"Sunny"},bXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},_Xt=[I("path",{fill:"currentColor",d:"M512 704a192 192 0 1 0 0-384 192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512 256 256 0 0 1 0 512zm0-704a32 32 0 0 1 32 32v64a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 768a32 32 0 0 1 32 32v64a32 32 0 1 1-64 0v-64a32 32 0 0 1 32-32zM195.2 195.2a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 1 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm543.104 543.104a32 32 0 0 1 45.248 0l45.248 45.248a32 32 0 0 1-45.248 45.248l-45.248-45.248a32 32 0 0 1 0-45.248zM64 512a32 32 0 0 1 32-32h64a32 32 0 0 1 0 64H96a32 32 0 0 1-32-32zm768 0a32 32 0 0 1 32-32h64a32 32 0 1 1 0 64h-64a32 32 0 0 1-32-32zM195.2 828.8a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248L240.448 828.8a32 32 0 0 1-45.248 0zm543.104-543.104a32 32 0 0 1 0-45.248l45.248-45.248a32 32 0 0 1 45.248 45.248l-45.248 45.248a32 32 0 0 1-45.248 0z"},null,-1)],wXt=Qs(yXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",bXt,_Xt)}],["__file","sunny.vue"]]),xXt={name:"Tools"},CXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},SXt=[I("path",{fill:"currentColor",d:"M764.416 254.72a351.68 351.68 0 0 1 86.336 149.184H960v192.064H850.752a351.68 351.68 0 0 1-86.336 149.312l54.72 94.72-166.272 96-54.592-94.72a352.64 352.64 0 0 1-172.48 0L371.136 936l-166.272-96 54.72-94.72a351.68 351.68 0 0 1-86.336-149.312H64v-192h109.248a351.68 351.68 0 0 1 86.336-149.312L204.8 160l166.208-96h.192l54.656 94.592a352.64 352.64 0 0 1 172.48 0L652.8 64h.128L819.2 160l-54.72 94.72zM704 499.968a192 192 0 1 0-384 0 192 192 0 0 0 384 0z"},null,-1)],TXt=Qs(xXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",CXt,SXt)}],["__file","tools.vue"]]),kXt={name:"View"},$Xt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},EXt=[I("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1)],IXt=Qs(kXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",$Xt,EXt)}],["__file","view.vue"]]),NXt={name:"Warning"},AXt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},DXt=[I("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 832a384 384 0 0 0 0-768 384 384 0 0 0 0 768zm48-176a48 48 0 1 1-96 0 48 48 0 0 1 96 0zm-48-464a32 32 0 0 1 32 32v288a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32z"},null,-1)],Pne=Qs(NXt,[["render",function(t,e,n,s,r,a){return S(),A("svg",AXt,DXt)}],["__file","warning.vue"]]),OXt=Z({setup(){},render(){const t=Le("__slots__",{}),e=Le("__ns__",{}),n=Le("options",{}),s=Le("updateOptions",null),r=an({...n.setting}),a=()=>{const c={...n,setting:{...r}};s(c)},o=c=>{if(!c)return gi({type:"warning",message:""}),!1;r.themeColor=c,v8("--el-color-primary",c),a()},i=()=>{const c=document.documentElement;r.isDark?c.setAttribute("data-theme","dark"):c.setAttribute("data-theme",""),a()},l=(c,d,h)=>{r[d]=c,V2(h,c),a()},u=[{type:"defaults",text:""},{type:"classic",text:""},{type:"transverse",text:""},{type:"columns",text:""},{type:"composite",text:""}];return $(vr,null,{default:()=>{var c;return[$(d3,{"border-style":"dashed"},{default:()=>[ct("")]}),$("div",{class:e.b("config-bar-item")},[$("span",{class:e.be("config-bar-item","label")},[ct("")]),$("div",{class:e.be("config-bar-item","value")},[$(A_,{modelValue:r.themeColor,"onUpdate:modelValue":d=>r.themeColor=d,predefine:["#409eff","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#FB07A0"],onChange:o},null)])]),$("div",{class:e.b("config-bar-item")},[$("span",{class:e.be("config-bar-item","label")},[ct("")]),$("div",{class:e.be("config-bar-item","value")},[$(dT,{modelValue:r.isDark,"onUpdate:modelValue":d=>r.isDark=d,"inline-prompt":!0,size:"large","active-icon":XKt,"inactive-icon":wXt,"active-color":"#1f1f1f","inactive-color":"#dcdfe6",onChange:i},null)])]),$("div",{class:e.b("config-bar-item")},[$("span",{class:e.be("config-bar-item","label")},[ct("")]),$("div",{class:e.be("config-bar-item","value")},[$(A_,{modelValue:r.headerBarColor,"onUpdate:modelValue":d=>r.headerBarColor=d,predefine:["#282c34","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#FB07A0"],onChange:d=>l(d,"headerBarColor","--next-layout-bg-color")},null)])]),$("div",{class:e.b("config-bar-item")},[$("span",{class:e.be("config-bar-item","label")},[ct("")]),$("div",{class:e.be("config-bar-item","value")},[$(A_,{modelValue:r.headerBarFontColor,"onUpdate:modelValue":d=>r.headerBarFontColor=d,predefine:["#282c34","#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","#FB07A0"],onChange:d=>l(d,"headerBarFontColor","--next-layout-font-color")},null)])]),$("div",{class:e.b("config-bar-item")},[$("span",{class:e.be("config-bar-item","label")},[ct("")]),$("div",{class:e.be("config-bar-item","value")},[$(ht("el-switch"),{modelValue:r.isHeaderBarColorGradual,"onUpdate:modelValue":d=>r.isHeaderBarColorGradual=d,onChange:a},null)])]),$(d3,{"border-style":"dashed"},{default:()=>[ct("")]}),$("ul",{class:e.b("config-bar-layout")},[u.map(d=>$("li",{class:[e.be("config-bar-layout",d.type),e.is("active",r.layout===d.type)],onClick:h=>((f,p)=>{f.stopPropagation(),r.layout=p.type,a()})(h,d)},[$("div",{class:"layout-wrap"},[$("div",{class:"layout-box"},[$("p",{class:"layout-text"},[d.text])])]),$("aside",null,null)]))]),$("div",{class:e.b("config-bar-item"),style:{"margin-top":"20px"}},[$("span",{class:e.be("config-bar-item","label")},[ct("")]),$("div",{class:e.be("config-bar-item","value")},[$(dT,{modelValue:n.showTabs,"onUpdate:modelValue":d=>n.showTabs=d},null)])]),(c=t.setting)==null?void 0:c.call(t,{config:r})]}})}}),db=Z({setup(){const t=Le(g8,B()),e=Le("options",{}),{t:n}=As(),{toggle:s,isFullscreen:r}=EE(),a=B(D(()=>e.language).value),o=B(!1);return{locale:t,config:e,t:n,toggle:s,isFullscreen:r,language:a,settingDrawer:o}},render(){var c,d;const t=Le("__ns__",{}),e=this.config,n=Le("__emit__",{}),s=this.$slots,r=this.t,a=this.isFullscreen,o=e.profile,i=e.userDropdown,l=e.languageDropdown,u=()=>{this.settingDrawer=!1};return $(He,null,[$("ul",{class:t.b("header-tools")},[(c=s[ss])==null?void 0:c.call(s),$("li",null,[$(h3,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:h=>{this.language=h,n("changeLanguage",h),e.onChangeLanguage&&e.onChangeLanguage(h)}},{default:()=>$("div",null,[$(Je,{size:16},{default:()=>[$("svg",{class:"icon",viewBox:"0 0 1070 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1855",width:"128",height:"128"},[$("path",{d:"M232.58156522 358.13286957C244.86956522 394.4626087 265.17147826 425.984 293.48730435 453.76556522c24.04173913-26.17878261 42.2066087-58.23443478 53.96034782-95.63269565H232.58156522z","p-id":"1856"},null),$("path",{d:"M981.61530435 143.36h-448.77913044L507.19165217 6.05495652h-416.72347826c-45.94643478 0-83.34469565 37.39826087-83.34469565 83.34469565v708.42991305c0 45.94643478 37.39826087 83.34469565 83.34469565 83.34469565h379.85947826l-30.45286956 137.30504348h541.74052174c45.94643478 0 83.34469565-37.39826087 83.34469565-83.34469565V226.70469565c0-45.94643478-37.39826087-83.34469565-83.34469565-83.34469565zM415.83304348 564.35756522c-49.152-18.16486957-89.75582609-41.13808696-122.34573913-67.85113044-34.19269565 30.45286957-76.93356522 52.89182609-126.61982609 66.7826087l-17.09634783-28.31582609c48.61773913-12.82226087 89.22156522-32.05565217 121.2772174-59.30295652-33.12417391-33.65843478-56.0973913-72.65947826-68.91965218-117.00313044h-46.48069565v-32.05565217H276.92521739c-7.47965217-13.89078261-17.09634783-27.24730435-28.31582609-40.06956522l32.05565218-11.75373913c11.21947826 14.42504348 21.37043478 31.5213913 30.45286956 51.28904348h115.9346087v32.05565218h-46.48069565c-14.95930435 45.94643478-36.32973913 84.41321739-64.64556522 115.40034782 31.5213913 25.11026087 71.05669565 45.94643478 117.5373913 63.04278261l-17.63060869 27.78156522z m607.45460869 370.24278261c0 22.97321739-18.69913043 41.67234783-41.67234782 41.67234782H492.23234783l20.83617391-95.63269565h156.53843478l-89.22156522-497.39686957-0.53426087 2.67130435-3.73982608-19.76765217 1.06852174 0.53426087-32.58991305-181.64869565H982.14956522c22.97321739 0 41.67234783 18.69913043 41.67234782 41.67234782v707.89565218z","p-id":"1857"},null),$("path",{d:"M684.56626087 541.38434783h114.86608696v-30.45286957h-114.86608696V450.02573913h122.34573913v-30.45286956h-158.14121739v219.04695652h162.94956522V608.16695652h-127.15408696v-66.78260869z m239.88313043-65.71408696c-9.61669565 0-18.16486957 1.60278261-26.1787826 5.87686956-7.47965217 3.73982609-14.95930435 9.61669565-20.83617392 17.09634783V479.94434783h-34.72695652v158.67547826h34.72695652v-95.63269566c1.06852174-12.82226087 5.3426087-22.43895652 12.82226087-29.38434782 6.41113043-5.87686957 13.89078261-9.08243478 22.43895652-9.08243478 24.04173913 0 35.79547826 12.82226087 35.79547826 39.00104347v94.56417392h34.72695653v-97.76973913c1.06852174-43.27513043-19.2333913-64.64556522-58.76869566-64.64556522z","p-id":"1858"},null)])]})]),dropdown:()=>{let h;return $(f3,null,typeof(f=h=l.map(p=>$(ih,{command:p.value,disabled:this.language===p.value},{default:()=>[p.label]})))=="function"||Object.prototype.toString.call(f)==="[object Object]"&&!An(f)?h:{default:()=>[h]});var f}})]),$("li",null,[$("span",{style:{display:"inline-block",lineHeight:1},onClick:this.toggle},[$(Je,{size:16},{default:()=>[a?$("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2676",width:"128",height:"128"},[$("path",{d:"M749.248 704H864a32 32 0 1 0 0-64H672a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L749.248 704zM320 749.248V864a32 32 0 1 0 64 0V672a32 32 0 0 0-32-32H160a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L320 749.248zM749.248 320H864a32 32 0 1 1 0 64H672a32 32 0 0 1-32-32V160a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L749.248 320zM320 274.752V160a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H160a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L320 274.752z","p-id":"2677"},null)]):$("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2522",width:"128",height:"128"},[$("path",{d:"M237.248 192H352a32 32 0 1 0 0-64H160a32 32 0 0 0-32 32v192a32 32 0 1 0 64 0v-114.752l137.36 137.36a32 32 0 1 0 45.232-45.264L237.248 192zM832 237.248V352a32 32 0 1 0 64 0V160a32 32 0 0 0-32-32H672a32 32 0 1 0 0 64h114.752l-137.36 137.36a32 32 0 1 0 45.264 45.232L832 237.248zM237.248 832H352a32 32 0 1 1 0 64H160a32 32 0 0 1-32-32V672a32 32 0 1 1 64 0v114.752l137.36-137.36a32 32 0 1 1 45.232 45.264L237.248 832zM832 786.752V672a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32H672a32 32 0 1 1 0-64h114.752l-137.36-137.36a32 32 0 1 1 45.264-45.232L832 786.752z","p-id":"2523"},null)])]})])]),(d=s[rs])==null?void 0:d.call(s),$("li",null,[$(h3,{"show-timeout":70,"hide-timeout":80,"popper-class":t.be("header-tools","userDropdown"),onCommand:h=>{n("changeUserDropdown",h),e.onChangeUserDropdown&&e.onChangeUserDropdown(h)}},{default:()=>$("span",{class:t.be("header-tools","user")},[o?$("img",{class:"user-photo",src:o},null):null,$("span",null,[e.userName]),$(Je,{class:"el-icon--right"},{default:()=>[$(Dne,null,null)]})]),dropdown:()=>$(f3,null,{default:()=>[i==null?void 0:i.map(h=>$(ih,{command:h.value,divided:!!h.divided},{default:()=>[h.svg?$("span",{innerHTML:h.svg,class:"item-svg"},null):null,h.iconfont?$("i",{class:h.iconfont},null):null,r(h.label)]}))]})})]),$("li",null,[$("span",{style:{display:"inline-block",lineHeight:1},onClick:()=>{this.settingDrawer=!0}},[$(Je,{size:16},{default:()=>[$(vXt,null,null)]})])])]),$(M4,{to:"body"},{default:()=>[$(j5,{modelValue:this.settingDrawer,"onUpdate:modelValue":h=>this.settingDrawer=h,title:this.t("next.layout.systemSetting"),direction:"rtl",size:"380px",class:t.be("drawer","setting"),"destroy-on-close":!0,beforeClose:u},{default:()=>[$(OXt,null,null)]})]})])}});const{getLightColor:RXt}=Ti();var LXt=Z({setup:()=>({ns:Le("ns",{})}),render(){const t=this.$slots,e=this.ns,n=Le("options",{}),s=D(()=>{const{isHeaderBarColorGradual:o,headerBarColor:i}=n.setting;return o?{background:`linear-gradient(to bottom , ${i}, ${RXt(i,.5)})`}:""}),r={};return t[ss]&&(r[ss]=()=>t[ss]()),t[rs]&&(r[rs]=()=>t[rs]()),$("header",{class:e.b("header"),style:s.value},[$(ub,null,null),$("div",{class:e.bf("header","right")},[$(db,null,(a=r,typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!An(a)?r:{default:()=>[r]}))])]);var a}});function PXt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mne={exports:{}};(Mne.exports={}).forEach=function(t,e){for(var n=0;n<t.length;n++){var s=e(t[n]);if(s)return s}};var Fne=Mne.exports,Bne={exports:{}},BB=Bne.exports={};BB.isIE=function(t){return((e=navigator.userAgent.toLowerCase()).indexOf("msie")!==-1||e.indexOf("trident")!==-1||e.indexOf(" edge/")!==-1)&&(!t||t===function(){var n=3,s=document.createElement("div"),r=s.getElementsByTagName("i");do s.innerHTML="<!--[if gt IE "+ ++n+"]><i></i><![endif]-->";while(r[0]);return n>4?n:void 0}());var e},BB.isLegacyOpera=function(){return!!window.opera};var zne=Bne.exports,Vne={exports:{}};(Vne.exports={}).getOption=function(t,e,n){var s=t[e];return s==null&&n!==void 0?n:s};var zB=Vne.exports;function VB(){var t={},e=0,n=0,s=0;return{add:function(r,a){a||(a=r,r=0),r>n?n=r:r<s&&(s=r),t[r]||(t[r]=[]),t[r].push(a),e++},process:function(){for(var r=s;r<=n;r++)for(var a=t[r],o=0;o<a.length;o++)(0,a[o])()},size:function(){return e}}}var f$="_erd";function HB(t){return t[f$]}var MXt={initState:function(t){return t[f$]={},HB(t)},getState:HB,cleanState:function(t){delete t[f$]}},Zg=zne,FXt=Fne.forEach,x2=Fne.forEach,BXt=function(t){var e=t.stateHandler.getState;return{isDetectable:function(n){var s=e(n);return s&&!!s.isDetectable},markAsDetectable:function(n){e(n).isDetectable=!0},isBusy:function(n){return!!e(n).busy},markBusy:function(n,s){e(n).busy=!!s}}},zXt=function(t){var e={};function n(s){var r=t.get(s);return r===void 0?[]:e[r]||[]}return{get:n,add:function(s,r){var a=t.get(s);e[a]||(e[a]=[]),e[a].push(r)},removeListener:function(s,r){for(var a=n(s),o=0,i=a.length;o<i;++o)if(a[o]===r){a.splice(o,1);break}},removeAllListeners:function(s){var r=n(s);r&&(r.length=0)}}},VXt=function(){var t=1;return{generate:function(){return t++}}},HXt=function(t){var e=t.idGenerator,n=t.stateHandler.getState;return{get:function(s){var r=n(s);return r&&r.id!==void 0?r.id:null},set:function(s){var r=n(s);if(!r)throw new Error("setId required the element to have a resize detection state.");var a=e.generate();return r.id=a,a}}},UXt=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var s=function(r,a){r[a]=function(){var o=console[a];if(o.apply)o.apply(console,arguments);else for(var i=0;i<arguments.length;i++)o(arguments[i])}};s(n,"log"),s(n,"warn"),s(n,"error")}return n},UB=zne,WXt=function(t){var e=(t=t||{}).reporter,n=zB.getOption(t,"async",!0),s=zB.getOption(t,"auto",!0);s&&!n&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var r,a=VB(),o=!1;function i(){for(o=!0;a.size();){var u=a;a=VB(),u.process()}o=!1}function l(){var u;u=i,r=setTimeout(u,0)}return{add:function(u,c){!o&&s&&n&&a.size()===0&&l(),a.add(u,c)},force:function(u){o||(u===void 0&&(u=n),r&&(clearTimeout(r),r=null),u?l():i())}}},wc=MXt,jXt=function(t){var e=(t=t||{}).reporter,n=t.batchProcessor,s=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function r(o){var i=t.important?" !important; ":"; ";return(o.join(i)+i).trim()}function a(o){return s(o).object}return{makeDetectable:function(o,i,l){l||(l=i,i=o,o=null),(o=o||{}).debug,Zg.isIE(8)?l(i):function(u,c){var d=r(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),h=!1,f=window.getComputedStyle(u),p=u.offsetWidth,m=u.offsetHeight;function y(){function v(){if(f.position==="static"){u.style.setProperty("position","relative",o.important?"important":"");var w=function(_,C,x,T){var k=x[T];k!=="auto"&&function(N){return N.replace(/[^-\d\.]/g,"")}(k)!=="0"&&(_.warn("An element that is positioned static has style."+T+"="+k+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+T+" will be set to 0. Element: ",C),C.style.setProperty(T,"0",o.important?"important":""))};w(e,u,f,"top"),w(e,u,f,"right"),w(e,u,f,"bottom"),w(e,u,f,"left")}}f.position!==""&&(v(),h=!0);var b=document.createElement("object");b.style.cssText=d,b.tabIndex=-1,b.type="text/html",b.setAttribute("aria-hidden","true"),b.onload=function(){h||v(),function w(_,C){if(!_.contentDocument){var x=s(_);return x.checkForObjectDocumentTimeoutId&&window.clearTimeout(x.checkForObjectDocumentTimeoutId),void(x.checkForObjectDocumentTimeoutId=setTimeout(function(){x.checkForObjectDocumentTimeoutId=0,w(_,C)},100))}C(_.contentDocument)}(this,function(w){c(u)})},Zg.isIE()||(b.data="about:blank"),s(u)&&(u.appendChild(b),s(u).object=b,Zg.isIE()&&(b.data="about:blank"))}s(u).startSize={width:p,height:m},n?n.add(y):y()}(i,l)},addListener:function(o,i){function l(){i(o)}if(Zg.isIE(8))s(o).object={proxy:l},o.attachEvent("onresize",l);else{var u=a(o);if(!u)throw new Error("Element is not detectable by this strategy.");u.contentDocument.defaultView.addEventListener("resize",l)}},uninstall:function(o){if(s(o)){var i=a(o);i&&(Zg.isIE(8)?o.detachEvent("onresize",i.proxy):o.removeChild(i),s(o).checkForObjectDocumentTimeoutId&&window.clearTimeout(s(o).checkForObjectDocumentTimeoutId),delete s(o).object)}}}},GXt=function(t){var e=(t=t||{}).reporter,n=t.batchProcessor,s=t.stateHandler.getState;t.stateHandler.hasState;var r=t.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var a=function(){var f=document.createElement("div");f.style.cssText=l(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var p=document.createElement("div");p.style.cssText=l(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),p.appendChild(f),document.body.insertBefore(p,document.body.firstChild);var m=500-p.clientWidth,y=500-p.clientHeight;return document.body.removeChild(p),{width:m,height:y}}(),o="erd_scroll_detection_container";function i(f){(function(p,m,y){function v(C,x){x=x||function(k){p.head.appendChild(k)};var T=p.createElement("style");return T.innerHTML=C,T.id=m,x(T),T}if(!p.getElementById(m)){var b=y+"_animation",w=y+"_animation_active",_=`/* Created by the element-resize-detector library. */
`;_+="."+y+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,_+="."+w+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+b,"animation-name: "+b])+` }
`,_+="@-webkit-keyframes "+b+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,v(_+="@keyframes "+b+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}})(f,"erd_scroll_detection_scrollbar_style",o)}function l(f){var p=t.important?" !important; ":"; ";return(f.join(p)+p).trim()}function u(f,p,m){if(f.addEventListener)f.addEventListener(p,m);else{if(!f.attachEvent)return e.error("[scroll] Don't know how to add event listeners.");f.attachEvent("on"+p,m)}}function c(f,p,m){if(f.removeEventListener)f.removeEventListener(p,m);else{if(!f.detachEvent)return e.error("[scroll] Don't know how to remove event listeners.");f.detachEvent("on"+p,m)}}function d(f){return s(f).container.childNodes[0].childNodes[0].childNodes[0]}function h(f){return s(f).container.childNodes[0].childNodes[0].childNodes[1]}return i(window.document),{makeDetectable:function(f,p,m){function y(){if(f.debug){var R=Array.prototype.slice.call(arguments);if(R.unshift(r.get(p),"Scroll: "),e.log.apply)e.log.apply(null,R);else for(var W=0;W<R.length;W++)e.log(R[W])}}function v(R){var W=s(R).container.childNodes[0],G=window.getComputedStyle(W);return!G.width||G.width.indexOf("px")===-1}function b(){var R=window.getComputedStyle(p),W={};return W.position=R.position,W.width=p.offsetWidth,W.height=p.offsetHeight,W.top=R.top,W.right=R.right,W.bottom=R.bottom,W.left=R.left,W.widthCSS=R.width,W.heightCSS=R.height,W}function w(){if(y("storeStyle invoked."),s(p)){var R=b();s(p).style=R}else y("Aborting because element has been uninstalled")}function _(R,W,G){s(R).lastWidth=W,s(R).lastHeight=G}function C(){return 2*a.width+1}function x(){return 2*a.height+1}function T(R){return R+10+C()}function k(R){return R+10+x()}function N(R,W,G){var P=d(R),j=h(R),J=T(W),ne=k(G),te=function(me){return 2*me+C()}(W),de=function(me){return 2*me+x()}(G);P.scrollLeft=J,P.scrollTop=ne,j.scrollLeft=te,j.scrollTop=de}function O(){var R=s(p).container;if(!R){(R=document.createElement("div")).className=o,R.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),s(p).container=R,function(G){G.className+=" "+o+"_animation_active"}(R),p.appendChild(R);var W=function(){s(p).onRendered&&s(p).onRendered()};u(R,"animationstart",W),s(p).onAnimationStart=W}return R}function L(){if(y("Injecting elements"),s(p)){(function(){var Pe=s(p).style;if(Pe.position==="static"){p.style.setProperty("position","relative",f.important?"important":"");var je=function(dt,Qe,wt,vt){var Ge=wt[vt];Ge!=="auto"&&function(fe){return fe.replace(/[^-\d\.]/g,"")}(Ge)!=="0"&&(dt.warn("An element that is positioned static has style."+vt+"="+Ge+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+vt+" will be set to 0. Element: ",Qe),Qe.style[vt]=0)};je(e,p,Pe,"top"),je(e,p,Pe,"right"),je(e,p,Pe,"bottom"),je(e,p,Pe,"left")}})();var R=s(p).container;R||(R=O());var W,G,P,j,J=a.width,ne=a.height,te=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(W=(W=-(1+J))?W+"px":"0"),"top: "+(G=(G=-(1+ne))?G+"px":"0"),"right: "+(j=(j=-J)?j+"px":"0"),"bottom: "+(P=(P=-ne)?P+"px":"0")])),me=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),_e=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ee=l(["position: absolute","left: 0","top: 0"]),he=l(["position: absolute","width: 200%","height: 200%"]),le=document.createElement("div"),ue=document.createElement("div"),re=document.createElement("div"),we=document.createElement("div"),Ae=document.createElement("div"),Ue=document.createElement("div");le.dir="ltr",le.style.cssText=te,le.className=o,ue.className=o,ue.style.cssText=de,re.style.cssText=me,we.style.cssText=ee,Ae.style.cssText=_e,Ue.style.cssText=he,re.appendChild(we),Ae.appendChild(Ue),ue.appendChild(re),ue.appendChild(Ae),le.appendChild(ue),R.appendChild(le),u(re,"scroll",at),u(Ae,"scroll",ot),s(p).onExpandScroll=at,s(p).onShrinkScroll=ot}else y("Aborting because element has been uninstalled");function at(){var Pe=s(p);Pe&&Pe.onExpand?Pe.onExpand():y("Aborting expand scroll handler: element has been uninstalled")}function ot(){var Pe=s(p);Pe&&Pe.onShrink?Pe.onShrink():y("Aborting shrink scroll handler: element has been uninstalled")}}function V(){function R(ne,te,de){var me=function(he){return d(he).childNodes[0]}(ne),_e=T(te),ee=k(de);me.style.setProperty("width",_e+"px",f.important?"important":""),me.style.setProperty("height",ee+"px",f.important?"important":"")}function W(ne){var te=p.offsetWidth,de=p.offsetHeight,me=te!==s(p).lastWidth||de!==s(p).lastHeight;y("Storing current size",te,de),_(p,te,de),n.add(0,function(){if(me)if(s(p))if(G()){if(f.debug){var _e=p.offsetWidth,ee=p.offsetHeight;_e===te&&ee===de||e.warn(r.get(p),"Scroll: Size changed before updating detector elements.")}R(p,te,de)}else y("Aborting because element container has not been initialized");else y("Aborting because element has been uninstalled")}),n.add(1,function(){s(p)?G()?N(p,te,de):y("Aborting because element container has not been initialized"):y("Aborting because element has been uninstalled")}),me&&ne&&n.add(2,function(){s(p)?G()?ne():y("Aborting because element container has not been initialized"):y("Aborting because element has been uninstalled")})}function G(){return!!s(p).container}function P(){y("notifyListenersIfNeeded invoked");var ne=s(p);return s(p).lastNotifiedWidth===void 0&&ne.lastWidth===ne.startSize.width&&ne.lastHeight===ne.startSize.height?y("Not notifying: Size is the same as the start size, and there has been no notification yet."):ne.lastWidth===ne.lastNotifiedWidth&&ne.lastHeight===ne.lastNotifiedHeight?y("Not notifying: Size already notified"):(y("Current size not notified, notifying..."),ne.lastNotifiedWidth=ne.lastWidth,ne.lastNotifiedHeight=ne.lastHeight,void FXt(s(p).listeners,function(te){te(p)}))}function j(){y("Scroll detected."),v(p)?y("Scroll event fired while unrendered. Ignoring..."):W(P)}if(y("registerListenersAndPositionElements invoked."),s(p)){s(p).onRendered=function(){if(y("startanimation triggered."),v(p))y("Ignoring since element is still unrendered...");else{y("Element rendered.");var ne=d(p),te=h(p);ne.scrollLeft!==0&&ne.scrollTop!==0&&te.scrollLeft!==0&&te.scrollTop!==0||(y("Scrollbars out of sync. Updating detector elements..."),W(P))}},s(p).onExpand=j,s(p).onShrink=j;var J=s(p).style;R(p,J.width,J.height)}else y("Aborting because element has been uninstalled")}function H(){if(y("finalizeDomMutation invoked."),s(p)){var R=s(p).style;_(p,R.width,R.height),N(p,R.width,R.height)}else y("Aborting because element has been uninstalled")}function K(){m(p)}function U(){var R;y("Installing..."),s(p).listeners=[],R=b(),s(p).startSize={width:R.width,height:R.height},y("Element start size",s(p).startSize),n.add(0,w),n.add(1,L),n.add(2,V),n.add(3,H),n.add(4,K)}m||(m=p,p=f,f=null),f=f||{},y("Making detectable..."),function(R){return!function(W){var G=W.getRootNode&&W.getRootNode().contains(W);return W===W.ownerDocument.body||W.ownerDocument.body.contains(W)||G}(R)||window.getComputedStyle(R)===null}(p)?(y("Element is detached"),O(),y("Waiting until element is attached..."),s(p).onRendered=function(){y("Element is now attached"),U()}):U()},addListener:function(f,p){if(!s(f).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");s(f).listeners.push(p)},uninstall:function(f){var p=s(f);p&&(p.onExpandScroll&&c(d(f),"scroll",p.onExpandScroll),p.onShrinkScroll&&c(h(f),"scroll",p.onShrinkScroll),p.onAnimationStart&&c(p.container,"animationstart",p.onAnimationStart),p.container&&f.removeChild(p.container))},initDocument:i}};function WB(t){return Array.isArray(t)||t.length!==void 0}function jB(t){if(Array.isArray(t))return t;var e=[];return x2(t,function(n){e.push(n)}),e}function GB(t){return t&&t.nodeType===1}var qXt=function(t){var e;if((t=t||{}).idHandler)e={get:function(p){return t.idHandler.get(p,!0)},set:t.idHandler.set};else{var n=VXt(),s=HXt({idGenerator:n,stateHandler:wc});e=s}var r=t.reporter;r||(r=UXt(r===!1));var a=xc(t,"batchProcessor",WXt({reporter:r})),o={};o.callOnAdd=!!xc(t,"callOnAdd",!0),o.debug=!!xc(t,"debug",!1);var i,l=zXt(e),u=BXt({stateHandler:wc}),c=xc(t,"strategy","object"),d=xc(t,"important",!1),h={reporter:r,batchProcessor:a,stateHandler:wc,idHandler:e,important:d};if(c==="scroll"&&(UB.isLegacyOpera()?(r.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),c="object"):UB.isIE(9)&&(r.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),c="object")),c==="scroll")i=GXt(h);else{if(c!=="object")throw new Error("Invalid strategy name: "+c);i=jXt(h)}var f={};return{listenTo:function(p,m,y){function v(T){var k=l.get(T);x2(k,function(N){N(T)})}function b(T,k,N){l.add(k,N),T&&N(k)}if(y||(y=m,m=p,p={}),!m)throw new Error("At least one element required.");if(!y)throw new Error("Listener required.");if(GB(m))m=[m];else{if(!WB(m))return r.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");m=jB(m)}var w=0,_=xc(p,"callOnAdd",o.callOnAdd),C=xc(p,"onReady",function(){}),x=xc(p,"debug",o.debug);x2(m,function(T){wc.getState(T)||(wc.initState(T),e.set(T));var k=e.get(T);if(x&&r.log("Attaching listener to element",k,T),!u.isDetectable(T))return x&&r.log(k,"Not detectable."),u.isBusy(T)?(x&&r.log(k,"System busy making it detectable"),b(_,T,y),f[k]=f[k]||[],void f[k].push(function(){++w===m.length&&C()})):(x&&r.log(k,"Making detectable..."),u.markBusy(T,!0),i.makeDetectable({debug:x,important:d},T,function(N){if(x&&r.log(k,"onElementDetectable"),wc.getState(N)){u.markAsDetectable(N),u.markBusy(N,!1),i.addListener(N,v),b(_,N,y);var O=wc.getState(N);if(O&&O.startSize){var L=N.offsetWidth,V=N.offsetHeight;O.startSize.width===L&&O.startSize.height===V||v(N)}f[k]&&x2(f[k],function(H){H()})}else x&&r.log(k,"Element uninstalled before being detectable.");delete f[k],++w===m.length&&C()}));x&&r.log(k,"Already detecable, adding listener."),b(_,T,y),w++}),w===m.length&&C()},removeListener:l.removeListener,removeAllListeners:l.removeAllListeners,uninstall:function(p){if(!p)return r.error("At least one element is required.");if(GB(p))p=[p];else{if(!WB(p))return r.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");p=jB(p)}x2(p,function(m){l.removeAllListeners(m),i.uninstall(m),wc.cleanState(m)})},initDocument:function(p){i.initDocument&&i.initDocument(p)}}};function xc(t,e,n){var s=t[e];return s==null&&n!==void 0?n:s}var KXt=PXt(qXt);const mg=(t,e)=>{const n=KXt();let s=null;n.listenTo(t,()=>{s!==null&&clearTimeout(s),s=setTimeout(()=>{e&&e(t),clearTimeout(s)},200)}),ma(()=>{n.removeListener(t,()=>{})})},nr=t=>{if(t==null)return t;let e;if(typeof t=="object"){e=Array.isArray(t)?[]:{};for(let n in t)typeof t[n]=="object"?e[n]=nr(t[n]):e[n]=t[n]}else e=t;return e},O4=(t,e)=>{const n=[],s=new Map;for(const r of t){const a=r[e];s.has(a)||(s.set(a,!0),n.push(r))}return n},Ya=t=>t!=null&&(typeof t=="string"?t.trim()!=="":t!==!1),Ye=(...t)=>{let e=null;for(let n=0;n<t.length;n++){const s=t[n];if(s!=null){e=s;break}}return e},qB=(t,e,n)=>(Object.defineProperty(t,n,{get:()=>e[n]}),{target:t,source:e});var G1=Z({props:{meta:{type:Object,default:()=>({})}},setup(t){const e=Le("ns",{}),{t:n}=As(),s=t.meta;return()=>$(He,null,[$("span",{class:e.be("item","icon")},[s.icon?$("i",{class:s.icon},null):$("svg",{class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19771",width:"32",height:"32"},[$("path",{d:"M512 958.8C265.6 958.8 65.2 758.4 65.2 512S265.6 65.2 512 65.2 958.8 265.6 958.8 512 758.4 958.8 512 958.8z m0-832c-212.4 0-385.2 172.8-385.2 385.2S299.6 897.2 512 897.2 897.2 724.4 897.2 512 724.4 126.8 512 126.8z","p-id":"19772"},null),$("path",{d:"M512 512m-169.5 0a169.5 169.5 0 1 0 339 0 169.5 169.5 0 1 0-339 0Z","p-id":"19773"},null)])]),$("span",{class:e.be("item","title")},[n(s.title)])])}});const Hne=Z({name:"NextMenuItem",props:{menuData:{type:Array,required:!0}},setup(t){const e=Le("ns",{}),n=D(()=>t.menuData).value;return()=>$(He,null,[$(He,null,[n.map(s=>{var r,a,o;return(r=s.children)!=null&&r.length?Ye((a=s.meta)==null?void 0:a.isHide,!1)?null:$(Q5,{"popper-class":e.b("popper"),index:s.path||s.id,teleported:!0},{title:()=>$(G1,{meta:s.meta},null),default:()=>$(Hne,{menuData:s.children},null)}):Ye((o=s.meta)==null?void 0:o.isHide,!1)?null:$(gw,{index:s.path},{default:()=>[$(G1,{meta:s.meta},null)]})})])])}}),Jg=Vs("menu"),Of=Ur(Z({name:"NextMenu",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},router:{type:Boolean,default:!0},mode:{type:String,values:["horizontal","vertical"],default:"horizontal"},menuTree:{type:Array,default:()=>[]}},setup(t){var r;At("ns",Jg);const e=Ht().appContext.config.globalProperties.$router,n=(r=e.currentRoute)==null?void 0:r.value.fullPath,s=B(n);return Ee(()=>{var a;return(a=e.currentRoute)==null?void 0:a.value},a=>{s.value=a.fullPath}),()=>$(He,null,[$(Y5,{class:[Jg.b(),t.className],style:t.style,"popper-class":Jg.b("popper"),defaultActive:s.value,router:t.router,mode:t.mode,ellipsis:!0},{default:()=>[$(He,null,[t.menuTree.map(a=>{var o,i,l;return(o=a.children)!=null&&o.length?Ye((i=a.meta)==null?void 0:i.isHide,!1)?null:$(Q5,{"popper-class":Jg.b("popper"),index:a.path||a.id,teleported:!0},{title:()=>$(G1,{meta:a.meta},null),default:()=>$(Hne,{menuData:a.children},null)}):Ye((l=a.meta)==null?void 0:l.isHide,!1)?null:$(gw,{"popper-class":Jg.b("popper"),index:a.path},{default:()=>[$(G1,{meta:a.meta},null)]})})])]})])}}));var XXt=Z({setup:()=>({ns:Le("ns",{})}),render(){const t=this.$slots,e=this.ns,n=Le("options",{});return $("aside",{class:e.b("sidebar")},[$(vr,null,{default:()=>[t[Mr]?t[Mr]():$(Of,{mode:"vertical",menuTree:n.menuTree},null)]})])}});const e2=Vs("layout-defaults");var YXt=Z({props:{},setup:()=>(At("ns",e2),{}),render(){const t=this.$slots,e=Le("options",{}),n=Le("__emit__",{});t.menu;const s={};t[ss]&&(s[ss]=()=>t[ss]()),t[rs]&&(s[rs]=()=>t[rs]());const r=B(!!t.tabs);return t.tabs===void 0&&e.showTabs&&(r.value=!0),$(M5,{class:e2.b()},{default:()=>{var o,i;return[$(XXt,null,null),$("div",{class:[e2.b("content")]},[$(LXt,null,(a=s,typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!An(a)?s:{default:()=>[s]})),e.showTabs?t.tabs?(o=t.tabs)==null?void 0:o.call(t):$(Rf,{tabs:e.tabs,activeTab:e.activeTab,onChange:(...l)=>n("tabsChange",...l),onSelect:(...l)=>n("tabsSelect",...l),onClose:(...l)=>n("tabsClose",...l)},null):null,$("main",{class:[e2.bf("main"),e2.is("layout-tabs",r.value)]},[(i=t.default)==null?void 0:i.call(t)])])];var a}})}});const{getLightColor:QXt}=Ti();var ZXt=Z({setup(t,{slots:e}){const n=Le("ns",{}),s=Le("options",{}),r=D(()=>{const{isHeaderBarColorGradual:o,headerBarColor:i}=s.setting;return o?{background:`linear-gradient(to bottom , ${i}, ${QXt(i,.5)})`}:""}),a={};return e[ss]&&(a[ss]=()=>e[ss]()),e[rs]&&(a[rs]=()=>e[rs]()),()=>{return $(He,null,[$("header",{class:n.b("header"),style:r.value},[$(ub,null,null),$("div",{class:n.bf("header","menu")},[e[Mr]?e[Mr]():$(Of,{menuTree:s.menuTree,router:s.menuRouter,mode:s.menuMode},null)]),$("div",{class:n.bf("header","right")},[$(db,null,(o=a,typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!An(o)?a:{default:()=>[a]}))])])]);var o}}});const aS=Vs("layout-transverse");var JXt=Z({props:{},setup:()=>(At("ns",aS),{}),render(){var o,i;const t=this.$slots,e=Le("options",{}),n=Le("__emit__",{}),s={};t[Mr]&&(s[Mr]=()=>t[Mr]()),t[ss]&&(s[ss]=()=>t[ss]()),t[rs]&&(s[rs]=()=>t[rs]());const r=B(!!t.tabs);return t.tabs===void 0&&e.showTabs&&(r.value=!0),$(He,null,[$(ZXt,null,(a=s,typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!An(a)?s:{default:()=>[s]})),e.showTabs?t.tabs?(o=t.tabs)==null?void 0:o.call(t):$(Rf,{tabs:e.tabs,activeTab:e.activeTab,onChange:(...l)=>n("tabsChange",...l),onSelect:(...l)=>n("tabsSelect",...l),onClose:(...l)=>n("tabsClose",...l)},null):null,$("main",{class:[aS.b("main"),aS.is("layout-tabs",r.value)]},[(i=t.default)==null?void 0:i.call(t)])]);var a}});const{getLightColor:eYt}=Ti();var tYt=Z({setup(t,{slots:e}){const n=Le("ns",{}),s=Le("options",{}),r=D(()=>{const{isHeaderBarColorGradual:o,headerBarColor:i}=s.setting;return o?{background:`linear-gradient(to bottom , ${i}, ${eYt(i,.5)})`}:""}),a={};return e[ss]&&(a[ss]=()=>e[ss]()),e[rs]&&(a[rs]=()=>e[rs]()),()=>{return $(He,null,[$("header",{class:n.b("header"),style:r.value},[$(ub,null,null),$("div",{class:n.bf("header","menu")},null),$("div",{class:n.bf("header","right")},[$(db,null,(o=a,typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!An(o)?a:{default:()=>[a]}))])])]);var o}}}),nYt=Z({setup:()=>({ns:Le("ns",{})}),render(){const t=this.$slots,e=this.ns,n=Le("options",{});return $("aside",{class:e.b("sidebar")},[t[Mr]?t[Mr]():$(Of,{mode:"vertical",menuTree:n.menuTree},null)])}});const t2=Vs("layout-columns");var sYt=Z({props:{},setup:()=>(At("ns",t2),{}),render(){const t=this.$slots,e=Le("options",{}),n=Le("__emit__",{}),s={};t[Mr]&&(s[Mr]=()=>t[Mr]()),t[ss]&&(s[ss]=()=>t[ss]()),t[rs]&&(s[rs]=()=>t[rs]());const r=B(!!t.tabs);return t.tabs===void 0&&e.showTabs&&(r.value=!0),$(M5,{class:t2.b()},{default:()=>{var o,i;return[$(nYt,null,null),$("div",{class:[t2.b("content")]},[$(tYt,null,(a=s,typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!An(a)?s:{default:()=>[s]})),e.showTabs?t.tabs?(o=t.tabs)==null?void 0:o.call(t):$(Rf,{tabs:e.tabs,activeTab:e.activeTab,onChange:(...l)=>n("tabsChange",...l),onSelect:(...l)=>n("tabsSelect",...l),onClose:(...l)=>n("tabsClose",...l)},null):null,$("main",{class:[t2.bf("main"),t2.is("layout-tabs",r.value)]},[(i=t.default)==null?void 0:i.call(t)])])];var a}})}});const{getLightColor:rYt}=Ti();var aYt=Z({setup(t,{slots:e}){const n=Le("ns",{}),s=Le("options",{}),r=D(()=>{const{isHeaderBarColorGradual:o,headerBarColor:i}=s.setting;return o?{background:`linear-gradient(to bottom , ${i}, ${rYt(i,.5)})`}:""}),a={};return e[ss]&&(a[ss]=()=>e[ss]()),e[rs]&&(a[rs]=()=>e[rs]()),()=>{var i;return $(He,null,[$("header",{class:n.b("header"),style:r.value},[$(ub,null,null),$("div",{class:n.bf("header","menu")},[(i=e[Mr])==null?void 0:i.call(e)]),$("div",{class:n.bf("header","right")},[$(db,null,(o=a,typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!An(o)?a:{default:()=>[a]}))])])]);var o}}}),oYt=Z({setup:()=>({ns:Le("ns",{})}),render(){const t=this.$slots,e=this.ns,n=Le("options",{});return $("aside",{class:e.b("sidebar")},[$(vr,null,{default:()=>[t[Mr]?t[Mr]():$(Of,{mode:"vertical",menuTree:n.menuTree},null)]})])}});const rp=Vs("layout-classic");var iYt=Z({props:{},setup:()=>(At("ns",rp),{ns:rp}),render(){var o,i;const t=this.$slots,e=Le("options",{}),n=Le("__emit__",{});t.menu;const s={};t[ss]&&(s[ss]=()=>t[ss]()),t[rs]&&(s[rs]=()=>t[rs]());const r=B(!!t.tabs);return t.tabs===void 0&&e.showTabs&&(r.value=!0),$(He,null,[$(aYt,null,(a=s,typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!An(a)?s:{default:()=>[s]})),$("div",{class:[rp.b("content"),rp.is("layout-tabs",r.value)]},[$(oYt,null,null),$("div",{class:rp.b("container")},[e.showTabs?t.tabs?(o=t.tabs)==null?void 0:o.call(t):$(Rf,{tabs:e.tabs,activeTab:e.activeTab,onChange:(...l)=>n("tabsChange",...l),onSelect:(...l)=>n("tabsSelect",...l),onClose:(...l)=>n("tabsClose",...l)},null):null,$("main",{class:[rp.b("main")]},[(i=t.default)==null?void 0:i.call(t)])])])]);var a}});const p$=(t,e)=>{var n;for(const s of e){if((n=s.children)!=null&&n.some(r=>r.path===t))return s;if(s.children){const r=p$(t,s.children);if(r)return r}}return null},oS=Vs("menu");var lYt=Z({props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},menuTree:{type:Array,default:()=>[]}},setup(t){var l;At("ns",oS);const e=Le("updateSubmentTree"),n=Ht().appContext.config.globalProperties.$router,s=(l=n.currentRoute)==null?void 0:l.value.fullPath,r=p$(s,t.menuTree),a=B(r==null?void 0:r.id);r!=null&&r.id&&e(r.children),Ee(()=>{var u;return(u=n.currentRoute)==null?void 0:u.value},u=>{var d;const c=p$(u.fullPath,t.menuTree);a.value=c==null?void 0:c.id,c!=null&&c.id&&((d=c.meta)==null?void 0:d.level)===1&&e(c.children)});const o=u=>{var d;let c=u[0];for(let h=0;h<u.length;h++){const f=u[h];if((d=f.children)!=null&&d.length&&(c=o(f.children),c))break}return c},i=()=>$(Y5,{class:[oS.b(),t.className],style:t.style,"popper-class":oS.b("popper"),defaultActive:a.value,mode:"horizontal",ellipsis:!0},{default:()=>[$(He,null,[t.menuTree.map(u=>{var c;return Ye((c=u.meta)==null?void 0:c.isHide,!1)?null:$(gw,{index:u.id,onClick:d=>((h,f)=>{var p;if(e(f.children),(p=f.children)==null?void 0:p.length){const m=o(f.children);n.push(m.path)}else n.push(f.path)})(0,u)},{default:()=>[$(G1,{meta:u.meta},null)]})})])]});return()=>$(He,null,[i()])}});const{getLightColor:uYt}=Ti();var cYt=Z({setup(t,{slots:e}){const n=Le("ns",{}),s=Le("options",{}),r=D(()=>{const{isHeaderBarColorGradual:o,headerBarColor:i}=s.setting;return o?{background:`linear-gradient(to bottom , ${i}, ${uYt(i,.5)})`}:""}),a={};return e[ss]&&(a[ss]=()=>e[ss]()),e[rs]&&(a[rs]=()=>e[rs]()),()=>{return $(He,null,[$("header",{class:n.b("header"),style:r.value},[$(ub,null,null),$("div",{class:n.bf("header","menu")},[e[Mr]?e[Mr]():$(lYt,{menuTree:s.menuTree},null)]),$("div",{class:n.bf("header","right")},[$(db,null,(o=a,typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!An(o)?a:{default:()=>[a]}))])])]);var o}}}),dYt=Z({setup(t,{slots:e}){const n=Le("ns",{}),s=Le("submenuTree",[]);return()=>$(He,null,[s.value.length===0?null:$("aside",{class:n.b("sidebar")},[e[Mr]?e[Mr]():$(Of,{mode:"vertical",menuTree:s.value},null)])])}});const ap=Vs("layout-composite");var hYt=Z({props:{},setup(){At("ns",ap);const t=B([]);return At("submenuTree",t),At("updateSubmentTree",e=>{t.value=[],it(()=>{t.value=e})}),{ns:ap,submenuTree:t}},render(){var o,i;const t=this.$slots,e=Le("options",{}),n=Le("__emit__",{});t.menu;const s={};t[ss]&&(s[ss]=()=>t[ss]()),t[rs]&&(s[rs]=()=>t[rs]());const r=B(!!t.tabs);return t.tabs===void 0&&e.showTabs&&(r.value=!0),$(He,null,[$(cYt,null,(a=s,typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!An(a)?s:{default:()=>[s]})),$("div",{class:[ap.b("content"),ap.is("layout-tabs",r.value)]},[$(dYt,null,null),$("div",{class:ap.b("container")},[e.showTabs?t.tabs?(o=t.tabs)==null?void 0:o.call(t):$(Rf,{tabs:e.tabs,activeTab:e.activeTab,onChange:(...l)=>n("tabsChange",...l),onSelect:(...l)=>n("tabsSelect",...l),onClose:(...l)=>n("tabsClose",...l)},null):null,$("main",{class:[ap.b("main")]},[(i=t.default)==null?void 0:i.call(t)])])])]);var a}});const KB=Vs("layout"),iS={defaults:pi(YXt),transverse:pi(JXt),columns:pi(sYt),classic:pi(iYt),composite:pi(hYt)},XB=(t,e)=>{if(Array.isArray(t))return e},Une=Ur(Z({name:"NextLayout",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},emits:["changeLanguage","changeUserDropdown","changeOptions","tabsChange","tabsSelect","tabsClose"],setup(t,{slots:e,emit:n}){const s=B(LB(Zqt,t.options,XB));At("options",s.value),At("__ns__",KB),At("__emit__",n),At("__slots__",e);const r=a=>{var o;s.value=LB(s.value,a,XB),Ine((o=s.value)==null?void 0:o.setting),n("changeOptions",s.value)};return At("updateOptions",r),Ee(()=>t.options,a=>{r(a)},{deep:!0,immediate:!0}),{options:s.value,updateOptions:r}},render(){var a;const t=this.$props,e=this.$slots,n=((a=this.options.setting)==null?void 0:a.layout)||"transverse",s=B(iS[n]);sr(()=>{s.value=iS[n],s.value||(s.value=iS.transverse)});const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=()=>{var i;return(i=e[o])==null?void 0:i.call(e)});return $("div",{class:[KB.b(),t.className],style:t.style},[pt(s.value,{},{...r})])}})),Cc=Vs("tabs");var fYt=Z({name:"NextTabs",props:{activeTab:{type:[String,Number],default:"/"},tabs:{type:Array,default:()=>[]}},emits:["change","select","close"],setup(t,{emit:e}){var h;const{t:n}=As(),s=Ht().appContext.config.globalProperties.$router,r=D(()=>s.currentRoute.value.fullPath),a=D(()=>t.tabs),o=(h=a.value)==null?void 0:h.findIndex(f=>f.path===r.value);if(o<0){const f=a.value[0];f&&f.path&&s.replace({path:f.path})}const i=B(o),l=B(a.value),u=f=>{const p=r.value,m=l.value.length,y=l.value.findIndex(v=>v.path===p);switch(f){case"other":y>-1&&(i.value=1,l.value=[l.value[0],l.value[y]]);break;case"left":if(y>-1){const b=l.value.slice(y);b.unshift(l.value[0]),l.value=b,i.value=1}break;case"right":if(y>-1&&y<m-1){const b=l.value.slice(0,y+1);l.value=b}break;case"all":const v=l.value[0];i.value=0,l.value=[v],c(null,v,i.value)}e("change",i.value,l.value,f)},c=(f,p,m)=>{f==null||f.stopPropagation(),i.value=m;let y={path:p.path,query:p.query,params:p.params};s.push(y),e("select",p,m)};Ee(()=>{var f;return(f=s.currentRoute)==null?void 0:f.value},f=>{var v;const{tagTitle:p}=f.query,m={name:f.name,title:p||((v=f.meta)==null?void 0:v.title),path:f.path,meta:f.meta,params:f.params,query:f.query},y=l.value.findIndex(b=>b.path===f.path);y>-1?(i.value=y,l.value[y]=m):(i.value=l.value.length,l.value.push(m)),e("change",i.value,l.value,"add")});const d=()=>$("nav",{class:Cc.b()},[$(vr,null,{default:()=>[$("ul",{class:Cc.b("list")},[l.value.map((f,p)=>{var m,y;return f?$("li",{class:["tab-item",Cc.is("active",i.value===p)],onClick:v=>c(v,f,p)},[$("i",{class:["tab-icon",(m=f.meta)==null?void 0:m.icon]},null),$("span",null,[n(f.title)]),(y=f.meta)!=null&&y.isAffix||f.path==="/"?null:$("span",{onClick:v=>((b,w,_)=>{b.stopPropagation();const C=r.value;if(C===w.path){const T=l.value[_-1];s.push({path:T.path,query:T.query||{},params:T.params||{}}),e("close",T,l.value)}l.value.splice(_,1);const x=l.value.findIndex(T=>T.path===C)||0;i.value=x>-1?x:0,e("change",i.value,l.value,"close")})(v,f,p)},[$(Je,{class:"tab-close"},{default:()=>[$(H2,null,null)]})])]):null})])]}),$(h3,{"show-timeout":80,"hide-timeout":80,onCommand:u},{default:()=>$("span",{class:Cc.b("tab-more")},[$("i",{class:[Cc.be("tab-more","box"),Cc.be("tab-more","top")]},null),$("i",{class:[Cc.be("tab-more","box"),Cc.be("tab-more","bottom")]},null)]),dropdown:()=>$(f3,null,{default:()=>[$(ih,{command:"other"},{default:()=>[$(Je,null,{default:()=>[$(H2,null,null)]}),$("span",null,[n("next.layout.tabsOther")])]}),$(ih,{command:"left"},{default:()=>[$(Je,null,{default:()=>[$(mKt,null,null)]}),$("span",null,[n("next.layout.tabsLeft")])]}),$(ih,{command:"right"},{default:()=>[$(Je,null,{default:()=>[$(cXt,null,null)]}),$("span",null,[n("next.layout.tabsRight")])]}),$(ih,{command:"all"},{default:()=>[$(Je,null,{default:()=>[$(H2,null,null)]}),$("span",null,[n("next.layout.tabsAll")])]})]})})]);return()=>$(He,null,[d()])}});const Rf=Ur(fYt),lS=Vs("container"),Wne=Ur(Z({name:"NextContainer",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},scrollbar:{type:Boolean,default:!1},padding:{type:[Boolean,String,Number],default:!0},card:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=D(()=>{let s={};const r=t.padding;return typeof r=="boolean"?s=r?{padding:"15px"}:{}:typeof r=="string"?s={padding:r}:typeof r=="number"&&(s={padding:r+"px"}),s});return()=>{var s,r;return t.scrollbar?$(vr,{class:[lS.b(),t.className],style:t.style},{default:()=>{var a;return[(a=e.default)==null?void 0:a.call(e)]}}):$("div",{class:[lS.b(),t.className],style:{...n.value,...t.style}},[t.card?$("div",{class:lS.b("card")},[(s=e.default)==null?void 0:s.call(e)]):(r=e.default)==null?void 0:r.call(e)])}}}));function U2(t,e){return Sne(t,e)}var pYt={className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},page:{type:Object,default:()=>({pageIndex:1,pageSize:10,total:0})},rowStyle:{type:Function,default:void 0},rowClassName:{type:Function,default:void 0},cellStyle:{type:Function,default:void 0},cellClassName:{type:Function,default:void 0},headerRowStyle:{type:Function,default:void 0},headerRowClassName:{type:Function,default:void 0},headerCellStyle:{type:Function,default:void 0},headerCellClassName:{type:Function,default:void 0},spanMethod:{type:Function,default:void 0}};const mYt=["menu-left-prefix","menu-left-suffix","menu-right-prefix","menu-right-suffix"],gYt=["operation-column-prefix","operation-column-suffix"];var jne={initLoadData:!0,defaultContentHeight:300,fullscreenchangeContentHeight:!1,rowKey:"id",size:"default",fit:!0,stripe:!0,border:!0,index:!0,selection:!0,headerAlign:"center",cellAlign:"center",columnMinWidth:"100px",columns:[],showSearchForm:!0,showHeaderMenu:!0,showSearchLabel:!0,searchSpan:4,searchGutter:20,searchLabelWidth:"5em",searchColumnMinWidth:300,searchColumns:[],addBtn:!0,viewBtn:!0,delBtn:!0,editBtn:!0,batchDelBtn:!1,refreshBtn:!0,settingBtn:!0,operations:!0,operationsWidth:260,operationsHeaderAlign:"center",operationsColumnAlign:"center",operationsBtnPlain:!1,operationsBtnText:!0,operationsBtnSize:"small",addBtnText:"",isPagination:!0,dialogTitle:"",dialogWidth:"60%",dialogFullscreen:!1,closeOnClickModal:!1,formColumns:[],formLabelWidth:"5em",formSpan:12,formColumnMinWidth:350};const YB=t=>"column-"+t,QB=t=>"search-"+t,ZB=t=>"form-"+t,Sc=Vs("spin-loading");var t7=Z({name:"NextSpinLoading",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},tip:{type:String,default:""}},setup(t,{expose:e}){const{t:n}=As(),s=B();return e({elementInstance:s}),{t:n,elementInstance:s}},render(){var r;const t=this.t,e=this.$slots,n=this.$props,s=n.tip||t("next.loading");return $("div",{ref:"elementInstance",class:[Sc.b(),n.className],style:n.style},[(r=e.default)==null?void 0:r.call(e),n.loading?$("div",{class:Sc.b("mask")},[$("span",{class:Sc.b("mask-dot")},[$("i",{class:Sc.be("mask","dot-item")},null),$("i",{class:Sc.be("mask","dot-item")},null),$("i",{class:Sc.be("mask","dot-item")},null),$("i",{class:Sc.be("mask","dot-item")},null)]),$("span",{class:Sc.be("mask","text")},[s])]):null])}}),JB=Z({name:"SearchColumn",props:{searchSpan:{type:Number,default:4},columns:{type:Array,default:()=>[]},formParams:{type:Object,default:()=>{}}},setup(t,{slots:e}){const n=Le("options",{}),s=ms(n)?g(n):n,{t:r}=As(),a=Le("ns",{}),o=B(t.columns);Ee(()=>t.columns,()=>{o.value=t.columns},{deep:!0});const i=an(t.formParams),l=h=>h.getTime()>Date.now(),u=[{text:r("next.date.oneWeekAge"),value:()=>{const h=new Date,f=new Date;return f.setTime(f.getTime()-6048e5),[f,h]}},{text:r("next.date.oneMonthAge"),value:()=>{const h=new Date,f=new Date;return f.setTime(f.getTime()-2592e6),[f,h]}},{text:r("next.date.threeMonthsAge"),value:()=>{const h=new Date,f=new Date;return f.setTime(f.getTime()-7776e6),[f,h]}},{text:r("next.date.oneYearAge"),value:()=>{const h=new Date,f=new Date;return f.setTime(f.getTime()-31536e6),[f,h]}},{text:r("next.date.threeYearsAge"),value:()=>{const h=new Date,f=new Date;return f.setTime(f.getTime()-94608e6),[f,h]}}],c=(h,f)=>{i[f]=h},d=h=>{const f=Ye(h.searchDisabled,h.disabled,!1);if(e[QB(h.prop)])return e[QB(h.prop)]({column:h});if(h.type==="input"||!h.type){const p=r("next.form.input")+(h.searchPlaceholder||h.searchLabel||h.label);return $(Gs,{modelValue:i[h.prop],"onUpdate:modelValue":m=>i[h.prop]=m,clearable:!0,disabled:f,placeholder:p},{prefix:h.prefix?()=>h.prefix(i,h):null,suffix:h.suffix?()=>h.suffix(i,h):null,prepend:h.prepend?()=>h.prepend(i,h):null,append:h.append?()=>h.append(i,h):null})}if(h.type==="inputInteger"){const p=r("next.form.input")+(h.searchPlaceholder||h.searchLabel||h.label);return $(Gs,{modelValue:i[h.prop],"onUpdate:modelValue":m=>i[h.prop]=m,clearable:!0,disabled:f,placeholder:p,onInput:m=>((y,v)=>{const b=y.replace(/\D/g,"");i[v]=b})(m,h.prop)},{prefix:h.prefix?()=>h.prefix(i,h):null,suffix:h.suffix?()=>h.suffix(i,h):null,prepend:h.prepend?()=>h.prepend(i,h):null,append:h.append?()=>h.append(i,h):null})}if(h.type==="inputNumber"){const p=r("next.form.input")+(h.searchPlaceholder||h.searchLabel||h.label);return $(Gs,{modelValue:i[h.prop],"onUpdate:modelValue":m=>i[h.prop]=m,clearable:!0,disabled:f,placeholder:p,onInput:m=>((y,v)=>{let b=y;b=b.replace(/[^0-9\.]/g,""),b=b.replace(/^\./,"0."),b=b.replace(/\.{2,}/g,"."),b=b.replace(".","DUMMY"),b=b.replace(/\./g,""),b=b.replace("DUMMY","."),i[v]=b})(m,h.prop)},{prefix:h.prefix?()=>h.prefix(i,h):null,suffix:h.suffix?()=>h.suffix(i,h):null,prepend:h.prepend?()=>h.prepend(i,h):null,append:h.append?()=>h.append(i,h):null})}if(h.type==="select"){const p=r("next.form.select")+(h.searchPlaceholder||h.searchLabel||h.label);return!i[h.prop]&&h.multiple&&(i[h.prop]=[]),$(Mu,{modelValue:i[h.prop],"onUpdate:modelValue":m=>i[h.prop]=m,clearable:!0,disabled:f,placeholder:p,multiple:h.multiple||!1,"collapse-tags":!0,"collapse-tags-tooltip":!0},{default:()=>[h.dicData&&h.dicData.map(m=>$(Xp,{value:m.value,label:m.label},null))]})}if(h.type==="date"){const p=r("next.form.select")+(h.searchPlaceholder||h.searchLabel||h.label);return $(Tp,{modelValue:i[h.prop],"onUpdate:modelValue":m=>i[h.prop]=m,type:"date","value-format":h.searchFormat||"YYYY-MM-DD",format:h.searchFormat||"YYYY-MM-DD",clearable:!0,"disabled-date":h.searchDisabledDate||l,disabled:f,placeholder:p,editable:h.searchEditable||!1},null)}if(h.type==="datetimerange")return $(Tp,{modelValue:i[h.prop],"onUpdate:modelValue":p=>i[h.prop]=p,type:"datetimerange","value-format":h.searchFormat||"YYYY-MM-DD HH:mm:ss",format:h.searchFormat||"YYYY-MM-DD HH:mm:ss",clearable:!0,"range-separator":r("next.date.rangeSeparator"),"start-placeholder":r("next.date.startPlaceholder"),"end-placeholder":r("next.date.endPlaceholder"),"disabled-date":h.searchDisabledDate||l,disabled:f,editable:h.searchEditable||!1,shortcuts:h.searchShortcuts||u},null);if(h.type==="numberRange"){const p=i[h.prop],m=B(p[0]),y=B(p[1]),v=B(h.searchMin),b=B(h.searchMax),w=B(!0),_=x=>{m.value=x,c([m.value,y.value],h.prop)},C=x=>{y.value=x,c([m.value,y.value],h.prop)};return $("div",{class:a.b("header-search-item-number-range")},[$(Kp,{modelValue:m.value,"onUpdate:modelValue":x=>m.value=x,min:v.value,max:b.value,controls:w.value,onChange:_},null),$("span",{class:"number-range-division"},[r("next.date.rangeSeparator")]),$(Kp,{modelValue:y.value,"onUpdate:modelValue":x=>y.value=x,min:v.value,max:b.value,controls:w.value,onChange:C},null)])}return h.type==="treeSelect"?$(n7,{modelValue:i[h.prop],"onUpdate:modelValue":p=>i[h.prop]=p,disabled:h.disabled,column:h,formParams:i},null):h.type==="cascader"?$(s7,{modelValue:i[h.prop],"onUpdate:modelValue":p=>i[h.prop]=p,disabled:h.disabled,column:h,formParams:i},null):void 0};return()=>$(He,null,[$(He,null,[o.value.map(h=>!h.hide&&$(uw,{span:t.searchSpan,class:a.b("header-search-item")},{default:()=>[$(rw,null,{label:()=>h.label&&Ye(s.showSearchLabel,!0)?$(pg,{width:s.searchLabelWidth,content:h.label,textAlign:"right"},null):null,default:()=>d(h)})]}))])])}});function ez(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}var vYt=Z({name:"HeaderSearch",props:{columns:{type:Array,default:()=>[]}},emits:["confirmSearch","clearSearch","zoomResize"],setup(t,{emit:e,slots:n}){const s=Le("options",{}),r=ms(s)?g(s):s,a=Le("ns",{}),{t:o}=As(),i=Le("searchFormSlots"),l={};i.value.forEach(T=>{l[T]=(...k)=>n[T]&&n[T](...k)});const u=an({}),c=B(t.columns),d=()=>{c.value.forEach(T=>{u[T.prop]="",Ya(T.defaultValue)&&(u[T.prop]=T.defaultValue)})};d();const h=()=>{e("confirmSearch",u)},f=()=>{d(),h(),e("clearSearch")},p=B(r.searchSpan),m=c.value.length,y=B(m),v=B(c.value),b=B([]),w=B(!1),{proxy:_}=Ht();Et(()=>{var k;const T=(k=_.$refs.tableSearchForm)==null?void 0:k.$el;T&&mg(T,N=>{(O=>{const L=O.clientWidth,V=r.searchColumnMinWidth;let H=Math.floor(L/V);p.value=Math.ceil(24/H);const K=24%p.value;if(K&&(p.value=K,H=24/p.value),y.value=H,m>=y.value){const R=y.value-1;v.value=c.value.slice(0,R),b.value=c.value.slice(R)}else v.value=c.value,b.value=[];const U=Math.floor(L/H);w.value=U<V})(N),e("zoomResize")})});const C=B(!1),x=()=>{C.value=!C.value};return()=>$(He,null,[c.value.length?$(T5,{ref:"tableSearchForm",inline:!0,size:r.size,model:u,class:a.b("header")},{default:()=>[$(P5,{gutter:r.searchGutter,class:a.b("header-search")},{default:()=>[$(JB,{searchSpan:p.value,columns:v.value,formParams:u},ez(l)?l:{default:()=>[l]}),C.value?$(JB,{searchSpan:p.value,columns:b.value,formParams:u},ez(l)?l:{default:()=>[l]}):null,$(uw,{span:p.value,class:a.b("header-search-btns")},{default:()=>[$(rw,null,{default:()=>[$(Hn,{type:"primary",onClick:h},{icon:()=>$(Je,null,{default:()=>[$(Lne,null,null)]}),default:()=>o("next.table.search")}),$(Hn,{onClick:f},{icon:()=>$(Je,null,{default:()=>[$(cb,null,null)]}),default:()=>o("next.table.clear")}),b.value.length?w.value?$(Hn,{type:"primary",text:!0,bg:!0,circle:!0,class:a.b("header-search-expandBtn"),onClick:x},{icon:()=>C.value?$(kKt,null,null):$(NKt,null,null)}):$(Hn,{type:"primary",text:!0,bg:!0,class:a.b("header-search-expandBtn"),onClick:x},{icon:()=>C.value?$(Je,null,{default:()=>[$(dKt,null,null)]}):$(Je,null,{default:()=>[$(Dne,null,null)]}),default:()=>C.value?o("next.table.foldSearch"):o("next.table.unfoldSearch")}):null]})]})]})]}):null])}}),yYt=Z({name:"DrawerSetting",setup:()=>({visible:B(!1)}),render(){const t=Le("options",{}),e=ms(t)?g(t):t,n=B(e.columns),{t:s}=As(),r=Le("ns",{});return $(j5,{modelValue:this.visible,"onUpdate:modelValue":a=>this.visible=a,title:s("next.table.setting.title"),"append-to-body":!0,size:"450px",class:r.b("setting-drawer")},{default:()=>[$(vr,{class:r.be("setting-drawer","container")},{default:()=>[$(lE,{data:n.value,border:!0,style:{width:"100%"}},{default:()=>[$(Zi,{prop:"label",label:s("next.table.setting.label"),align:"center"},{default:({row:a})=>$(pg,{content:s(a.label)},null)}),$(Zi,{prop:"hide",label:s("next.table.setting.hide"),align:"center",width:"70px"},{default:({row:a})=>$(ha,{modelValue:a.hide,"onUpdate:modelValue":o=>a.hide=o},null)}),$(Zi,{prop:"filter",label:s("next.table.setting.filter"),align:"center",width:"70px"},{default:({row:a})=>$(ha,{modelValue:a.filter,"onUpdate:modelValue":o=>a.filter=o},null)}),$(Zi,{prop:"sort",label:s("next.table.setting.sort"),align:"center",width:"70px"},{default:({row:a})=>$(ha,{modelValue:a.sortable,"onUpdate:modelValue":o=>a.sortable=o},null)})]})]})]})}}),bYt=Z({name:"HeaderMenu",setup:()=>({}),emits:["clickAdd","clickRefresh","deleteRows"],render(){var i,l,u,c,d,h,f,p;const t=Le("options",{}),e=ms(t)?g(t):t,{t:n}=As(),s=Le("ns",{}),r=Le("multipleSelection"),a=D(()=>r.value.length),o=B();return $("div",{class:s.b("header-menu")},[$("div",{class:s.b("header-menu-left")},[(l=(i=this.$slots)["menu-left-prefix"])==null?void 0:l.call(i,{size:e.size}),e.addBtn&&$(Hn,{type:"primary",size:e.size,onClick:()=>{this.$emit("clickAdd")}},{icon:()=>$(Je,null,{default:()=>[$(j1,null,null)]}),default:()=>n("next.table.add")}),e.batchDelBtn&&$(Hn,{type:"danger",size:e.size,disabled:!a.value,onClick:()=>{const m=g(Rs(r.value.map(y=>Rs(y))));TE.confirm(n("next.table.message.batchDeleteTip"),n("next.table.message.tip"),{type:"warning",showClose:!1,center:!1,confirmButtonText:n("next.table.message.confirmButtonText"),cancelButtonText:n("next.table.message.cancelButtonText")}).then(()=>{this.$emit("deleteRows",m)}).catch(()=>{gi({type:"info",message:n("next.table.message.cancelBatchDelete")})})}},{icon:()=>$(Je,null,{default:()=>[$(cb,null,null)]}),default:()=>n("next.table.batchDelete")}),(c=(u=this.$slots)["menu-left-suffix"])==null?void 0:c.call(u,{size:e.size})]),$("div",{class:s.b("header-menu-right")},[(h=(d=this.$slots)["menu-right-prefix"])==null?void 0:h.call(d,{size:e.size}),e.refreshBtn&&$(Hn,{circle:!0,size:e.size,onClick:()=>{this.$emit("clickRefresh")}},{icon:()=>$(Je,null,{default:()=>[$(oXt,null,null)]})}),e.settingBtn&&$(Hn,{circle:!0,size:e.size,onClick:()=>{o.value.visible=!0}},{icon:()=>$(Je,null,{default:()=>[$(TXt,null,null)]})}),(p=(f=this.$slots)["menu-right-suffix"])==null?void 0:p.call(f,{size:e.size})]),$(yYt,{ref:o},null)])}});const Gne=Z({name:"TableColumnDynamic",props:{columnOption:{type:Object,default:()=>({})}},setup(t,{slots:e}){var h,f;const n=Le("columnSlots"),s={};n.value.forEach(p=>{s[p]=(...m)=>e[p]&&e[p](...m)});const r=Le("options",{}),a=ms(r)?g(r):r,o=t.columnOption,i=Ye(o.dicKey,"value"),l=Ye(o.dicLabel,(h=o.treeSelectProps)==null?void 0:h.label,"label"),u=Ye((f=o.treeSelectProps)==null?void 0:f.separator,","),c=(p,m)=>{if(Array.isArray(p)){const v=[];return p.forEach(b=>{v.push(c(b,m))}),v.join(u)}const y=m.find(v=>v[i]==p);return y?y[l]:p},d=(p,m)=>{var y,v;if(((y=o.children)==null?void 0:y.length)>0)return $(He,null,[o.children.map(b=>{return $(Gne,{columnOption:b},typeof(w=s)=="function"||Object.prototype.toString.call(w)==="[object Object]"&&!An(w)?s:{default:()=>[s]});var w})]);if(e[YB(o.prop)])return e[YB(o.prop)]({row:p,index:m,column:o});if(((v=o.dicData)==null?void 0:v.length)>0){const b=_=>{const C=[];return _.forEach(x=>{const T={...x};if(T.children){const k=b(T.children);C.push(...k),delete T.children}C.push(T)}),C},w=b(o.dicData);return $("span",null,[c(p[o.prop],w)])}return o.cellUnit?$(He,null,[$("span",null,[p[o.prop]]),$("em",{class:"cell-unit"},[o.cellUnit])]):o.renderColumnCell?o.renderColumnCell({row:p,index:m,column:o}):null};return()=>$(He,null,[!o.hide&&$(Zi,{prop:o.prop,label:o.label,headerAlign:o.headerAlign||a.headerAlign,align:o.align||a.cellAlign,minWidth:o.minWidth||a.columnMinWidth||"auto",width:o.width||"auto",fixed:o.fixed,sortable:o.sortable||!1,formatter:o.formatter||null,showOverflowTooltip:Ye(o.showOverflowTooltip,!0)},{default:({row:p,$index:m})=>d(p,m)})])}});var _Yt=Z({name:"TableColumnOperations",emits:["editRow","viewRow","deleteRow"],setup(t,{emit:e,slots:n}){const s=Le("options"),r=ms(s)?g(s):s,{t:a}=As(),o=D(()=>{const{operationsBtnPlain:l,operationsBtnText:u}=r;return u||l}),i=()=>{const l=r.operationsBtnText,u=r.operationsBtnPlain,c=r.operationsBtnSize,d={text:l,plain:u,size:c};return $(Zi,{fixed:"right",label:a("next.table.operation"),width:r.operationsWidth,headerAlign:Ye(r.operationsHeaderAlign,r.headerAlign),align:Ye(r.operationsColumnAlign,r.cellAlign)},{default:h=>{var f,p;return $(He,null,[(f=n["operation-column-prefix"])==null?void 0:f.call(n,{scoped:h,btn:d}),r.editBtn?$(ys,{enterable:!1,effect:"dark",content:a("next.table.edit"),placement:"top",disabled:o.value},{default:()=>[$(Hn,{text:l,plain:u,class:o.value?"":"operations-btn",size:c,type:"primary",onClick:()=>(m=>{e("editRow",m)})(h)},{icon:()=>$(Je,null,{default:()=>[$(MKt,null,null)]}),default:()=>a("next.table.edit")})]}):null,r.viewBtn?$(ys,{enterable:!1,effect:"dark",content:a("next.table.view"),placement:"top",disabled:o.value},{default:()=>[$(Hn,{text:l,plain:u,class:o.value?"":"operations-btn",size:c,type:"primary",onClick:()=>(m=>{e("viewRow",m)})(h)},{icon:()=>$(Je,null,{default:()=>[$(IXt,null,null)]}),default:()=>a("next.table.view")})]}):null,r.delBtn?$(ys,{enterable:!1,effect:"dark",content:a("next.table.delete"),placement:"top",disabled:o.value},{default:()=>[$(Hn,{text:l,plain:u,class:o.value?"":"operations-btn",size:c,type:"danger",onClick:()=>(m=>{TE.confirm(a("next.table.message.deleteTip"),a("next.table.message.tip"),{type:"warning",showClose:!1,center:!1,confirmButtonText:a("next.table.message.confirmButtonText"),cancelButtonText:a("next.table.message.cancelButtonText")}).then(()=>{e("deleteRow",m)}).catch(()=>{gi({type:"info",message:a("next.table.message.cancelDelete")})})})(h)},{icon:()=>$(Je,null,{default:()=>[$(cb,null,null)]}),default:()=>a("next.table.delete")})]}):null,(p=n["operation-column-suffix"])==null?void 0:p.call(n,{scoped:h,btn:d})])}})};return()=>$(He,null,[i()])}}),wYt=Z({name:"FooterPagination",props:{page:{type:Object,default:()=>{}}},emits:["change"],setup(t,{emit:e}){const n=Le("options",{}),s=ms(n)?g(n):n,r=t.page,a=i=>{r.pageIndex=i,e("change",r)},o=i=>{r.pageSize=i,e("change",r)};return()=>$(He,null,[$(aW,{currentPage:r.pageIndex,"onUpdate:currentPage":i=>r.pageIndex=i,pageSize:r.pageSize,"onUpdate:pageSize":i=>r.pageSize=i,total:r.total,small:s.size==="small",layout:"total, sizes, prev, pager, next, jumper","page-sizes":Ye(r.pageSizes,[10,20,30,40,50,100]),"onCurrent-change":a,"onSize-change":o},null)])}});const b_=Vs("dialog");var qne=Z({name:"NextDialog",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},modelValue:{type:Boolean,default:!1},title:{type:String,default:""},fullscreen:{type:Boolean,default:!1},fullscreenBtn:{type:Boolean,default:!0},width:{type:[String,Number],default:"50%"},closeOnClickModal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},zoomSize:{type:Boolean,default:!0},destroyOnClose:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},top:{type:String,default:"15vh"},nofill:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e,slots:n}){const s=B(t.modelValue);Ee(()=>t.modelValue,o=>{s.value=o});const r=()=>{s.value=!1,e("close")},a=B(t.fullscreen);return()=>$(He,null,[$(HU,{modelValue:s.value,"onUpdate:modelValue":o=>s.value=o,class:[b_.b(),t.className,t.nofill&&b_.b("nofill")],style:t.style,title:t.title,appendToBody:t.appendToBody,"destroy-on-close":!0,fullscreen:a.value,"lock-scroll":!0,modal:t.modal,"show-close":!1,closeOnClickModal:t.closeOnClickModal,width:t.width,top:t.top,draggable:t.draggable,destroyOnClose:t.destroyOnClose,onClose:r},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n)]},header:({close:o,titleId:i,titleClass:l})=>$("div",{class:b_.b("header")},[$("h4",{id:i,class:l},[t.title]),$("div",{class:b_.e("header-right")},[t.fullscreenBtn&&$("span",{class:"icon-fullscreen",onClick:()=>a.value=!a.value},[$(Je,null,{default:()=>[$(VKt,null,null)]})]),t.showClose&&$("span",{class:"icon-close",onClick:o},[$(Je,{size:"18"},{default:()=>[$(H2,null,null)]})])])])})])}});const Kne={selection:!1,selectType:"radio",addBtn:!1,viewBtn:!1,delBtn:!1,editBtn:!1,batchDelBtn:!1,dialogWidth:"60%",dialogFullscreen:!1,closeOnClickModal:!1,refreshBtn:!0,settingBtn:!0,operations:!1};var xYt={size:"default",colSpan:8,labelWidth:"6em",columnMinWidth:350,columns:[],formDatum:{},tableSelectConfig:Kne,isEditing:!0,showResetBtn:!0,showFooter:!0,submitText:null,resetText:null};const tz=Vs("form");var CYt=Z({name:"NumberRangePicker",props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:function(){return[null,null]}},min:{type:Number,default:0},max:{type:Number,default:100},disabled:{type:Boolean,default:!1}},emits:["change"],setup(t,{emit:e}){const n=t.disabled,{t:s}=As(),r=B(Array.isArray(t.modelValue)&&t.modelValue[0]||0),a=B(Array.isArray(t.modelValue)&&t.modelValue[1]||0),o=B(t.min),i=B(t.max),l=h=>{r.value=h,e("change",[r.value,a.value])},u=h=>{a.value=h,e("change",[r.value,a.value])},c=B(!0),d=B();return Et(()=>{const h=d.value;mg(h,f=>{const p=f.clientWidth;c.value=p>200})}),()=>$(He,null,[$("div",{ref:d,class:tz.e("number-range")},[$(Kp,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,min:o.value,max:i.value,controls:c.value,disabled:n,onChange:l},null),$("span",{class:tz.em("number-range","division")},[s("next.date.rangeSeparator")]),$(Kp,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,min:o.value,max:i.value,controls:c.value,disabled:n,onChange:u},null)])])}});const y8=Ur(qne);function nz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const Tc=Vs("form"),Xne=Z({name:"NextInputTableSelect",props:{modelValue:{type:[Array,String,Number,Boolean,Object],default:function(){return[]}},column:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},formParams:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["select"],setup(t,{emit:e}){var U;const{t:n}=As(),s=t.disabled,r=t.closable,a=t.column,o=a.placeholder||n("next.form.select")+a.label,i=nr(jne),l=nr(Kne),u=sf(i,l,a.tableSelect),{value:c,label:d}=a.tableSelectProps||{value:"id",label:"name"},h=an({visible:!1,title:a.label+n("next.form.tableSelect"),dialogWidth:u.dialogWidth}),f=()=>{h.visible=!0},p=()=>{h.visible=!1},m=an({loading:!1,page:{pageIndex:1,pageSize:20,total:0},data:[]}),y=R=>{var W;m.loading=!0,(W=u.loadData)==null||W.call(u,R,m.page,G=>{m.data=G.data||[],m.page.total=G.total||0,m.loading=!1})},v=B([]),b=B("");(U=a.tableSelectDefaultValue)==null||U.call(a,t.formParams,a,R=>{R!=null&&R.length&&(a.tableSelectRows=R,v.value=R,b.value=R[0][c])});const w=D(()=>u.selectType==="radio"?!b.value:v.value.length===0),_=()=>{v.value=[],b.value=""},C=()=>{const R=Rs(v.value),W=O4(R,c);p(),e("select",W)},x=(R,W)=>{var G;(G=a.addEditData)==null||G.call(a,R,W)},T=(R,W)=>{const G=u.rowKey,P=Ye(R[G],W);return u.selectType==="checkbox"?$(ha,{value:P,onChange:j=>((J,ne)=>{if(J)v.value.push(ne);else{const te=v.value.findIndex(de=>de[c]===ne[c]);te!==-1&&v.value.splice(te,1)}})(j,Rs(R))},null):$(lw,{value:P,onChange:()=>{b.value=P,v.value=[R]}},null)},k=B([]),N=B([]),O=()=>{const R=O4(v.value,c).map(W=>({value:W[c],label:W[d]}));R.length>1?(k.value=R.splice(0,1),N.value=R):(k.value=R,N.value=[])};Ee(()=>a.tableSelectRows,()=>{O()},{deep:!0,immediate:!0});const L=B([]);Ee(()=>[t.formParams[a.prop],v.value],()=>{L.value=v.value.map(R=>R[c]),O()},{deep:!0,immediate:!0});const V=B(null);Ee(()=>[t.formParams[a.prop],b.value],()=>{V.value=b.value,O()},{deep:!0,immediate:!0});const H=(R,W)=>{const G=Rs(v.value);G.splice(W,1),v.value=G,O(),e("select",G)},K=()=>{var G;let R,W;return $(He,null,[$("div",{class:["el-input",Tc.e("input-table"),Tc.is("disabled",s)]},[$("div",{class:"el-input__wrapper"},[k!=null&&k.value.length?$("span",{class:Tc.em("input-table","value")},[k.value.map((P,j)=>$(Uc,{closable:!r,onClose:()=>H(0,j)},{default:()=>[P.label]})),(G=N==null?void 0:N.value)!=null&&G.length?$(ys,{"popper-class":Tc.e("tooltip-tags"),placement:"bottom",effect:"light"},{default:()=>$(Uc,null,{default:()=>[ct("+ "),N.value.length]}),content:()=>N.value.map((P,j)=>$(Uc,{closable:!r,onClose:()=>H(0,j+1)},{default:()=>[P.label]}))}):null]):$("span",{class:Tc.em("input-table","placeholder")},[o])]),$(Hn,{type:"primary",class:Tc.em("input-table","append"),disabled:s,icon:Lne,onClick:f},null)]),$(y8,{modelValue:h.visible,"onUpdate:modelValue":P=>h.visible=P,title:h.title,closeOnClickModal:u.closeOnClickModal,width:u.dialogWidth,appendToBody:Ye(u.dialogAppendToBody,!0),modal:Ye(u.dialogModal,!1),onClose:p},{default:()=>[$("div",{class:Tc.em("input-table","content")},[u.selectType==="checkbox"?$(iw,{modelValue:L.value},{default:()=>[$(R4,{options:u,loading:m.loading,data:m.data,page:m.page,"onConfirm-search":y,"onClick-add-edit":x},{default:()=>[$(Zi,{fixed:"left",label:n("next.table.selection"),width:55,headerAlign:u.headerAlign,align:u.cellAlign},{default:({row:P,$index:j})=>T(P,j)})]})]}):$(R5,{modelValue:V.value},{default:()=>[$(R4,{options:u,loading:m.loading,data:m.data,page:m.page,"onConfirm-search":y,"onClick-add-edit":x},{default:()=>[$(Zi,{fixed:"left",label:n("next.table.selection"),width:55,headerAlign:u.headerAlign,align:u.cellAlign},{default:({row:P,$index:j})=>T(P,j)})]})]})]),$("div",{class:Tc.em("input-table","footer")},[$(Hn,{onClick:_},nz(R=n("next.form.reset"))?R:{default:()=>[R]}),$(Hn,{type:"primary",disabled:w.value,onClick:C},nz(W=n("next.form.confirm"))?W:{default:()=>[W]})])]})])};return()=>$(He,null,[K()])}}),sz=Vs("form");var SYt=Z({name:"UploadImage",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1},listType:{type:String,values:["text","picture","picture-card"],default:"picture-card"},multiple:{type:Boolean,default:!1},limit:{type:Number,default:1},accept:{type:String,default:"image/*"}},emits:["change","exceed"],setup(t){const{appContext:e}=Ht(),{t:n}=As();return{t:n,appContext:e,defaultPreviewSrcList:nr(t.modelValue),uploadfilesPreview:B([])}},render(){const t=this.$slots,e=this.$props,n=this.$emit,s=this.t,r=e.disabled,a=this.uploadfilesPreview;let o=null;return $(He,null,[(()=>{const i=this.defaultPreviewSrcList;let l=[];return typeof i=="string"?l=[i]:Object.prototype.toString.call(i)==="[object Array]"&&(l=i),l=l.filter(u=>!!u),l.length?$(mw,{class:sz.e("preview-image"),src:l[0],previewSrcList:l,"preview-teleported":!0,fit:"cover",style:{width:"146px",height:"146px"}},{default:()=>$(Je,null,{default:()=>[$(JKt,null,null)]})}):null})(),r?null:$(xE,{class:[sz.b("upload-image"),e.className],style:e.style,"list-type":e.listType,multiple:e.multiple,limit:e.limit,"auto-upload":!1,"on-preview":i=>{const l=document.getElementsByTagName("body")[0],u=a.value.findIndex(d=>d.url===i.url)||0;o&&(Ta(null,o),l.removeChild(o)),o=document.createElement("div"),l.appendChild(o);const c=$({render:()=>pt(M4,{to:"body"},[pt(pw,{initialIndex:u,"url-list":a.value.map(d=>d.url),onClose:()=>{Ta(null,o)}})])});o.appContext=this.appContext,Ta(c,o)},"on-change":(i,l)=>{a.value=l,n("change",i,l)},"on-exceed":(i,l)=>{gi({type:"info",message:s("next.table.uploadfileExceed")}),n("exceed",i,l)}},{trigger:()=>t.default?t.default():e.listType==="picture-card"?$(Je,null,{default:()=>[$(j1,null,null)]}):$(Hn,{link:!0,text:!0,type:"primary"},{default:()=>[$(Je,null,{default:()=>[$(j1,null,null)]}),$("em",null,[s("next.form.selectFile")])]})})])}}),Yne=Z({name:"NextTreeSelect",props:{modelValue:{type:[Number,String,Boolean,Object,Array],default:""},column:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},formParams:{type:Object,default:()=>({})}},emits:["change","node-click","node-contextmenu","check","check-change","node-expand","node-collapse","current-change"],setup(t,{emit:e,expose:n}){var C;const{t:s}=As(),r=B(t.modelValue);Ee(()=>t.modelValue,x=>{r.value=x});const a=t.column,o=Ye((C=a.treeSelectProps)==null?void 0:C.value,a.nodeKey,"id"),i=t.formParams,l={label:"label",children:"children"},u=a.placeholder||s("next.form.select")+a.label,c=x=>{t.formParams[a.prop]=x,r.value=x,e("change",x)},d=()=>{t.formParams[a.prop]="",r.value=""},h=(x,T)=>{var N;e("node-click",x,T,i);const k=x[o];(N=a.treeSelectNodeClick)==null||N.call(a,x,T,i),c(k)},f=(...x)=>{var T;e("node-contextmenu",...x),(T=a.treeSelectNodeContextmenu)==null||T.call(a,...x)},p=(x,T)=>{var N;e("check",x,T,i),(N=a.treeSelectCheck)==null||N.call(a,x,T,i);const{checkedKeys:k}=T;c(k)},m=(...x)=>{var T;e("check-change",...x),(T=a.treeSelecCheckChange)==null||T.call(a,...x,i)},y=(...x)=>{var T;e("node-expand",...x),(T=a.treeSelecNodeExpand)==null||T.call(a,...x)},v=(...x)=>{var T;e("node-collapse",...x),(T=a.treeSelecNodeCollapse)==null||T.call(a,...x)},b=(...x)=>{var T;e("current-change",...x),(T=a.treeSelecCurrentChange)==null||T.call(a,...x)},w=B(),_=()=>w.value;return a.loadInstance&&a.loadInstance(_()),n({getInstance:_,onClearValue:d}),()=>$(He,null,[$(ij,{ref:w,modelValue:r.value,"onUpdate:modelValue":x=>r.value=x,placeholder:u,data:Ye(a.dicData,[]),"node-key":Ye(a.nodeKey,"id"),filterable:Ye(a.filterable,!0),"show-checkbox":Ye(a.showCheckbox,!1),"leaf-only":Ye(a.leafOnly,!1),"render-after-expand":Ye(a.renderAfterExpand,!0),"check-strictly":Ye(a.checkStrictly,!1),disabled:Ye(t.disabled,!1),clearable:Ye(a.clearable,!0),accordion:Ye(a.accordion,!1),multiple:Ye(a.multiple,!1),"collapse-tags":!0,"collapse-tags-tooltip":!0,props:Ye(a.treeSelectProps,l),"value-key":o,"onNode-click":h,"onNode-contextmenu":f,onCheck:p,"onCheck-change":m,"onNode-expand":y,"onNode-collapse":v,"onCurrent-change":b,onClear:d},null)])}}),Qne=Z({name:"NextTreeCascader",props:{modelValue:{type:[Number,String,Boolean,Object,Array],default:""},column:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},formParams:{type:Object,default:()=>({})}},emits:["change","clear","expand-change","visible-change","remove-tag","blur","focus"],setup(t,{emit:e,expose:n}){const{t:s}=As(),r=B(t.modelValue);Ee(()=>t.modelValue,d=>{r.value=d});const a=t.column,o=a.placeholder||s("next.form.select")+a.label,i={label:"label",children:"children"},l=d=>{const h=u.value.getCheckedNodes().map(f=>f.data);t.formParams[a.prop]=d,r.value=d,e("change",d,h)},u=B(),c=()=>u.value;return a.loadInstance&&a.loadInstance(c()),n({getInstance:c,onClearValue:()=>{t.formParams[a.prop]="",r.value=""}}),()=>$(He,null,[$(yU,{ref:u,modelValue:r.value,"onUpdate:modelValue":d=>r.value=d,placeholder:o,options:Ye(a.dicData,[]),props:Ye(a.treeSelectProps,i),disabled:Ye(t.disabled,!1),clearable:Ye(a.clearable,!0),filterable:Ye(a.filterable,!1),"collapse-tags":!0,"collapse-tags-tooltip":!0,onChange:l},null)])}});function rz(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const uS=Vs("form");var TYt=Z({name:"NextForm",props:{options:{type:Object,default:()=>({})},columns:{type:Array,default:()=>[]},formDatum:{type:Object,default:()=>({})}},emits:["submit","close","reset"],setup(t,{slots:e,emit:n,expose:s}){const r=nr(xYt),a=an(sf(r,t.options)),o=D(()=>typeof a.isEditing!="boolean"||a.isEditing),{t:i}=As(),l=B(a.colSpan),u=an(t.formDatum)||{},c=an(sf({},u)),d=B([]),h=an({});Ee(()=>[t.columns,t.formDatum],()=>{(()=>{var T,k;const x=t.columns;d.value=x;for(let N=0;N<x.length;N++){const O=x[N],L=u[O.prop];Ya(L)?c[O.prop]=L:c[O.prop]=Ya(O.defaultValue)?O.defaultValue:"";const V=[],{label:H}=O;O.required&&V.push({required:!0,message:H+i("next.form.requiredInput"),trigger:["blur","change"]}),(T=O.rules)!=null&&T.length&&V.push(...O.rules),h[O.prop]=V,!((k=O.dicData)!=null&&k.length)&&O.loadDicData&&O.loadDicData(O,K=>{K!=null&&K.length&&(O.dicData=K)},c),typeof O.disabled=="boolean"&&O.disabled||(O.disabled=!o.value)}})()},{deep:!0,immediate:!0});const f=O4(d.value,"prop"),p=B(!1);Et(()=>{var k;const x=(k=m.value)==null?void 0:k.$el;let T=null;mg(x,N=>{T!==null?clearTimeout(T):p.value=!0,T=setTimeout(()=>{l.value=((O,L=350)=>{const V=O.clientWidth;let H=Math.floor(V/L);return H>4&&(H=4),Math.ceil(24/H)})(N,a.columnMinWidth),p.value=!1,clearTimeout(T)},200)})});const m=B(),y=B(!1),v=async()=>{const x=m.value;x&&await x.validate((T,k)=>{if(T){const N=Rs(c);y.value=!0,n("submit",N,()=>{y.value=!1,n("close")},()=>{y.value=!1})}else console.error("error submit!",k)})},b=()=>{const x=m.value;x&&(x.resetFields(),y.value=!1,n("reset",c))},w=x=>x.getTime()>Date.now(),_=[{text:i("next.date.oneWeekAge"),value:()=>{const x=new Date,T=new Date;return T.setTime(T.getTime()-6048e5),[T,x]}},{text:i("next.date.oneMonthAge"),value:()=>{const x=new Date,T=new Date;return T.setTime(T.getTime()-2592e6),[T,x]}},{text:i("next.date.threeMonthsAge"),value:()=>{const x=new Date,T=new Date;return T.setTime(T.getTime()-7776e6),[T,x]}},{text:i("next.date.oneYearAge"),value:()=>{const x=new Date,T=new Date;return T.setTime(T.getTime()-31536e6),[T,x]}},{text:i("next.date.threeYearsAge"),value:()=>{const x=new Date,T=new Date;return T.setTime(T.getTime()-94608e6),[T,x]}}],C=x=>{if(e[ZB(x.prop)])return e[ZB(x.prop)]({column:x,formParams:c});if(x.type==="input"||!x.type){const T=x.placeholder||i("next.form.input")+x.label;return $(Gs,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,clearable:Ye(x.clearable,!0),readonly:Ye(x.readonly,!1),disabled:Ye(x.disabled,!1),placeholder:T,onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{prefix:x.prefix?()=>x.prefix(c,x):null,suffix:x.suffix?()=>x.suffix(c,x):null,prepend:x.prepend?()=>x.prepend(c,x):null,append:x.append?()=>x.append(c,x):null})}if(x.type==="password"){const T=x.placeholder||i("next.form.input")+x.label;return $(Gs,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,type:"password",clearable:Ye(x.clearable,!0),"show-password":!0,readonly:Ye(x.readonly,!1),disabled:x.disabled,placeholder:T,onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{prefix:x.prefix?()=>x.prefix(c,x):null,suffix:x.suffix?()=>x.suffix(c,x):null,prepend:x.prepend?()=>x.prepend(c,x):null,append:x.append?()=>x.append(c,x):null})}if(x.type==="inputInteger"){const T=x.placeholder||i("next.form.input")+x.label;return $(Gs,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,clearable:Ye(x.clearable,!0),readonly:Ye(x.readonly,!1),disabled:x.disabled,placeholder:T,onInput:k=>((N,O)=>{const L=N.replace(/\D/g,"");c[O]=L?Number(L):""})(k,x.prop),onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{prefix:x.prefix?()=>x.prefix(c,x):null,suffix:x.suffix?()=>x.suffix(c,x):null,prepend:x.prepend?()=>x.prepend(c,x):null,append:x.append?()=>x.append(c,x):null})}if(x.type==="inputNumber"){const T=x.placeholder||i("next.form.input")+x.label;return $(Gs,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,clearable:Ye(x.clearable,!0),readonly:Ye(x.readonly,!1),disabled:x.disabled,placeholder:T,onInput:k=>((N,O)=>{let L=N;L=L.replace(/[^0-9\.]/g,""),L=L.replace(/^\./,"0."),L=L.replace(/\.{2,}/g,"."),L=L.replace(".","DUMMY"),L=L.replace(/\./g,""),L=L.replace("DUMMY","."),c[O]=Number(L)})(k,x.prop),onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{prefix:x.prefix?()=>x.prefix(c,x):null,suffix:x.suffix?()=>x.suffix(c,x):null,prepend:x.prepend?()=>x.prepend(c,x):null,append:x.append?()=>x.append(c,x):null})}if(x.type==="textarea"){const T=x.placeholder||i("next.form.input")+x.label;return $(Gs,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,type:"textarea",clearable:Ye(x.clearable,!0),readonly:Ye(x.readonly,!1),disabled:x.disabled,placeholder:T,onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{prefix:x.prefix?()=>x.prefix(c,x):null,suffix:x.suffix?()=>x.suffix(c,x):null,prepend:x.prepend?()=>x.prepend(c,x):null,append:x.append?()=>x.append(c,x):null})}if(x.type==="select"){const T=x.placeholder||i("next.form.select")+x.label;return $(Mu,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,placeholder:T,clearable:Ye(x.clearable,!0),disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1),multiple:Ye(x.multiple,!1),filterable:Ye(x.filterable,!1),"collapse-tags-tooltip":!0,onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{default:()=>[x.dicData&&x.dicData.map(k=>$(Xp,{key:k.value,value:k.value,label:k.label,disabled:Ye(k.disabled,!1)},null))]})}if(x.type==="time"){const T=x.placeholder||i("next.form.select")+x.label;return $(ZW,{modelValue:c[x.prop],"onUpdate:modelValue":k=>c[x.prop]=k,start:"00:00",step:"00:30",end:"23:59",clearable:Ye(x.clearable,!0),editable:Ye(x.editable,!1),disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1),placeholder:T,onChange:k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}},{prefix:()=>x.prefix?x.prefix(c,x):null,suffix:()=>x.suffix?x.suffix(c,x):null})}if(x.type==="radio")return $(R5,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1),onChange:T=>{var k;return(k=x.onChange)==null?void 0:k.call(x,T,x,c,f)}},{default:()=>[x.dicData&&x.dicData.map(T=>$(lw,{key:T.value,value:T.value,disabled:Ye(T.disabled,!1)},{default:()=>[T.label]}))]});if(x.type==="checkbox")return Ya(c[x.prop])||(c[x.prop]=[]),$(iw,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1),onChange:T=>{var k;return(k=x.onChange)==null?void 0:k.call(x,T,x,c,f)}},{default:()=>[x.dicData&&x.dicData.map(T=>$(ha,{key:T.value,label:T.value,disabled:Ye(T.disabled,!1)},{default:()=>[T.label]}))]});if(x.type==="date"){const T=x.placeholder||i("next.form.select")+x.label;return $(Tp,{modelValue:c[x.prop],"onUpdate:modelValue":[k=>c[x.prop]=k,k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}],placeholder:T,type:"date",valueFormat:x.format||"YYYY-MM-DD",format:x.format||"YYYY-MM-DD",clearable:Ye(x.clearable,!0),disabledDate:x.disabledDate||w,editable:Ye(x.editable,!1),disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1)},null)}if(x.type==="datetime"){const T=x.placeholder||i("next.form.select")+x.label;return $(Tp,{modelValue:c[x.prop],"onUpdate:modelValue":[k=>c[x.prop]=k,k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}],placeholder:T,type:"datetime",valueFormat:x.format||"YYYY-MM-DD HH:mm:ss",format:x.format||"YYYY-MM-DD HH:mm:ss",clearable:Ye(x.clearable,!0),disabledDate:x.disabledDate||w,editable:Ye(x.editable,!1),disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1)},null)}if(x.type==="datetimerange"){const T=x.placeholder||i("next.form.select")+x.label;return $(Tp,{modelValue:c[x.prop],"onUpdate:modelValue":[k=>c[x.prop]=k,k=>{var N;return(N=x.onChange)==null?void 0:N.call(x,k,x,c,f)}],placeholder:T,type:"datetimerange",valueFormat:x.format||"YYYY-MM-DD HH:mm:ss",format:x.format||"YYYY-MM-DD HH:mm:ss","range-separator":i("next.date.rangeSeparator"),"start-placeholder":i("next.date.startPlaceholder"),"end-placeholder":i("next.date.endPlaceholder"),disabledDate:x.disabledDate||w,clearable:Ye(x.clearable,!0),editable:Ye(x.editable,!1),disabled:Ye(x.disabled,!1),readonly:Ye(x.readonly,!1),shortcuts:x.shortcuts||_},null)}return x.type==="numberRange"?$(CYt,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,disabled:x.disabled,onChange:T=>{return k=T,N=x.prop,Array.isArray(c[N])||(c[N]=[]),void(c[N]=Number(k));var k,N}},null):x.type==="inputTableSelect"?$(Xne,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,formParams:c,column:x,disabled:Ye(x.disabled,!1),onSelect:T=>((k,N)=>{var L;k&&(N.tableSelectRows=k);const{value:O}=N.tableSelectProps||{};c[N.prop]=k.map(V=>V[O||"value"]),(L=N.onTableSelect)==null||L.call(N,c,k,N)})(T,x)},null):x.type==="uploadImage"?$(SYt,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,disabled:Ye(x.disabled,!1),multiple:Ye(x.multiple,!1),limit:x.limit,onChange:(...T)=>{var k;return(k=x.onChange)==null?void 0:k.call(x,...T,x,c,f)},onExceed:(...T)=>{var k;return(k=x.onExceed)==null?void 0:k.call(x,...T,x,c,f)}},null):x.type==="treeSelect"?$(Yne,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,disabled:Ye(x.disabled,!1),column:x,formParams:c,onChange:(...T)=>{var k;return(k=x.onChange)==null?void 0:k.call(x,...T,x,c,f)}},null):x.type==="cascader"?$(Qne,{modelValue:c[x.prop],"onUpdate:modelValue":T=>c[x.prop]=T,disabled:Ye(x.disabled,!1),column:x,formParams:c,onChange:(...T)=>{var k;return(k=x.onChange)==null?void 0:k.call(x,...T,x,c,f)}},null):void 0};return s({formParams:Rs(c),ruleFormRef:m,formColumns:f,getFormInstance:()=>m.value,getFormParams:()=>Rs(c)}),()=>{let x;return $(Lf,{loading:p.value},rz(x=(()=>{let T;return $(T5,{ref:m,class:uS.b(),inline:!1,model:c,size:a.size},{default:()=>[$(P5,{gutter:20},rz(T=f.map(k=>!k.hide&&$(uw,{span:Ye(k.span,l.value)},{default:()=>[$(rw,{prop:k.prop,required:k.required,rules:h[k.prop],style:{"--form-label-width":Ye(a.formLabelWidth,a.labelWidth)}},{label:()=>k.label?$(He,null,[$(pg,{content:i(k.label),class:uS.e("item-label")},null),k.tip?$(ys,{effect:"dark",content:k.tip,placement:"top"},{default:()=>[$(Je,{style:{"margin-left":"5px"},color:"#f3d19e"},{default:()=>[$(jKt,null,null)]})]}):null]):null,default:()=>C(k)})]})))?T:{default:()=>[T]}),o.value&&a.showFooter?$("div",{class:uS.e("footer")},[$(Hn,{type:"primary",loading:y.value,onClick:v},{default:()=>[i(a.submitText)||i("next.form.submit")]}),a.showResetBtn?$(Hn,{onClick:b},{default:()=>[i(a.resetText)||i("next.form.reset")]}):null]):null]})})())?x:{default:()=>[x]})}}});const n7=Ur(Yne),s7=Ur(Qne),Zne=Ur(Xne),r7=Ur(TYt);var kYt=Z({name:"AddEditForm",props:{formDatum:{type:Object,default:()=>({})},isEditing:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]}},emits:["close","submit"],setup(t,{slots:e,emit:n,expose:s}){const r=Le("addEditFormSlots"),a={};r.value.forEach(f=>{a[f]=(...p)=>e[f]&&e[f](...p)});const o=Le("options",{}),i=nr(ms(o)?g(o):o);i.columnMinWidth=i.formColumnMinWidth,i.isEditing=t.isEditing;const l=B(),u=nr(ms(t.formDatum)?g(t.formDatum):t.formDatum),c=nr(t.columns).map(f=>(f.hide=Ye(f.formHide,f.hide,!1),f)),d=(...f)=>{n("submit",...f)};s({getFormExpose:()=>{var f,p;return{formParams:(f=l.value)==null?void 0:f.formParams,formColumns:(p=l.value)==null?void 0:p.formColumns}}});const h=()=>{return $(r7,{ref:l,options:i,columns:c,formDatum:u,onClose:()=>n("close"),onSubmit:d},typeof(f=a)=="function"||Object.prototype.toString.call(f)==="[object Object]"&&!An(f)?a:{default:()=>[a]});var f};return()=>$(He,null,[h()])}});function n2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!An(t)}const s2=Vs("crud-table");var $Yt=Z({name:"NextCrudTable",props:pYt,emits:["confirm-search","clear-search","change-pagination","selection-change","row-click","row-contextmenu","row-dblclick","cell-click","cell-dblclick","cell-contextmenu","cell-mouse-enter","cell-mouse-leave","expand-change","click-add-edit","close-add-edit","view-add-edit","delete-rows","delete-row","submit-form"],setup(t,{emit:e,slots:n,expose:s}){const r=nr(jne),a=D(()=>{const ue=g(t.options);return sf(r,ue)}),o=g(a);At("options",D(()=>a.value)),At("ns",s2);const{t:i}=As(),l=B(o.columns),u=B([]),c=B([]),d=ue=>{((re,we)=>{const Ae=an(re.columns),Ue=fe=>{var _t;!((_t=fe.dicData)!=null&&_t.length)&&fe.loadDicData&&fe.loadDicData(fe,Dt=>{Dt!=null&&Dt.length&&(fe.dicData=Dt)})},at=fe=>{let _t=[];return fe.forEach(Dt=>{var Qt;Ue(Dt),_t.push(Dt),(Qt=Dt.children)!=null&&Qt.length&&(_t.push(...at(Dt.children)),Dt.children&&delete Dt.children)}),_t},ot=at(Ae),Pe=re.formColumns.map(fe=>(Ue(fe),fe)),je=ot.concat(Pe).map(fe=>{var Dt;const _t={prop:fe.prop,label:Ye(fe.formLabel,fe.label,""),type:Ye(fe.formType,fe.type,""),defaultValue:Ye(fe.formDefaultValue,fe.defaultValue,""),placeholder:Ye(fe.formPlaceholder,""),required:Ye(fe.formRequired,fe.required,!1),sort:Ye(fe.formSort,fe.sort,null),prefix:Ye(fe.formPrefix,fe.prefix,null),suffix:Ye(fe.formSuffix,fe.suffix,null),prepend:Ye(fe.formPrepend,fe.prepend,null),append:Ye(fe.formAppend,fe.append,null),hide:Ye(fe.formHide,fe.hide,!1),disabled:Ye(fe.formDisabled,fe.disabled,!1),clearable:Ye(fe.formClearable,fe.clearable,!0),readonly:Ye(fe.formReadonly,fe.readonly,!1),disabledDate:Ye(fe.formDisabledDate,fe.disabledDate,!1),tip:Ye(fe.formTip,fe.tip,null),rules:Ye(fe.formRules,fe.rules,null),span:Ye(fe.formSpan,fe.span,null),multiple:Ye(fe.formMultiple,fe.multiple,!1),limit:Ye(fe.formLimit,fe.limit,1),dicData:Ye(fe.formDicData,fe.dicData,[]),loadDicData:Ye(fe.formLoadDicData,fe.loadDicData,null),onChange:Ye(fe.onChangeForm,fe.onChange,null),tableSelect:Ye(fe.tableSelect,{}),tableSelectRows:Ye(fe.tableSelectRows,[]),tableSelectProps:Ye(fe.tableSelectProps,null),tableSelectDefaultValue:Ye(fe.tableSelectDefaultValue,null),onTableSelect:Ye(fe.onTableSelect,null),filterable:Ye(fe.filterable,!1),nodeKey:Ye(fe.formNodeKey,fe.nodeKey),accordion:Ye(fe.formAccordion,fe.accordion,!1),leafOnly:Ye(fe.formLeafOnly,fe.leafOnly,!1),showCheckbox:Ye(fe.formShowCheckboxn,fe.showCheckbox,!1),checkStrictly:Ye(fe.formCheckStrictly,fe.checkStrictly,!1),renderAfterExpand:Ye(fe.formRenderAfterExpand,fe.renderAfterExpand,!1),treeSelectProps:Ye(fe.formTreeSelectProps,fe.treeSelectProps,null),treeSelectNodeClick:Ye(fe.treeSelectNodeClickForm,fe.treeSelectNodeClick,null),treeSelectNodeContextmenu:Ye(fe.treeSelectNodeContextmenuForm,fe.treeSelectNodeContextmenu,null),treeSelectCheck:Ye(fe.treeSelectCheckForm,fe.treeSelectCheck,null),treeSelecCheckChange:Ye(fe.treeSelecCheckChangeForm,fe.treeSelecCheckChange,null),treeSelecNodeExpand:Ye(fe.treeSelecNodeExpandForm,fe.treeSelecNodeExpand,null),treeSelecNodeCollapse:Ye(fe.treeSelecNodeCollapseForm,fe.treeSelecNodeCollapse,null),treeSelecCurrentChange:Ye(fe.treeSelecCurrentChangeForm,fe.treeSelecCurrentChange,null)};return!((Dt=fe.dicData)!=null&&Dt.length)&&fe.loadDicData&&qB(_t,fe,"dicData"),_t}).filter(fe=>fe.sort&&fe.prop).sort((fe,_t)=>fe.sort-_t.sort),dt=(fe,_t)=>{var Qt;const Dt={prop:fe.prop,type:Ye(fe.searchType,fe.type),multiple:Ye(fe.searchMultiple,fe.multiple),searchFormat:Ye(fe.searchFormat,null),label:Ye(fe.searchLabel,fe.label),defaultValue:Ye(fe.searchDefaultValue,fe.defaultValue,null),placeholder:Ye(fe.searchPlaceholder,fe.placeholder,null),dicData:Ye(fe.searchDicData,fe.dicData,[]),loadDicData:Ye(fe.searchLoadDicData,fe.loadDicData,null),disabled:Ye(fe.searchDisabled,fe.disabled,!1),readonly:Ye(fe.searchReadonly,fe.readonly,!1),prefix:Ye(fe.searchPrefix,fe.prefix,null),suffix:Ye(fe.searchSuffix,fe.suffix,null),prepend:Ye(fe.searchPrepend,fe.prepend,null),append:Ye(fe.searchAppend,fe.append,null),hide:Ye(fe.searchHide,!1),sort:Ye(fe.searchSort,fe.sort,_t),nodeKey:Ye(fe.searchNodeKey,fe.nodeKey),accordion:Ye(fe.searchAccordion,fe.accordion,!1),leafOnly:Ye(fe.searchLeafOnly,fe.leafOnly,!1),showCheckbox:Ye(fe.searchShowCheckboxn,fe.showCheckbox,!1),checkStrictly:Ye(fe.searchCheckStrictly,fe.checkStrictly,!1),renderAfterExpand:Ye(fe.searchRenderAfterExpand,fe.renderAfterExpand,!1),treeSelectProps:Ye(fe.searchTreeSelectProps,fe.treeSelectProps,null),treeSelectNodeClick:Ye(fe.treeSelectNodeClickSearch,fe.treeSelectNodeClick,null),treeSelectNodeContextmenu:Ye(fe.treeSelectNodeContextmenuSearch,fe.treeSelectNodeContextmenu,null),treeSelectCheck:Ye(fe.treeSelectCheckSearch,fe.treeSelectCheck,null),treeSelecCheckChange:Ye(fe.treeSelecCheckChangeSearch,fe.treeSelecCheckChange,null),treeSelecNodeExpand:Ye(fe.treeSelecNodeExpandSearch,fe.treeSelecNodeExpand,null),treeSelecNodeCollapse:Ye(fe.treeSelecNodeCollapseSearch,fe.treeSelecNodeCollapse,null),treeSelecCurrentChange:Ye(fe.treeSelecCurrentChangeSearch,fe.treeSelecCurrentChange,null)};return!((Qt=fe.dicData)!=null&&Qt.length)&&fe.loadDicData&&qB(Dt,fe,"dicData"),Dt},Qe=re.searchColumns.map((fe,_t)=>(Ue(fe),dt(fe,_t))),wt=Qe.length,vt=Qe.concat((fe=>{let _t=[];return fe.forEach((Dt,Qt)=>{Dt.searchType&&_t.push(dt(Dt,Qt+wt))}),_t})(ot)),Ge=O4(vt.sort((fe,_t)=>fe.sort-_t.sort),"prop");we&&we({formColumns:je,searchColumns:Ge,columns:Ae})})(ue,({formColumns:re,searchColumns:we,columns:Ae})=>{u.value=we,c.value=re,l.value=Ae})},h=B(t.data),f=B((()=>{const ue=u.value;let re={};for(let we=0;we<ue.length;we++){const Ae=ue[we];Ya(Ae.defaultValue)&&(re[Ae.prop]=Ae.defaultValue)}return re})()),p=ue=>{const re=nr(Rs(ue));U2(f.value,re)||(t.page.pageIndex=1,f.value=re),e("confirm-search",re)},m=()=>{e("clear-search")},y=()=>{p(f.value)};Ee(()=>t.data,ue=>{h.value=ue},{immediate:!0}),Ee(()=>a,ue=>{d(ue.value)},{deep:!0,immediate:!0});const v=B(o.defaultContentHeight),b=B(),w=B(),_=B(),C=B(),x=B(null),T=()=>{it(()=>{var re,we,Ae;const ue=(((re=b.value)==null?void 0:re.clientHeight)||0)-((((we=w.value)==null?void 0:we.clientHeight)||0)+(((Ae=C.value)==null?void 0:Ae.clientHeight)||0));v.value=ue})},k=ue=>{ue.key!=="F11"&&ue.type!=="fullscreenchange"||T()};Et(()=>{mg(b.value,()=>{T()}),o.initLoadData&&p(f.value),o.fullscreenchangeContentHeight&&(document.addEventListener("fullscreenchange",k),document.addEventListener("keydown",k))}),ma(()=>{o.fullscreenchangeContentHeight&&(document.removeEventListener("fullscreenchange",k),document.removeEventListener("keydown",k))});const N=ue=>{t.page.pageIndex=ue.pageIndex,t.page.pageSize=ue.pageSize,e("change-pagination",ue),p(f.value)},O=B([]),L=ue=>{O.value=ue,e("selection-change",O.value)};At("multipleSelection",O);const V=an({visible:!1,title:i("next.table.add"),rowInfo:{},isEditing:!0}),H=(ue={})=>{const{dialogTitle:re}=o;V.isEditing=!0,V.title=re+" "+i("next.table.add"),V.rowInfo=ue,e("click-add-edit",ue),it(()=>{V.visible=!0})},K=ue=>{e("delete-rows",ue,()=>{y()})},U=ue=>{e("delete-row",ue,()=>{y()})},R=ue=>{const{dialogTitle:re}=o;V.isEditing=!0,V.title=re+" "+i("next.table.edit"),V.rowInfo=ue.row,e("click-add-edit",ue.row),it(()=>{V.visible=!0})},W=ue=>{const{dialogTitle:re}=o;V.isEditing=!1,V.title=re+" "+i("next.table.view"),V.rowInfo=ue.row,e("view-add-edit",ue.row),it(()=>{V.visible=!0})},G=()=>{V.visible=!1,V.title="",V.rowInfo={},e("close-add-edit")},P=(...ue)=>{e("submit-form",...ue)},j=B([]),J=B([]),ne=B([]);for(const ue in n)ue.includes("column-")?j.value.push(ue):ue.includes("search-")?J.value.push(ue):ue.includes("form-")&&ne.value.push(ue);At("columnSlots",j),At("searchFormSlots",J),At("addEditFormSlots",ne);const te=ue=>{const{pageIndex:re,pageSize:we}=t.page;return(re-1)*we+(ue+1)},de=D(()=>{const{total:ue}=t.page,re=document.createElement("span");re.innerText=ue,re.style.visibility="hidden",document.body.appendChild(re);const we=re.getBoundingClientRect().width,Ae=Math.ceil(we)+25;return document.body.removeChild(re),Ae>50?Ae:50}),me={};J.value.forEach(ue=>{me[ue]=(...re)=>n[ue]&&n[ue](...re)});const _e={};j.value.forEach(ue=>{_e[ue]=(...re)=>n[ue]&&n[ue](...re)});const ee={};ne.value.forEach(ue=>{ee[ue]=(...re)=>n[ue]&&n[ue](...re)});const he={};mYt.forEach(ue=>{he[ue]=(...re)=>n[ue]&&n[ue](...re)});const le={};return gYt.forEach(ue=>{le[ue]=(...re)=>n[ue]&&n[ue](...re)}),s({onClickRowAdd:H,columns:l.value,getFormExpose:()=>{var ue;return(ue=x.value)==null?void 0:ue.getFormExpose()},updateColumns:ue=>{d(ue)},getSearchFormParams:()=>f.value}),()=>{var ue,re;return $(He,null,[$(He,null,[$("div",{ref:b,class:[s2.b(),t.className],style:t.style},[o.showSearchForm||o.showHeaderMenu?$("header",{ref:w,class:s2.b("header")},[o.showSearchForm&&$(vYt,{columns:u.value,onZoomResize:T,onConfirmSearch:p,onClearSearch:m},n2(me)?me:{default:()=>[me]}),o.showHeaderMenu&&$(bYt,{onClickAdd:H,onDeleteRows:K,onClickRefresh:y},n2(he)?he:{default:()=>[he]}),(ue=n["table-head-tip"])==null?void 0:ue.call(n)]):null,$(t7,{loading:t.loading},{default:()=>[$("div",{ref:_,class:s2.b("content")},[$(lE,{data:h.value,height:v.value,rowKey:o.rowKey,border:o.border,stripe:o.stripe,fit:o.fit,size:o.size,"row-style":o.rowStyle,"row-class-name":o.rowClassName,"cell-style":o.cellStyle,"cell-class-name":o.cellClassName,"header-row-style":o.headerRowStyle,"header-row-class-name":o.headerRowClassName,"header-cell-style":o.headerCellStyle,"header-cell-class-name":o.headerCellClassName,"span-method":t.spanMethod,"onSelection-change":L,"onRow-click":(...we)=>e("row-click",...we),"onRow-contextmenu":(...we)=>e("row-contextmenu",...we),"onRow-dblclick":(...we)=>e("row-dblclick",...we),"onCell-click":(...we)=>e("cell-click",...we),"onCell-dblclick":(...we)=>e("cell-dblclick",...we),"onCell-contextmenu":(...we)=>e("cell-contextmenu",...we),"onCell-mouse-enter":(...we)=>e("cell-mouse-enter",...we),"onCell-mouse-leave":(...we)=>e("cell-mouse-leave",...we),"onExpand-change":(...we)=>e("expand-change",...we)},{default:()=>{var we;return[o.index?$(Zi,{type:"index",label:"#",width:de.value,index:te,fixed:"left",headerAlign:o.headerAlign,align:o.cellAlign},null):null,o.selection?$(Zi,{type:"selection",fixed:"left",label:i("next.table.selectionAll"),width:55,headerAlign:o.headerAlign,align:o.cellAlign},null):null,(we=n.default)==null?void 0:we.call(n),l.value.map(Ae=>$(Gne,{columnOption:Ae,key:Ae.prop},n2(_e)?_e:{default:()=>[_e]})),o.operations?$(_Yt,{onEditRow:R,onViewRow:W,onDeleteRow:U},n2(le)?le:{default:()=>[le]}):null]},empty:()=>$(fw,{imageSize:v.value>220?100:50,description:i("next.table.notData")},null)})])]}),o.isPagination?$("div",{ref:C,class:s2.b("footer")},[$(wYt,{page:t.page,onChange:N},null),(re=n["table-footer-tip"])==null?void 0:re.call(n)]):null,$(qne,{modelValue:V.visible,"onUpdate:modelValue":we=>V.visible=we,title:V.title,width:o.dialogWidth,fullscreen:o.dialogFullscreen,closeOnClickModal:o.closeOnClickModal,onClose:G},{default:()=>$(kYt,{ref:x,formDatum:V.rowInfo,columns:c.value,isEditing:V.isEditing,onClose:G,onSubmit:P},n2(ee)?ee:{default:()=>[ee]})})])])])}}});const R4=Ur($Yt);var EYt={className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},loading:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},page:{type:Object,default:()=>({pageIndex:1,pageSize:10,total:0})}},IYt={};const NYt=Vs("crud-table-virtualized"),Jne=Ur(Z({name:"NextCrudTableVirtualized",props:EYt,setup(t,{emit:e}){const n=nr(IYt),s=D(()=>{const l=g(t.options);return sf(n,l)}),r=g(s);At("options",D(()=>s.value));const{t:a}=As(),o=an({visible:!1,title:a("next.table.add"),rowInfo:{},isEditing:!0}),i=()=>{o.visible=!1,o.title="",o.rowInfo={},e("close-add-edit")};return()=>$(He,null,[$("div",{class:[NYt.b(),t.className]},[$(Lf,null,null),$(y8,{modelValue:o.visible,"onUpdate:modelValue":l=>o.visible=l,title:o.title,width:r.dialogWidth,fullscreen:r.dialogFullscreen,closeOnClickModal:r.closeOnClickModal,onClose:i},null)])])}})),Lf=Ur(t7),AYt=Vs("upload"),ese=Ur(Z({name:"NextUpload",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},listType:{type:String,values:["text","picture","picture-card"],default:"picture-card"},accept:{type:String,default:"image/*"}},emits:["change","remove","preview"],setup(){const{appContext:t}=Ht(),{t:e}=As();return{t:e,appContext:t}},render(){const t=this.$slots,e=this.$props,n=this.$emit,s=this.t,r=B([]),a=document.getElementsByTagName("body")[0];let o=null;return $(xE,{class:[AYt.b(),e.className],style:e.style,"list-type":e.listType,"auto-upload":!1,"on-preview":i=>{const l=r.value.findIndex(c=>c.url===i.url)||0;o&&(Ta(null,o),a.removeChild(o)),o=document.createElement("div"),a.appendChild(o);const u=$({render:()=>pt(M4,{to:"body"},[pt(pw,{initialIndex:l,"url-list":r.value.map(c=>c.url),onClose:()=>{Ta(null,o)}})])});o.appContext=this.appContext,Ta(u,o),n("preview",i)},onChange:(i,l)=>{r.value=l,n("change",i,l)},onRemove:(i,l)=>{r.value=l,n("remove",i,l)}},{trigger:()=>t.default?t.default():e.listType==="picture-card"?$(Je,null,{default:()=>[$(j1,null,null)]}):$(Hn,{link:!0,text:!0,type:"primary"},{default:()=>[$(Je,null,{default:()=>[$(j1,null,null)]}),$("em",null,[s("next.form.selectFile")])]})})}})),az=Vs("video-player");var DYt=Z({name:"NextVideoPlayer",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},type:{type:String,default:"mp4",values:["mp4","m3u8","flv","mpegts"]},src:{type:String,default:""},autoplay:{type:Boolean,default:!0},tensorflow:{type:Object}},emits:["loaded","play","error","detector"],setup(t,{emit:e,expose:n}){const{lang:s}=As(),r={"zh-cn":uB,en:Sjt,"zh-tw":uGt};r[s.value]?et.addLanguage("zh-CN",r[s.value]):et.addLanguage("zh-CN",uB);const a=Rs(t.src),o=B(),i=B(),l=B(),u=B(),c=B(),d=B(null),h=B(null),f=y=>{const v=$({render:()=>pt("span",{class:"screemshot-btn",onClick:()=>((b,w)=>{const _=p1(sht(),"YYYY-MM-DD_HH-mm-ss").value,C=b.el().getElementsByTagName("video")[0],x=document.createElement("canvas"),T=C.videoWidth,k=C.videoHeight;x.width=T,x.height=k;const N=x.getContext("2d"),O=T/k,L=x.width/x.height,V=T,H=k;let K,U,R,W;O>L?(R=x.width,W=x.width/O,K=0,U=Math.round((x.height-W)/2)):O===L?(R=x.width,W=x.height,K=0,U=0):O<L&&(R=x.height*O,W=x.height,K=Math.round((x.width-R)/2),U=0),N.drawImage(C,0,0,V,H,K,U,R,W),w&&N.drawImage(w,0,0);let G=x.toDataURL("image/png",.92).replace("image/png","image/octet-stream");G=G.replace(/^data:image\/[^;]+/,"data:application/octet-stream");const P=document.createElement("a");P.href=G,P.download=_+"_screenshot.png",P.click()})(l.value,h.value)},[pt(Je,{color:"#FFFFFF",size:"22px"},{default:()=>pt(bKt)})])});l.value.on("loadedmetadata",()=>{Ta(v,y)})},p=(y,v)=>{if(!t.tensorflow)return;const{modelUrl:b,classNames:w}=t.tensorflow;if(!b)throw new Error("");if(!w||!w.length)throw new Error("");y.innerHTML="",gA(b).then(_=>{const C=document.createElement("canvas");C.className=az.b("recongition"),y.appendChild(C);const x=C.getContext("2d"),T=document.createElement("canvas").getContext("2d");v.ontimeupdate=()=>{const{videoWidth:k,videoHeight:N,offsetTop:O,offsetLeft:L}=v;C.width=k,C.height=N,C.style.top=O+"px",C.style.left=L+"px",Nne(v,_,x,qZ,w,[],T)},d.value=_,h.value=C})};ma(()=>{d.value&&(vn(),d.value.dispose(),d.value=null),l.value&&(l.value.mse&&(l.value.mse.endOfStream(),l.value.mse.unload(),l.value.mse=null),l.value.pause(),l.value.dispose(),l.value=null),u.value&&(u.value.pause(),u.value.unload(),u.value.detachMediaElement(),u.value.destroy(),u.value=null),c.value&&(c.value.pause(),c.value.unload(),c.value.detachMediaElement(),c.value.destroy(),c.value=null),o.value&&Ta(null,o.value)});const m=y=>{if(!y)return(()=>{const b=o.value,w=document.createElement("video");w.className="video-js vjs-default-skin",t.autoplay&&w.setAttribute("autoplay","true"),w.setAttribute("muted","true"),i.value=w,b.appendChild(w),l.value=et(w,{techOrder:["html5"],controls:!0,fluid:!0,preload:"auto",language:"zh-CN",sources:[]});const _=document.createElement("div");b.children[0].appendChild(_),l.value.on("play",()=>{e("play",w,b),p(_,w)}),f(b),e("loaded",{player:l.value,video:w})})(),!1;const v=t.type;v==="m3u8"?(b=>{const w=o.value,_=document.createElement("video");_.className="video-js vjs-default-skin",t.autoplay&&_.setAttribute("autoplay","true"),_.setAttribute("muted","true"),i.value=_,w.appendChild(_);const C={techOrder:["html5"],flvjs:{mediaDataSource:{cors:!0,withCredentials:!1}},controls:!0,fluid:!0,preload:"auto",language:"zh-CN",sources:[{src:b,type:"application/x-mpegURL"}]};l.value=et(_,C);const x=document.createElement("div");w.children[0].appendChild(x),l.value.on("play",()=>{e("play",_,w),p(x,_)}),f(w),e("loaded",{player:l.value,video:_})})(y):v==="mp4"?(b=>{const w=o.value,_=document.createElement("video");_.className="video-js vjs-default-skin",t.autoplay&&_.setAttribute("autoplay","true"),_.setAttribute("muted","true"),i.value=_,w.appendChild(_);const C={techOrder:["html5"],controls:!0,fluid:!0,preload:"auto",language:"zh-CN",sources:[{src:b,type:"video/mp4"}]};l.value=et(_,C);const x=document.createElement("div");w.children[0].appendChild(x),l.value.on("play",()=>{e("play",_,w),p(x,_)}),f(w),e("loaded",{player:l.value,video:_})})(y):v==="mpegts"?(async b=>{let w=window.mpegts;if(w||(w=await W2(()=>import("./mpegts.erFK4ITD.js").then(_=>_.m),[])),w&&w.getFeatureList().mseLivePlayback){const _=o.value,C=document.createElement("video");C.className="video-js vjs-default-skin",t.autoplay&&C.setAttribute("autoplay","true"),C.setAttribute("muted","true"),i.value=C,_.appendChild(C);const x={controls:!0,autoplay:!1,fluid:!0,muted:!0,liveui:!0,preload:"auto",language:"zh-CN"};l.value=et(C,x),c.value=w.createPlayer({enableWorker:!0,type:"flv",isLive:!0,url:b}),c.value.attachMediaElement(C),c.value.load(),c.value.on("error",()=>{e("error",C)}),f(_);const T=document.createElement("div");_.children[0].appendChild(T),c.value.on("metadata_arrived",()=>{e("play",C,_),p(T,C)}),e("loaded",{player:l.value,video:C})}})(y):v==="flv"&&(async b=>{let w=window.flvjs;w||(w=await W2(()=>import("./flv.Bd-y_1bn.js").then(T=>T.f),[]));const _=o.value,C=document.createElement("video");C.className="video-js vjs-default-skin",t.autoplay&&C.setAttribute("autoplay","true"),C.setAttribute("muted","true"),i.value=C,_.appendChild(C),l.value=et(C,{techOrder:["html5","flvjs"],flvjs:{mediaDataSource:{cors:!0,withCredentials:!1}},controls:!0,fluid:!0,preload:"auto",language:"zh-CN"}),w.isSupported()&&(u.value=w.createPlayer({type:"flv",url:b}),u.value.attachMediaElement(C),u.value.load());const x=document.createElement("div");_.children[0].appendChild(x),l.value.on("play",()=>{e("play",C,_),p(x,C)}),f(_),e("loaded",{player:l.value,video:C})})(y)};return Et(()=>{it(()=>{m(a)})}),n({getElement:()=>{const y=o.value,v=y.children[0];return{videoElement:i.value,container:y,palyerContainer:v}}}),()=>$(He,null,[$("div",{ref:o,class:[az.b(),t.className],style:t.style},null)])}});const tse=Ur(DYt),nse=Ur(Z({name:"NextDragResize",props:{},setup:()=>()=>$(He,null,[$(He,null,null)])}));var OYt=Z({props:{isFullscreen:{type:Boolean,default:!1},imageIndex:{type:Number,default:0},imageLength:{type:Number,default:0}},emits:["fullscreen","save"],setup(t,{emit:e}){const n=Le("ns",{}),s=Le("scaleTranslateManager",{}),r=s.scaleTranslate,{t:a}=As(),o=i=>{e("fullscreen",i),document.body.style.overflow=i?"hidden":"auto"};return()=>$(He,null,[$(He,null,[$("ul",{class:[n.be("header","tool")]},[$("li",{class:"hover",onClick:()=>e("save")},[$("svg",{t:"1719034799379",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4272",width:"18",height:"18"},[$("path",{d:"M831.4 252.2L711.5 132.4c-10.3-10.3-24.2-16.1-38.8-16.1h-450c-23.3 0-42.2 18.9-42.2 42.2v709.4c0 23.3 18.9 42.2 42.2 42.2h582.6c23.3 0 42.2-18.9 42.2-42.2V291c-0.1-14.5-5.8-28.5-16.1-38.8zM619.6 159v159.8c0 4-3.3 7.3-7.3 7.3H387.2c-4 0-7.3-3.3-7.3-7.3V159h239.7z m67.7 708.4H340.8v-292c0-3.9 3.2-7.1 7.1-7.1h332.4c3.9 0 7.1 3.2 7.1 7.1v292z m117.4 0H730v-292c0-27.5-22.3-49.8-49.8-49.8H347.8c-27.5 0-49.8 22.3-49.8 49.8v292h-74.7V159.1h113.9v159.8c0 27.6 22.4 50.1 50.1 50.1h225.1c27.6 0 50.1-22.4 50.1-50.1V159h10.4c3.2 0 6.3 1.3 8.6 3.6l119.9 119.9c2.3 2.3 3.6 5.3 3.6 8.6l-0.3 576.3z","p-id":"4273"},null),$("path",{d:"M536 196.3h42.7v87.2H536zM368.7 641.2h220.7v42.7H368.7zM368.7 744h170.9v42.7H368.7z","p-id":"4274"},null)]),$("span",{style:"padding-left: 3px"},[a("next.labelimg.saveLabel")])])]),$("ul",{class:[n.be("header","tool")]},[$("li",{class:"hover",onClick:()=>s.onResetScaleTranslate()},[$("svg",{t:"1725840994827",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6051",width:"18",height:"18"},[$("path",{d:"M322.794667 445.205333a34.133333 34.133333 0 0 1 2.218666 45.824l-2.218666 2.432a34.133333 34.133333 0 0 1-45.824 2.218667l-2.432-2.218667-149.333334-149.333333a34.133333 34.133333 0 0 1-2.218666-45.824l2.218666-2.432 149.333334-149.333333a34.133333 34.133333 0 0 1 50.474666 45.824l-2.218666 2.432-91.050667 91.050666L640 285.866667c160.234667 0 290.133333 129.898667 290.133333 290.133333 0 158.016-126.314667 286.506667-283.477333 290.048L640 866.133333H234.666667a34.133333 34.133333 0 0 1-3.114667-68.117333L234.666667 797.866667h405.333333c122.538667 0 221.866667-99.328 221.866667-221.866667 0-120.533333-96.106667-218.602667-215.850667-221.781333L640 354.133333l-408.256-0.021333 91.050667 91.093333z","p-id":"6052"},null)]),$("span",{style:"padding-left: 3px"},[a("next.labelimg.zoomRestore")])]),$("li",null,[$("span",null,[ct("")]),$("span",null,[parseInt((100*r.value.scale).toString()),ct("%")]),$("span",{style:"padding: 0 10px;"},[ct("")]),$("span",{style:"min-width: 120px; text-align: left;"},[ct("X: "),r.value.x,ct(", Y: "),r.value.y])]),t.imageLength?$("li",null,[$("span",null,[ct(" "),t.imageIndex+1,ct(" ")]),$("em",{style:"padding: 0 5px;"},[ct("/")]),$("span",null,[ct(" "),t.imageLength,ct(" ")])]):null,$("li",{style:"margin-right: 30px;",class:"hover"},[$(eE,{trigger:"hover",placement:"bottom",width:"none"},{reference:()=>$("div",{class:"flex-center"},[$("span",{style:"padding-right: 3px"},[a("next.labelimg.instructions")]),$(Je,{size:14},{default:()=>[$(Pne,null,null)]})]),default:()=>$("ul",{style:"font-size: 12px;white-space: nowrap;"},[$("li",null,[$("span",null,[ct("W")]),$("span",null,[ct("W")])]),$("li",null,[$("span",null,[ct("A")]),$("span",null,[ct("A")])]),$("li",null,[$("span",null,[ct("D")]),$("span",null,[ct("D")])]),$("li",null,[$("span",null,[ct("Ctrl+")]),$("span",null,[ct("Ctrl+")])]),$("li",null,[$("span",null,[ct("Ctrl+")]),$("span",null,[ct("Ctrl+")])])])})]),t.isFullscreen?$("li",{class:"hover",onClick:()=>o(!1)},[$(ys,{placement:"top",content:""},{default:()=>[$("svg",{t:"1719035442027",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5388",width:"18",height:"18"},[$("path",{d:"M354.133333 682.666667H256v-42.666667h170.666667v170.666667H384v-98.133334L243.2 853.333333l-29.866667-29.866666L354.133333 682.666667z m358.4 0l140.8 140.8-29.866666 29.866666-140.8-140.8V810.666667h-42.666667v-170.666667h170.666667v42.666667h-98.133334zM354.133333 384L213.333333 243.2l29.866667-29.866667L384 354.133333V256h42.666667v170.666667H256V384h98.133333z m358.4 0H810.666667v42.666667h-170.666667V256h42.666667v98.133333L823.466667 213.333333l29.866666 29.866667L712.533333 384z","p-id":"5389"},null)])]})]):$("li",{class:"hover",onClick:()=>o(!0)},[$(ys,{placement:"top",content:""},{default:()=>[$("svg",{t:"1719035375323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5241",width:"18",height:"18"},[$("path",{d:"M285.866667 810.666667H384v42.666666H213.333333v-170.666666h42.666667v98.133333l128-128 29.866667 29.866667-128 128z m494.933333 0l-128-128 29.866667-29.866667 128 128V682.666667h42.666666v170.666666h-170.666666v-42.666666h98.133333zM285.866667 256l128 128-29.866667 29.866667-128-128V384H213.333333V213.333333h170.666667v42.666667H285.866667z m494.933333 0H682.666667V213.333333h170.666666v170.666667h-42.666666V285.866667l-128 128-29.866667-29.866667 128-128z","p-id":"5242"},null)])]})])])])])}});const Nu=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],C2=t=>{const e=t.type,n=t.startX+t.rectWidth/2,s=t.startY+t.rectHeight/2;return[e,parseFloat((n/t.canvasWidth).toFixed(6)),parseFloat((s/t.canvasHeight).toFixed(6)),parseFloat((t.rectWidth/t.canvasWidth).toFixed(6)),parseFloat((t.rectHeight/t.canvasHeight).toFixed(6))]},RYt=(t,e,n)=>{const[s,r,a,o,i]=t,l=o*e,u=i*n,c=r*e-l/2,d=a*n-u/2;return{type:s,startX:Math.ceil(c),startY:Math.ceil(d),rectWidth:Math.ceil(l),rectHeight:Math.ceil(u),canvasWidth:e,canvasHeight:n}};var LYt=Z({props:{labelRect:{type:Object,default:()=>({})},classes:{type:Array,default:()=>[]},activateRect:{type:Object,default:null}},emits:["close","select","delete"],setup(t,{emit:e}){const n=Le("ns",{}),s=()=>{e("close")},r=()=>{e("delete",t.activateRect)},a=B();Ee(()=>t.activateRect,()=>{const{type:c}=t.activateRect;a.value=Ya(c)?c:null},{deep:!0,immediate:!0});const o=B({width:0,height:0});Et(()=>{const{clientWidth:c,clientHeight:d}=i.value;o.value.width=c,o.value.height=d});const i=B(),l=D(()=>{const{left:c,top:d}=t.labelRect,h=d+o.value.height-window.innerHeight;let f=d;return h>0&&(f-=h),{top:f+"px",left:c+"px"}}),u=()=>$("div",{ref:i,class:[n.b("contextmenu-label")],style:l.value},[$("div",{class:"label-head"},[$("span",{style:"padding-right: 30px"},[ct("")]),$(Je,{size:16,onClick:s},{default:()=>[$(H2,null,null)]})]),$("ul",{class:"label-main"},[t.classes.map((c,d)=>$("li",{key:d,onClick:()=>(h=>{a.value=h,e("select",h)})(d),class:{"activate-label":a.value===d}},[$("span",{style:{"background-color":Nu[d%Nu.length]},class:"label-line"},null),$("span",null,[c])]))]),Ya(a.value)?$("div",{style:"margin: 10px auto 0"},[$(Hn,{icon:cb,plain:!0,size:"small",type:"danger",onClick:r},{default:()=>[ct("")]})]):null]);return()=>$(He,null,[u()])}});class sse{constructor(e){cn(this,"canvas");cn(this,"canvasWidth");cn(this,"canvasHeight");cn(this,"ctx");cn(this,"scaleFactor",1);cn(this,"preScaleFactor",1);cn(this,"offset",{x:0,y:0});cn(this,"preOffset",{x:0,y:0});cn(this,"mousePositioin",{x:0,y:0});cn(this,"maxScale",8);cn(this,"minScale",.5);cn(this,"scaleStep",.1);cn(this,"clickX",0);cn(this,"clickY",0);cn(this,"observers",[]);cn(this,"onWindowWheel",e=>{e.ctrlKey&&e.preventDefault()});cn(this,"canvasMousewheel",e=>{e.preventDefault(),e.ctrlKey&&(this.mousePositioin.x=e.offsetX,this.mousePositioin.y=e.offsetY,e.deltaY>0?(this.scaleFactor=parseFloat((this.scaleFactor+this.scaleStep).toFixed(1)),this.scaleFactor>this.maxScale&&(this.scaleFactor=this.maxScale)):(this.scaleFactor=parseFloat((this.scaleFactor-this.scaleStep).toFixed(1)),this.scaleFactor<this.minScale&&(this.scaleFactor=this.minScale)),this.zoom())});this.canvas=e,this.canvasWidth=e.width,this.canvasHeight=e.height,this.ctx=e.getContext("2d"),this.canvasMousedown=this.canvasMousedown.bind(this),this.canvasMousemove=this.canvasMousemove.bind(this),this.canvasMouseup=this.canvasMouseup.bind(this),this.canvas.addEventListener("mousedown",this.canvasMousedown),this.canvas.addEventListener("wheel",this.canvasMousewheel,{passive:!1}),window.addEventListener("wheel",this.onWindowWheel,{passive:!1})}notifyObservers(e,n){this.observers.forEach(s=>{s({scale:e,...n})})}changeZoom(e){this.observers.push(e)}reset(){this.scaleFactor=1,this.preScaleFactor=1,this.offset={x:0,y:0},this.preOffset={x:0,y:0},this.mousePositioin={x:0,y:0},this.zoom()}render(){this.canvas.width=this.canvasWidth,this.notifyObservers(this.scaleFactor,this.offset)}zoom(){const e=this.mousePositioin.x-(this.mousePositioin.x-this.offset.x)*this.scaleFactor/this.preScaleFactor,n=this.mousePositioin.y-(this.mousePositioin.y-this.offset.y)*this.scaleFactor/this.preScaleFactor;this.offset.x=Math.ceil(e),this.offset.y=Math.ceil(n),this.render(),this.preScaleFactor=this.scaleFactor,this.preOffset.x=this.offset.x,this.preOffset.y=this.offset.y}canvasMousedown(e){e.preventDefault(),e.button===0&&e.ctrlKey&&(this.clickX=e.offsetX,this.clickY=e.offsetY,this.canvas.addEventListener("mousemove",this.canvasMousemove),this.canvas.addEventListener("mouseup",this.canvasMouseup))}canvasMousemove(e){e.preventDefault(),e.ctrlKey&&(this.offset.x=Math.ceil(this.preOffset.x+(e.offsetX-this.clickX)),this.offset.y=Math.ceil(this.preOffset.y+(e.offsetY-this.clickY)),this.render())}canvasMouseup(e){e.preventDefault(),e.ctrlKey&&(this.preOffset.x=this.offset.x,this.preOffset.y=this.offset.y,this.canvas.removeEventListener("mousemove",this.canvasMousemove),this.canvas.removeEventListener("mouseup",this.canvasMouseup))}destroy(){this.canvas.removeEventListener("mousedown",this.canvasMousedown),this.canvas.removeEventListener("mousemove",this.canvasMousemove),this.canvas.removeEventListener("mouseup",this.canvasMouseup),this.canvas.removeEventListener("wheel",this.canvasMousewheel),window.removeEventListener("wheel",this.onWindowWheel)}}const{hexToRgb:PYt}=Ti();var MYt=Z({props:{parentEl:{type:Object,default:null},rect:{type:Object,default:()=>({})},color:{type:String,default:null}},emits:["draggle-resize","contextmenu"],setup(t,{emit:e}){const n=Le("scaleTranslateManager",{}).scaleTranslate,s=B(!1),r=B({topLeft:!1,topCenter:!1,topRight:!1,leftCenter:!1,rightCenter:!1,bottomLeft:!1,bottomCenter:!1,bottomRight:!1}),a=B({diff_x:null,diff_y:null});let o={};const i=Nn(t.rect),l=c=>{c.preventDefault(),c.stopPropagation(),s.value=!1,r.value.topLeft=!1,r.value.topCenter=!1,r.value.topRight=!1,r.value.leftCenter=!1,r.value.rightCenter=!1,r.value.bottomLeft=!1,r.value.bottomCenter=!1,r.value.bottomRight=!1,e("draggle-resize",i.value)},u=c=>{const{scale:d,x:h,y:f}=n.value,p=30/d,m=Math.ceil(i.value.startX*d+h),y=Math.ceil(i.value.startY*d+f);if(s.value){const v=c.clientX-o.left-a.value.diff_x,b=c.clientY-o.top-a.value.diff_y,w=Math.ceil((v-h)/d),_=Math.ceil((b-f)/d);i.value.startX=Math.max(0,Math.min(w,o.width-i.value.rectWidth)),i.value.startY=Math.max(0,Math.min(_,o.height-i.value.rectHeight))}if(r.value.bottomCenter){let v=Math.floor((c.clientY-o.top-y)/d);v<p&&(v=p),v+i.value.startY>o.height&&(v=o.height-i.value.startY),i.value.rectHeight=v}if(r.value.topCenter){let v=Math.floor((c.clientY-o.top-f)/d),b=i.value.startY-v+i.value.rectHeight;if(v<0||b<p)return;i.value.rectHeight=b,i.value.startY=Math.max(0,Math.min(v,o.height-i.value.rectHeight))}if(r.value.leftCenter){let v=Math.floor((c.clientX-o.left-h)/d),b=i.value.startX-v+i.value.rectWidth;if(v<0||b<p)return;i.value.startX=Math.max(0,Math.min(v,o.width-i.value.rectWidth)),i.value.rectWidth=b}if(r.value.rightCenter){let v=Math.floor((c.clientX-o.left-m)/d);v<p&&(v=p),v+i.value.startX>o.width&&(v=o.width-i.value.startX),i.value.rectWidth=v}if(r.value.bottomRight){let v=Math.floor((c.clientX-o.left-m)/d),b=Math.floor((c.clientY-o.top-y)/d);v<p&&(v=p),b<p&&(b=p),v+i.value.startX>o.width&&(v=o.width-i.value.startX),b+i.value.startY>o.height&&(b=o.height-i.value.startY),i.value.rectWidth=v,i.value.rectHeight=b}if(r.value.bottomLeft){let v=Math.floor((c.clientX-o.left-h)/d),b=i.value.startX-v+i.value.rectWidth,w=Math.floor((c.clientY-o.top-y)/d);if(v<0||b<p)return;w<p&&(w=p),w+i.value.startY>o.height&&(w=o.height-i.value.startY),i.value.startX=Math.max(0,Math.min(v,o.width-i.value.rectWidth)),i.value.rectWidth=b,i.value.rectHeight=w}if(r.value.topLeft){let v=Math.floor((c.clientY-o.top-f)/d),b=i.value.startY-v+i.value.rectHeight;if(v<0||b<p)return;i.value.rectHeight=b,i.value.startY=Math.max(0,Math.min(v,o.height-i.value.rectHeight));let w=Math.floor((c.clientX-o.left-h)/d),_=i.value.startX-w+i.value.rectWidth;if(w<0||_<p)return;i.value.startX=Math.max(0,Math.min(w,o.width-i.value.rectWidth)),i.value.rectWidth=_}if(r.value.topRight){let v=Math.floor((c.clientY-o.top-f)/d),b=i.value.startY-v+i.value.rectHeight;if(v<0||b<p)return;i.value.rectHeight=b,i.value.startY=Math.max(0,Math.min(v,o.height-i.value.rectHeight));let w=Math.floor((c.clientX-o.left-m)/d);w<p&&(w=p),w+i.value.startX>o.width&&(w=o.width-i.value.startX),i.value.rectWidth=w}};return Et(()=>{o=t.parentEl.getBoundingClientRect(),document.addEventListener("mousemove",u),document.addEventListener("mouseup",l)}),ma(()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",l)}),{onMousedown:c=>{c.preventDefault(),s.value=!0,a.value.diff_x=c.offsetX,a.value.diff_y=c.offsetY},onMouseup:l,onContextmenu:c=>{c.preventDefault(),c.preventDefault(),e("contextmenu",c,i.value)},rect:i,onMousedownDot:(c,d)=>{c.preventDefault(),c.stopPropagation(),r.value[d]=!0}}},render(){const t=Le("ns",{}),e=Le("scaleTranslateManager",{}).scaleTranslate,n=this.$props;return $("div",{class:[t.b("draggable-rect")],style:(()=>{const{startX:s,startY:r,rectWidth:a,rectHeight:o}=((u,c)=>{const{startX:d,startY:h,rectWidth:f,rectHeight:p}=u,{scale:m,x:y,y:v}=c;return{startX:Math.ceil(d*m+y),startY:Math.ceil(h*m+v),rectWidth:Math.ceil(f*m),rectHeight:Math.ceil(p*m),canvasWidth:u.canvasWidth,canvasHeight:u.canvasHeight,originWidth:u.originWidth,originHeight:u.originHeight}})(this.rect,e.value),i={top:r+"px",left:s+"px",width:a+"px",height:o+"px"},l=n.color;if(l){const u=PYt(l);u&&(i.backgroundColor=`rgba(${u[0]},${u[1]},${u[2]}, 0.5)`)}return i})(),onMousedown:this.onMousedown,onMouseup:this.onMouseup,onContextmenu:this.onContextmenu},[$("ul",{class:[t.be("draggable-rect","resize")]},[$("li",{class:"top-left",onMousedown:s=>this.onMousedownDot(s,"topLeft")},null),$("li",{class:"top-center",onMousedown:s=>this.onMousedownDot(s,"topCenter")},null),$("li",{class:"top-right",onMousedown:s=>this.onMousedownDot(s,"topRight")},null),$("li",{class:"left-center",onMousedown:s=>this.onMousedownDot(s,"leftCenter")},null),$("li",{class:"right-center",onMousedown:s=>this.onMousedownDot(s,"rightCenter")},null),$("li",{class:"bottom-left",onMousedown:s=>this.onMousedownDot(s,"bottomLeft")},null),$("li",{class:"bottom-center",onMousedown:s=>this.onMousedownDot(s,"bottomCenter")},null),$("li",{class:"bottom-right",onMousedown:s=>this.onMousedownDot(s,"bottomRight")},null)])])}}),FYt=Z({name:"NextCanvasContext",props:{classes:{type:Array,default:()=>[]},contextClientHeight:{type:Number,default:null},rowInfo:{type:Object,default:()=>({})}},emits:["change"],setup(t,{emit:e,expose:n}){const s=Le("ns",{}),r=Le("_emit",null),a=Le("scaleTranslateManager",{}),o=B(),i=B(),l=B(),u=B(),c=B([]),d=B({}),h=B(),f=()=>{const H=nr(c.value);let K=[];return{rects:H.map(U=>{delete U.typeName;const R=C2(U);return K.push(R.join(" ")),Rs(U)}),label_txt:K.join(`
`)}},p=(H,K)=>{i.value.style.width=H+"px",i.value.style.height=K+"px",l.value.width=H,l.value.height=K,l.value.style.width=H+"px",l.value.style.height=K+"px",u.value.width=H,u.value.height=K,u.value.style.width=H+"px",u.value.style.height=K+"px"},m=B(!1),y=H=>{var U;const K=(U=l.value)==null?void 0:U.getContext("2d");if(H!=null&&H.imageSrc){const R=new Image;R.src=H.imageSrc,m.value=!0,R.onload=()=>{m.value=!1;const{canvasWidth:W,canvasHeight:G,scaleFactor:P,originWidth:j,originHeight:J}=(ee=>{var ot,Pe;const he=(ot=o.value)==null?void 0:ot.elementInstance.clientWidth,le=(Pe=o.value)==null?void 0:Pe.elementInstance.clientHeight;let{width:ue,height:re}=ee,we=1;const Ae=ue/re;if(Ae>1?(ue=he,re=he/Ae):(ue=le*Ae,re=le),re>le){const je=re/le;re=le,ue/=je}else if(ue>he){const je=ue/he;ue=he,re/=je}const Ue=parseInt(ue.toString()),at=parseInt(re.toString());return we=Number((Ue/at).toFixed(2)),{canvasWidth:Ue,canvasHeight:at,scaleFactor:we,originWidth:ee.width,originHeight:ee.height}})(R);c.value=((ee,he,le)=>ee.labels?ee.labels.map(ue=>{const re=t.classes[ue.type];return re&&(ue.typeName=re),ue.originWidth||(ue.originWidth=he),ue.originHeight||(ue.originHeight=le),ue}):[])(H,j,J),R.style.width=W+"px",R.style.height=G+"px",p(W,G),c.value=((ee,he)=>{let le=[];for(let ue=0;ue<ee.length;ue++){const re=ee[ue],we=parseFloat((he/re.canvasHeight).toFixed(3));we&&(re.startX=Math.ceil(re.startX*we),re.startY=Math.ceil(re.startY*we),re.rectWidth=Math.ceil(re.rectWidth*we),re.rectHeight=Math.ceil(re.rectHeight*we),re.canvasWidth=Math.ceil(re.canvasWidth*we),re.canvasHeight=he),le.push(re)}return le})(c.value,G);const{updateLabels:ne,addDrawRect:te,hitCanvasLabel:de}=(ee=>{const{canvas:he,ctx:le,labels:ue,image:re,canvasWidth:we,canvasHeight:Ae,scaleOffset:Ue}=ee,at=()=>{var Qe;he.width=we,Ue.value&&(le.save(),le.translate(Ue.value.x,Ue.value.y),le.scale(Ue.value.scale,Ue.value.scale)),le.clearRect(0,0,we,Ae),le.drawImage(re,0,0,we,Ae);const ot=((Qe=Ue.value)==null?void 0:Qe.scale)||1,Pe=14/ot,je=6/ot,dt=2/ot;for(let wt=0;wt<ue.length;wt++){const vt=ue[wt],{startX:Ge,startY:fe,rectWidth:_t,rectHeight:Dt,type:Qt}=vt,rn=Nu[Qt%Nu.length];if(le.font=`bold ${Pe}px serif`,le.textBaseline="top",le.save(),le.strokeStyle=rn,le.lineWidth=dt,le.strokeRect(Ge,fe,_t,Dt),Ya(vt.typeName)||Ya(vt.type)){const Cn=vt.typeName||vt.type;le.fillStyle=rn,le.fillText(Cn,Ge+je,fe+je)}le.restore()}};return at(),{updateLabels:at,addDrawRect:(ot,Pe="#f30635")=>{var fe;const je=((fe=Ue.value)==null?void 0:fe.scale)||1,{startX:dt,startY:Qe,rectWidth:wt,rectHeight:vt}=ot;le.save();const Ge=2/je;le.lineWidth=Ge,le.strokeStyle=Pe,le.strokeRect(dt,Qe,wt,vt),le.restore()},hitCanvasLabel:(ot,Pe)=>{let je=null,dt=null,Qe=null;for(let wt=0;wt<ue.length;wt++){const vt=ue[wt],{type:Ge,startX:fe,startY:_t,rectWidth:Dt,rectHeight:Qt}=vt;ot>=fe&&ot<=fe+Dt&&Pe>=_t&&Pe<=_t+Qt&&(je=vt,dt=wt,Qe=Nu[Ge])}return{hit_rect:je,hit_index:dt,color:Qe}}}})({canvas:l.value,ctx:K,image:R,canvasWidth:W,canvasHeight:G,labels:c.value,scaleFactor:P,scaleOffset:a.scaleTranslate});d.value.updateLabels=ne,d.value.addDrawRect=te,d.value.hitCanvasLabel=de;const{clearCanvas:me,removeEventAll:_e}=(({canvas:ee,originWidth:he,originHeight:le},ue,re)=>{const we=ee.width,Ae=ee.height,Ue=ee==null?void 0:ee.getContext("2d"),at=()=>{Ue.clearRect(0,0,we,Ae)};at();let ot,Pe,je,dt,Qe=!1,wt=!1,vt=!1;const Ge=()=>{const It=Math.abs(je-ot),Re=Math.abs(dt-Pe);ot>je&&(ot=je),Pe>dt&&(Pe=dt),ue&&ue({startX:ot,startY:Pe,rectWidth:It,rectHeight:Re,canvasWidth:we,canvasHeight:Ae,originWidth:he,originHeight:le},{endX:je,endY:dt})},fe=It=>{vt||It.code==="KeyW"&&(It.preventDefault(),vt=!0,ee.style.cursor="crosshair",ee.style.zIndex="11",re&&re())},_t=It=>{Qe||It.code==="KeyW"&&(vt=!1,ee.style.cursor="unset",ee.style.zIndex="0")},Dt=()=>{wt&&(Qe=!1,vt=!1,ee.style.cursor="unset",ee.style.zIndex="0",Ge(),wt=!1)};document.addEventListener("keydown",fe),document.addEventListener("keyup",_t),document.addEventListener("mouseup",Dt);const Qt=It=>{vt&&(Qe=!0,ot=It.offsetX,Pe=It.offsetY)},rn=It=>{Qe&&vt&&(wt=!0,je=It.offsetX,dt=It.offsetY,Ct())},Cn=It=>{It.stopPropagation(),wt&&(Qe=!1,vt=!1,ee.style.cursor="unset",ee.style.zIndex="0",Ge(),wt=!1)};ee.addEventListener("mousedown",Qt),ee.addEventListener("mousemove",rn),ee.addEventListener("mouseup",Cn);const Ct=(It="#f30635")=>{at(),Ue.strokeStyle=It,Ue.strokeRect(ot,Pe,je-ot,dt-Pe)};return{canvas:ee,ctx:Ue,clearCanvas:at,drawRect:Ct,removeEventAll:()=>{document.removeEventListener("keydown",fe),document.removeEventListener("keyup",_t),document.removeEventListener("mouseup",Dt),ee.removeEventListener("mousedown",Qt),ee.removeEventListener("mousemove",rn),ee.removeEventListener("mouseup",Cn)}}})({canvas:u.value,originWidth:j,originHeight:J},(ee,{endX:he,endY:le})=>{O.value=ee;const ue=((re,we)=>{const{startX:Ae,startY:Ue,rectWidth:at,rectHeight:ot}=re,{scale:Pe,x:je,y:dt}=we;return{startX:Math.ceil((Ae-je)/Pe),startY:Math.ceil((Ue-dt)/Pe),rectWidth:Math.ceil(at/Pe),rectHeight:Math.ceil(ot/Pe),canvasWidth:re.canvasWidth,canvasHeight:re.canvasHeight,originWidth:re.originWidth,originHeight:re.originHeight}})(ee,a.scaleTranslate.value);d.value.addDrawRect(ue),b(he,le,ue)},()=>{T()});d.value.clearCanvasRect=me,d.value.removeEventAll=_e,h.value=new sse(l.value),h.value.changeZoom(ee=>{a.onChangeScaleTranslate(ee),d.value.updateLabels()})},R.onerror=()=>{m.value=!1}}l.value.addEventListener("contextmenu",R=>{R.preventDefault();const W=R.offsetX,G=R.offsetY,{scale:P,x:j,y:J}=a.scaleTranslate.value,ne=Math.floor((W-j)/P),te=Math.floor((G-J)/P),{hit_rect:de}=d.value.hitCanvasLabel(ne,te);w(),T(),de&&it(()=>{b(W,G,de)})}),l.value.addEventListener("click",R=>{if(R.ctrlKey)return;const W=R.offsetX,G=R.offsetY,{scale:P,x:j,y:J}=a.scaleTranslate.value,ne=Math.floor((W-j)/P),te=Math.floor((G-J)/P),{hit_rect:de,hit_index:me,color:_e}=d.value.hitCanvasLabel(ne,te);T(),w(),de&&it(()=>{x(W,G,de,me,_e)})})};Et(()=>{Ee(()=>t.rowInfo,H=>{const K=Rs(H);y(K)},{deep:!0,immediate:!0}),Ee(()=>t.classes,()=>{const H=Rs(t.rowInfo);y(H)}),Ee(()=>t.contextClientHeight,H=>{if(Ye(H)){i.value.style.height=H+"px";const K=Rs(t.rowInfo);y(K)}})}),ma(()=>{var H,K;(K=(H=d.value).removeEventAll)==null||K.call(H),h.value.destroy()});const v=B({show:!1,top:0,left:0,activateRect:null}),b=(H,K,U)=>{const R=l.value.getBoundingClientRect();v.value.show=!0,v.value.left=H+R.x,v.value.top=K+R.y,v.value.canvasWidth=l.value.width,v.value.canvasHeight=l.value.height,v.value.activateRect=U,O.value=U},w=()=>{v.value.show=!1,v.value.top=0,v.value.left=0,v.value.activateRect=null,O.value=null,d.value.updateLabels(),d.value.clearCanvasRect()},_=D(()=>{const{top:H,left:K,canvasWidth:U,canvasHeight:R}=v.value;return{top:H,left:K,canvasWidth:U,canvasHeight:R}}),C=B({show:!1,top:0,left:0,width:0,height:0,activateRect:null,activateIndex:null,color:null}),x=(H,K,U,R,W)=>{C.value.show=!0,C.value.top=K,C.value.left=H,C.value.width=U.rectWidth,C.value.height=U.rectHeight,C.value.activateRect=U,C.value.activateIndex=R,C.value.color=W},T=()=>{C.value.show=!1,C.value.top=0,C.value.left=0,C.value.width=0,C.value.height=0,C.value.activateRect=null,C.value.activateIndex=null,C.value.color=null},k=H=>{C.value.activateRect=H;const K=c.value.findIndex(W=>U2(W,H));K>-1&&c.value.splice(K,1,H),d.value.updateLabels();const{rects:U,label_txt:R}=f();r("change",U,R),e("change",U,R)},N=(H,K)=>{H.preventDefault();const U=H.offsetX,R=H.offsetY,W=U+K.startX,G=R+K.startY;w(),it(()=>{b(W,G,K)})},O=B(),L=H=>{O.value.type=H;const K=t.classes[H];K&&(O.value.typeName=K);const U=c.value.findIndex(G=>U2(G,O.value));U>-1?c.value.splice(U,1,O.value):c.value.push(O.value),w();const{rects:R,label_txt:W}=f();r("change",R,W),e("change",R,W)},V=H=>{const K=c.value.findIndex(W=>U2(W,H));c.value.splice(K,1),w(),T(),d.value.updateLabels();const{rects:U,label_txt:R}=f();r("change",U,R),e("change",U,R)};return n({onCloseDraggableRectFixed:T,onCloseContentmenuLabel:w,onSelectedLabel:(H,K)=>{T(),it(()=>{const{startX:U,startY:R,type:W}=H,G=Nu[W];x(U,R,c.value[K],K,G)})},onDeleteLabel:V,rerenderImage:()=>{p(0,0),w(),T(),it(()=>{const H=Rs(t.rowInfo);y(H)})},resetScaleOffset:()=>{h.value.reset()}}),()=>$(He,null,[$(Lf,{ref:o,loading:m.value,class:[s.b("loading")]},{default:()=>[$("div",{ref:i,class:[s.b("canvas")]},[$("canvas",{ref:l,class:[s.be("canvas","context")]},null),$("canvas",{ref:u,class:[s.be("canvas","rect")]},null),v.value.show?$(LYt,{labelRect:_.value,classes:t.classes,activateRect:v.value.activateRect,onClose:w,onSelect:L,onDelete:V},null):null,C.value.show?$(MYt,{parentEl:i.value,rect:C.value.activateRect,color:C.value.color,onDraggleResize:k,onContextmenu:N},null):null])]})])}}),BYt=Z({props:{contentHeight:{type:Number},classes:{type:Array,default:()=>[]},labels:{type:Array,default:()=>[]}},emits:["delete","select"],setup(t,{emit:e}){const{t:n}=As(),s=Le("ns",{}),r=B([]),a=i=>i.length?i.map(l=>{const u=t.classes[l.type];return u&&(l.typeName=u),l}):[];Ee(()=>t.classes,()=>{r.value=a(r.value)}),Ee(()=>t.labels,i=>{const l=Rs(i);r.value=a(l)},{deep:!0,immediate:!0});const o=()=>$("div",{class:[s.b("right")],style:{height:t.contentHeight+"px"}},[r.value.length?$("ul",null,[r.value.map((i,l)=>$("li",{key:l,onClick:()=>((u,c)=>{e("select",u,c)})(i,l)},[$("div",null,[$("span",{style:{"background-color":Nu[i.type]},class:"label-line"},null),$("span",null,[i.typeName])]),$(oW,{title:n("next.labelimg.confirmDeleteLabel"),width:200,onConfirm:()=>(u=>{e("delete",u)})(i)},{reference:()=>$(Je,{size:16,color:"#ff0000",onClick:u=>{u.preventDefault(),u.stopPropagation()}},{default:()=>[$(cb,null,null)]})})]))]):$(fw,{"image-size":120,description:n("next.labelimg.emptyLabelText")},null)]);return()=>$(He,null,[o()])}}),zYt={minContentHeight:500};const Mo=Vs("labelimg");var VYt=Z({name:"NextLabelimg",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},classes:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},emits:["change","save","prev-click","next-click"],setup(t,{emit:e,slots:n,expose:s}){const{t:r}=As(),a=nr(zYt),o=D(()=>{const P=g(t.options);return sf(a,P)}),i=g(o);At("ns",Mo),At("_emit",e);const l=B(0),u=B(t.classes),c=B(nr(t.data));Ee(()=>t.data,P=>{c.value=nr(P)},{deep:!0}),Ee(()=>t.data.length,()=>{l.value=0}),Ee(()=>t.classes,P=>{u.value=P},{deep:!0});const d=D(()=>{if(!c.value)return{};const P=c.value[l.value]||{};return nr(P)}),h=B(d.value.labels||[]);Ee(()=>d.value,()=>{h.value=d.value.labels||[]});const f=P=>{d.value.labels=P,h.value=P},p=B(!1),m=()=>{const P=d.value;let j=[];return P.labels.forEach(J=>{delete J.typeName;const ne=C2(J);j.push(ne.join(" "))}),{node:P,label_txt:j.join(`
`)}},y=()=>{const P=c.value[l.value];return U2(Rs(P.labels).map(j=>C2(j)),d.value.labels.map(j=>C2(j)))},v=P=>{const j=c.value.length;P.code==="KeyD"?(l.value++,l.value>=j&&(l.value=0)):P.code==="KeyA"&&(l.value--,l.value<0&&(l.value=j-1))},b=P=>{if(p.value||!["KeyA","KeyD"].includes(P.code))return;p.value=!0;const{node:j,label_txt:J}=m();if(x.value.onCloseDraggableRectFixed(),y())return v(P),void(p.value=!1);e("save",{node:j,label_txt:J},ne=>{c.value[l.value]=ne||j,v(P),p.value=!1},()=>{p.value=!1})},w=P=>{if(p.value)return;p.value=!0;const{node:j,label_txt:J}=m();return x.value.onCloseDraggableRectFixed(),y()?(l.value=P,p.value=!1,!1):(e("save",{node:j,label_txt:J},ne=>{c.value[l.value]=ne||j,l.value=P,p.value=!1,W.value={scale:1,x:0,y:0}},()=>{p.value=!1}),!0)},_=()=>{const P=c.value.length;let j=l.value-1;j<0&&(j=P-1),w(j),e("prev-click")},C=()=>{const P=c.value.length;let j=l.value+1;j>=P&&(j=0),w(j),e("next-click")},x=B(),T=B(),k=B(),N=B(),O=B(),L=B(i.minContentHeight),V=()=>{it(()=>{var j,J,ne;const P=(((j=T.value)==null?void 0:j.clientHeight)||0)-((((J=k.value)==null?void 0:J.clientHeight)||0)+(((ne=O.value)==null?void 0:ne.clientHeight)||0));L.value=P})};Et(()=>{document.addEventListener("keydown",b),mg(T.value.parentElement,()=>{V()}),window.addEventListener("resize",V)}),ma(()=>{document.removeEventListener("keydown",b),window.removeEventListener("resize",V)});const H=(P,j)=>{x.value.onSelectedLabel(P,j)},K=P=>{x.value.onDeleteLabel(P)},U=B(!1),R=P=>{U.value=P,V(),it(()=>{x.value.rerenderImage()})},W=B({scale:1,x:0,y:0});At("scaleTranslateManager",{scaleTranslate:W,onChangeScaleTranslate:P=>{W.value=P},onResetScaleTranslate:()=>{x.value.resetScaleOffset()}}),s({convertToLabel:C2,canvertToCanvas:RYt});const G=()=>$("div",{ref:T,class:[Mo.b(),t.className,U.value?Mo.b("fullscreen"):""],style:{...t.style}},[$(t7,{loading:p.value,tip:r("next.labelimg.saveTxt"),class:[Mo.b("loading")]},{default:()=>[$(vr,null,{default:()=>[$("header",{ref:k,class:[Mo.b("header")]},[n.header?n.header():$(OYt,{isFullscreen:U.value,imageIndex:l.value,imageLength:c.value.length,onFullscreen:R,onSave:()=>{w(l.value)||gi({type:"info",message:r("next.labelimg.labelNoUpdate")})}},null)]),$("div",{ref:N,class:[Mo.b("main")]},[$(vr,{class:[Mo.be("main","content")]},{default:()=>[$("div",{class:[Mo.be("main","content")],style:{height:L.value+"px"}},[$(FYt,{ref:x,contextClientHeight:L.value,classes:u.value,rowInfo:d.value,onChange:f},null)])]}),$(BYt,{contentHeight:L.value,classes:u.value,labels:h.value,onDelete:K,onSelect:H},null)]),$("footer",{ref:O,class:[Mo.b("footer")]},[$("div",{class:[Mo.be("footer","left")]},[$(Je,{size:24,color:"#797979",onClick:_},{default:()=>[$(One,null,null)]})]),$("div",{class:[Mo.be("footer","center")]},[$(vr,null,{default:()=>[$("ul",{class:[Mo.bem("footer","center","list")]},[c.value.map((P,j)=>$("li",{key:j,onClick:()=>w(j),class:{"is-activate":l.value===j}},[$(mw,{style:"height: 100%",src:P.imageSrc,"zoom-rate":1.2,"max-scale":2,"min-scale":.2,fit:"cover"},null)]))])]})]),$("div",{class:[Mo.be("footer","right")]},[$(Je,{size:24,color:"#797979",onClick:C},{default:()=>[$(Rne,null,null)]})])])]})]})]);return()=>$(He,null,[G()])}});const HYt=Vs("labelimg-preview");var UYt=Z({name:"NextLabelimgPreview",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},src:{type:String,default:""},classes:{type:Array,default:()=>[]},labels:{type:Array,default:()=>[]}},setup(t){const e=B(),n=B(nr(t.classes)),s=B(nr(t.labels)),r=()=>{var a;if(t.src){const o=(a=e.value)==null?void 0:a.getContext("2d"),i=new Image;i.src=t.src,i.onload=()=>{const{width:l,height:u}=i,c=u,d=c/u,h=Math.ceil(l*d);((f,p)=>{e.value.width=f,e.value.height=p,e.value.style.width=f+"px",e.value.style.height=p+"px"})(h,c),o.clearRect(0,0,h,c),o.drawImage(i,0,0,h,c);for(let f=0;f<s.value.length;f++){const p=s.value[f],{startX:m,startY:y,rectWidth:v,rectHeight:b,type:w}=p,_=Nu[w%Nu.length];if(o.font="bold 14px serif",o.textBaseline="top",o.save(),o.strokeStyle=_,o.strokeRect(m,y,v,b),!Ya(p.typeName)){const C=n.value[p.type];C&&(p.typeName=C)}if(Ya(p.typeName)||Ya(p.type)){const C=p.typeName||p.type;o.fillStyle=_,o.fillText(C,m+6,y+6)}o.restore()}}}};return Et(()=>{Ee(()=>t.src,()=>{r()},{immediate:!0})}),()=>$(He,null,[$("div",{class:[HYt.b(),t.className],style:{...t.style}},[$("canvas",{ref:e},null)])])}});const rse=Ur(VYt),ase=Ur(UYt),__=(t,e,n,s,r)=>Math.sqrt(Math.pow(t-n,2)+Math.pow(e-s,2))<r,m$=t=>Array.from(new Set(t.map(e=>JSON.stringify(e)))).map(e=>JSON.parse(e)),ose=(t,e,n,s=!0)=>t!=null&&t.length?t.map(r=>((a,o,i,l=!0)=>{const[u,c]=a;return l?[u*o,c*i]:[u/o,c/i]})(r,e,n,s)):[],{hexToRgba:ise}=Ti(),oz=["#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"];class WYt{constructor(e,n){cn(this,"canvas");cn(this,"ctx");cn(this,"vertexes");cn(this,"isDrawing");cn(this,"mouseOffset");cn(this,"vertexesObservers",[]);cn(this,"destroyedObservers");this.canvas=e,this.ctx=n,this.isDrawing=!1,this.vertexes=[],this.mouseOffset={x:0,y:0},e.addEventListener("click",this.canvasMouseClick.bind(this)),e.addEventListener("mousemove",this.canvasMousemove.bind(this)),e.addEventListener("dblclick",this.canvasMouseDblclick.bind(this)),this.vertexes=new Proxy(this.vertexes,{set:(s,r,a)=>(s[r]=a,this.notifyVertexChangeListeners(),!0)}),this.mouseOffset=new Proxy(this.mouseOffset,{set:(s,r,a)=>(s[r]=a,this.notifyVertexChangeListeners(),!0)})}notifyVertexChangeListeners(){this.vertexesObservers.forEach(e=>{e(this.vertexes,this.mouseOffset)})}vertexesChangeEventListener(e){this.vertexesObservers.push(e)}notifyDestryedListerers(){this.destroyedObservers(this.vertexes)}onDestroyed(e){this.destroyedObservers=e}canvasMouseClick(e){e.stopPropagation(),this.isDrawing=!0,this.mouseOffset.x=e.offsetX,this.mouseOffset.y=e.offsetY;const[n,s]=[e.offsetX,e.offsetY];let r=!0;for(let a=0;a<this.vertexes.length;a++){const o=this.vertexes[a];if(Math.sqrt((n-o[0])**2+(s-o[1])**2)<8){r=!1;break}}r&&this.vertexes.push([n,s]),this.vertexes=m$(this.vertexes)}canvasMousemove(e){e.stopPropagation(),this.isDrawing&&(this.mouseOffset.x=e.offsetX,this.mouseOffset.y=e.offsetY,this.canvas.style.cursor="crosshair")}canvasMouseDblclick(e){e.stopPropagation(),this.isDrawing&&(this.canvas.style.cursor="unset",this.mouseOffset.x=e.offsetX,this.mouseOffset.y=e.offsetY,this.vertexes.push([e.offsetX,e.offsetY]),this.vertexes=m$(this.vertexes)),this.notifyDestryedListerers(),this.destroy()}destroy(){this.isDrawing=!1,this.vertexes=[],this.vertexesObservers=[],this.destroyedObservers=()=>{this.canvas.removeEventListener("click",this.canvasMouseClick)},this.canvas.removeEventListener("mousemove",this.canvasMousemove),this.canvas.removeEventListener("dblclick",this.canvasMouseDblclick)}}class jYt{constructor(e,n){cn(this,"canvas");cn(this,"ctx");cn(this,"vertexes");cn(this,"isEditing");cn(this,"isMoveEditing");cn(this,"canClickEvent");cn(this,"pointVertexIndex");cn(this,"pointCentreIndex");cn(this,"vertexRadius");cn(this,"edgeCentreRadius");cn(this,"pointRecover");cn(this,"observers",[]);cn(this,"editPolygonObserver");this.canvas=e,this.ctx=n,this.vertexes=[],this.isEditing=!1,this.canClickEvent=!0,this.isMoveEditing=!1,this.pointVertexIndex=-1,this.pointCentreIndex=-1,this.vertexRadius=8,this.edgeCentreRadius=5,this.pointRecover=[]}notifyEditPolygonObserver(){var e;(e=this.editPolygonObserver)==null||e.call(this,this.vertexes)}onEditPolygon(e){this.editPolygonObserver=e}getTransformPoint(e,n){const s=this.ctx.getTransform(),r=parseFloat(s.a.toFixed(1)),a=parseFloat(s.d.toFixed(1)),o=Math.ceil(s.e),i=Math.ceil(s.f);return[Math.floor((e-o)/r),Math.floor((n-i)/a)]}drawPolygonPath(e,n,s){const r=this.ctx;if(e.length){r.beginPath(),r.lineWidth=3,r.strokeStyle="#5470c6",r.fillStyle=ise("#5470c6",.2),r.moveTo(e[0][0],e[0][1]);for(let a=1;a<e.length;a++){const[o,i]=e[a];r.lineTo(o,i)}isNaN(n)||isNaN(s)||r.lineTo(n,s),r.closePath(),r.stroke(),r.fill()}}drawPolygonEdgeCentre(e){const n=this.ctx;for(let s=0;s<e.length;s++){const[r,a]=e[s];n.beginPath(),n.fillStyle="#5470c6",n.arc(r,a,this.vertexRadius,0,2*Math.PI),n.closePath(),n.fill(),n.beginPath(),n.fillStyle="#FFFFFF",n.arc(r,a,this.vertexRadius-3,0,2*Math.PI),n.closePath(),n.fill()}for(let s=0;s<e.length;s++){const r=e[s%e.length],a=e[(s+1)%e.length],o=r[0]+(a[0]-r[0])/2,i=r[1]+(a[1]-r[1])/2;n.beginPath(),n.fillStyle="#5470c6",n.arc(o,i,this.edgeCentreRadius,0,2*Math.PI),n.closePath(),n.fill()}}drawPolygon(e,n){this.vertexes=e,n?this.drawPolygonPath(e,n.x,n.y):(this.drawPolygonPath(e),this.drawPolygonEdgeCentre(e))}pointInVertexes(e,n){const[s,r]=this.getTransformPoint(e,n),a=this.vertexes;let o=null;for(let i=0;i<a.length;i++){const[l,u]=a[i];if(__(s,r,l,u,this.vertexRadius)){this.canvas.style.cursor="pointer",o=i;break}this.canvas.style.cursor="unset"}return o}pointInEdgeCentre(e,n){const[s,r]=this.getTransformPoint(e,n),a=this.vertexes;let o=null;for(let i=0;i<a.length;i++){const l=a[i%a.length],u=a[(i+1)%a.length],c=l[0]+(u[0]-l[0])/2,d=l[1]+(u[1]-l[1])/2;if(__(s,r,c,d,this.edgeCentreRadius)){this.canvas.style.cursor="pointer",o=i;break}this.canvas.style.cursor="unset"}return o}pointInVertexesOrEdgeCentre(e,n){const[s,r]=this.getTransformPoint(e,n),a=this.vertexes;for(let o=0;o<a.length;o++){const[i,l]=a[o],u=__(s,r,i,l,this.vertexRadius),c=a[o%a.length],d=a[(o+1)%a.length],h=c[0]+(d[0]-c[0])/2,f=c[1]+(d[1]-c[1])/2,p=__(s,r,h,f,this.edgeCentreRadius);if(u||p){this.canvas.style.cursor="pointer";break}this.canvas.style.cursor="unset"}}notifyObservers(){this.observers.forEach(e=>{e(this.vertexes)})}updatePolygon(e){this.isEditing=!0,this.canvas.addEventListener("mousedown",this.canvasMousedown.bind(this)),this.canvas.addEventListener("mouseup",this.canvasMouseup.bind(this)),this.canvas.addEventListener("click",this.canvasMouseClick.bind(this)),this.canvas.addEventListener("mousemove",this.canvasMousemove.bind(this)),this.observers.push(e)}canvasMousedown(e){e.stopPropagation(),e.preventDefault(),this.canClickEvent=!0;const{offsetX:n,offsetY:s}=e;this.pointRecover=[n,s];const r=this.pointInVertexes(n,s);Ya(r)&&(this.isMoveEditing=!0,this.pointVertexIndex=r,this.vertexes.splice(this.pointVertexIndex,1,[n,s]));const a=this.pointInEdgeCentre(n,s);Ya(a)&&(this.isMoveEditing=!0,this.pointCentreIndex=a+1,this.vertexes.splice(this.pointCentreIndex,0,[n,s])),setTimeout(()=>{this.canClickEvent=!1},200)}canvasMouseup(e){e.stopPropagation(),e.preventDefault();let{offsetX:n,offsetY:s}=e;this.vertexes=m$(this.vertexes);for(let r=0;r<this.vertexes.length;r++){const a=this.vertexes[r],o=Math.sqrt((n-a[0])**2+(s-a[1])**2);if(o<8&&o>0&&this.pointRecover.length){n=this.pointRecover[0],s=this.pointRecover[1],this.pointRecover=[];break}}this.pointVertexIndex>-1&&this.vertexes.splice(this.pointVertexIndex,1,[n,s]),this.pointCentreIndex>-1&&this.vertexes.splice(this.pointCentreIndex,1,[n,s]),this.isMoveEditing=!1,this.pointVertexIndex=-1,this.pointCentreIndex=-1,this.drawPolygon(this.vertexes),this.notifyObservers(),this.notifyEditPolygonObserver()}canvasMouseClick(e){e.stopPropagation();const{offsetX:n,offsetY:s}=e;if(this.canClickEvent){const r=this.pointInVertexes(n,s);if(Ya(r)){if(this.vertexes.length<=3)return;this.vertexes.splice(r,1),this.drawPolygon(this.vertexes),this.notifyObservers(),this.notifyEditPolygonObserver()}}}canvasMousemove(e){e.stopPropagation();const{offsetX:n,offsetY:s}=e;this.pointInVertexesOrEdgeCentre(n,s),this.isMoveEditing&&(this.pointVertexIndex>-1&&this.vertexes.splice(this.pointVertexIndex,1,[n,s]),this.pointCentreIndex>-1&&this.vertexes.splice(this.pointCentreIndex,1,[n,s]),this.notifyObservers())}destroy(){this.vertexes=[],this.observers=[],this.isEditing=!1,this.canvas.removeEventListener("mousedown",this.canvasMousedown),this.canvas.removeEventListener("mouseup",this.canvasMouseup),this.canvas.removeEventListener("click",this.canvasMouseClick),this.canvas.removeEventListener("mousemove",this.canvasMousemove)}}class GYt{constructor(e){cn(this,"canvas");cn(this,"ctx");cn(this,"image");cn(this,"canvasWidth");cn(this,"canvasHeight");cn(this,"scaleOffset");cn(this,"labels");cn(this,"scaleX");cn(this,"scaleY");cn(this,"editDrawPolygon");cn(this,"createPolygonVertexes");cn(this,"editVertexes");cn(this,"editPolygonObservers",[]);cn(this,"drawnPolygonObserver");cn(this,"drawCanvas",()=>{this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.drawImage(this.image,0,0,this.canvasWidth,this.canvasHeight),this.ctx.save();const e=this.labels.shapes;e!=null&&e.length&&this.drawPolygons(e),this.ctx.restore()});cn(this,"render",()=>{this.canvas.width=this.canvasWidth,this.scaleOffset.value&&(this.ctx.translate(this.scaleOffset.value.x,this.scaleOffset.value.y),this.ctx.scale(this.scaleOffset.value.scale,this.scaleOffset.value.scale)),this.drawCanvas()});const{canvas:n,ctx:s,image:r,canvasWidth:a,canvasHeight:o,labels:i,scaleX:l,scaleY:u,scaleOffset:c}=e;this.canvas=n,this.ctx=s,this.image=r,this.canvasWidth=a,this.canvasHeight=o,this.scaleOffset=c,this.labels=i||{},this.scaleX=l||1,this.scaleY=u||1,this.editVertexes=[],this.render(),this.createPolygonVertexes=new WYt(n,s),this.editDrawPolygon=new jYt(n,s),this.createPolygonVertexes.vertexesChangeEventListener((d,h)=>{this.render(),this.editDrawPolygon.drawPolygon(d,h),this.editVertexes=d,this.notifyObservers()}),this.createPolygonVertexes.onDestroyed(d=>{this.editVertexes=d,this.render(),this.editDrawPolygon.drawPolygon(d),this.editDrawPolygon.updatePolygon(h=>{this.render(),this.editDrawPolygon.drawPolygon(h),this.editVertexes=h,this.notifyObservers()}),this.editDrawPolygon.onEditPolygon(h=>{this.editVertexes=h,this.notifyDrawnPolygonObservers()}),this.notifyDrawnPolygonObservers()})}notifyObservers(){this.editPolygonObservers.forEach(e=>{e(this.editVertexes)})}notifyDrawnPolygonObservers(){var e;(e=this.drawnPolygonObserver)==null||e.call(this,this.editVertexes)}updatePolygon(e){this.editPolygonObservers.push(e)}onDrawnPolygon(e){this.drawnPolygonObserver=e}drawPolygons(e){const n=this.ctx,{scale:s}=this.scaleOffset.value,r=this.scaleX,a=this.scaleY;for(let o=0;o<e.length;o++){const i=e[o],l=ose(i.points,r,a);if(!l.length)return;const u=oz[o%oz.length];n.beginPath(),n.lineWidth=2/s,n.strokeStyle=u,n.fillStyle=ise(u,.2);const c=l[0][0],d=l[0][1];n.moveTo(c,d);for(let h=1;h<l.length;h++){const[f,p]=l[h];n.lineTo(f,p)}n.closePath(),n.stroke(),n.fill()}}destroy(){this.labels={},this.editDrawPolygon.destroy(),this.createPolygonVertexes.destroy()}}var qYt=Z({props:{classes:{type:Array,default:()=>[]},contextClientHeight:{type:Number,default:null},rowInfo:{type:Object,default:()=>({})}},emits:["editPolygon","changePolygon"],setup(t,{emit:e,expose:n}){const s=Le("ns",{}),r=Le("scaleTranslateManager",{}),a=B(),o=B(),i=B(),l=B(),u=B(),c=(f,p)=>{o.value.style.width=f+"px",o.value.style.height=p+"px",i.value.width=f,i.value.height=p,i.value.style.width=f+"px",i.value.style.height=p+"px"},d=B(!1),h=f=>{var m;const p=(m=i.value)==null?void 0:m.getContext("2d");if(f!=null&&f.imageSrc){const y=new Image;y.src=f.imageSrc,d.value=!0,y.onload=()=>{d.value=!1;const{canvasWidth:v,canvasHeight:b,scaleFactor:w,scaleX:_,scaleY:C,originWidth:x,originHeight:T}=(k=>{var P,j;const N=(P=a.value)==null?void 0:P.elementInstance.clientWidth,O=(j=a.value)==null?void 0:j.elementInstance.clientHeight;let{width:L,height:V}=k,H=1;const K=L/V;if(K>1?(L=N,V=N/K):(L=O*K,V=O),V>O){const J=V/O;V=O,L/=J}else if(L>N){const J=L/N;L=N,V/=J}const U=parseInt(L.toString()),R=parseInt(V.toString());H=Number((U/R).toFixed(2));const W=(U/k.width).toFixed(8),G=(R/k.height).toFixed(8);return{canvasWidth:U,canvasHeight:R,scaleFactor:H,scaleX:Number(W),scaleY:Number(G),originWidth:k.width,originHeight:k.height}})(y);y.style.width=v+"px",y.style.height=b+"px",c(v,b),l.value=new GYt({canvas:i.value,ctx:p,image:y,canvasWidth:v,canvasHeight:b,scaleFactor:w,labels:f.labels,scaleX:_,scaleY:C,scaleOffset:r.scaleTranslate}),l.value.updatePolygon(k=>{e("changePolygon",{vertexes:k,canvasWidth:v,canvasHeight:b})}),l.value.onDrawnPolygon(k=>{const N=ose(k,_,C,!1);e("editPolygon",{vertexes:N,originWidth:x,originHeight:T})}),u.value=new sse(i.value),u.value.changeZoom(k=>{r.onChangeScaleTranslate(k),l.value.render()})},y.onerror=()=>{d.value=!1}}};return Et(()=>{Ee(()=>t.rowInfo,f=>{const p=Rs(f);h(p)},{deep:!0,immediate:!0}),Ee(()=>t.contextClientHeight,f=>{if(Ye(f)){o.value.style.height=f+"px";const p=Rs(t.rowInfo);h(p)}})}),ma(()=>{l.value.destroy(),u.value.destroy()}),n({rerenderImage:()=>{c(0,0),it(()=>{const f=Rs(t.rowInfo);h(f)})},resetScaleOffset:()=>{u.value.reset()}}),()=>$(He,null,[$(Lf,{ref:a,loading:d.value,class:[s.b("loading")],style:{height:"100%"}},{default:()=>[$("div",{ref:o,class:[s.b("canvas")]},[$("canvas",{ref:i,class:[s.be("canvas","context")]},null)])]})])}}),KYt=Z({props:{isFullscreen:{type:Boolean,default:!1},imageIndex:{type:Number,default:0},imageLength:{type:Number,default:0}},emits:["fullscreen","save"],setup(t,{emit:e}){const n=Le("ns",{}),s=Le("scaleTranslateManager",{}),r=s.scaleTranslate,{t:a}=As(),o=i=>{e("fullscreen",i),document.body.style.overflow=i?"hidden":"auto"};return()=>$(He,null,[$(He,null,[$("ul",{class:[n.be("header","tool")]},[$("li",{class:"tool-item",onClick:()=>e("save")},[$("svg",{t:"1719034799379",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4272",width:"18",height:"18"},[$("path",{d:"M831.4 252.2L711.5 132.4c-10.3-10.3-24.2-16.1-38.8-16.1h-450c-23.3 0-42.2 18.9-42.2 42.2v709.4c0 23.3 18.9 42.2 42.2 42.2h582.6c23.3 0 42.2-18.9 42.2-42.2V291c-0.1-14.5-5.8-28.5-16.1-38.8zM619.6 159v159.8c0 4-3.3 7.3-7.3 7.3H387.2c-4 0-7.3-3.3-7.3-7.3V159h239.7z m67.7 708.4H340.8v-292c0-3.9 3.2-7.1 7.1-7.1h332.4c3.9 0 7.1 3.2 7.1 7.1v292z m117.4 0H730v-292c0-27.5-22.3-49.8-49.8-49.8H347.8c-27.5 0-49.8 22.3-49.8 49.8v292h-74.7V159.1h113.9v159.8c0 27.6 22.4 50.1 50.1 50.1h225.1c27.6 0 50.1-22.4 50.1-50.1V159h10.4c3.2 0 6.3 1.3 8.6 3.6l119.9 119.9c2.3 2.3 3.6 5.3 3.6 8.6l-0.3 576.3z","p-id":"4273"},null),$("path",{d:"M536 196.3h42.7v87.2H536zM368.7 641.2h220.7v42.7H368.7zM368.7 744h170.9v42.7H368.7z","p-id":"4274"},null)]),$("p",{class:"label-text"},[a("next.labelme.saveLabel")])]),$("li",{class:"tool-item"},[$("svg",{t:"1721826305513",class:"icon",viewBox:"0 0 1025 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6215",width:"18",height:"18"},[$("path",{d:"M358.5 1021.5c-52.93 0-96-43.07-96-96 0-13.12 2.6-25.84 7.74-37.81l0.12-0.27-141.99-184.66-0.34 0.11a95.806 95.806 0 0 1-29.53 4.64c-52.93 0-96-43.07-96-96s43.07-96 96-96c7.56 0 15.09 0.89 22.41 2.64l0.36 0.09 213.67-370.08-0.16-0.25c-9.34-15.12-14.28-32.54-14.28-50.39 0-52.93 43.07-96 96-96 40.36 0 76.66 25.5 90.34 63.46l0.09 0.26 300.27 61.72 0.19-0.26c18.01-25.16 47.21-40.18 78.11-40.18 52.93 0 96 43.07 96 96 0 36.49-20.26 69.36-52.88 85.79l-0.31 0.16 41.76 393.5 0.25 0.12a96.184 96.184 0 0 1 39.11 34.79c9.85 15.41 15.06 33.27 15.06 51.65 0 52.93-43.07 96-96 96-31.18 0-60.53-15.24-78.52-40.76l-0.22-0.31-396.7 138.78-0.05 0.29c-8.2 45.76-47.94 78.97-94.5 78.97z m0-192c34.03 0 64.82 17.44 82.36 46.66l0.21 0.35L832.93 739.4l0.03-0.32c3.81-39.11 31.82-72.49 69.7-83.05l0.41-0.11-40.34-380.14-0.34-0.08c-39.73-9.82-68.86-43.81-72.49-84.56l-0.03-0.37-283.9-58.36-0.15 0.39c-7 17.7-19.01 32.81-34.72 43.69-16.08 11.13-34.96 17.02-54.59 17.02-9.75 0-19.37-1.46-28.59-4.33l-0.38-0.12L176.19 555.1l0.19 0.26c11.86 16.42 18.12 35.83 18.12 56.14 0 17.74-4.88 35.06-14.11 50.11l-0.18 0.29 136.28 177.25 0.37-0.18c13.04-6.28 27.05-9.47 41.64-9.47z","p-id":"6216"},null),$("path",{d:"M416.5 2c40.15 0 76.26 25.37 89.87 63.13l0.19 0.53 0.55 0.11 299.68 61.6 0.64 0.13 0.38-0.53c8.66-12.1 20.19-22.15 33.34-29.06C854.71 90.77 870.06 87 885.5 87c52.66 0 95.5 42.84 95.5 95.5 0 18.03-5.05 35.58-14.6 50.77a95.81 95.81 0 0 1-38 34.57l-0.62 0.31 0.07 0.69 41.7 392.88 0.06 0.55 0.5 0.24c15.91 7.71 29.36 19.68 38.91 34.61 9.8 15.33 14.98 33.09 14.98 51.38 0 52.66-42.84 95.5-95.5 95.5-31.02 0-60.22-15.16-78.11-40.55l-0.43-0.62-0.71 0.25-396.09 138.59-0.55 0.19-0.1 0.57c-3.9 21.77-15.4 41.67-32.39 56.03-17.2 14.54-39.08 22.54-61.62 22.54-52.66 0-95.5-42.84-95.5-95.5 0-13.05 2.59-25.71 7.7-37.61l0.23-0.54-0.36-0.46-141.59-184.16-0.43-0.56-0.67 0.22A95.43 95.43 0 0 1 98.5 707C45.84 707 3 664.16 3 611.5S45.84 516 98.5 516c7.52 0 15.01 0.88 22.29 2.62l0.73 0.17 0.37-0.65 213.33-369.5 0.3-0.52-0.31-0.51c-9.29-15.04-14.2-32.37-14.2-50.12C321 44.84 363.84 2 416.5 2m0 191c-9.7 0-19.27-1.45-28.44-4.31l-0.76-0.24-0.4 0.69-210.98 365.43-0.32 0.56 0.38 0.52C187.77 571.99 194 591.3 194 611.5c0 17.64-4.85 34.88-14.03 49.85l-0.36 0.59 0.42 0.55 135.82 176.65 0.5 0.64 0.73-0.35c12.97-6.26 26.91-9.43 41.42-9.43 16.79 0 33.3 4.42 47.75 12.78a96.095 96.095 0 0 1 34.18 33.63l0.42 0.7 0.77-0.27 391.17-136.87 0.6-0.21 0.06-0.64c1.88-19.33 9.53-37.41 22.11-52.28 12.44-14.71 28.77-25.2 47.22-30.35l0.82-0.23-0.09-0.84-40.26-379.37-0.07-0.7-0.68-0.17c-39.52-9.77-68.5-43.58-72.11-84.12l-0.07-0.74-0.73-0.15-283.12-58.2-0.82-0.17-0.31 0.78c-6.96 17.61-18.91 32.64-34.54 43.46-15.99 11.11-34.77 16.96-54.3 16.96m0-192C363.2 1 320 44.2 320 97.5c0 18.58 5.26 35.93 14.35 50.65l-213.33 369.5A96.669 96.669 0 0 0 98.5 515C45.2 515 2 558.2 2 611.5S45.2 708 98.5 708a96.5 96.5 0 0 0 29.69-4.66l141.59 184.15c-5 11.66-7.78 24.51-7.78 38.01 0 53.3 43.2 96.5 96.5 96.5 47.46 0 86.91-34.25 94.99-79.39l396.08-138.59C867.04 828.81 895.88 845 928.5 845c53.3 0 96.5-43.2 96.5-96.5 0-38.22-22.23-71.26-54.46-86.88l-41.7-392.88C960.37 252.86 982 220.21 982 182.5c0-53.3-43.2-96.5-96.5-96.5-32.37 0-61.01 15.94-78.51 40.39l-299.68-61.6C493.91 27.59 458.31 1 416.5 1z m0 193c40.77 0 75.63-25.28 89.77-61.03l283.12 58.2c3.69 41.4 33.52 75.27 72.87 85l40.26 379.37c-37.74 10.53-66.15 43.41-70.06 83.49L441.29 875.9c-16.87-28.1-47.63-46.9-82.79-46.9-15 0-29.2 3.42-41.86 9.53L180.82 661.88c8.99-14.66 14.18-31.91 14.18-50.38 0-21.07-6.76-40.56-18.22-56.43l210.98-365.42c9.08 2.83 18.73 4.35 28.74 4.35z","p-id":"6217"},null)]),$("p",{class:"label-text"},[a("next.labelme.createPolygon")])]),$("li",{class:"tool-item"},[$("svg",{t:"1721826424613",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7356",width:"18",height:"18"},[$("path",{d:"M102.4 870.4v51.2h102.4v51.2H51.2v-102.4h51.2z m870.4-51.2v153.6h-102.4v-51.2h51.2v-102.4h51.2zM409.6 921.6v51.2H358.4v-51.2h51.2z m102.4 0v51.2H460.8v-51.2h51.2z m102.4 0v51.2h-51.2v-51.2h51.2z m102.4 0v51.2h-51.2v-51.2h51.2z m102.4 0v51.2h-51.2v-51.2h51.2zM307.2 921.6v51.2H256v-51.2h51.2z m204.8-742.4a51.2 51.2 0 0 1 51.0464 55.0912l118.8352 68.608a102.4 102.4 0 1 1 96.1536 157.3888v155.136a51.2 51.2 0 1 1-51.6096 80.0256L556.3392 793.6a51.2 51.2 0 1 1-88.7296 0.0512l-169.984-98.2016A51.1488 51.1488 0 0 1 204.8 665.6a51.2 51.2 0 0 1 41.1136-50.176V408.576a51.2 51.2 0 1 1 51.712-79.9744l163.3792-94.3616L460.8 230.4a51.2 51.2 0 0 1 45.2096-50.8416zM102.4 768v51.2H51.2v-51.2h51.2z m870.4-51.2v51.2h-51.2v-51.2h51.2zM297.0624 412.8768l0.1024 222.208 1.024 1.536L486.4 745.2672v-188.928a51.2 51.2 0 0 1-25.2416-38.4L460.8 512v-0.8704L297.0624 412.8768z m399.0528 18.432L563.2 511.1808 563.2 512a51.2 51.2 0 0 1-25.5488 44.3392l-0.0512 188.8768 188.2624-108.6976 0.9216-1.28V452.096a102.6048 102.6048 0 0 1-30.6688-20.7872zM102.4 665.6v51.2H51.2v-51.2h51.2z m870.4-51.2v51.2h-51.2v-51.2h51.2zM102.4 563.2v51.2H51.2v-51.2h51.2z m870.4-51.2v51.2h-51.2v-51.2h51.2zM102.4 460.8v51.2H51.2V460.8h51.2z m387.584-184.1664L326.6048 370.8928l160.6144 96.256a50.8416 50.8416 0 0 1 18.7904-5.9904L512 460.8c9.0112 0 17.5104 2.3552 24.832 6.4l132.9664-79.7184a102.4 102.4 0 0 1-4.0448-34.7648l-131.7888-76.032a50.9952 50.9952 0 0 1-43.9808 0zM972.8 409.6v51.2h-51.2V409.6h51.2zM102.4 358.4v51.2H51.2V358.4h51.2z m870.4-51.2v51.2h-51.2V307.2h51.2zM102.4 256v51.2H51.2V256h51.2z m870.4-51.2v51.2h-51.2V204.8h51.2zM153.6 51.2v51.2H102.4v102.4H51.2V51.2h102.4z m819.2 0v102.4h-51.2V102.4h-102.4V51.2h153.6z m-409.6 0v51.2h-51.2V51.2h51.2z m102.4 0v51.2h-51.2V51.2h51.2z m102.4 0v51.2h-51.2V51.2h51.2zM256 51.2v51.2H204.8V51.2h51.2z m102.4 0v51.2H307.2V51.2h51.2z m102.4 0v51.2H409.6V51.2h51.2z","p-id":"7357"},null)]),$("p",{class:"label-text"},[a("next.labelme.editPolygon")])]),$("li",{class:"tool-item"},[$("svg",{t:"1721826579655",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10996",width:"18",height:"18"},[$("path",{d:"M847.743 223.953H640.639c-3.132-68.921-60.177-124.029-129.858-124.029s-126.726 55.108-129.858 124.029H173.256c-17.673 0-32 14.327-32 32s14.327 32 32 32h674.487c17.673 0 32-14.327 32-32s-14.327-32-32-32z m-336.962-60.03c34.379 0 62.689 26.426 65.718 60.029H445.064c3.029-33.603 31.338-60.029 65.717-60.029zM767.743 351.79c-17.673 0-32 14.327-32 32v478.173H288.256V383.79c0-17.673-14.327-32-32-32s-32 14.327-32 32v510.173c0 17.673 14.327 32 32 32h511.487c17.673 0 32-14.327 32-32V383.79c0-17.673-14.327-32-32-32z","p-id":"10997"},null),$("path",{d:"M449.306 732.802V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z m191.534 0V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z","p-id":"10998"},null)]),$("p",{class:"label-text"},[a("next.labelme.deletePolyton")])])]),$("ul",{class:[n.be("header","tool")]},[$("li",{class:"hover",onClick:()=>s.onResetScaleTranslate()},[$("svg",{t:"1725840994827",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6051",width:"18",height:"18"},[$("path",{d:"M322.794667 445.205333a34.133333 34.133333 0 0 1 2.218666 45.824l-2.218666 2.432a34.133333 34.133333 0 0 1-45.824 2.218667l-2.432-2.218667-149.333334-149.333333a34.133333 34.133333 0 0 1-2.218666-45.824l2.218666-2.432 149.333334-149.333333a34.133333 34.133333 0 0 1 50.474666 45.824l-2.218666 2.432-91.050667 91.050666L640 285.866667c160.234667 0 290.133333 129.898667 290.133333 290.133333 0 158.016-126.314667 286.506667-283.477333 290.048L640 866.133333H234.666667a34.133333 34.133333 0 0 1-3.114667-68.117333L234.666667 797.866667h405.333333c122.538667 0 221.866667-99.328 221.866667-221.866667 0-120.533333-96.106667-218.602667-215.850667-221.781333L640 354.133333l-408.256-0.021333 91.050667 91.093333z","p-id":"6052"},null)]),$("span",{style:"padding-left: 3px"},[a("next.labelimg.zoomRestore")])]),$("li",null,[$("span",null,[ct("")]),$("span",null,[parseInt((100*r.value.scale).toString()),ct("%")]),$("span",{style:"padding: 0 10px;"},[ct("")]),$("span",{style:"min-width: 120px; text-align: left;"},[ct("X: "),r.value.x,ct(", Y: "),r.value.y])]),t.imageLength?$("li",null,[$("span",null,[ct(" "),t.imageIndex+1,ct(" ")]),$("em",{style:"padding: 0 5px;"},[ct("/")]),$("span",null,[ct(" "),t.imageLength,ct(" ")])]):null,$("li",{style:"margin-right: 30px;",class:"tool-item"},[$(eE,{trigger:"hover",placement:"bottom",width:"none"},{reference:()=>$("div",{class:"flex-center"},[$("span",{style:"padding-right: 3px"},[a("next.labelimg.instructions")]),$(Je,{size:14},{default:()=>[$(Pne,null,null)]})]),default:()=>$("ul",{style:"font-size: 12px;white-space: nowrap;"},[$("li",null,[$("span",null,[ct("A")]),$("span",null,[ct("A")])]),$("li",null,[$("span",null,[ct("D")]),$("span",null,[ct("D")])])])})]),t.isFullscreen?$("li",{class:"tool-item",onClick:()=>o(!1)},[$(ys,{placement:"top",content:""},{default:()=>[$("svg",{t:"1719035442027",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5388",width:"18",height:"18"},[$("path",{d:"M354.133333 682.666667H256v-42.666667h170.666667v170.666667H384v-98.133334L243.2 853.333333l-29.866667-29.866666L354.133333 682.666667z m358.4 0l140.8 140.8-29.866666 29.866666-140.8-140.8V810.666667h-42.666667v-170.666667h170.666667v42.666667h-98.133334zM354.133333 384L213.333333 243.2l29.866667-29.866667L384 354.133333V256h42.666667v170.666667H256V384h98.133333z m358.4 0H810.666667v42.666667h-170.666667V256h42.666667v98.133333L823.466667 213.333333l29.866666 29.866667L712.533333 384z","p-id":"5389"},null)])]})]):$("li",{class:"tool-item",onClick:()=>o(!0)},[$(ys,{placement:"top",content:""},{default:()=>[$("svg",{t:"1719035375323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5241",width:"18",height:"18"},[$("path",{d:"M285.866667 810.666667H384v42.666666H213.333333v-170.666666h42.666667v98.133333l128-128 29.866667 29.866667-128 128z m494.933333 0l-128-128 29.866667-29.866667 128 128V682.666667h42.666666v170.666666h-170.666666v-42.666666h98.133333zM285.866667 256l128 128-29.866667 29.866667-128-128V384H213.333333V213.333333h170.666667v42.666667H285.866667z m494.933333 0H682.666667V213.333333h170.666666v170.666667h-42.666666V285.866667l-128 128-29.866667-29.866667 128-128z","p-id":"5242"},null)])]})])])])])}}),XYt={minContentHeight:500};const li=Vs("labelme");var YYt=Z({name:"NextLabelme",props:{className:{type:String,default:""},style:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},classes:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]}},emits:["change","save","edit-polygon","change-polygon","prev-click","next-click"],setup(t,{emit:e,slots:n}){const s=nr(XYt),r=D(()=>{const H=g(t.options);return sf(s,H)}),a=g(r);At("ns",li);const{t:o}=As(),i=B(0),l=B(t.classes),u=B(nr(t.data));Ee(()=>t.data,H=>{u.value=nr(H)},{deep:!0}),Ee(()=>t.data.length,()=>{i.value=0}),Ee(()=>t.classes,H=>{l.value=H},{deep:!0});const c=D(()=>{if(!u.value)return{};const H=u.value[i.value]||{};return nr(H)}),d=B(!1),h=B(a.minContentHeight),f=B(),p=B(),m=B(),y=B(),v=B(),b=()=>{it(()=>{var K,U,R;const H=(((K=p.value)==null?void 0:K.clientHeight)||0)-((((U=m.value)==null?void 0:U.clientHeight)||0)+(((R=v.value)==null?void 0:R.clientHeight)||0));h.value=H})};Et(()=>{document.addEventListener("keydown",w),mg(p.value.parentElement,()=>{b()}),window.addEventListener("resize",b)}),ma(()=>{document.removeEventListener("keydown",w),window.removeEventListener("resize",b)});const w=()=>{},_=()=>{const H=u.value.length;let K=i.value-1;K<0&&(K=H-1),x(K),e("prev-click")},C=()=>{const H=u.value.length;let K=i.value+1;K>=H&&(K=0),x(K),e("next-click")},x=H=>{if(d.value)return;d.value=!0;const K=c.value;return e("save",{node:K},U=>{u.value[i.value]=U||K,i.value=H,d.value=!1},()=>{d.value=!1}),!0},T=B(!1),k=H=>{T.value=H,b(),it(()=>{f.value.rerenderImage()})},N=H=>{c.value.labels=H,e("change-polygon",H)},O=H=>{c.value.labels=H,e("edit-polygon",H)},L=()=>{x(i.value)||gi({type:"info",message:o("next.labelimg.labelNoUpdate")})},V=B({scale:1,x:0,y:0});return At("scaleTranslateManager",{scaleTranslate:V,onChangeScaleTranslate:H=>{V.value=H},onResetScaleTranslate:()=>{f.value.resetScaleOffset()}}),()=>$(He,null,[$("div",{ref:p,class:[li.b(),t.className,T.value?li.b("fullscreen"):""],style:{...t.style}},[$(Lf,{loading:d.value,tip:o("next.labelimg.saveTxt"),class:[li.b("loading")]},{default:()=>[$(vr,null,{default:()=>[$("header",{ref:m,class:[li.b("header")]},[n.header?n.header():$(KYt,{isFullscreen:T.value,imageIndex:i.value,imageLength:u.value.length,onFullscreen:k,onSave:L},null)]),$("div",{ref:y,class:[li.b("main")]},[$("div",{class:[li.be("main","content")],style:{height:h.value+"px"}},[$(qYt,{ref:f,rowInfo:c.value,onEditPolygon:O,onChangePolygon:N},null)])]),$("footer",{ref:v,class:[li.b("footer")]},[$("div",{class:[li.be("footer","left")]},[$(Je,{size:24,color:"#797979",onClick:_},{default:()=>[$(One,null,null)]})]),$("div",{class:[li.be("footer","center")]},[$(vr,null,{default:()=>[$("ul",{class:[li.bem("footer","center","list")]},[u.value.map((H,K)=>$("li",{key:K,onClick:()=>x(K),class:{"is-activate":i.value===K}},[$(mw,{style:"height: 100%",src:H.imageSrc,"zoom-rate":1.2,"max-scale":2,"min-scale":.2,fit:"cover"},null)]))])]})]),$("div",{class:[li.be("footer","right")]},[$(Je,{size:24,color:"#797979",onClick:C},{default:()=>[$(Rne,null,null)]})])])]})]})])])}});const lse=Ur(YYt);var iz=Object.freeze({__proto__:null,NextContainer:Wne,NextCrudTable:R4,NextCrudTableVirtualized:Jne,NextDialog:y8,NextDragResize:nse,NextForm:r7,NextInputTableSelect:Zne,NextLabelimg:rse,NextLabelimgPreview:ase,NextLabelme:lse,NextLayout:Une,NextMenu:Of,NextSpinLoading:Lf,NextTabs:Rf,NextTextEllipsis:pg,NextTreeCascader:s7,NextTreeSelect:n7,NextUpload:ese,NextVideoPlayer:tse});const QYt=t=>{t.directive("zoom",{mounted(e,n){if(!n.value)return!1;const s=typeof(r=n.value)=="string"||!lu(r)&&Qu(r)&&Dd(r)=="[object String]"?[n.value,".el-dialog__body",!1,!0]:n.value;var r;s[1]=s[1]?s[1]:".el-dialog__body",s[2]=s[2]!==void 0&&s[2],s[3]=s[3]===void 0||s[3],it(()=>{const a=document.querySelector(s[1]),o=document.querySelector(s[0]),i=document.createElement("div");i.className="dialog-zoom",i.onmouseenter=()=>{i.onmousedown=l=>{const u=l.clientX,c=l.clientY,d=a.offsetWidth,h=a.offsetHeight,f=o.offsetWidth,p=o.offsetHeight;document.onmousemove=m=>{m.preventDefault();const y=d+2*(m.clientX-u),v=h+(m.clientY-c);if(a.style.width=`${y}px`,a.style.height=`${v}px`,s[2]){const b=p+(m.clientY-c);o.style.height=`${b}px`}if(s[3]){const b=f+2*(m.clientX-u);o.style.width=`${b}px`}},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}}},o.appendChild(i)})}})},ZYt="0.4.9",use=function(t){Object.keys(iz).forEach(e=>{const n=iz[e];t.component(n.name,n)}),(e=>{QYt(e)})(t)};var JYt={version:"0.4.9",install:use};const eQt=Object.freeze(Object.defineProperty({__proto__:null,NextContainer:Wne,NextCrudTable:R4,NextCrudTableVirtualized:Jne,NextDialog:y8,NextDragResize:nse,NextForm:r7,NextInputTableSelect:Zne,NextLabelimg:rse,NextLabelimgPreview:ase,NextLabelme:lse,NextLayout:Une,NextMenu:Of,NextSpinLoading:Lf,NextTabs:Rf,NextTextEllipsis:pg,NextTreeCascader:s7,NextTreeSelect:n7,NextUpload:ese,NextVideoPlayer:tse,buildLocaleContext:$ne,buildTranslator:kne,default:JYt,defaultNamespace:cGt,install:use,localeContextKey:g8,localeLang:W1,namespaceContextKey:ine,nextUseCssTheme:v8,nextUseCssVar:V2,translate:Tne,updateThemeColor:Yqt,updateThemeColorCssVar:Ine,useDetectVideo:Ane,useGetDerivedNamespace:lne,useLanguage:Ene,useLocale:As,useNamespace:Vs,version:ZYt},Symbol.toStringTag,{value:"Module"})),a7=t=>(Bs("data-v-b0783ecf"),t=t(),zs(),t),tQt={class:"layout-container"},nQt={class:"tabs"},sQt=a7(()=>I("span",{style:{padding:"0 20px"}},"",-1)),rQt=a7(()=>I("li",null,"666",-1)),aQt={style:{padding:"20px 0","text-align":"center"}},oQt=a7(()=>I("span",null,"",-1)),iQt=Z({__name:"basic",setup(t){const e=Le(g8,B()),n=B("transverse"),s=B(!0),r=[{id:"18",path:"/home",name:"Home",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,icon:"iconfont monitor-shouye-shouye"},children:[]},{id:"11",path:"",name:"",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,icon:"iconfont monitor-data-Inquire"},children:[{id:"12",path:"/11/12",name:"AiboxBoxInfo11",meta:{title:"111",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,icon:"iconfont monitor-shujuchaxun"},children:[]}]},{id:"25",path:"",name:"",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,icon:"iconfont monitor-data-Inquire"},children:[{id:"26",path:"/aibox/box-info",name:"AiboxBoxInfo",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,icon:"iconfont monitor-shujuchaxun"},children:[]},{id:"29",path:"/aibox/event",name:"AiboxEvent",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,icon:"iconfont monitor-jiankongzhongxin"},children:[]}]}],a=new URL("/next-element-vue/logo.svg",import.meta.url).href,o=B({logo:a,profile:a,userName:"",menuTree:r,menuRouter:!1,showTabs:s.value,tabs:[],setting:{themeColor:"#1E90FF",layout:n.value}}),i=B(),l=f=>{o.value.setting.layout=f},u=f=>{o.value.showTabs=f},c=f=>{Ene(e,f),o.value.menuTree=r.slice(0,1)},d=f=>{},h=f=>{console.log("config",f)};return(f,p)=>{const m=ht("el-radio-button"),y=ht("el-radio-group"),v=ht("el-switch"),b=ht("NextTabs"),w=ht("NextContainer"),_=ht("Promotion"),C=ht("el-icon"),x=ht("el-button"),T=ht("NextLayout");return S(),A("div",tQt,[I("div",nQt,[$(y,{modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=k=>n.value=k),size:"large",onChange:l},{default:se(()=>[$(m,{value:"transverse"},{default:se(()=>[ct("")]),_:1}),$(m,{value:"columns"},{default:se(()=>[ct("")]),_:1}),$(m,{value:"classic"},{default:se(()=>[ct("")]),_:1}),$(m,{value:"defaults"},{default:se(()=>[ct("")]),_:1}),$(m,{value:"composite"},{default:se(()=>[ct("")]),_:1})]),_:1},8,["modelValue"]),I("div",null,[sQt,$(v,{modelValue:s.value,"onUpdate:modelValue":p[1]||(p[1]=k=>s.value=k),onChange:u},null,8,["modelValue"])])]),$(T,{ref_key:"layoutRef",ref:i,style:{"margin-top":"10px",height:"600px"},options:o.value,onChangeLanguage:c,onChangeOptions:d},Ei({"header-tools-prefix":se(()=>[rQt]),setting:se(({config:k})=>[I("footer",aQt,[$(x,{type:"primary",onClick:N=>h(k)},{icon:se(()=>[$(C,null,{default:se(()=>[$(_)]),_:1})]),default:se(()=>[oQt]),_:2},1032,["onClick"])])]),default:se(()=>[$(w,{className:"main"})]),_:2},[s.value?{name:"tabs",fn:se(()=>[$(b,{tabs:o.value.tabs},null,8,["tabs"])]),key:"0"}:void 0]),1032,["options"])])}}}),lQt=nn(iQt,[["__scopeId","data-v-b0783ecf"]]),uQt=Object.freeze(Object.defineProperty({__proto__:null,default:lQt},Symbol.toStringTag,{value:"Module"})),cQt={class:"container"},dQt=Z({__name:"basic",setup(t){const e=[{id:"1",path:"/",name:"HomeView",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!0,isIframe:"1",icon:""},children:[]},{id:"2",path:"",name:"",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[{id:"2310",path:"/system/role",name:"SystemRole",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[]},{id:"2311",path:"/system/user",name:"SystemUser",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[]},{id:"2312",path:"/system/menu",name:"SystemMenu",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[]}]}];return(n,s)=>{const r=ht("NextMenu");return S(),A("div",cQt,[$(r,{menuTree:e})])}}}),hQt=nn(dQt,[["__scopeId","data-v-bea2bc6e"]]),fQt=Object.freeze(Object.defineProperty({__proto__:null,default:hQt},Symbol.toStringTag,{value:"Module"})),pQt={class:"container"},mQt=Z({__name:"vertical",setup(t){const e=[{id:"1",path:"/",name:"HomeView",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!0,isIframe:"1",icon:""},children:[]},{id:"2",path:"",name:"",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[{id:"2310",path:"/system/role",name:"SystemRole",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[]},{id:"2311",path:"/system/user",name:"SystemUser",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[]},{id:"2312",path:"/system/menu",name:"SystemMenu",meta:{title:"",isLink:"",isHide:!1,isKeepAlive:!1,isAffix:!1,isIframe:"1",icon:""},children:[]}]}];return(n,s)=>{const r=ht("NextMenu");return S(),A("div",pQt,[$(r,{className:"next-menu-custom-style",mode:"vertical",menuTree:e})])}}}),gQt=nn(mQt,[["__scopeId","data-v-aecfefd6"]]),vQt=Object.freeze(Object.defineProperty({__proto__:null,default:gQt},Symbol.toStringTag,{value:"Module"})),yQt={},bQt=t=>(Bs("data-v-5567be25"),t=t(),zs(),t),_Qt={class:"layout-container"},wQt=bQt(()=>I("div",{style:{height:"200px","background-color":"#f5f5f5"}},null,-1));function xQt(t,e){const n=ht("NextSpinLoading");return S(),A("div",_Qt,[$(n,{loading:!0},{default:se(()=>[wQt]),_:1})])}const CQt=nn(yQt,[["render",xQt],["__scopeId","data-v-5567be25"]]),SQt=Object.freeze(Object.defineProperty({__proto__:null,default:CQt},Symbol.toStringTag,{value:"Module"})),b8=t=>(Bs("data-v-5b3a5b63"),t=t(),zs(),t),TQt={class:"layout-container"},kQt=b8(()=>I("div",{class:"card-title"},[I("span",null,"m3u8")],-1)),$Qt={class:"card-body"},EQt=b8(()=>I("div",{class:"card-title"},[I("span",null,"MP4")],-1)),IQt={class:"card-body"},NQt=b8(()=>I("div",{class:"card-title"},[I("span",null,"mpegts")],-1)),AQt={class:"card-body"},DQt=b8(()=>I("div",{class:"card-title"},[I("span",null,"flv")],-1)),OQt={class:"card-body"},RQt=Z({__name:"basic",setup(t){const e={modelUrl:new URL("/next-element-vue/assets/model.Dov2eFSz.json",import.meta.url).href,classNames:[{value:0,label:""},{value:1,label:""},{value:3,label:""},{value:4,label:""},{value:5,label:""},{value:7,label:""},{value:8,label:""},{value:9,label:""},{value:10,label:""},{value:11,label:""},{value:12,label:""},{value:13,label:""}]},n=new URL("/next-element-vue/assets/demo02.B5lB4CzD.mp4",import.meta.url).href;return(s,r)=>{const a=ht("NextVideoPlayer"),o=ht("el-col"),i=ht("el-row");return S(),A("div",TQt,[$(i,{gutter:20},{default:se(()=>[$(o,{span:12},{default:se(()=>[kQt,I("div",$Qt,[$(a,{type:"m3u8",autoplay:!1,src:"http://220.161.87.62:8800/hls/0/index.m3u8",tensorflow:e})])]),_:1}),$(o,{span:12},{default:se(()=>[EQt,I("div",IQt,[$(a,{type:"mp4",autoplay:!1,src:g(n),tensorflow:e},null,8,["src"])])]),_:1}),$(o,{span:12},{default:se(()=>[NQt,I("div",AQt,[$(a,{type:"mpegts",autoplay:!1,src:"//sf1-cdn-tos.huoshanstatic.com/obj/media-fe/xgplayer_doc_video/flv/xgplayer-demo-360p.flv",tensorflow:e},null,8,["src"])])]),_:1}),$(o,{span:12},{default:se(()=>[DQt,I("div",OQt,[$(a,{type:"flv",autoplay:!1,src:"//sf1-cdn-tos.huoshanstatic.com/obj/media-fe/xgplayer_doc_video/flv/xgplayer-demo-360p.flv",tensorflow:e},null,8,["src"])])]),_:1})]),_:1})])}}}),LQt=nn(RQt,[["__scopeId","data-v-5b3a5b63"]]),PQt=Object.freeze(Object.defineProperty({__proto__:null,default:LQt},Symbol.toStringTag,{value:"Module"})),cse=t=>(Bs("data-v-e6490e98"),t=t(),zs(),t),MQt={class:"layout-container"},FQt=cse(()=>I("div",{class:"card-title"},[I("span",null,"MP4")],-1)),BQt={class:"card-body"},zQt=cse(()=>I("div",{class:"card-title"},[I("span",null,"")],-1)),VQt={class:"card-body"},HQt=["src"],UQt=Z({__name:"detectFrame",setup(t){const e={modelUrl:new URL("/next-element-vue/assets/model.Dov2eFSz.json",import.meta.url).href,classNames:[{value:0,label:""},{value:1,label:""},{value:3,label:""},{value:4,label:""},{value:5,label:""},{value:7,label:""},{value:8,label:""},{value:9,label:""},{value:10,label:""},{value:11,label:""},{value:12,label:""},{value:13,label:""}]},n=new URL("/next-element-vue/assets/demo02.B5lB4CzD.mp4",import.meta.url).href,{detectVideoFrameImage:s}=Ane(),r=B(),a=B(),o=()=>{const{videoElement:i,palyerContainer:l}=r.value.getElement();let u=[];s({container:l,video:i,modelUrl:e.modelUrl,classNames:e.classNames,classInput:[{cls:0,score:.6},{cls:1,score:.6},{cls:4,score:.6},{cls:7,score:.6},{cls:12,score:.8},{cls:13,score:.8}]},({name:c,score:d,detectImage:h})=>{u.includes(c)||(a.value=h)}),setInterval(()=>{u=[]},3e4)};return(i,l)=>{const u=ht("NextVideoPlayer"),c=ht("el-col"),d=ht("el-row");return S(),A("div",MQt,[$(d,{gutter:20},{default:se(()=>[$(c,{span:12},{default:se(()=>[FQt,I("div",BQt,[$(u,{ref_key:"videoPlayer",ref:r,type:"mp4",src:g(n),onLoaded:o},null,8,["src"])])]),_:1}),$(c,{span:12},{default:se(()=>[zQt,I("div",VQt,[a.value?(S(),A("img",{key:0,src:a.value,alt:"",style:{width:"100%",height:"100%"}},null,8,HQt)):ce("",!0)])]),_:1})]),_:1})])}}}),WQt=nn(UQt,[["__scopeId","data-v-e6490e98"]]),jQt=Object.freeze(Object.defineProperty({__proto__:null,default:WQt},Symbol.toStringTag,{value:"Module"})),dse=t=>(Bs("data-v-4edefd72"),t=t(),zs(),t),GQt={class:"next-element-demo"},qQt={class:"example-showcase"},KQt={class:"operation-btns"},XQt=dse(()=>I("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em","data-v-707a7f8d":""},[I("path",{fill:"currentColor",d:"M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.007-1H7zM5.003 8L5 20h10V8H5.003zM9 6h8v10h2V4H9v2z"})],-1)),YQt=["aria-label"],QQt=dse(()=>I("svg",{preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em","data-v-707a7f8d":""},[I("path",{fill:"currentColor",d:"m23 12l-7.071 7.071l-1.414-1.414L20.172 12l-5.657-5.657l1.414-1.414L23 12zM3.828 12l5.657 5.657l-1.414 1.414L1 12l7.071-7.071l1.414 1.414L3.828 12z"})],-1)),ZQt={class:"example-source-wrapper"},JQt=["innerHTML"],eZt=Z({__name:"vp-demo",props:{demos:null,source:null,path:null,rawSource:null,description:null},setup(t){const e=Object.assign({"../../examples/container/basic.vue":Pdt,"../../examples/crud-table-virtualized/basic.vue":zdt,"../../examples/crud-table/advanced.vue":uht,"../../examples/crud-table/basic.vue":fht,"../../examples/form/basic.vue":mht,"../../examples/form/child-form.vue":ght,"../../examples/form/input-table-select.vue":bht,"../../examples/form/nested.vue":xht,"../../examples/labelimg/basic.vue":kht,"../../examples/labelimg/preview.vue":Nht,"../../examples/labelme/basic.vue":Oht,"../../examples/layout/basic.vue":uQt,"../../examples/menu/basic.vue":fQt,"../../examples/menu/vertical.vue":vQt,"../../examples/spin-loading/basic.vue":SQt,"../../examples/video-player/basic.vue":PQt,"../../examples/video-player/detectFrame.vue":jQt}),n=t,s=Ht(),[r,a]=Qdt(),{copy:o,isSupported:i}=nht({source:decodeURIComponent(n.rawSource),read:!1}),u=D(()=>{const p={};return Object.keys(e).forEach(m=>{p[m.replace("../../examples/","").replace(".vue","")]=e[m].default}),p}).value[n.path],c={"en-US":{"view-source":"View source","hide-source":"Hide source","edit-in-editor":"Edit in Playground","edit-on-github":"Edit on GitHub","edit-in-codepen":"Edit in Codepen.io","copy-code":"Copy code","switch-button-option-text":"Switch to Options API","switch-button-setup-text":"Switch to Composition API","copy-success":"Copied!","copy-error":"This browser does not support automatic copy"}},d=B("en-US"),h=D(()=>c[d.value]),f=async()=>{const{$message:p}=s.appContext.config.globalProperties;i||p.error(h.value["copy-error"]);try{await o(),p.success(h.value["copy-success"])}catch(m){p.error(m.message)}};return(p,m)=>{const y=ht("ElDivider"),v=ht("ElIcon"),b=ht("ElTooltip"),w=ht("ElCollapseTransition"),_=ht("ClientOnly");return S(),be(_,null,{default:se(()=>[I("div",GQt,[I("div",qQt,[g(u)?(S(),be(Gt(g(u)),vi(Kt({key:0},p.$attrs)),null,16)):ce("",!0)]),$(y,{class:"m-0"}),I("div",KQt,[$(b,{content:h.value["copy-code"],"show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:se(()=>[$(v,{size:16,"aria-label":h.value["copy-code"],class:"opt-btn",tabindex:"0",role:"button",onClick:f,onKeydown:[Pn(xt(f,["prevent"]),["enter"]),Pn(xt(f,["prevent"]),["space"])]},{default:se(()=>[XQt]),_:1},8,["aria-label","onKeydown"])]),_:1},8,["content"]),$(b,{content:h.value["view-source"],"show-arrow":!1,trigger:["hover","focus"],"trigger-keys":[]},{default:se(()=>[I("button",{ref:"sourceCodeRef","aria-label":g(r)?h.value["hide-source"]:h.value["view-source"],class:"reset-btn el-icon op-btn",onClick:m[0]||(m[0]=C=>g(a)())},[$(v,{size:16},{default:se(()=>[QQt]),_:1})],8,YQt)]),_:1},8,["content"])]),$(w,null,{default:se(()=>[zt(I("div",ZQt,[I("div",{class:"example-source language-vue",innerHTML:decodeURIComponent(t.source)},null,8,JQt)],512),[[gn,g(r)]])]),_:1})])]),_:1})}}}),tZt=nn(eZt,[["__scopeId","data-v-4edefd72"]]),nZt=[["Demo",tZt]],gZt={...wce,enhanceApp:async({app:t})=>{const e=WAe({history:oAe(),routes:[]});t.use(e),t.use(W9e,{locale:GAe});const n=await sZt();t.use(n);for(const[s,r]of Object.entries(Idt))t.component(s,r);nZt.forEach(([s,r])=>{t.component(s,r)})}},sZt=async()=>{let t=null;return W2(()=>import("./index.l0sNRNKZ.js"),[]),t=await W2(()=>Promise.resolve().then(()=>eQt),void 0),t};export{gZt as R,Yle as c,ra as g,Wn as u};
